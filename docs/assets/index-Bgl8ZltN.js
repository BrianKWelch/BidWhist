var Rg=e=>{throw TypeError(e)};var Od=(e,t,r)=>t.has(e)||Rg("Cannot "+r);var te=(e,t,r)=>(Od(e,t,"read from private field"),r?r.call(e):t.get(e)),Xe=(e,t,r)=>t.has(e)?Rg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Be=(e,t,r,n)=>(Od(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ht=(e,t,r)=>(Od(e,t,"access private method"),r);var kl=(e,t,r,n)=>({set _(s){Be(e,t,s,r)},get _(){return te(e,t,n)}});function G_(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function q_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var rb={exports:{}},Nu={},nb={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=Symbol.for("react.element"),K_=Symbol.for("react.portal"),Y_=Symbol.for("react.fragment"),Q_=Symbol.for("react.strict_mode"),J_=Symbol.for("react.profiler"),X_=Symbol.for("react.provider"),Z_=Symbol.for("react.context"),eE=Symbol.for("react.forward_ref"),tE=Symbol.for("react.suspense"),rE=Symbol.for("react.memo"),nE=Symbol.for("react.lazy"),Ig=Symbol.iterator;function sE(e){return e===null||typeof e!="object"?null:(e=Ig&&e[Ig]||e["@@iterator"],typeof e=="function"?e:null)}var sb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ab=Object.assign,ib={};function Oi(e,t,r){this.props=e,this.context=t,this.refs=ib,this.updater=r||sb}Oi.prototype.isReactComponent={};Oi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ob(){}ob.prototype=Oi.prototype;function bp(e,t,r){this.props=e,this.context=t,this.refs=ib,this.updater=r||sb}var wp=bp.prototype=new ob;wp.constructor=bp;ab(wp,Oi.prototype);wp.isPureReactComponent=!0;var Dg=Array.isArray,lb=Object.prototype.hasOwnProperty,Sp={current:null},cb={key:!0,ref:!0,__self:!0,__source:!0};function ub(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)lb.call(t,n)&&!cb.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ol,type:e,key:a,ref:i,props:s,_owner:Sp.current}}function aE(e,t){return{$$typeof:ol,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jp(e){return typeof e=="object"&&e!==null&&e.$$typeof===ol}function iE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Og=/\/+/g;function Bd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iE(""+e.key):t.toString(36)}function uc(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ol:case K_:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Bd(i,0):n,Dg(s)?(r="",e!=null&&(r=e.replace(Og,"$&/")+"/"),uc(s,t,r,"",function(u){return u})):s!=null&&(jp(s)&&(s=aE(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Og,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Dg(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Bd(a,l);i+=uc(a,t,r,c,s)}else if(c=sE(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Bd(a,l++),i+=uc(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Al(e,t,r){if(e==null)return e;var n=[],s=0;return uc(e,n,"","",function(a){return t.call(r,a,s++)}),n}function oE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ar={current:null},dc={transition:null},lE={ReactCurrentDispatcher:ar,ReactCurrentBatchConfig:dc,ReactCurrentOwner:Sp};function db(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:Al,forEach:function(e,t,r){Al(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Al(e,function(){t++}),t},toArray:function(e){return Al(e,function(t){return t})||[]},only:function(e){if(!jp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ve.Component=Oi;Ve.Fragment=Y_;Ve.Profiler=J_;Ve.PureComponent=bp;Ve.StrictMode=Q_;Ve.Suspense=tE;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lE;Ve.act=db;Ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ab({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Sp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)lb.call(t,c)&&!cb.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ol,type:e.type,key:s,ref:a,props:n,_owner:i}};Ve.createContext=function(e){return e={$$typeof:Z_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:X_,_context:e},e.Consumer=e};Ve.createElement=ub;Ve.createFactory=function(e){var t=ub.bind(null,e);return t.type=e,t};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(e){return{$$typeof:eE,render:e}};Ve.isValidElement=jp;Ve.lazy=function(e){return{$$typeof:nE,_payload:{_status:-1,_result:e},_init:oE}};Ve.memo=function(e,t){return{$$typeof:rE,type:e,compare:t===void 0?null:t}};Ve.startTransition=function(e){var t=dc.transition;dc.transition={};try{e()}finally{dc.transition=t}};Ve.unstable_act=db;Ve.useCallback=function(e,t){return ar.current.useCallback(e,t)};Ve.useContext=function(e){return ar.current.useContext(e)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(e){return ar.current.useDeferredValue(e)};Ve.useEffect=function(e,t){return ar.current.useEffect(e,t)};Ve.useId=function(){return ar.current.useId()};Ve.useImperativeHandle=function(e,t,r){return ar.current.useImperativeHandle(e,t,r)};Ve.useInsertionEffect=function(e,t){return ar.current.useInsertionEffect(e,t)};Ve.useLayoutEffect=function(e,t){return ar.current.useLayoutEffect(e,t)};Ve.useMemo=function(e,t){return ar.current.useMemo(e,t)};Ve.useReducer=function(e,t,r){return ar.current.useReducer(e,t,r)};Ve.useRef=function(e){return ar.current.useRef(e)};Ve.useState=function(e){return ar.current.useState(e)};Ve.useSyncExternalStore=function(e,t,r){return ar.current.useSyncExternalStore(e,t,r)};Ve.useTransition=function(){return ar.current.useTransition()};Ve.version="18.3.1";nb.exports=Ve;var m=nb.exports;const J=xp(m),Np=G_({__proto__:null,default:J},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE=m,uE=Symbol.for("react.element"),dE=Symbol.for("react.fragment"),fE=Object.prototype.hasOwnProperty,hE=cE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pE={key:!0,ref:!0,__self:!0,__source:!0};function fb(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)fE.call(t,n)&&!pE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:uE,type:e,key:a,ref:i,props:s,_owner:hE.current}}Nu.Fragment=dE;Nu.jsx=fb;Nu.jsxs=fb;rb.exports=Nu;var o=rb.exports,hb={exports:{}},Or={},pb={exports:{}},mb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,O){var W=R.length;R.push(O);e:for(;0<W;){var Z=W-1>>>1,V=R[Z];if(0<s(V,O))R[Z]=O,R[W]=V,W=Z;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var O=R[0],W=R.pop();if(W!==O){R[0]=W;e:for(var Z=0,V=R.length,oe=V>>>1;Z<oe;){var q=2*(Z+1)-1,se=R[q],je=q+1,T=R[je];if(0>s(se,W))je<V&&0>s(T,se)?(R[Z]=T,R[je]=W,Z=je):(R[Z]=se,R[q]=W,Z=q);else if(je<V&&0>s(T,W))R[Z]=T,R[je]=W,Z=je;else break e}}return O}function s(R,O){var W=R.sortIndex-O.sortIndex;return W!==0?W:R.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=R)n(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(u)}}function S(R){if(g=!1,w(R),!v)if(r(c)!==null)v=!0,L(N);else{var O=r(u);O!==null&&K(S,O.startTime-R)}}function N(R,O){v=!1,g&&(g=!1,y(E),E=-1),p=!0;var W=h;try{for(w(O),f=r(c);f!==null&&(!(f.expirationTime>O)||R&&!F());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var V=Z(f.expirationTime<=O);O=e.unstable_now(),typeof V=="function"?f.callback=V:f===r(c)&&n(c),w(O)}else n(c);f=r(c)}if(f!==null)var oe=!0;else{var q=r(u);q!==null&&K(S,q.startTime-O),oe=!1}return oe}finally{f=null,h=W,p=!1}}var j=!1,_=null,E=-1,B=5,I=-1;function F(){return!(e.unstable_now()-I<B)}function A(){if(_!==null){var R=e.unstable_now();I=R;var O=!0;try{O=_(!0,R)}finally{O?G():(j=!1,_=null)}}else j=!1}var G;if(typeof x=="function")G=function(){x(A)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,C=k.port2;k.port1.onmessage=A,G=function(){C.postMessage(null)}}else G=function(){b(A,0)};function L(R){_=R,j||(j=!0,G())}function K(R,O){E=b(function(){R(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,L(N))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var W=h;h=O;try{return R()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var W=h;h=R;try{return O()}finally{h=W}},e.unstable_scheduleCallback=function(R,O,W){var Z=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Z+W:Z):W=Z,R){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=W+V,R={id:d++,callback:O,priorityLevel:R,startTime:W,expirationTime:V,sortIndex:-1},W>Z?(R.sortIndex=W,t(u,R),r(c)===null&&R===r(u)&&(g?(y(E),E=-1):g=!0,K(S,W-Z))):(R.sortIndex=V,t(c,R),v||p||(v=!0,L(N))),R},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(R){var O=h;return function(){var W=h;h=O;try{return R.apply(this,arguments)}finally{h=W}}}})(mb);pb.exports=mb;var mE=pb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE=m,Dr=mE;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gb=new Set,ko={};function Ea(e,t){wi(e,t),wi(e+"Capture",t)}function wi(e,t){for(ko[e]=t,e=0;e<t.length;e++)gb.add(t[e])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vf=Object.prototype.hasOwnProperty,vE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bg={},Mg={};function yE(e){return Vf.call(Mg,e)?!0:Vf.call(Bg,e)?!1:vE.test(e)?Mg[e]=!0:(Bg[e]=!0,!1)}function xE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bE(e,t,r,n){if(t===null||typeof t>"u"||xE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ir(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wt[e]=new ir(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wt[t]=new ir(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wt[e]=new ir(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wt[e]=new ir(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wt[e]=new ir(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wt[e]=new ir(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wt[e]=new ir(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wt[e]=new ir(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wt[e]=new ir(e,5,!1,e.toLowerCase(),null,!1,!1)});var _p=/[\-:]([a-z])/g;function Ep(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_p,Ep);Wt[t]=new ir(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_p,Ep);Wt[t]=new ir(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_p,Ep);Wt[t]=new ir(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wt[e]=new ir(e,1,!1,e.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wt[e]=new ir(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cp(e,t,r,n){var s=Wt.hasOwnProperty(t)?Wt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bE(t,r,s,n)&&(r=null),n||s===null?yE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Jn=gE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rl=Symbol.for("react.element"),Wa=Symbol.for("react.portal"),Va=Symbol.for("react.fragment"),Tp=Symbol.for("react.strict_mode"),Hf=Symbol.for("react.profiler"),vb=Symbol.for("react.provider"),yb=Symbol.for("react.context"),Pp=Symbol.for("react.forward_ref"),Gf=Symbol.for("react.suspense"),qf=Symbol.for("react.suspense_list"),kp=Symbol.for("react.memo"),cs=Symbol.for("react.lazy"),xb=Symbol.for("react.offscreen"),Lg=Symbol.iterator;function qi(e){return e===null||typeof e!="object"?null:(e=Lg&&e[Lg]||e["@@iterator"],typeof e=="function"?e:null)}var bt=Object.assign,Md;function oo(e){if(Md===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Md=t&&t[1]||""}return`
`+Md+e}var Ld=!1;function $d(e,t){if(!e||Ld)return"";Ld=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Ld=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?oo(e):""}function wE(e){switch(e.tag){case 5:return oo(e.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 2:case 15:return e=$d(e.type,!1),e;case 11:return e=$d(e.type.render,!1),e;case 1:return e=$d(e.type,!0),e;default:return""}}function Kf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Va:return"Fragment";case Wa:return"Portal";case Hf:return"Profiler";case Tp:return"StrictMode";case Gf:return"Suspense";case qf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yb:return(e.displayName||"Context")+".Consumer";case vb:return(e._context.displayName||"Context")+".Provider";case Pp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kp:return t=e.displayName||null,t!==null?t:Kf(e.type)||"Memo";case cs:t=e._payload,e=e._init;try{return Kf(e(t))}catch{}}return null}function SE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kf(t);case 8:return t===Tp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Os(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jE(e){var t=bb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Il(e){e._valueTracker||(e._valueTracker=jE(e))}function wb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=bb(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ac(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yf(e,t){var r=t.checked;return bt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function $g(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Os(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sb(e,t){t=t.checked,t!=null&&Cp(e,"checked",t,!1)}function Qf(e,t){Sb(e,t);var r=Os(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Jf(e,t.type,Os(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Jf(e,t,r){(t!=="number"||Ac(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var lo=Array.isArray;function ri(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Os(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Xf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return bt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ug(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ue(92));if(lo(r)){if(1<r.length)throw Error(ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Os(r)}}function jb(e,t){var r=Os(t.value),n=Os(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function zg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dl,_b=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dl=Dl||document.createElement("div"),Dl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ao(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NE=["Webkit","ms","Moz","O"];Object.keys(mo).forEach(function(e){NE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mo[t]=mo[e]})});function Eb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mo.hasOwnProperty(e)&&mo[e]?(""+t).trim():t+"px"}function Cb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Eb(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var _E=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eh(e,t){if(t){if(_E[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function th(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rh=null;function Ap(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nh=null,ni=null,si=null;function Wg(e){if(e=ul(e)){if(typeof nh!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=Pu(t),nh(e.stateNode,e.type,t))}}function Tb(e){ni?si?si.push(e):si=[e]:ni=e}function Pb(){if(ni){var e=ni,t=si;if(si=ni=null,Wg(e),t)for(e=0;e<t.length;e++)Wg(t[e])}}function kb(e,t){return e(t)}function Ab(){}var Fd=!1;function Rb(e,t,r){if(Fd)return e(t,r);Fd=!0;try{return kb(e,t,r)}finally{Fd=!1,(ni!==null||si!==null)&&(Ab(),Pb())}}function Ro(e,t){var r=e.stateNode;if(r===null)return null;var n=Pu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,t,typeof r));return r}var sh=!1;if(Hn)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){sh=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{sh=!1}function EE(e,t,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var go=!1,Rc=null,Ic=!1,ah=null,CE={onError:function(e){go=!0,Rc=e}};function TE(e,t,r,n,s,a,i,l,c){go=!1,Rc=null,EE.apply(CE,arguments)}function PE(e,t,r,n,s,a,i,l,c){if(TE.apply(this,arguments),go){if(go){var u=Rc;go=!1,Rc=null}else throw Error(ue(198));Ic||(Ic=!0,ah=u)}}function Ca(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ib(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vg(e){if(Ca(e)!==e)throw Error(ue(188))}function kE(e){var t=e.alternate;if(!t){if(t=Ca(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Vg(s),e;if(a===n)return Vg(s),t;a=a.sibling}throw Error(ue(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(ue(189))}}if(r.alternate!==n)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:t}function Db(e){return e=kE(e),e!==null?Ob(e):null}function Ob(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ob(e);if(t!==null)return t;e=e.sibling}return null}var Bb=Dr.unstable_scheduleCallback,Hg=Dr.unstable_cancelCallback,AE=Dr.unstable_shouldYield,RE=Dr.unstable_requestPaint,Nt=Dr.unstable_now,IE=Dr.unstable_getCurrentPriorityLevel,Rp=Dr.unstable_ImmediatePriority,Mb=Dr.unstable_UserBlockingPriority,Dc=Dr.unstable_NormalPriority,DE=Dr.unstable_LowPriority,Lb=Dr.unstable_IdlePriority,_u=null,Cn=null;function OE(e){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(_u,e,void 0,(e.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:LE,BE=Math.log,ME=Math.LN2;function LE(e){return e>>>=0,e===0?32:31-(BE(e)/ME|0)|0}var Ol=64,Bl=4194304;function co(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=co(l):(a&=i,a!==0&&(n=co(a)))}else i=r&~s,i!==0?n=co(i):a!==0&&(n=co(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fn(t),s=1<<r,n|=e[r],t&=~s;return n}function $E(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-fn(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=$E(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function ih(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $b(){var e=Ol;return Ol<<=1,!(Ol&4194240)&&(Ol=64),e}function Ud(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ll(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fn(t),e[t]=r}function UE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-fn(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Ip(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var nt=0;function Fb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ub,Dp,zb,Wb,Vb,oh=!1,Ml=[],js=null,Ns=null,_s=null,Io=new Map,Do=new Map,fs=[],zE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gg(e,t){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":Io.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(t.pointerId)}}function Yi(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=ul(t),t!==null&&Dp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function WE(e,t,r,n,s){switch(t){case"focusin":return js=Yi(js,e,t,r,n,s),!0;case"dragenter":return Ns=Yi(Ns,e,t,r,n,s),!0;case"mouseover":return _s=Yi(_s,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Io.set(a,Yi(Io.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Do.set(a,Yi(Do.get(a)||null,e,t,r,n,s)),!0}return!1}function Hb(e){var t=na(e.target);if(t!==null){var r=Ca(t);if(r!==null){if(t=r.tag,t===13){if(t=Ib(r),t!==null){e.blockedOn=t,Vb(e.priority,function(){zb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=lh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);rh=n,r.target.dispatchEvent(n),rh=null}else return t=ul(r),t!==null&&Dp(t),e.blockedOn=r,!1;t.shift()}return!0}function qg(e,t,r){fc(e)&&r.delete(t)}function VE(){oh=!1,js!==null&&fc(js)&&(js=null),Ns!==null&&fc(Ns)&&(Ns=null),_s!==null&&fc(_s)&&(_s=null),Io.forEach(qg),Do.forEach(qg)}function Qi(e,t){e.blockedOn===t&&(e.blockedOn=null,oh||(oh=!0,Dr.unstable_scheduleCallback(Dr.unstable_NormalPriority,VE)))}function Oo(e){function t(s){return Qi(s,e)}if(0<Ml.length){Qi(Ml[0],e);for(var r=1;r<Ml.length;r++){var n=Ml[r];n.blockedOn===e&&(n.blockedOn=null)}}for(js!==null&&Qi(js,e),Ns!==null&&Qi(Ns,e),_s!==null&&Qi(_s,e),Io.forEach(t),Do.forEach(t),r=0;r<fs.length;r++)n=fs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<fs.length&&(r=fs[0],r.blockedOn===null);)Hb(r),r.blockedOn===null&&fs.shift()}var ai=Jn.ReactCurrentBatchConfig,Bc=!0;function HE(e,t,r,n){var s=nt,a=ai.transition;ai.transition=null;try{nt=1,Op(e,t,r,n)}finally{nt=s,ai.transition=a}}function GE(e,t,r,n){var s=nt,a=ai.transition;ai.transition=null;try{nt=4,Op(e,t,r,n)}finally{nt=s,ai.transition=a}}function Op(e,t,r,n){if(Bc){var s=lh(e,t,r,n);if(s===null)Jd(e,t,n,Mc,r),Gg(e,n);else if(WE(s,e,t,r,n))n.stopPropagation();else if(Gg(e,n),t&4&&-1<zE.indexOf(e)){for(;s!==null;){var a=ul(s);if(a!==null&&Ub(a),a=lh(e,t,r,n),a===null&&Jd(e,t,n,Mc,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Jd(e,t,n,null,r)}}var Mc=null;function lh(e,t,r,n){if(Mc=null,e=Ap(n),e=na(e),e!==null)if(t=Ca(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ib(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mc=e,null}function Gb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IE()){case Rp:return 1;case Mb:return 4;case Dc:case DE:return 16;case Lb:return 536870912;default:return 16}default:return 16}}var bs=null,Bp=null,hc=null;function qb(){if(hc)return hc;var e,t=Bp,r=t.length,n,s="value"in bs?bs.value:bs.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return hc=s.slice(e,1<n?1-n:void 0)}function pc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ll(){return!0}function Kg(){return!1}function Br(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ll:Kg,this.isPropagationStopped=Kg,this}return bt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),t}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mp=Br(Bi),cl=bt({},Bi,{view:0,detail:0}),qE=Br(cl),zd,Wd,Ji,Eu=bt({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ji&&(Ji&&e.type==="mousemove"?(zd=e.screenX-Ji.screenX,Wd=e.screenY-Ji.screenY):Wd=zd=0,Ji=e),zd)},movementY:function(e){return"movementY"in e?e.movementY:Wd}}),Yg=Br(Eu),KE=bt({},Eu,{dataTransfer:0}),YE=Br(KE),QE=bt({},cl,{relatedTarget:0}),Vd=Br(QE),JE=bt({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),XE=Br(JE),ZE=bt({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eC=Br(ZE),tC=bt({},Bi,{data:0}),Qg=Br(tC),rC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sC[e])?!!t[e]:!1}function Lp(){return aC}var iC=bt({},cl,{key:function(e){if(e.key){var t=rC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lp,charCode:function(e){return e.type==="keypress"?pc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oC=Br(iC),lC=bt({},Eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jg=Br(lC),cC=bt({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lp}),uC=Br(cC),dC=bt({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),fC=Br(dC),hC=bt({},Eu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pC=Br(hC),mC=[9,13,27,32],$p=Hn&&"CompositionEvent"in window,vo=null;Hn&&"documentMode"in document&&(vo=document.documentMode);var gC=Hn&&"TextEvent"in window&&!vo,Kb=Hn&&(!$p||vo&&8<vo&&11>=vo),Xg=" ",Zg=!1;function Yb(e,t){switch(e){case"keyup":return mC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ha=!1;function vC(e,t){switch(e){case"compositionend":return Qb(t);case"keypress":return t.which!==32?null:(Zg=!0,Xg);case"textInput":return e=t.data,e===Xg&&Zg?null:e;default:return null}}function yC(e,t){if(Ha)return e==="compositionend"||!$p&&Yb(e,t)?(e=qb(),hc=Bp=bs=null,Ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kb&&t.locale!=="ko"?null:t.data;default:return null}}var xC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ev(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xC[e.type]:t==="textarea"}function Jb(e,t,r,n){Tb(n),t=Lc(t,"onChange"),0<t.length&&(r=new Mp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var yo=null,Bo=null;function bC(e){l0(e,0)}function Cu(e){var t=Ka(e);if(wb(t))return e}function wC(e,t){if(e==="change")return t}var Xb=!1;if(Hn){var Hd;if(Hn){var Gd="oninput"in document;if(!Gd){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),Gd=typeof tv.oninput=="function"}Hd=Gd}else Hd=!1;Xb=Hd&&(!document.documentMode||9<document.documentMode)}function rv(){yo&&(yo.detachEvent("onpropertychange",Zb),Bo=yo=null)}function Zb(e){if(e.propertyName==="value"&&Cu(Bo)){var t=[];Jb(t,Bo,e,Ap(e)),Rb(bC,t)}}function SC(e,t,r){e==="focusin"?(rv(),yo=t,Bo=r,yo.attachEvent("onpropertychange",Zb)):e==="focusout"&&rv()}function jC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(Bo)}function NC(e,t){if(e==="click")return Cu(t)}function _C(e,t){if(e==="input"||e==="change")return Cu(t)}function EC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pn=typeof Object.is=="function"?Object.is:EC;function Mo(e,t){if(pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Vf.call(t,s)||!pn(e[s],t[s]))return!1}return!0}function nv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sv(e,t){var r=nv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nv(r)}}function e0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?e0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function t0(){for(var e=window,t=Ac();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ac(e.document)}return t}function Fp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function CC(e){var t=t0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&e0(r.ownerDocument.documentElement,r)){if(n!==null&&Fp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=sv(r,a);var i=sv(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var TC=Hn&&"documentMode"in document&&11>=document.documentMode,Ga=null,ch=null,xo=null,uh=!1;function av(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uh||Ga==null||Ga!==Ac(n)||(n=Ga,"selectionStart"in n&&Fp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xo&&Mo(xo,n)||(xo=n,n=Lc(ch,"onSelect"),0<n.length&&(t=new Mp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ga)))}function $l(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qa={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},qd={},r0={};Hn&&(r0=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Tu(e){if(qd[e])return qd[e];if(!qa[e])return e;var t=qa[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in r0)return qd[e]=t[r];return e}var n0=Tu("animationend"),s0=Tu("animationiteration"),a0=Tu("animationstart"),i0=Tu("transitionend"),o0=new Map,iv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Us(e,t){o0.set(e,t),Ea(t,[e])}for(var Kd=0;Kd<iv.length;Kd++){var Yd=iv[Kd],PC=Yd.toLowerCase(),kC=Yd[0].toUpperCase()+Yd.slice(1);Us(PC,"on"+kC)}Us(n0,"onAnimationEnd");Us(s0,"onAnimationIteration");Us(a0,"onAnimationStart");Us("dblclick","onDoubleClick");Us("focusin","onFocus");Us("focusout","onBlur");Us(i0,"onTransitionEnd");wi("onMouseEnter",["mouseout","mouseover"]);wi("onMouseLeave",["mouseout","mouseover"]);wi("onPointerEnter",["pointerout","pointerover"]);wi("onPointerLeave",["pointerout","pointerover"]);Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AC=new Set("cancel close invalid load scroll toggle".split(" ").concat(uo));function ov(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,PE(n,t,void 0,e),e.currentTarget=null}function l0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;ov(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;ov(s,l,u),a=c}}}if(Ic)throw e=ah,Ic=!1,ah=null,e}function ht(e,t){var r=t[mh];r===void 0&&(r=t[mh]=new Set);var n=e+"__bubble";r.has(n)||(c0(t,e,2,!1),r.add(n))}function Qd(e,t,r){var n=0;t&&(n|=4),c0(r,e,n,t)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function Lo(e){if(!e[Fl]){e[Fl]=!0,gb.forEach(function(r){r!=="selectionchange"&&(AC.has(r)||Qd(r,!1,e),Qd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fl]||(t[Fl]=!0,Qd("selectionchange",!1,t))}}function c0(e,t,r,n){switch(Gb(t)){case 1:var s=HE;break;case 4:s=GE;break;default:s=Op}r=s.bind(null,t,r,e),s=void 0,!sh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Jd(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=na(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}Rb(function(){var u=a,d=Ap(r),f=[];e:{var h=o0.get(e);if(h!==void 0){var p=Mp,v=e;switch(e){case"keypress":if(pc(r)===0)break e;case"keydown":case"keyup":p=oC;break;case"focusin":v="focus",p=Vd;break;case"focusout":v="blur",p=Vd;break;case"beforeblur":case"afterblur":p=Vd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=YE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uC;break;case n0:case s0:case a0:p=XE;break;case i0:p=fC;break;case"scroll":p=qE;break;case"wheel":p=pC;break;case"copy":case"cut":case"paste":p=eC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Jg}var g=(t&4)!==0,b=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var x=u,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=Ro(x,y),S!=null&&g.push($o(x,S,w)))),b)break;x=x.return}0<g.length&&(h=new p(h,v,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==rh&&(v=r.relatedTarget||r.fromElement)&&(na(v)||v[Gn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?na(v):null,v!==null&&(b=Ca(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=Yg,S="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=Jg,S="onPointerLeave",y="onPointerEnter",x="pointer"),b=p==null?h:Ka(p),w=v==null?h:Ka(v),h=new g(S,x+"leave",p,r,d),h.target=b,h.relatedTarget=w,S=null,na(d)===u&&(g=new g(y,x+"enter",v,r,d),g.target=w,g.relatedTarget=b,S=g),b=S,p&&v)t:{for(g=p,y=v,x=0,w=g;w;w=ka(w))x++;for(w=0,S=y;S;S=ka(S))w++;for(;0<x-w;)g=ka(g),x--;for(;0<w-x;)y=ka(y),w--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=ka(g),y=ka(y)}g=null}else g=null;p!==null&&lv(f,h,p,g,!1),v!==null&&b!==null&&lv(f,b,v,g,!0)}}e:{if(h=u?Ka(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=wC;else if(ev(h))if(Xb)N=_C;else{N=jC;var j=SC}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=NC);if(N&&(N=N(e,u))){Jb(f,N,r,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Jf(h,"number",h.value)}switch(j=u?Ka(u):window,e){case"focusin":(ev(j)||j.contentEditable==="true")&&(Ga=j,ch=u,xo=null);break;case"focusout":xo=ch=Ga=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,av(f,r,d);break;case"selectionchange":if(TC)break;case"keydown":case"keyup":av(f,r,d)}var _;if($p)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ha?Yb(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Kb&&r.locale!=="ko"&&(Ha||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ha&&(_=qb()):(bs=d,Bp="value"in bs?bs.value:bs.textContent,Ha=!0)),j=Lc(u,E),0<j.length&&(E=new Qg(E,e,null,r,d),f.push({event:E,listeners:j}),_?E.data=_:(_=Qb(r),_!==null&&(E.data=_)))),(_=gC?vC(e,r):yC(e,r))&&(u=Lc(u,"onBeforeInput"),0<u.length&&(d=new Qg("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}l0(f,t)})}function $o(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Lc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ro(e,r),a!=null&&n.unshift($o(e,a,s)),a=Ro(e,t),a!=null&&n.push($o(e,a,s))),e=e.return}return n}function ka(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lv(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ro(r,a),c!=null&&i.unshift($o(r,c,l))):s||(c=Ro(r,a),c!=null&&i.push($o(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var RC=/\r\n?/g,IC=/\u0000|\uFFFD/g;function cv(e){return(typeof e=="string"?e:""+e).replace(RC,`
`).replace(IC,"")}function Ul(e,t,r){if(t=cv(t),cv(e)!==t&&r)throw Error(ue(425))}function $c(){}var dh=null,fh=null;function hh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ph=typeof setTimeout=="function"?setTimeout:void 0,DC=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,OC=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(e){return uv.resolve(null).then(e).catch(BC)}:ph;function BC(e){setTimeout(function(){throw e})}function Xd(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Oo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Oo(t)}function Es(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Mi=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Mi,Fo="__reactProps$"+Mi,Gn="__reactContainer$"+Mi,mh="__reactEvents$"+Mi,MC="__reactListeners$"+Mi,LC="__reactHandles$"+Mi;function na(e){var t=e[Nn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Gn]||r[Nn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=dv(e);e!==null;){if(r=e[Nn])return r;e=dv(e)}return t}e=r,r=e.parentNode}return null}function ul(e){return e=e[Nn]||e[Gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ka(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function Pu(e){return e[Fo]||null}var gh=[],Ya=-1;function zs(e){return{current:e}}function pt(e){0>Ya||(e.current=gh[Ya],gh[Ya]=null,Ya--)}function ut(e,t){Ya++,gh[Ya]=e.current,e.current=t}var Bs={},Jt=zs(Bs),xr=zs(!1),ma=Bs;function Si(e,t){var r=e.type.contextTypes;if(!r)return Bs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function br(e){return e=e.childContextTypes,e!=null}function Fc(){pt(xr),pt(Jt)}function fv(e,t,r){if(Jt.current!==Bs)throw Error(ue(168));ut(Jt,t),ut(xr,r)}function u0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ue(108,SE(e)||"Unknown",s));return bt({},r,n)}function Uc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bs,ma=Jt.current,ut(Jt,e),ut(xr,xr.current),!0}function hv(e,t,r){var n=e.stateNode;if(!n)throw Error(ue(169));r?(e=u0(e,t,ma),n.__reactInternalMemoizedMergedChildContext=e,pt(xr),pt(Jt),ut(Jt,e)):pt(xr),ut(xr,r)}var Ln=null,ku=!1,Zd=!1;function d0(e){Ln===null?Ln=[e]:Ln.push(e)}function $C(e){ku=!0,d0(e)}function Ws(){if(!Zd&&Ln!==null){Zd=!0;var e=0,t=nt;try{var r=Ln;for(nt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ln=null,ku=!1}catch(s){throw Ln!==null&&(Ln=Ln.slice(e+1)),Bb(Rp,Ws),s}finally{nt=t,Zd=!1}}return null}var Qa=[],Ja=0,zc=null,Wc=0,Ur=[],zr=0,ga=null,Fn=1,Un="";function Xs(e,t){Qa[Ja++]=Wc,Qa[Ja++]=zc,zc=e,Wc=t}function f0(e,t,r){Ur[zr++]=Fn,Ur[zr++]=Un,Ur[zr++]=ga,ga=e;var n=Fn;e=Un;var s=32-fn(n)-1;n&=~(1<<s),r+=1;var a=32-fn(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Fn=1<<32-fn(t)+s|r<<s|n,Un=a+e}else Fn=1<<a|r<<s|n,Un=e}function Up(e){e.return!==null&&(Xs(e,1),f0(e,1,0))}function zp(e){for(;e===zc;)zc=Qa[--Ja],Qa[Ja]=null,Wc=Qa[--Ja],Qa[Ja]=null;for(;e===ga;)ga=Ur[--zr],Ur[zr]=null,Un=Ur[--zr],Ur[zr]=null,Fn=Ur[--zr],Ur[zr]=null}var kr=null,Tr=null,mt=!1,un=null;function h0(e,t){var r=Wr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function pv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kr=e,Tr=Es(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kr=e,Tr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ga!==null?{id:Fn,overflow:Un}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Wr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,kr=e,Tr=null,!0):!1;default:return!1}}function vh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yh(e){if(mt){var t=Tr;if(t){var r=t;if(!pv(e,t)){if(vh(e))throw Error(ue(418));t=Es(r.nextSibling);var n=kr;t&&pv(e,t)?h0(n,r):(e.flags=e.flags&-4097|2,mt=!1,kr=e)}}else{if(vh(e))throw Error(ue(418));e.flags=e.flags&-4097|2,mt=!1,kr=e}}}function mv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kr=e}function zl(e){if(e!==kr)return!1;if(!mt)return mv(e),mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hh(e.type,e.memoizedProps)),t&&(t=Tr)){if(vh(e))throw p0(),Error(ue(418));for(;t;)h0(e,t),t=Es(t.nextSibling)}if(mv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Tr=Es(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Tr=null}}else Tr=kr?Es(e.stateNode.nextSibling):null;return!0}function p0(){for(var e=Tr;e;)e=Es(e.nextSibling)}function ji(){Tr=kr=null,mt=!1}function Wp(e){un===null?un=[e]:un.push(e)}var FC=Jn.ReactCurrentBatchConfig;function Xi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var n=r.stateNode}if(!n)throw Error(ue(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function Wl(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gv(e){var t=e._init;return t(e._payload)}function m0(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=ks(y,x),y.index=0,y.sibling=null,y}function a(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,w,S){return x===null||x.tag!==6?(x=of(w,y.mode,S),x.return=y,x):(x=s(x,w),x.return=y,x)}function c(y,x,w,S){var N=w.type;return N===Va?d(y,x,w.props.children,S,w.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===cs&&gv(N)===x.type)?(S=s(x,w.props),S.ref=Xi(y,x,w),S.return=y,S):(S=wc(w.type,w.key,w.props,null,y.mode,S),S.ref=Xi(y,x,w),S.return=y,S)}function u(y,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=lf(w,y.mode,S),x.return=y,x):(x=s(x,w.children||[]),x.return=y,x)}function d(y,x,w,S,N){return x===null||x.tag!==7?(x=ha(w,y.mode,S,N),x.return=y,x):(x=s(x,w),x.return=y,x)}function f(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=of(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rl:return w=wc(x.type,x.key,x.props,null,y.mode,w),w.ref=Xi(y,null,x),w.return=y,w;case Wa:return x=lf(x,y.mode,w),x.return=y,x;case cs:var S=x._init;return f(y,S(x._payload),w)}if(lo(x)||qi(x))return x=ha(x,y.mode,w,null),x.return=y,x;Wl(y,x)}return null}function h(y,x,w,S){var N=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Rl:return w.key===N?c(y,x,w,S):null;case Wa:return w.key===N?u(y,x,w,S):null;case cs:return N=w._init,h(y,x,N(w._payload),S)}if(lo(w)||qi(w))return N!==null?null:d(y,x,w,S,null);Wl(y,w)}return null}function p(y,x,w,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,l(x,y,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Rl:return y=y.get(S.key===null?w:S.key)||null,c(x,y,S,N);case Wa:return y=y.get(S.key===null?w:S.key)||null,u(x,y,S,N);case cs:var j=S._init;return p(y,x,w,j(S._payload),N)}if(lo(S)||qi(S))return y=y.get(w)||null,d(x,y,S,N,null);Wl(x,S)}return null}function v(y,x,w,S){for(var N=null,j=null,_=x,E=x=0,B=null;_!==null&&E<w.length;E++){_.index>E?(B=_,_=null):B=_.sibling;var I=h(y,_,w[E],S);if(I===null){_===null&&(_=B);break}e&&_&&I.alternate===null&&t(y,_),x=a(I,x,E),j===null?N=I:j.sibling=I,j=I,_=B}if(E===w.length)return r(y,_),mt&&Xs(y,E),N;if(_===null){for(;E<w.length;E++)_=f(y,w[E],S),_!==null&&(x=a(_,x,E),j===null?N=_:j.sibling=_,j=_);return mt&&Xs(y,E),N}for(_=n(y,_);E<w.length;E++)B=p(_,y,E,w[E],S),B!==null&&(e&&B.alternate!==null&&_.delete(B.key===null?E:B.key),x=a(B,x,E),j===null?N=B:j.sibling=B,j=B);return e&&_.forEach(function(F){return t(y,F)}),mt&&Xs(y,E),N}function g(y,x,w,S){var N=qi(w);if(typeof N!="function")throw Error(ue(150));if(w=N.call(w),w==null)throw Error(ue(151));for(var j=N=null,_=x,E=x=0,B=null,I=w.next();_!==null&&!I.done;E++,I=w.next()){_.index>E?(B=_,_=null):B=_.sibling;var F=h(y,_,I.value,S);if(F===null){_===null&&(_=B);break}e&&_&&F.alternate===null&&t(y,_),x=a(F,x,E),j===null?N=F:j.sibling=F,j=F,_=B}if(I.done)return r(y,_),mt&&Xs(y,E),N;if(_===null){for(;!I.done;E++,I=w.next())I=f(y,I.value,S),I!==null&&(x=a(I,x,E),j===null?N=I:j.sibling=I,j=I);return mt&&Xs(y,E),N}for(_=n(y,_);!I.done;E++,I=w.next())I=p(_,y,E,I.value,S),I!==null&&(e&&I.alternate!==null&&_.delete(I.key===null?E:I.key),x=a(I,x,E),j===null?N=I:j.sibling=I,j=I);return e&&_.forEach(function(A){return t(y,A)}),mt&&Xs(y,E),N}function b(y,x,w,S){if(typeof w=="object"&&w!==null&&w.type===Va&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Rl:e:{for(var N=w.key,j=x;j!==null;){if(j.key===N){if(N=w.type,N===Va){if(j.tag===7){r(y,j.sibling),x=s(j,w.props.children),x.return=y,y=x;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===cs&&gv(N)===j.type){r(y,j.sibling),x=s(j,w.props),x.ref=Xi(y,j,w),x.return=y,y=x;break e}r(y,j);break}else t(y,j);j=j.sibling}w.type===Va?(x=ha(w.props.children,y.mode,S,w.key),x.return=y,y=x):(S=wc(w.type,w.key,w.props,null,y.mode,S),S.ref=Xi(y,x,w),S.return=y,y=S)}return i(y);case Wa:e:{for(j=w.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(y,x.sibling),x=s(x,w.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=lf(w,y.mode,S),x.return=y,y=x}return i(y);case cs:return j=w._init,b(y,x,j(w._payload),S)}if(lo(w))return v(y,x,w,S);if(qi(w))return g(y,x,w,S);Wl(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(y,x.sibling),x=s(x,w),x.return=y,y=x):(r(y,x),x=of(w,y.mode,S),x.return=y,y=x),i(y)):r(y,x)}return b}var Ni=m0(!0),g0=m0(!1),Vc=zs(null),Hc=null,Xa=null,Vp=null;function Hp(){Vp=Xa=Hc=null}function Gp(e){var t=Vc.current;pt(Vc),e._currentValue=t}function xh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ii(e,t){Hc=e,Vp=Xa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yr=!0),e.firstContext=null)}function Kr(e){var t=e._currentValue;if(Vp!==e)if(e={context:e,memoizedValue:t,next:null},Xa===null){if(Hc===null)throw Error(ue(308));Xa=e,Hc.dependencies={lanes:0,firstContext:e}}else Xa=Xa.next=e;return t}var sa=null;function qp(e){sa===null?sa=[e]:sa.push(e)}function v0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,qp(t)):(r.next=s.next,s.next=r),t.interleaved=r,qn(e,n)}function qn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var us=!1;function Kp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ye&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,qn(e,r)}return s=n.interleaved,s===null?(t.next=t,qp(n)):(t.next=s.next,s.next=t),n.interleaved=t,qn(e,r)}function mc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ip(e,r)}}function vv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gc(e,t,r,n){var s=e.updateQueue;us=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,d=u=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(h=t,p=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=bt({},f,h);break e;case 2:us=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ya|=i,e.lanes=i,e.memoizedState=f}}function yv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ue(191,s));s.call(n)}}}var dl={},Tn=zs(dl),Uo=zs(dl),zo=zs(dl);function aa(e){if(e===dl)throw Error(ue(174));return e}function Yp(e,t){switch(ut(zo,t),ut(Uo,e),ut(Tn,dl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zf(t,e)}pt(Tn),ut(Tn,t)}function _i(){pt(Tn),pt(Uo),pt(zo)}function x0(e){aa(zo.current);var t=aa(Tn.current),r=Zf(t,e.type);t!==r&&(ut(Uo,e),ut(Tn,r))}function Qp(e){Uo.current===e&&(pt(Tn),pt(Uo))}var yt=zs(0);function qc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ef=[];function Jp(){for(var e=0;e<ef.length;e++)ef[e]._workInProgressVersionPrimary=null;ef.length=0}var gc=Jn.ReactCurrentDispatcher,tf=Jn.ReactCurrentBatchConfig,va=0,xt=null,Pt=null,Rt=null,Kc=!1,bo=!1,Wo=0,UC=0;function Gt(){throw Error(ue(321))}function Xp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pn(e[r],t[r]))return!1;return!0}function Zp(e,t,r,n,s,a){if(va=a,xt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gc.current=e===null||e.memoizedState===null?HC:GC,e=r(n,s),bo){a=0;do{if(bo=!1,Wo=0,25<=a)throw Error(ue(301));a+=1,Rt=Pt=null,t.updateQueue=null,gc.current=qC,e=r(n,s)}while(bo)}if(gc.current=Yc,t=Pt!==null&&Pt.next!==null,va=0,Rt=Pt=xt=null,Kc=!1,t)throw Error(ue(300));return e}function em(){var e=Wo!==0;return Wo=0,e}function bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?xt.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function Yr(){if(Pt===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var t=Rt===null?xt.memoizedState:Rt.next;if(t!==null)Rt=t,Pt=e;else{if(e===null)throw Error(ue(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Rt===null?xt.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function Vo(e,t){return typeof t=="function"?t(e):t}function rf(e){var t=Yr(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=Pt,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((va&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,xt.lanes|=d,ya|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,pn(n,t.memoizedState)||(yr=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,xt.lanes|=a,ya|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nf(e){var t=Yr(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);pn(a,t.memoizedState)||(yr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function b0(){}function w0(e,t){var r=xt,n=Yr(),s=t(),a=!pn(n.memoizedState,s);if(a&&(n.memoizedState=s,yr=!0),n=n.queue,tm(N0.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Rt!==null&&Rt.memoizedState.tag&1){if(r.flags|=2048,Ho(9,j0.bind(null,r,n,s,t),void 0,null),It===null)throw Error(ue(349));va&30||S0(r,t,s)}return s}function S0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xt.updateQueue,t===null?(t={lastEffect:null,stores:null},xt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function j0(e,t,r,n){t.value=r,t.getSnapshot=n,_0(t)&&E0(e)}function N0(e,t,r){return r(function(){_0(t)&&E0(e)})}function _0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pn(e,r)}catch{return!0}}function E0(e){var t=qn(e,1);t!==null&&hn(t,e,1,-1)}function xv(e){var t=bn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:e},t.queue=e,e=e.dispatch=VC.bind(null,xt,e),[t.memoizedState,e]}function Ho(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=xt.updateQueue,t===null?(t={lastEffect:null,stores:null},xt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function C0(){return Yr().memoizedState}function vc(e,t,r,n){var s=bn();xt.flags|=e,s.memoizedState=Ho(1|t,r,void 0,n===void 0?null:n)}function Au(e,t,r,n){var s=Yr();n=n===void 0?null:n;var a=void 0;if(Pt!==null){var i=Pt.memoizedState;if(a=i.destroy,n!==null&&Xp(n,i.deps)){s.memoizedState=Ho(t,r,a,n);return}}xt.flags|=e,s.memoizedState=Ho(1|t,r,a,n)}function bv(e,t){return vc(8390656,8,e,t)}function tm(e,t){return Au(2048,8,e,t)}function T0(e,t){return Au(4,2,e,t)}function P0(e,t){return Au(4,4,e,t)}function k0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function A0(e,t,r){return r=r!=null?r.concat([e]):null,Au(4,4,k0.bind(null,t,e),r)}function rm(){}function R0(e,t){var r=Yr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Xp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function I0(e,t){var r=Yr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Xp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function D0(e,t,r){return va&21?(pn(r,t)||(r=$b(),xt.lanes|=r,ya|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yr=!0),e.memoizedState=r)}function zC(e,t){var r=nt;nt=r!==0&&4>r?r:4,e(!0);var n=tf.transition;tf.transition={};try{e(!1),t()}finally{nt=r,tf.transition=n}}function O0(){return Yr().memoizedState}function WC(e,t,r){var n=Ps(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},B0(e))M0(t,r);else if(r=v0(e,t,r,n),r!==null){var s=sr();hn(r,e,n,s),L0(r,t,n)}}function VC(e,t,r){var n=Ps(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(B0(e))M0(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,pn(l,i)){var c=t.interleaved;c===null?(s.next=s,qp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=v0(e,t,s,n),r!==null&&(s=sr(),hn(r,e,n,s),L0(r,t,n))}}function B0(e){var t=e.alternate;return e===xt||t!==null&&t===xt}function M0(e,t){bo=Kc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function L0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ip(e,r)}}var Yc={readContext:Kr,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},HC={readContext:Kr,useCallback:function(e,t){return bn().memoizedState=[e,t===void 0?null:t],e},useContext:Kr,useEffect:bv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,vc(4194308,4,k0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vc(4194308,4,e,t)},useInsertionEffect:function(e,t){return vc(4,2,e,t)},useMemo:function(e,t){var r=bn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=WC.bind(null,xt,e),[n.memoizedState,e]},useRef:function(e){var t=bn();return e={current:e},t.memoizedState=e},useState:xv,useDebugValue:rm,useDeferredValue:function(e){return bn().memoizedState=e},useTransition:function(){var e=xv(!1),t=e[0];return e=zC.bind(null,e[1]),bn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=xt,s=bn();if(mt){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=t(),It===null)throw Error(ue(349));va&30||S0(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,bv(N0.bind(null,n,a,e),[e]),n.flags|=2048,Ho(9,j0.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=bn(),t=It.identifierPrefix;if(mt){var r=Un,n=Fn;r=(n&~(1<<32-fn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=UC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},GC={readContext:Kr,useCallback:R0,useContext:Kr,useEffect:tm,useImperativeHandle:A0,useInsertionEffect:T0,useLayoutEffect:P0,useMemo:I0,useReducer:rf,useRef:C0,useState:function(){return rf(Vo)},useDebugValue:rm,useDeferredValue:function(e){var t=Yr();return D0(t,Pt.memoizedState,e)},useTransition:function(){var e=rf(Vo)[0],t=Yr().memoizedState;return[e,t]},useMutableSource:b0,useSyncExternalStore:w0,useId:O0,unstable_isNewReconciler:!1},qC={readContext:Kr,useCallback:R0,useContext:Kr,useEffect:tm,useImperativeHandle:A0,useInsertionEffect:T0,useLayoutEffect:P0,useMemo:I0,useReducer:nf,useRef:C0,useState:function(){return nf(Vo)},useDebugValue:rm,useDeferredValue:function(e){var t=Yr();return Pt===null?t.memoizedState=e:D0(t,Pt.memoizedState,e)},useTransition:function(){var e=nf(Vo)[0],t=Yr().memoizedState;return[e,t]},useMutableSource:b0,useSyncExternalStore:w0,useId:O0,unstable_isNewReconciler:!1};function nn(e,t){if(e&&e.defaultProps){t=bt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function bh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:bt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ru={isMounted:function(e){return(e=e._reactInternals)?Ca(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=sr(),s=Ps(e),a=zn(n,s);a.payload=t,r!=null&&(a.callback=r),t=Cs(e,a,s),t!==null&&(hn(t,e,s,n),mc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=sr(),s=Ps(e),a=zn(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Cs(e,a,s),t!==null&&(hn(t,e,s,n),mc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=sr(),n=Ps(e),s=zn(r,n);s.tag=2,t!=null&&(s.callback=t),t=Cs(e,s,n),t!==null&&(hn(t,e,n,r),mc(t,e,n))}};function wv(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Mo(r,n)||!Mo(s,a):!0}function $0(e,t,r){var n=!1,s=Bs,a=t.contextType;return typeof a=="object"&&a!==null?a=Kr(a):(s=br(t)?ma:Jt.current,n=t.contextTypes,a=(n=n!=null)?Si(e,s):Bs),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ru,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Sv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ru.enqueueReplaceState(t,t.state,null)}function wh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Kp(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Kr(a):(a=br(t)?ma:Jt.current,s.context=Si(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(bh(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ru.enqueueReplaceState(s,s.state,null),Gc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ei(e,t){try{var r="",n=t;do r+=wE(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function sf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Sh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var KC=typeof WeakMap=="function"?WeakMap:Map;function F0(e,t,r){r=zn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Jc||(Jc=!0,Rh=n),Sh(e,t)},r}function U0(e,t,r){r=zn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Sh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Sh(e,t),typeof n!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function jv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new KC;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=lT.bind(null,e,t,r),t.then(e,e))}function Nv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _v(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=zn(-1,1),t.tag=2,Cs(r,t,1))),r.lanes|=1),e)}var YC=Jn.ReactCurrentOwner,yr=!1;function rr(e,t,r,n){t.child=e===null?g0(t,null,r,n):Ni(t,e.child,r,n)}function Ev(e,t,r,n,s){r=r.render;var a=t.ref;return ii(t,s),n=Zp(e,t,r,n,a,s),r=em(),e!==null&&!yr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kn(e,t,s)):(mt&&r&&Up(t),t.flags|=1,rr(e,t,n,s),t.child)}function Cv(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!um(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,z0(e,t,a,n,s)):(e=wc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Mo,r(i,n)&&e.ref===t.ref)return Kn(e,t,s)}return t.flags|=1,e=ks(a,n),e.ref=t.ref,e.return=t,t.child=e}function z0(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Mo(a,n)&&e.ref===t.ref)if(yr=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(yr=!0);else return t.lanes=e.lanes,Kn(e,t,s)}return jh(e,t,r,n,s)}function W0(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(ei,_r),_r|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ut(ei,_r),_r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ut(ei,_r),_r|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ut(ei,_r),_r|=n;return rr(e,t,s,r),t.child}function V0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function jh(e,t,r,n,s){var a=br(r)?ma:Jt.current;return a=Si(t,a),ii(t,s),r=Zp(e,t,r,n,a,s),n=em(),e!==null&&!yr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kn(e,t,s)):(mt&&n&&Up(t),t.flags|=1,rr(e,t,r,s),t.child)}function Tv(e,t,r,n,s){if(br(r)){var a=!0;Uc(t)}else a=!1;if(ii(t,s),t.stateNode===null)yc(e,t),$0(t,r,n),wh(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Kr(u):(u=br(r)?ma:Jt.current,u=Si(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Sv(t,i,n,u),us=!1;var h=t.memoizedState;i.state=h,Gc(t,n,i,s),c=t.memoizedState,l!==n||h!==c||xr.current||us?(typeof d=="function"&&(bh(t,r,d,n),c=t.memoizedState),(l=us||wv(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,y0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:nn(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Kr(c):(c=br(r)?ma:Jt.current,c=Si(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Sv(t,i,n,c),us=!1,h=t.memoizedState,i.state=h,Gc(t,n,i,s);var v=t.memoizedState;l!==f||h!==v||xr.current||us?(typeof p=="function"&&(bh(t,r,p,n),v=t.memoizedState),(u=us||wv(t,r,u,n,h,v,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Nh(e,t,r,n,a,s)}function Nh(e,t,r,n,s,a){V0(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&hv(t,r,!1),Kn(e,t,a);n=t.stateNode,YC.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Ni(t,e.child,null,a),t.child=Ni(t,null,l,a)):rr(e,t,l,a),t.memoizedState=n.state,s&&hv(t,r,!0),t.child}function H0(e){var t=e.stateNode;t.pendingContext?fv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fv(e,t.context,!1),Yp(e,t.containerInfo)}function Pv(e,t,r,n,s){return ji(),Wp(s),t.flags|=256,rr(e,t,r,n),t.child}var _h={dehydrated:null,treeContext:null,retryLane:0};function Eh(e){return{baseLanes:e,cachePool:null,transitions:null}}function G0(e,t,r){var n=t.pendingProps,s=yt.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ut(yt,s&1),e===null)return yh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Ou(i,n,0,null),e=ha(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Eh(r),t.memoizedState=_h,e):nm(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return QC(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ks(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=ks(l,a):(a=ha(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Eh(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=_h,n}return a=e.child,e=a.sibling,n=ks(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function nm(e,t){return t=Ou({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vl(e,t,r,n){return n!==null&&Wp(n),Ni(t,e.child,null,r),e=nm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QC(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=sf(Error(ue(422))),Vl(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Ou({mode:"visible",children:n.children},s,0,null),a=ha(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Ni(t,e.child,null,i),t.child.memoizedState=Eh(i),t.memoizedState=_h,a);if(!(t.mode&1))return Vl(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(ue(419)),n=sf(a,n,void 0),Vl(e,t,i,n)}if(l=(i&e.childLanes)!==0,yr||l){if(n=It,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,qn(e,s),hn(n,e,s,-1))}return cm(),n=sf(Error(ue(421))),Vl(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=cT.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Tr=Es(s.nextSibling),kr=t,mt=!0,un=null,e!==null&&(Ur[zr++]=Fn,Ur[zr++]=Un,Ur[zr++]=ga,Fn=e.id,Un=e.overflow,ga=t),t=nm(t,n.children),t.flags|=4096,t)}function kv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),xh(e.return,t,r)}function af(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function q0(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(rr(e,t,n.children,r),n=yt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kv(e,r,t);else if(e.tag===19)kv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ut(yt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&qc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),af(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&qc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}af(t,!0,r,null,a);break;case"together":af(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ya|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,r=ks(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ks(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function JC(e,t,r){switch(t.tag){case 3:H0(t),ji();break;case 5:x0(t);break;case 1:br(t.type)&&Uc(t);break;case 4:Yp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ut(Vc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ut(yt,yt.current&1),t.flags|=128,null):r&t.child.childLanes?G0(e,t,r):(ut(yt,yt.current&1),e=Kn(e,t,r),e!==null?e.sibling:null);ut(yt,yt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return q0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ut(yt,yt.current),n)break;return null;case 22:case 23:return t.lanes=0,W0(e,t,r)}return Kn(e,t,r)}var K0,Ch,Y0,Q0;K0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ch=function(){};Y0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,aa(Tn.current);var a=null;switch(r){case"input":s=Yf(e,s),n=Yf(e,n),a=[];break;case"select":s=bt({},s,{value:void 0}),n=bt({},n,{value:void 0}),a=[];break;case"textarea":s=Xf(e,s),n=Xf(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=$c)}eh(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ko.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ko.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ht("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Q0=function(e,t,r,n){r!==n&&(t.flags|=4)};function Zi(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function XC(e,t,r){var n=t.pendingProps;switch(zp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(t),null;case 1:return br(t.type)&&Fc(),qt(t),null;case 3:return n=t.stateNode,_i(),pt(xr),pt(Jt),Jp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,un!==null&&(Oh(un),un=null))),Ch(e,t),qt(t),null;case 5:Qp(t);var s=aa(zo.current);if(r=t.type,e!==null&&t.stateNode!=null)Y0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ue(166));return qt(t),null}if(e=aa(Tn.current),zl(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Nn]=t,n[Fo]=a,e=(t.mode&1)!==0,r){case"dialog":ht("cancel",n),ht("close",n);break;case"iframe":case"object":case"embed":ht("load",n);break;case"video":case"audio":for(s=0;s<uo.length;s++)ht(uo[s],n);break;case"source":ht("error",n);break;case"img":case"image":case"link":ht("error",n),ht("load",n);break;case"details":ht("toggle",n);break;case"input":$g(n,a),ht("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ht("invalid",n);break;case"textarea":Ug(n,a),ht("invalid",n)}eh(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ul(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ul(n.textContent,l,e),s=["children",""+l]):ko.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ht("scroll",n)}switch(r){case"input":Il(n),Fg(n,a,!0);break;case"textarea":Il(n),zg(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=$c)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Nn]=t,e[Fo]=n,K0(e,t,!1,!1),t.stateNode=e;e:{switch(i=th(r,n),r){case"dialog":ht("cancel",e),ht("close",e),s=n;break;case"iframe":case"object":case"embed":ht("load",e),s=n;break;case"video":case"audio":for(s=0;s<uo.length;s++)ht(uo[s],e);s=n;break;case"source":ht("error",e),s=n;break;case"img":case"image":case"link":ht("error",e),ht("load",e),s=n;break;case"details":ht("toggle",e),s=n;break;case"input":$g(e,n),s=Yf(e,n),ht("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=bt({},n,{value:void 0}),ht("invalid",e);break;case"textarea":Ug(e,n),s=Xf(e,n),ht("invalid",e);break;default:s=n}eh(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Cb(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_b(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ao(e,c):typeof c=="number"&&Ao(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ko.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ht("scroll",e):c!=null&&Cp(e,a,c,i))}switch(r){case"input":Il(e),Fg(e,n,!1);break;case"textarea":Il(e),zg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Os(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?ri(e,!!n.multiple,a,!1):n.defaultValue!=null&&ri(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=$c)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qt(t),null;case 6:if(e&&t.stateNode!=null)Q0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ue(166));if(r=aa(zo.current),aa(Tn.current),zl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Nn]=t,(a=n.nodeValue!==r)&&(e=kr,e!==null))switch(e.tag){case 3:Ul(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ul(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nn]=t,t.stateNode=n}return qt(t),null;case 13:if(pt(yt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&Tr!==null&&t.mode&1&&!(t.flags&128))p0(),ji(),t.flags|=98560,a=!1;else if(a=zl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ue(317));a[Nn]=t}else ji(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qt(t),a=!1}else un!==null&&(Oh(un),un=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||yt.current&1?kt===0&&(kt=3):cm())),t.updateQueue!==null&&(t.flags|=4),qt(t),null);case 4:return _i(),Ch(e,t),e===null&&Lo(t.stateNode.containerInfo),qt(t),null;case 10:return Gp(t.type._context),qt(t),null;case 17:return br(t.type)&&Fc(),qt(t),null;case 19:if(pt(yt),a=t.memoizedState,a===null)return qt(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Zi(a,!1);else{if(kt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=qc(e),i!==null){for(t.flags|=128,Zi(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ut(yt,yt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Nt()>Ci&&(t.flags|=128,n=!0,Zi(a,!1),t.lanes=4194304)}else{if(!n)if(e=qc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Zi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!mt)return qt(t),null}else 2*Nt()-a.renderingStartTime>Ci&&r!==1073741824&&(t.flags|=128,n=!0,Zi(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Nt(),t.sibling=null,r=yt.current,ut(yt,n?r&1|2:r&1),t):(qt(t),null);case 22:case 23:return lm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?_r&1073741824&&(qt(t),t.subtreeFlags&6&&(t.flags|=8192)):qt(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function ZC(e,t){switch(zp(t),t.tag){case 1:return br(t.type)&&Fc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _i(),pt(xr),pt(Jt),Jp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qp(t),null;case 13:if(pt(yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));ji()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pt(yt),null;case 4:return _i(),null;case 10:return Gp(t.type._context),null;case 22:case 23:return lm(),null;case 24:return null;default:return null}}var Hl=!1,Qt=!1,eT=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Za(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){St(e,t,n)}else r.current=null}function Th(e,t,r){try{r()}catch(n){St(e,t,n)}}var Av=!1;function tT(e,t){if(dh=Bc,e=t0(),Fp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===a&&++d===n&&(c=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(fh={focusedElem:e,selectionRange:r},Bc=!1,ve=t;ve!==null;)if(t=ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ve=e;else for(;ve!==null;){t=ve;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:nn(t.type,g),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(S){St(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ve=e;break}ve=t.return}return v=Av,Av=!1,v}function wo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Th(t,r,a)}s=s.next}while(s!==n)}}function Iu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ph(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function J0(e){var t=e.alternate;t!==null&&(e.alternate=null,J0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nn],delete t[Fo],delete t[mh],delete t[MC],delete t[LC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function X0(e){return e.tag===5||e.tag===3||e.tag===4}function Rv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||X0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=$c));else if(n!==4&&(e=e.child,e!==null))for(kh(e,t,r),e=e.sibling;e!==null;)kh(e,t,r),e=e.sibling}function Ah(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ah(e,t,r),e=e.sibling;e!==null;)Ah(e,t,r),e=e.sibling}var Ft=null,ln=!1;function es(e,t,r){for(r=r.child;r!==null;)Z0(e,t,r),r=r.sibling}function Z0(e,t,r){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(_u,r)}catch{}switch(r.tag){case 5:Qt||Za(r,t);case 6:var n=Ft,s=ln;Ft=null,es(e,t,r),Ft=n,ln=s,Ft!==null&&(ln?(e=Ft,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ft.removeChild(r.stateNode));break;case 18:Ft!==null&&(ln?(e=Ft,r=r.stateNode,e.nodeType===8?Xd(e.parentNode,r):e.nodeType===1&&Xd(e,r),Oo(e)):Xd(Ft,r.stateNode));break;case 4:n=Ft,s=ln,Ft=r.stateNode.containerInfo,ln=!0,es(e,t,r),Ft=n,ln=s;break;case 0:case 11:case 14:case 15:if(!Qt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Th(r,t,i),s=s.next}while(s!==n)}es(e,t,r);break;case 1:if(!Qt&&(Za(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){St(r,t,l)}es(e,t,r);break;case 21:es(e,t,r);break;case 22:r.mode&1?(Qt=(n=Qt)||r.memoizedState!==null,es(e,t,r),Qt=n):es(e,t,r);break;default:es(e,t,r)}}function Iv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new eT),t.forEach(function(n){var s=uT.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Xr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ft=l.stateNode,ln=!1;break e;case 3:Ft=l.stateNode.containerInfo,ln=!0;break e;case 4:Ft=l.stateNode.containerInfo,ln=!0;break e}l=l.return}if(Ft===null)throw Error(ue(160));Z0(a,i,s),Ft=null,ln=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){St(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ew(t,e),t=t.sibling}function ew(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xr(t,e),xn(e),n&4){try{wo(3,e,e.return),Iu(3,e)}catch(g){St(e,e.return,g)}try{wo(5,e,e.return)}catch(g){St(e,e.return,g)}}break;case 1:Xr(t,e),xn(e),n&512&&r!==null&&Za(r,r.return);break;case 5:if(Xr(t,e),xn(e),n&512&&r!==null&&Za(r,r.return),e.flags&32){var s=e.stateNode;try{Ao(s,"")}catch(g){St(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Sb(s,a),th(l,i);var u=th(l,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?Cb(s,f):d==="dangerouslySetInnerHTML"?_b(s,f):d==="children"?Ao(s,f):Cp(s,d,f,u)}switch(l){case"input":Qf(s,a);break;case"textarea":jb(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?ri(s,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?ri(s,!!a.multiple,a.defaultValue,!0):ri(s,!!a.multiple,a.multiple?[]:"",!1))}s[Fo]=a}catch(g){St(e,e.return,g)}}break;case 6:if(Xr(t,e),xn(e),n&4){if(e.stateNode===null)throw Error(ue(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){St(e,e.return,g)}}break;case 3:if(Xr(t,e),xn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Oo(t.containerInfo)}catch(g){St(e,e.return,g)}break;case 4:Xr(t,e),xn(e);break;case 13:Xr(t,e),xn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(im=Nt())),n&4&&Iv(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Qt=(u=Qt)||d,Xr(t,e),Qt=u):Xr(t,e),xn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ve=e,d=e.child;d!==null;){for(f=ve=d;ve!==null;){switch(h=ve,p=h.child,h.tag){case 0:case 11:case 14:case 15:wo(4,h,h.return);break;case 1:Za(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){St(n,r,g)}}break;case 5:Za(h,h.return);break;case 22:if(h.memoizedState!==null){Ov(f);continue}}p!==null?(p.return=h,ve=p):Ov(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Eb("display",i))}catch(g){St(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){St(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xr(t,e),xn(e),n&4&&Iv(e);break;case 21:break;default:Xr(t,e),xn(e)}}function xn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(X0(r)){var n=r;break e}r=r.return}throw Error(ue(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ao(s,""),n.flags&=-33);var a=Rv(e);Ah(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Rv(e);kh(e,l,i);break;default:throw Error(ue(161))}}catch(c){St(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rT(e,t,r){ve=e,tw(e)}function tw(e,t,r){for(var n=(e.mode&1)!==0;ve!==null;){var s=ve,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Hl;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Qt;l=Hl;var u=Qt;if(Hl=i,(Qt=c)&&!u)for(ve=s;ve!==null;)i=ve,c=i.child,i.tag===22&&i.memoizedState!==null?Bv(s):c!==null?(c.return=i,ve=c):Bv(s);for(;a!==null;)ve=a,tw(a),a=a.sibling;ve=s,Hl=l,Qt=u}Dv(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ve=a):Dv(e)}}function Dv(e){for(;ve!==null;){var t=ve;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qt||Iu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:nn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&yv(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}yv(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Oo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Qt||t.flags&512&&Ph(t)}catch(h){St(t,t.return,h)}}if(t===e){ve=null;break}if(r=t.sibling,r!==null){r.return=t.return,ve=r;break}ve=t.return}}function Ov(e){for(;ve!==null;){var t=ve;if(t===e){ve=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ve=r;break}ve=t.return}}function Bv(e){for(;ve!==null;){var t=ve;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Iu(4,t)}catch(c){St(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){St(t,s,c)}}var a=t.return;try{Ph(t)}catch(c){St(t,a,c)}break;case 5:var i=t.return;try{Ph(t)}catch(c){St(t,i,c)}}}catch(c){St(t,t.return,c)}if(t===e){ve=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ve=l;break}ve=t.return}}var nT=Math.ceil,Qc=Jn.ReactCurrentDispatcher,sm=Jn.ReactCurrentOwner,Hr=Jn.ReactCurrentBatchConfig,Ye=0,It=null,Ct=null,zt=0,_r=0,ei=zs(0),kt=0,Go=null,ya=0,Du=0,am=0,So=null,gr=null,im=0,Ci=1/0,Bn=null,Jc=!1,Rh=null,Ts=null,Gl=!1,ws=null,Xc=0,jo=0,Ih=null,xc=-1,bc=0;function sr(){return Ye&6?Nt():xc!==-1?xc:xc=Nt()}function Ps(e){return e.mode&1?Ye&2&&zt!==0?zt&-zt:FC.transition!==null?(bc===0&&(bc=$b()),bc):(e=nt,e!==0||(e=window.event,e=e===void 0?16:Gb(e.type)),e):1}function hn(e,t,r,n){if(50<jo)throw jo=0,Ih=null,Error(ue(185));ll(e,r,n),(!(Ye&2)||e!==It)&&(e===It&&(!(Ye&2)&&(Du|=r),kt===4&&hs(e,zt)),wr(e,n),r===1&&Ye===0&&!(t.mode&1)&&(Ci=Nt()+500,ku&&Ws()))}function wr(e,t){var r=e.callbackNode;FE(e,t);var n=Oc(e,e===It?zt:0);if(n===0)r!==null&&Hg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Hg(r),t===1)e.tag===0?$C(Mv.bind(null,e)):d0(Mv.bind(null,e)),OC(function(){!(Ye&6)&&Ws()}),r=null;else{switch(Fb(n)){case 1:r=Rp;break;case 4:r=Mb;break;case 16:r=Dc;break;case 536870912:r=Lb;break;default:r=Dc}r=cw(r,rw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function rw(e,t){if(xc=-1,bc=0,Ye&6)throw Error(ue(327));var r=e.callbackNode;if(oi()&&e.callbackNode!==r)return null;var n=Oc(e,e===It?zt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zc(e,n);else{t=n;var s=Ye;Ye|=2;var a=sw();(It!==e||zt!==t)&&(Bn=null,Ci=Nt()+500,fa(e,t));do try{iT();break}catch(l){nw(e,l)}while(!0);Hp(),Qc.current=a,Ye=s,Ct!==null?t=0:(It=null,zt=0,t=kt)}if(t!==0){if(t===2&&(s=ih(e),s!==0&&(n=s,t=Dh(e,s))),t===1)throw r=Go,fa(e,0),hs(e,n),wr(e,Nt()),r;if(t===6)hs(e,n);else{if(s=e.current.alternate,!(n&30)&&!sT(s)&&(t=Zc(e,n),t===2&&(a=ih(e),a!==0&&(n=a,t=Dh(e,a))),t===1))throw r=Go,fa(e,0),hs(e,n),wr(e,Nt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ue(345));case 2:Zs(e,gr,Bn);break;case 3:if(hs(e,n),(n&130023424)===n&&(t=im+500-Nt(),10<t)){if(Oc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){sr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ph(Zs.bind(null,e,gr,Bn),t);break}Zs(e,gr,Bn);break;case 4:if(hs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-fn(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=Nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nT(n/1960))-n,10<n){e.timeoutHandle=ph(Zs.bind(null,e,gr,Bn),n);break}Zs(e,gr,Bn);break;case 5:Zs(e,gr,Bn);break;default:throw Error(ue(329))}}}return wr(e,Nt()),e.callbackNode===r?rw.bind(null,e):null}function Dh(e,t){var r=So;return e.current.memoizedState.isDehydrated&&(fa(e,t).flags|=256),e=Zc(e,t),e!==2&&(t=gr,gr=r,t!==null&&Oh(t)),e}function Oh(e){gr===null?gr=e:gr.push.apply(gr,e)}function sT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!pn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hs(e,t){for(t&=~am,t&=~Du,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fn(t),n=1<<r;e[r]=-1,t&=~n}}function Mv(e){if(Ye&6)throw Error(ue(327));oi();var t=Oc(e,0);if(!(t&1))return wr(e,Nt()),null;var r=Zc(e,t);if(e.tag!==0&&r===2){var n=ih(e);n!==0&&(t=n,r=Dh(e,n))}if(r===1)throw r=Go,fa(e,0),hs(e,t),wr(e,Nt()),r;if(r===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zs(e,gr,Bn),wr(e,Nt()),null}function om(e,t){var r=Ye;Ye|=1;try{return e(t)}finally{Ye=r,Ye===0&&(Ci=Nt()+500,ku&&Ws())}}function xa(e){ws!==null&&ws.tag===0&&!(Ye&6)&&oi();var t=Ye;Ye|=1;var r=Hr.transition,n=nt;try{if(Hr.transition=null,nt=1,e)return e()}finally{nt=n,Hr.transition=r,Ye=t,!(Ye&6)&&Ws()}}function lm(){_r=ei.current,pt(ei)}function fa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,DC(r)),Ct!==null)for(r=Ct.return;r!==null;){var n=r;switch(zp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fc();break;case 3:_i(),pt(xr),pt(Jt),Jp();break;case 5:Qp(n);break;case 4:_i();break;case 13:pt(yt);break;case 19:pt(yt);break;case 10:Gp(n.type._context);break;case 22:case 23:lm()}r=r.return}if(It=e,Ct=e=ks(e.current,null),zt=_r=t,kt=0,Go=null,am=Du=ya=0,gr=So=null,sa!==null){for(t=0;t<sa.length;t++)if(r=sa[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}sa=null}return e}function nw(e,t){do{var r=Ct;try{if(Hp(),gc.current=Yc,Kc){for(var n=xt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Kc=!1}if(va=0,Rt=Pt=xt=null,bo=!1,Wo=0,sm.current=null,r===null||r.return===null){kt=1,Go=t,Ct=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=zt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Nv(i);if(p!==null){p.flags&=-257,_v(p,i,l,a,t),p.mode&1&&jv(a,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){jv(a,u,t),cm();break e}c=Error(ue(426))}}else if(mt&&l.mode&1){var b=Nv(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),_v(b,i,l,a,t),Wp(Ei(c,l));break e}}a=c=Ei(c,l),kt!==4&&(kt=2),So===null?So=[a]:So.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=F0(a,c,t);vv(a,y);break e;case 1:l=c;var x=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ts===null||!Ts.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=U0(a,l,t);vv(a,S);break e}}a=a.return}while(a!==null)}iw(r)}catch(N){t=N,Ct===r&&r!==null&&(Ct=r=r.return);continue}break}while(!0)}function sw(){var e=Qc.current;return Qc.current=Yc,e===null?Yc:e}function cm(){(kt===0||kt===3||kt===2)&&(kt=4),It===null||!(ya&268435455)&&!(Du&268435455)||hs(It,zt)}function Zc(e,t){var r=Ye;Ye|=2;var n=sw();(It!==e||zt!==t)&&(Bn=null,fa(e,t));do try{aT();break}catch(s){nw(e,s)}while(!0);if(Hp(),Ye=r,Qc.current=n,Ct!==null)throw Error(ue(261));return It=null,zt=0,kt}function aT(){for(;Ct!==null;)aw(Ct)}function iT(){for(;Ct!==null&&!AE();)aw(Ct)}function aw(e){var t=lw(e.alternate,e,_r);e.memoizedProps=e.pendingProps,t===null?iw(e):Ct=t,sm.current=null}function iw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ZC(r,t),r!==null){r.flags&=32767,Ct=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kt=6,Ct=null;return}}else if(r=XC(r,t,_r),r!==null){Ct=r;return}if(t=t.sibling,t!==null){Ct=t;return}Ct=t=e}while(t!==null);kt===0&&(kt=5)}function Zs(e,t,r){var n=nt,s=Hr.transition;try{Hr.transition=null,nt=1,oT(e,t,r,n)}finally{Hr.transition=s,nt=n}return null}function oT(e,t,r,n){do oi();while(ws!==null);if(Ye&6)throw Error(ue(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(UE(e,a),e===It&&(Ct=It=null,zt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gl||(Gl=!0,cw(Dc,function(){return oi(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Hr.transition,Hr.transition=null;var i=nt;nt=1;var l=Ye;Ye|=4,sm.current=null,tT(e,r),ew(r,e),CC(fh),Bc=!!dh,fh=dh=null,e.current=r,rT(r),RE(),Ye=l,nt=i,Hr.transition=a}else e.current=r;if(Gl&&(Gl=!1,ws=e,Xc=s),a=e.pendingLanes,a===0&&(Ts=null),OE(r.stateNode),wr(e,Nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Jc)throw Jc=!1,e=Rh,Rh=null,e;return Xc&1&&e.tag!==0&&oi(),a=e.pendingLanes,a&1?e===Ih?jo++:(jo=0,Ih=e):jo=0,Ws(),null}function oi(){if(ws!==null){var e=Fb(Xc),t=Hr.transition,r=nt;try{if(Hr.transition=null,nt=16>e?16:e,ws===null)var n=!1;else{if(e=ws,ws=null,Xc=0,Ye&6)throw Error(ue(331));var s=Ye;for(Ye|=4,ve=e.current;ve!==null;){var a=ve,i=a.child;if(ve.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ve=u;ve!==null;){var d=ve;switch(d.tag){case 0:case 11:case 15:wo(8,d,a)}var f=d.child;if(f!==null)f.return=d,ve=f;else for(;ve!==null;){d=ve;var h=d.sibling,p=d.return;if(J0(d),d===u){ve=null;break}if(h!==null){h.return=p,ve=h;break}ve=p}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}ve=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,ve=i;else e:for(;ve!==null;){if(a=ve,a.flags&2048)switch(a.tag){case 0:case 11:case 15:wo(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,ve=y;break e}ve=a.return}}var x=e.current;for(ve=x;ve!==null;){i=ve;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,ve=w;else e:for(i=x;ve!==null;){if(l=ve,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Iu(9,l)}}catch(N){St(l,l.return,N)}if(l===i){ve=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ve=S;break e}ve=l.return}}if(Ye=s,Ws(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(_u,e)}catch{}n=!0}return n}finally{nt=r,Hr.transition=t}}return!1}function Lv(e,t,r){t=Ei(r,t),t=F0(e,t,1),e=Cs(e,t,1),t=sr(),e!==null&&(ll(e,1,t),wr(e,t))}function St(e,t,r){if(e.tag===3)Lv(e,e,r);else for(;t!==null;){if(t.tag===3){Lv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ts===null||!Ts.has(n))){e=Ei(r,e),e=U0(t,e,1),t=Cs(t,e,1),e=sr(),t!==null&&(ll(t,1,e),wr(t,e));break}}t=t.return}}function lT(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=sr(),e.pingedLanes|=e.suspendedLanes&r,It===e&&(zt&r)===r&&(kt===4||kt===3&&(zt&130023424)===zt&&500>Nt()-im?fa(e,0):am|=r),wr(e,t)}function ow(e,t){t===0&&(e.mode&1?(t=Bl,Bl<<=1,!(Bl&130023424)&&(Bl=4194304)):t=1);var r=sr();e=qn(e,t),e!==null&&(ll(e,t,r),wr(e,r))}function cT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ow(e,r)}function uT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ue(314))}n!==null&&n.delete(t),ow(e,r)}var lw;lw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xr.current)yr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return yr=!1,JC(e,t,r);yr=!!(e.flags&131072)}else yr=!1,mt&&t.flags&1048576&&f0(t,Wc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;yc(e,t),e=t.pendingProps;var s=Si(t,Jt.current);ii(t,r),s=Zp(null,t,n,e,s,r);var a=em();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,br(n)?(a=!0,Uc(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Kp(t),s.updater=Ru,t.stateNode=s,s._reactInternals=t,wh(t,n,e,r),t=Nh(null,t,n,!0,a,r)):(t.tag=0,mt&&a&&Up(t),rr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(yc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=fT(n),e=nn(n,e),s){case 0:t=jh(null,t,n,e,r);break e;case 1:t=Tv(null,t,n,e,r);break e;case 11:t=Ev(null,t,n,e,r);break e;case 14:t=Cv(null,t,n,nn(n.type,e),r);break e}throw Error(ue(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nn(n,s),jh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nn(n,s),Tv(e,t,n,s,r);case 3:e:{if(H0(t),e===null)throw Error(ue(387));n=t.pendingProps,a=t.memoizedState,s=a.element,y0(e,t),Gc(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Ei(Error(ue(423)),t),t=Pv(e,t,n,r,s);break e}else if(n!==s){s=Ei(Error(ue(424)),t),t=Pv(e,t,n,r,s);break e}else for(Tr=Es(t.stateNode.containerInfo.firstChild),kr=t,mt=!0,un=null,r=g0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ji(),n===s){t=Kn(e,t,r);break e}rr(e,t,n,r)}t=t.child}return t;case 5:return x0(t),e===null&&yh(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,hh(n,s)?i=null:a!==null&&hh(n,a)&&(t.flags|=32),V0(e,t),rr(e,t,i,r),t.child;case 6:return e===null&&yh(t),null;case 13:return G0(e,t,r);case 4:return Yp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ni(t,null,n,r):rr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nn(n,s),Ev(e,t,n,s,r);case 7:return rr(e,t,t.pendingProps,r),t.child;case 8:return rr(e,t,t.pendingProps.children,r),t.child;case 12:return rr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,ut(Vc,n._currentValue),n._currentValue=i,a!==null)if(pn(a.value,i)){if(a.children===s.children&&!xr.current){t=Kn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=zn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),xh(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(ue(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),xh(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}rr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ii(t,r),s=Kr(s),n=n(s),t.flags|=1,rr(e,t,n,r),t.child;case 14:return n=t.type,s=nn(n,t.pendingProps),s=nn(n.type,s),Cv(e,t,n,s,r);case 15:return z0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nn(n,s),yc(e,t),t.tag=1,br(n)?(e=!0,Uc(t)):e=!1,ii(t,r),$0(t,n,s),wh(t,n,s,r),Nh(null,t,n,!0,e,r);case 19:return q0(e,t,r);case 22:return W0(e,t,r)}throw Error(ue(156,t.tag))};function cw(e,t){return Bb(e,t)}function dT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(e,t,r,n){return new dT(e,t,r,n)}function um(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fT(e){if(typeof e=="function")return um(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pp)return 11;if(e===kp)return 14}return 2}function ks(e,t){var r=e.alternate;return r===null?(r=Wr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function wc(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")um(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Va:return ha(r.children,s,a,t);case Tp:i=8,s|=8;break;case Hf:return e=Wr(12,r,t,s|2),e.elementType=Hf,e.lanes=a,e;case Gf:return e=Wr(13,r,t,s),e.elementType=Gf,e.lanes=a,e;case qf:return e=Wr(19,r,t,s),e.elementType=qf,e.lanes=a,e;case xb:return Ou(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vb:i=10;break e;case yb:i=9;break e;case Pp:i=11;break e;case kp:i=14;break e;case cs:i=16,n=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=Wr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function ha(e,t,r,n){return e=Wr(7,e,n,t),e.lanes=r,e}function Ou(e,t,r,n){return e=Wr(22,e,n,t),e.elementType=xb,e.lanes=r,e.stateNode={isHidden:!1},e}function of(e,t,r){return e=Wr(6,e,null,t),e.lanes=r,e}function lf(e,t,r){return t=Wr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hT(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ud(0),this.expirationTimes=Ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ud(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dm(e,t,r,n,s,a,i,l,c){return e=new hT(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Wr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kp(a),e}function pT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function uw(e){if(!e)return Bs;e=e._reactInternals;e:{if(Ca(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var r=e.type;if(br(r))return u0(e,r,t)}return t}function dw(e,t,r,n,s,a,i,l,c){return e=dm(r,n,!0,e,s,a,i,l,c),e.context=uw(null),r=e.current,n=sr(),s=Ps(r),a=zn(n,s),a.callback=t??null,Cs(r,a,s),e.current.lanes=s,ll(e,s,n),wr(e,n),e}function Bu(e,t,r,n){var s=t.current,a=sr(),i=Ps(s);return r=uw(r),t.context===null?t.context=r:t.pendingContext=r,t=zn(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Cs(s,t,i),e!==null&&(hn(e,s,i,a),mc(e,s,i)),i}function eu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $v(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function fm(e,t){$v(e,t),(e=e.alternate)&&$v(e,t)}function mT(){return null}var fw=typeof reportError=="function"?reportError:function(e){console.error(e)};function hm(e){this._internalRoot=e}Mu.prototype.render=hm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));Bu(e,t,null,null)};Mu.prototype.unmount=hm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xa(function(){Bu(null,e,null,null)}),t[Gn]=null}};function Mu(e){this._internalRoot=e}Mu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wb();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fs.length&&t!==0&&t<fs[r].priority;r++);fs.splice(r,0,e),r===0&&Hb(e)}};function pm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fv(){}function gT(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=eu(i);a.call(u)}}var i=dw(t,n,e,0,null,!1,!1,"",Fv);return e._reactRootContainer=i,e[Gn]=i.current,Lo(e.nodeType===8?e.parentNode:e),xa(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=eu(c);l.call(u)}}var c=dm(e,0,!1,null,null,!1,!1,"",Fv);return e._reactRootContainer=c,e[Gn]=c.current,Lo(e.nodeType===8?e.parentNode:e),xa(function(){Bu(t,c,r,n)}),c}function $u(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=eu(i);l.call(c)}}Bu(t,i,e,s)}else i=gT(r,t,e,s,n);return eu(i)}Ub=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=co(t.pendingLanes);r!==0&&(Ip(t,r|1),wr(t,Nt()),!(Ye&6)&&(Ci=Nt()+500,Ws()))}break;case 13:xa(function(){var n=qn(e,1);if(n!==null){var s=sr();hn(n,e,1,s)}}),fm(e,1)}};Dp=function(e){if(e.tag===13){var t=qn(e,134217728);if(t!==null){var r=sr();hn(t,e,134217728,r)}fm(e,134217728)}};zb=function(e){if(e.tag===13){var t=Ps(e),r=qn(e,t);if(r!==null){var n=sr();hn(r,e,t,n)}fm(e,t)}};Wb=function(){return nt};Vb=function(e,t){var r=nt;try{return nt=e,t()}finally{nt=r}};nh=function(e,t,r){switch(t){case"input":if(Qf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Pu(n);if(!s)throw Error(ue(90));wb(n),Qf(n,s)}}}break;case"textarea":jb(e,r);break;case"select":t=r.value,t!=null&&ri(e,!!r.multiple,t,!1)}};kb=om;Ab=xa;var vT={usingClientEntryPoint:!1,Events:[ul,Ka,Pu,Tb,Pb,om]},eo={findFiberByHostInstance:na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yT={bundleType:eo.bundleType,version:eo.version,rendererPackageName:eo.rendererPackageName,rendererConfig:eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Db(e),e===null?null:e.stateNode},findFiberByHostInstance:eo.findFiberByHostInstance||mT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{_u=ql.inject(yT),Cn=ql}catch{}}Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vT;Or.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pm(t))throw Error(ue(200));return pT(e,t,null,r)};Or.createRoot=function(e,t){if(!pm(e))throw Error(ue(299));var r=!1,n="",s=fw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=dm(e,1,!1,null,null,r,!1,n,s),e[Gn]=t.current,Lo(e.nodeType===8?e.parentNode:e),new hm(t)};Or.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=Db(t),e=e===null?null:e.stateNode,e};Or.flushSync=function(e){return xa(e)};Or.hydrate=function(e,t,r){if(!Lu(t))throw Error(ue(200));return $u(null,e,t,!0,r)};Or.hydrateRoot=function(e,t,r){if(!pm(e))throw Error(ue(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=fw;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=dw(t,null,e,1,r??null,s,!1,a,i),e[Gn]=t.current,Lo(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Mu(t)};Or.render=function(e,t,r){if(!Lu(t))throw Error(ue(200));return $u(null,e,t,!1,r)};Or.unmountComponentAtNode=function(e){if(!Lu(e))throw Error(ue(40));return e._reactRootContainer?(xa(function(){$u(null,null,e,!1,function(){e._reactRootContainer=null,e[Gn]=null})}),!0):!1};Or.unstable_batchedUpdates=om;Or.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Lu(r))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return $u(e,t,r,!1,n)};Or.version="18.3.1-next-f1338f8080-20240426";function hw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hw)}catch(e){console.error(e)}}hw(),hb.exports=Or;var Vs=hb.exports;const mm=xp(Vs);var pw,Uv=Vs;pw=Uv.createRoot,Uv.hydrateRoot;const xT=1,bT=1e6;let cf=0;function wT(){return cf=(cf+1)%Number.MAX_SAFE_INTEGER,cf.toString()}const uf=new Map,zv=e=>{if(uf.has(e))return;const t=setTimeout(()=>{uf.delete(e),No({type:"REMOVE_TOAST",toastId:e})},bT);uf.set(e,t)},ST=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,xT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?zv(r):e.toasts.forEach(n=>{zv(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Sc=[];let jc={toasts:[]};function No(e){jc=ST(jc,e),Sc.forEach(t=>{t(jc)})}function Q({...e}){const t=wT(),r=s=>No({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>No({type:"DISMISS_TOAST",toastId:t});return No({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function jT(){const[e,t]=m.useState(jc);return m.useEffect(()=>(Sc.push(t),()=>{const r=Sc.indexOf(t);r>-1&&Sc.splice(r,1)}),[e]),{...e,toast:Q,dismiss:r=>No({type:"DISMISS_TOAST",toastId:r})}}function Pe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Wv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function mw(...e){return t=>{let r=!1;const n=e.map(s=>{const a=Wv(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Wv(e[s],null)}}}}function st(...e){return m.useCallback(mw(...e),e)}function NT(e,t){const r=m.createContext(t),n=a=>{const{children:i,...l}=a,c=m.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=m.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function An(e,t=[]){let r=[];function n(a,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=f=>{var y;const{scope:h,children:p,...v}=f,g=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,b=m.useMemo(()=>v,Object.values(v));return o.jsx(g.Provider,{value:b,children:p})};u.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,v=m.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,_T(s,...t)]}function _T(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Ti(e){const t=CT(e),r=m.forwardRef((n,s)=>{const{children:a,...i}=n,l=m.Children.toArray(a),c=l.find(PT);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var ET=Ti("Slot");function CT(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const i=AT(s),l=kT(a,s.props);return s.type!==m.Fragment&&(l.ref=n?mw(n,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gw=Symbol("radix.slottable");function TT(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=gw,t}function PT(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gw}function kT(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function AT(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function gm(e){const t=e+"CollectionProvider",[r,n]=An(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:b,children:y}=g,x=J.useRef(null),w=J.useRef(new Map).current;return o.jsx(s,{scope:b,itemMap:w,collectionRef:x,children:y})};i.displayName=t;const l=e+"CollectionSlot",c=Ti(l),u=J.forwardRef((g,b)=>{const{scope:y,children:x}=g,w=a(l,y),S=st(b,w.collectionRef);return o.jsx(c,{ref:S,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Ti(d),p=J.forwardRef((g,b)=>{const{scope:y,children:x,...w}=g,S=J.useRef(null),N=st(b,S),j=a(d,y);return J.useEffect(()=>(j.itemMap.set(S,{ref:S,...w}),()=>void j.itemMap.delete(S))),o.jsx(h,{[f]:"",ref:N,children:x})});p.displayName=d;function v(g){const b=a(e+"CollectionConsumer",g);return J.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((j,_)=>w.indexOf(j.ref.current)-w.indexOf(_.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},v,n]}var RT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Re=RT.reduce((e,t)=>{const r=Ti(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function vw(e,t){e&&Vs.flushSync(()=>e.dispatchEvent(t))}function Qr(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function IT(e,t=globalThis==null?void 0:globalThis.document){const r=Qr(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var DT="DismissableLayer",Bh="dismissableLayer.update",OT="dismissableLayer.pointerDownOutside",BT="dismissableLayer.focusOutside",Vv,yw=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fl=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(yw),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),v=st(t,_=>f(_)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(b),x=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=x>=y,N=LT(_=>{const E=_.target,B=[...u.branches].some(I=>I.contains(E));!S||B||(s==null||s(_),i==null||i(_),_.defaultPrevented||l==null||l())},h),j=$T(_=>{const E=_.target;[...u.branches].some(I=>I.contains(E))||(a==null||a(_),i==null||i(_),_.defaultPrevented||l==null||l())},h);return IT(_=>{x===u.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Vv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Hv(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Vv)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Hv())},[d,u]),m.useEffect(()=>{const _=()=>p({});return document.addEventListener(Bh,_),()=>document.removeEventListener(Bh,_)},[]),o.jsx(Re.div,{...c,ref:v,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Pe(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Pe(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Pe(e.onPointerDownCapture,N.onPointerDownCapture)})});fl.displayName=DT;var MT="DismissableLayerBranch",xw=m.forwardRef((e,t)=>{const r=m.useContext(yw),n=m.useRef(null),s=st(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(Re.div,{...e,ref:s})});xw.displayName=MT;function LT(e,t=globalThis==null?void 0:globalThis.document){const r=Qr(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){bw(OT,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function $T(e,t=globalThis==null?void 0:globalThis.document){const r=Qr(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&bw(BT,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Hv(){const e=new CustomEvent(Bh);document.dispatchEvent(e)}function bw(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?vw(s,a):s.dispatchEvent(a)}var FT=fl,UT=xw,Ot=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},zT="Portal",Fu=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=m.useState(!1);Ot(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?mm.createPortal(o.jsx(Re.div,{...n,ref:t}),i):null});Fu.displayName=zT;function WT(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Xn=e=>{const{present:t,children:r}=e,n=VT(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),a=st(n.ref,HT(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:a}):null};Xn.displayName="Presence";function VT(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),a=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=WT(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Kl(n.current);a.current=l==="mounted"?u:"none"},[l]),Ot(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,p=Kl(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ot(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=Kl(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=p=>{p.target===t&&(a.current=Kl(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Kl(e){return(e==null?void 0:e.animationName)||"none"}function HT(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var GT=Np[" useInsertionEffect ".trim().toString()]||Ot;function Ms({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=qT({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=m.useCallback(d=>{var f;if(l){const h=KT(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else a(d)},[l,e,a,i]);return[c,u]}function qT({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),a=m.useRef(t);return GT(()=>{a.current=t},[t]),m.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function KT(e){return typeof e=="function"}var ww=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YT="VisuallyHidden",Uu=m.forwardRef((e,t)=>o.jsx(Re.span,{...e,ref:t,style:{...ww,...e.style}}));Uu.displayName=YT;var QT=Uu,vm="ToastProvider",[ym,JT,XT]=gm("Toast"),[Sw,O5]=An("Toast",[XT]),[ZT,zu]=Sw(vm),jw=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${vm}\`. Expected non-empty \`string\`.`),o.jsx(ym.Provider,{scope:t,children:o.jsx(ZT,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};jw.displayName=vm;var Nw="ToastViewport",eP=["F8"],Mh="toast.viewportPause",Lh="toast.viewportResume",_w=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=eP,label:s="Notifications ({hotkey})",...a}=e,i=zu(Nw,r),l=JT(r),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=st(t,f,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;m.useEffect(()=>{const b=y=>{var w;n.length!==0&&n.every(S=>y[S]||y.code===S)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),m.useEffect(()=>{const b=c.current,y=f.current;if(v&&b&&y){const x=()=>{if(!i.isClosePausedRef.current){const j=new CustomEvent(Mh);y.dispatchEvent(j),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const j=new CustomEvent(Lh);y.dispatchEvent(j),i.isClosePausedRef.current=!1}},S=j=>{!b.contains(j.relatedTarget)&&w()},N=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",x),b.addEventListener("focusout",S),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",N),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[v,i.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:b})=>{const x=l().map(w=>{const S=w.ref.current,N=[S,...hP(S)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?x.reverse():x).flat()},[l]);return m.useEffect(()=>{const b=f.current;if(b){const y=x=>{var N,j,_;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const E=document.activeElement,B=x.shiftKey;if(x.target===b&&B){(N=u.current)==null||N.focus();return}const A=g({tabbingDirection:B?"backwards":"forwards"}),G=A.findIndex(k=>k===E);df(A.slice(G+1))?x.preventDefault():B?(j=u.current)==null||j.focus():(_=d.current)==null||_.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[l,g]),o.jsxs(UT,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&o.jsx($h,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});df(b)}}),o.jsx(ym.Slot,{scope:r,children:o.jsx(Re.ol,{tabIndex:-1,...a,ref:h})}),v&&o.jsx($h,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});df(b)}})]})});_w.displayName=Nw;var Ew="ToastFocusProxy",$h=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=zu(Ew,r);return o.jsx(Uu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});$h.displayName=Ew;var hl="Toast",tP="toast.swipeStart",rP="toast.swipeMove",nP="toast.swipeCancel",sP="toast.swipeEnd",Cw=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...i}=e,[l,c]=Ms({prop:n,defaultProp:s??!0,onChange:a,caller:hl});return o.jsx(Xn,{present:r||l,children:o.jsx(oP,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Qr(e.onPause),onResume:Qr(e.onResume),onSwipeStart:Pe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Pe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Cw.displayName=hl;var[aP,iP]=Sw(hl,{onClose(){}}),oP=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...v}=e,g=zu(hl,r),[b,y]=m.useState(null),x=st(t,k=>y(k)),w=m.useRef(null),S=m.useRef(null),N=s||g.duration,j=m.useRef(0),_=m.useRef(N),E=m.useRef(0),{onToastAdd:B,onToastRemove:I}=g,F=Qr(()=>{var C;(b==null?void 0:b.contains(document.activeElement))&&((C=g.viewport)==null||C.focus()),i()}),A=m.useCallback(k=>{!k||k===1/0||(window.clearTimeout(E.current),j.current=new Date().getTime(),E.current=window.setTimeout(F,k))},[F]);m.useEffect(()=>{const k=g.viewport;if(k){const C=()=>{A(_.current),u==null||u()},L=()=>{const K=new Date().getTime()-j.current;_.current=_.current-K,window.clearTimeout(E.current),c==null||c()};return k.addEventListener(Mh,L),k.addEventListener(Lh,C),()=>{k.removeEventListener(Mh,L),k.removeEventListener(Lh,C)}}},[g.viewport,N,c,u,A]),m.useEffect(()=>{a&&!g.isClosePausedRef.current&&A(N)},[a,N,g.isClosePausedRef,A]),m.useEffect(()=>(B(),()=>I()),[B,I]);const G=m.useMemo(()=>b?Dw(b):null,[b]);return g.viewport?o.jsxs(o.Fragment,{children:[G&&o.jsx(lP,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:G}),o.jsx(aP,{scope:r,onClose:F,children:Vs.createPortal(o.jsx(ym.ItemSlot,{scope:r,children:o.jsx(FT,{asChild:!0,onEscapeKeyDown:Pe(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||F(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Re.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Pe(e.onKeyDown,k=>{k.key==="Escape"&&(l==null||l(k.nativeEvent),k.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:Pe(e.onPointerDown,k=>{k.button===0&&(w.current={x:k.clientX,y:k.clientY})}),onPointerMove:Pe(e.onPointerMove,k=>{if(!w.current)return;const C=k.clientX-w.current.x,L=k.clientY-w.current.y,K=!!S.current,R=["left","right"].includes(g.swipeDirection),O=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,W=R?O(0,C):0,Z=R?0:O(0,L),V=k.pointerType==="touch"?10:2,oe={x:W,y:Z},q={originalEvent:k,delta:oe};K?(S.current=oe,Yl(rP,f,q,{discrete:!1})):Gv(oe,g.swipeDirection,V)?(S.current=oe,Yl(tP,d,q,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(C)>V||Math.abs(L)>V)&&(w.current=null)}),onPointerUp:Pe(e.onPointerUp,k=>{const C=S.current,L=k.target;if(L.hasPointerCapture(k.pointerId)&&L.releasePointerCapture(k.pointerId),S.current=null,w.current=null,C){const K=k.currentTarget,R={originalEvent:k,delta:C};Gv(C,g.swipeDirection,g.swipeThreshold)?Yl(sP,p,R,{discrete:!0}):Yl(nP,h,R,{discrete:!0}),K.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),lP=e=>{const{__scopeToast:t,children:r,...n}=e,s=zu(hl,t),[a,i]=m.useState(!1),[l,c]=m.useState(!1);return dP(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Fu,{asChild:!0,children:o.jsx(Uu,{...n,children:a&&o.jsxs(o.Fragment,{children:[s.label," ",r]})})})},cP="ToastTitle",Tw=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Re.div,{...n,ref:t})});Tw.displayName=cP;var uP="ToastDescription",Pw=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Re.div,{...n,ref:t})});Pw.displayName=uP;var kw="ToastAction",Aw=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(Iw,{altText:r,asChild:!0,children:o.jsx(xm,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${kw}\`. Expected non-empty \`string\`.`),null)});Aw.displayName=kw;var Rw="ToastClose",xm=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=iP(Rw,r);return o.jsx(Iw,{asChild:!0,children:o.jsx(Re.button,{type:"button",...n,ref:t,onClick:Pe(e.onClick,s.onClose)})})});xm.displayName=Rw;var Iw=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return o.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function Dw(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),fP(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Dw(n))}}),t}function Yl(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?vw(s,a):s.dispatchEvent(a)}var Gv=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function dP(e=()=>{}){const t=Qr(e);Ot(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function fP(e){return e.nodeType===e.ELEMENT_NODE}function hP(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function df(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var pP=jw,Ow=_w,Bw=Cw,Mw=Tw,Lw=Pw,$w=Aw,Fw=xm;function Uw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Uw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function zw(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Uw(e))&&(n&&(n+=" "),n+=t);return n}const qv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Kv=zw,Wu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Kv(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=qv(d)||qv(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(v=>{let[g,b]=v;return Array.isArray(b)?b.includes({...a,...l}[g]):{...a,...l}[g]===b})?[...u,f,h]:u},[]);return Kv(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ww=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...gP,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Ww("lucide",s),...l},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=m.forwardRef(({className:n,...s},a)=>m.createElement(vP,{ref:a,iconNode:t,className:Ww(`lucide-${mP(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=ze("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=ze("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=ze("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=ze("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=ze("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=ze("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=ze("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=ze("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=ze("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=ze("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=ze("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=ze("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ze("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=ze("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ze("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=ze("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jm="-",IP=e=>{const t=OP(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(jm);return l[0]===""&&l.length!==1&&l.shift(),Kw(l,t)||DP(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},Kw=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Kw(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(jm);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},Xv=/^\[(.+)\]$/,DP=e=>{if(Xv.test(e)){const t=Xv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},OP=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return MP(Object.entries(e.classGroups),r).forEach(([a,i])=>{Fh(i,n,a,t)}),n},Fh=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Zv(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(BP(s)){Fh(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{Fh(i,Zv(t,a),r,n)})})},Zv=(e,t)=>{let r=e;return t.split(jm).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},BP=e=>e.isThemeGetter,MP=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,s]}):e,LP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},Yw="!",$P=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let y=l[b];if(u===0){if(y===s&&(n||l.slice(b,b+a)===t)){c.push(l.slice(d,b)),d=b+a;continue}if(y==="/"){f=b;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(Yw),v=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:i}):i},FP=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},UP=e=>({cache:LP(e.cacheSize),parseClassName:$P(e),...IP(e)}),zP=/\s+/,WP=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(zP);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let v=!!p,g=n(v?h.substring(0,p):h);if(!g){if(!v){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=FP(d).join(":"),y=f?b+Yw:b,x=y+g;if(a.includes(x))continue;a.push(x);const w=s(g,v);for(let S=0;S<w.length;++S){const N=w[S];a.push(y+N)}l=u+(l.length>0?" "+l:l)}return l};function VP(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Qw(t))&&(n&&(n+=" "),n+=r);return n}const Qw=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Qw(e[n]))&&(r&&(r+=" "),r+=t);return r};function HP(e,...t){let r,n,s,a=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=UP(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=WP(c,r);return s(c,d),d}return function(){return a(VP.apply(null,arguments))}}const dt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Jw=/^\[(?:([a-z-]+):)?(.+)\]$/i,GP=/^\d+\/\d+$/,qP=new Set(["px","full","screen"]),KP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,JP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,In=e=>ci(e)||qP.has(e)||GP.test(e),rs=e=>Li(e,"length",i2),ci=e=>!!e&&!Number.isNaN(Number(e)),pf=e=>Li(e,"number",ci),to=e=>!!e&&Number.isInteger(Number(e)),ZP=e=>e.endsWith("%")&&ci(e.slice(0,-1)),Le=e=>Jw.test(e),ns=e=>KP.test(e),e2=new Set(["length","size","percentage"]),t2=e=>Li(e,e2,Xw),r2=e=>Li(e,"position",Xw),n2=new Set(["image","url"]),s2=e=>Li(e,n2,l2),a2=e=>Li(e,"",o2),ro=()=>!0,Li=(e,t,r)=>{const n=Jw.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},i2=e=>YP.test(e)&&!QP.test(e),Xw=()=>!1,o2=e=>JP.test(e),l2=e=>XP.test(e),c2=()=>{const e=dt("colors"),t=dt("spacing"),r=dt("blur"),n=dt("brightness"),s=dt("borderColor"),a=dt("borderRadius"),i=dt("borderSpacing"),l=dt("borderWidth"),c=dt("contrast"),u=dt("grayscale"),d=dt("hueRotate"),f=dt("invert"),h=dt("gap"),p=dt("gradientColorStops"),v=dt("gradientColorStopPositions"),g=dt("inset"),b=dt("margin"),y=dt("opacity"),x=dt("padding"),w=dt("saturate"),S=dt("scale"),N=dt("sepia"),j=dt("skew"),_=dt("space"),E=dt("translate"),B=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Le,t],A=()=>[Le,t],G=()=>["",In,rs],k=()=>["auto",ci,Le],C=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Le],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[ci,Le];return{cacheSize:500,separator:":",theme:{colors:[ro],spacing:[In,rs],blur:["none","",ns,Le],brightness:Z(),borderColor:[e],borderRadius:["none","","full",ns,Le],borderSpacing:A(),borderWidth:G(),contrast:Z(),grayscale:O(),hueRotate:Z(),invert:O(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[ZP,rs],inset:F(),margin:F(),opacity:Z(),padding:A(),saturate:Z(),scale:Z(),sepia:O(),skew:Z(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[ns]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...C(),Le]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",to,Le]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",to,Le]}],"grid-cols":[{"grid-cols":[ro]}],"col-start-end":[{col:["auto",{span:["full",to,Le]},Le]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[ro]}],"row-start-end":[{row:["auto",{span:[to,Le]},Le]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,t]}],"min-w":[{"min-w":[Le,t,"min","max","fit"]}],"max-w":[{"max-w":[Le,t,"none","full","min","max","fit","prose",{screen:[ns]},ns]}],h:[{h:[Le,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ns,rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pf]}],"font-family":[{font:[ro]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",ci,pf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",In,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",In,rs]}],"underline-offset":[{"underline-offset":["auto",In,Le]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...C(),r2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",t2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},s2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[In,Le]}],"outline-w":[{outline:[In,rs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[In,rs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ns,a2]}],"shadow-color":[{shadow:[ro]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ns,Le]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[to,Le]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[In,rs,pf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},u2=HP(c2);function De(...e){return u2(zw(e))}function _c(e,t,r,n,s){const i=(r?Array.from(new Set(r.matches.flatMap(u=>[String(u.teamA),String(u.teamB)]).filter(u=>u!=="BYE"&&u!=="TBD"))):[]).map(u=>e.find(d=>String(d.id)===u)).filter(Boolean),l={};for(const u of i){const d=String(u.id);l[d]||(l[d]={});for(let h=1;h<=s;h++){const p=r==null?void 0:r.matches.find(g=>g.round===h&&(String(g.teamA)===d||String(g.teamB)===d));if(!p){l[d][h]={wl:"",points:0,hands:0,boston:0,isTie:!1};continue}const v=t.find(g=>g.matchId===p.id&&g.confirmed);if(v){const g=String(v.teamA);String(v.teamB);const b=d===g,y=b?v.scoreA:v.scoreB;b?v.scoreB:v.scoreA;const x=b?v.handsA:v.handsB,w=b?v.boston_a??0:v.boston_b??0,S=b&&v.winner==="teamA"||!b&&v.winner==="teamB"?"W":"L";l[d][h]={wl:S,points:y,hands:x??0,boston:w,isTie:!1}}else l[d][h]={wl:"",points:0,hands:0,boston:0,isTie:!1}}let f=0;for(let h=1;h<=s;h++){const p=l[d][h];p&&p.wl==="W"&&(f+=1)}l[d].totalPoints={wl:"",points:Object.entries(l[d]).filter(([h])=>h!=="totalPoints").reduce((h,[,p])=>h+(p.points||0),0),boston:Object.entries(l[d]).filter(([h])=>h!=="totalPoints").reduce((h,[,p])=>h+(p.boston||0),0),hands:Object.entries(l[d]).filter(([h])=>h!=="totalPoints").reduce((h,[,p])=>h+(p.hands||0),0),wins:f}}return{sortedTeams:i.slice().sort((u,d)=>{var _,E,B,I;const f=l[u.id].totalPoints.wins,h=l[d.id].totalPoints.wins;if(h!==f)return h-f;const p=l[u.id].totalPoints.hands||0,v=l[d.id].totalPoints.hands||0;if(v!==p)return v-p;const g=l[u.id].totalPoints.points,b=l[d.id].totalPoints.points;if(b!==g)return b-g;const y=((_=l[u.id][1])==null?void 0:_.points)||0,x=((E=l[d.id][1])==null?void 0:E.points)||0;if(x!==y)return x-y;const w=((B=l[u.id][2])==null?void 0:B.points)||0,S=((I=l[d.id][2])==null?void 0:I.points)||0;if(S!==w)return S-w;const N=typeof u.teamNumber=="number"?u.teamNumber:Number(u.teamNumber)||Number(u.id),j=typeof d.teamNumber=="number"?d.teamNumber:Number(d.teamNumber)||Number(d.id);return N-j}),resultsMatrix:l}}const d2=pP,Zw=m.forwardRef(({className:e,...t},r)=>o.jsx(Ow,{ref:r,className:De("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Zw.displayName=Ow.displayName;const f2=Wu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),eS=m.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(Bw,{ref:n,className:De(f2({variant:t}),e),...r}));eS.displayName=Bw.displayName;const h2=m.forwardRef(({className:e,...t},r)=>o.jsx($w,{ref:r,className:De("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));h2.displayName=$w.displayName;const tS=m.forwardRef(({className:e,...t},r)=>o.jsx(Fw,{ref:r,className:De("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Ta,{className:"h-4 w-4"})}));tS.displayName=Fw.displayName;const rS=m.forwardRef(({className:e,...t},r)=>o.jsx(Mw,{ref:r,className:De("text-sm font-semibold",e),...t}));rS.displayName=Mw.displayName;const nS=m.forwardRef(({className:e,...t},r)=>o.jsx(Lw,{ref:r,className:De("text-sm opacity-90",e),...t}));nS.displayName=Lw.displayName;function p2(){const{toasts:e}=jT();return o.jsxs(d2,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return o.jsxs(eS,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(rS,{children:r}),n&&o.jsx(nS,{children:n})]}),s,o.jsx(tS,{})]},t)}),o.jsx(Zw,{})]})}var m2=e=>{switch(e){case"success":return y2;case"info":return b2;case"warning":return x2;case"error":return w2;default:return null}},g2=Array(12).fill(0),v2=({visible:e,className:t})=>J.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},J.createElement("div",{className:"sonner-spinner"},g2.map((r,n)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),y2=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),x2=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),b2=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),w2=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),S2=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),j2=()=>{let[e,t]=J.useState(document.hidden);return J.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Uh=1,N2=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Uh++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,i=n.then(async c=>{if(a=["resolve",c],J.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(E2(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Uh++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ur=new N2,_2=(e,t)=>{let r=(t==null?void 0:t.id)||Uh++;return ur.addToast({title:e,...t,id:r}),r},E2=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",C2=_2,T2=()=>ur.toasts,P2=()=>ur.getActiveToasts();Object.assign(C2,{success:ur.success,info:ur.info,warning:ur.warning,error:ur.error,custom:ur.custom,message:ur.message,promise:ur.promise,dismiss:ur.dismiss,loading:ur.loading},{getHistory:T2,getToasts:P2});function k2(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}k2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ql(e){return e.label!==void 0}var A2=3,R2="32px",I2="16px",ey=4e3,D2=356,O2=14,B2=20,M2=200;function Zr(...e){return e.filter(Boolean).join(" ")}function L2(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var $2=e=>{var t,r,n,s,a,i,l,c,u,d,f;let{invert:h,toast:p,unstyled:v,interacting:g,setHeights:b,visibleToasts:y,heights:x,index:w,toasts:S,expanded:N,removeToast:j,defaultRichColors:_,closeButton:E,style:B,cancelButtonStyle:I,actionButtonStyle:F,className:A="",descriptionClassName:G="",duration:k,position:C,gap:L,loadingIcon:K,expandByDefault:R,classNames:O,icons:W,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:V}=e,[oe,q]=J.useState(null),[se,je]=J.useState(null),[T,Y]=J.useState(!1),[X,ie]=J.useState(!1),[pe,re]=J.useState(!1),[we,xe]=J.useState(!1),[Oe,Ie]=J.useState(!1),[Je,Lt]=J.useState(0),[P,U]=J.useState(0),z=J.useRef(p.duration||k||ey),M=J.useRef(null),H=J.useRef(null),$=w===0,le=w+1<=y,fe=p.type,ae=p.dismissible!==!1,he=p.className||"",Ae=p.descriptionClassName||"",$e=J.useMemo(()=>x.findIndex(Se=>Se.toastId===p.id)||0,[x,p.id]),be=J.useMemo(()=>{var Se;return(Se=p.closeButton)!=null?Se:E},[p.closeButton,E]),Ne=J.useMemo(()=>p.duration||k||ey,[p.duration,k]),D=J.useRef(0),ee=J.useRef(0),ce=J.useRef(0),me=J.useRef(null),[tt,Tt]=C.split("-"),gt=J.useMemo(()=>x.reduce((Se,Fe,Ce)=>Ce>=$e?Se:Se+Fe.height,0),[x,$e]),it=j2(),or=p.invert||h,Ee=fe==="loading";ee.current=J.useMemo(()=>$e*L+gt,[$e,gt]),J.useEffect(()=>{z.current=Ne},[Ne]),J.useEffect(()=>{Y(!0)},[]),J.useEffect(()=>{let Se=H.current;if(Se){let Fe=Se.getBoundingClientRect().height;return U(Fe),b(Ce=>[{toastId:p.id,height:Fe,position:p.position},...Ce]),()=>b(Ce=>Ce.filter(Ze=>Ze.toastId!==p.id))}},[b,p.id]),J.useLayoutEffect(()=>{if(!T)return;let Se=H.current,Fe=Se.style.height;Se.style.height="auto";let Ce=Se.getBoundingClientRect().height;Se.style.height=Fe,U(Ce),b(Ze=>Ze.find(Vt=>Vt.toastId===p.id)?Ze.map(Vt=>Vt.toastId===p.id?{...Vt,height:Ce}:Vt):[{toastId:p.id,height:Ce,position:p.position},...Ze])},[T,p.title,p.description,b,p.id]);let vt=J.useCallback(()=>{ie(!0),Lt(ee.current),b(Se=>Se.filter(Fe=>Fe.toastId!==p.id)),setTimeout(()=>{j(p)},M2)},[p,j,b,ee]);J.useEffect(()=>{if(p.promise&&fe==="loading"||p.duration===1/0||p.type==="loading")return;let Se;return N||g||V&&it?(()=>{if(ce.current<D.current){let Fe=new Date().getTime()-D.current;z.current=z.current-Fe}ce.current=new Date().getTime()})():z.current!==1/0&&(D.current=new Date().getTime(),Se=setTimeout(()=>{var Fe;(Fe=p.onAutoClose)==null||Fe.call(p,p),vt()},z.current)),()=>clearTimeout(Se)},[N,g,p,fe,V,it,vt]),J.useEffect(()=>{p.delete&&vt()},[vt,p.delete]);function Et(){var Se,Fe,Ce;return W!=null&&W.loading?J.createElement("div",{className:Zr(O==null?void 0:O.loader,(Se=p==null?void 0:p.classNames)==null?void 0:Se.loader,"sonner-loader"),"data-visible":fe==="loading"},W.loading):K?J.createElement("div",{className:Zr(O==null?void 0:O.loader,(Fe=p==null?void 0:p.classNames)==null?void 0:Fe.loader,"sonner-loader"),"data-visible":fe==="loading"},K):J.createElement(v2,{className:Zr(O==null?void 0:O.loader,(Ce=p==null?void 0:p.classNames)==null?void 0:Ce.loader),visible:fe==="loading"})}return J.createElement("li",{tabIndex:0,ref:H,className:Zr(A,he,O==null?void 0:O.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[fe],(r=p==null?void 0:p.classNames)==null?void 0:r[fe]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:_,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":T,"data-promise":!!p.promise,"data-swiped":Oe,"data-removed":X,"data-visible":le,"data-y-position":tt,"data-x-position":Tt,"data-index":w,"data-front":$,"data-swiping":pe,"data-dismissible":ae,"data-type":fe,"data-invert":or,"data-swipe-out":we,"data-swipe-direction":se,"data-expanded":!!(N||R&&T),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${X?Je:ee.current}px`,"--initial-height":R?"auto":`${P}px`,...B,...p.style},onDragEnd:()=>{re(!1),q(null),me.current=null},onPointerDown:Se=>{Ee||!ae||(M.current=new Date,Lt(ee.current),Se.target.setPointerCapture(Se.pointerId),Se.target.tagName!=="BUTTON"&&(re(!0),me.current={x:Se.clientX,y:Se.clientY}))},onPointerUp:()=>{var Se,Fe,Ce,Ze;if(we||!ae)return;me.current=null;let Vt=Number(((Se=H.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xt=Number(((Fe=H.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),jt=new Date().getTime()-((Ce=M.current)==null?void 0:Ce.getTime()),Jr=oe==="x"?Vt:Xt,Zn=Math.abs(Jr)/jt;if(Math.abs(Jr)>=B2||Zn>.11){Lt(ee.current),(Ze=p.onDismiss)==null||Ze.call(p,p),je(oe==="x"?Vt>0?"right":"left":Xt>0?"down":"up"),vt(),xe(!0),Ie(!1);return}re(!1),q(null)},onPointerMove:Se=>{var Fe,Ce,Ze,Vt;if(!me.current||!ae||((Fe=window.getSelection())==null?void 0:Fe.toString().length)>0)return;let Xt=Se.clientY-me.current.y,jt=Se.clientX-me.current.x,Jr=(Ce=e.swipeDirections)!=null?Ce:L2(C);!oe&&(Math.abs(jt)>1||Math.abs(Xt)>1)&&q(Math.abs(jt)>Math.abs(Xt)?"x":"y");let Zn={x:0,y:0};oe==="y"?(Jr.includes("top")||Jr.includes("bottom"))&&(Jr.includes("top")&&Xt<0||Jr.includes("bottom")&&Xt>0)&&(Zn.y=Xt):oe==="x"&&(Jr.includes("left")||Jr.includes("right"))&&(Jr.includes("left")&&jt<0||Jr.includes("right")&&jt>0)&&(Zn.x=jt),(Math.abs(Zn.x)>0||Math.abs(Zn.y)>0)&&Ie(!0),(Ze=H.current)==null||Ze.style.setProperty("--swipe-amount-x",`${Zn.x}px`),(Vt=H.current)==null||Vt.style.setProperty("--swipe-amount-y",`${Zn.y}px`)}},be&&!p.jsx?J.createElement("button",{"aria-label":Z,"data-disabled":Ee,"data-close-button":!0,onClick:Ee||!ae?()=>{}:()=>{var Se;vt(),(Se=p.onDismiss)==null||Se.call(p,p)},className:Zr(O==null?void 0:O.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(a=W==null?void 0:W.close)!=null?a:S2):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:J.createElement(J.Fragment,null,fe||p.icon||p.promise?J.createElement("div",{"data-icon":"",className:Zr(O==null?void 0:O.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Et():null,p.type!=="loading"?p.icon||(W==null?void 0:W[fe])||m2(fe):null):null,J.createElement("div",{"data-content":"",className:Zr(O==null?void 0:O.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},J.createElement("div",{"data-title":"",className:Zr(O==null?void 0:O.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?J.createElement("div",{"data-description":"",className:Zr(G,Ae,O==null?void 0:O.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&Ql(p.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:Se=>{var Fe,Ce;Ql(p.cancel)&&ae&&((Ce=(Fe=p.cancel).onClick)==null||Ce.call(Fe,Se),vt())},className:Zr(O==null?void 0:O.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&Ql(p.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||F,onClick:Se=>{var Fe,Ce;Ql(p.action)&&((Ce=(Fe=p.action).onClick)==null||Ce.call(Fe,Se),!Se.defaultPrevented&&vt())},className:Zr(O==null?void 0:O.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function ty(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function F2(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,i=a?"--mobile-offset":"--offset",l=a?I2:R2;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var U2=m.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:v=A2,toastOptions:g,dir:b=ty(),gap:y=O2,loadingIcon:x,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:N}=e,[j,_]=J.useState([]),E=J.useMemo(()=>Array.from(new Set([n].concat(j.filter(V=>V.position).map(V=>V.position)))),[j,n]),[B,I]=J.useState([]),[F,A]=J.useState(!1),[G,k]=J.useState(!1),[C,L]=J.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=J.useRef(null),R=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=J.useRef(null),W=J.useRef(!1),Z=J.useCallback(V=>{_(oe=>{var q;return(q=oe.find(se=>se.id===V.id))!=null&&q.delete||ur.dismiss(V.id),oe.filter(({id:se})=>se!==V.id)})},[]);return J.useEffect(()=>ur.subscribe(V=>{if(V.dismiss){_(oe=>oe.map(q=>q.id===V.id?{...q,delete:!0}:q));return}setTimeout(()=>{mm.flushSync(()=>{_(oe=>{let q=oe.findIndex(se=>se.id===V.id);return q!==-1?[...oe.slice(0,q),{...oe[q],...V},...oe.slice(q+1)]:[V,...oe]})})})}),[]),J.useEffect(()=>{if(d!=="system"){L(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:oe})=>{L(oe?"dark":"light")})}catch{V.addListener(({matches:q})=>{try{L(q?"dark":"light")}catch(se){console.error(se)}})}},[d]),J.useEffect(()=>{j.length<=1&&A(!1)},[j]),J.useEffect(()=>{let V=oe=>{var q,se;s.every(je=>oe[je]||oe.code===je)&&(A(!0),(q=K.current)==null||q.focus()),oe.code==="Escape"&&(document.activeElement===K.current||(se=K.current)!=null&&se.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[s]),J.useEffect(()=>{if(K.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,W.current=!1)}},[K.current]),J.createElement("section",{ref:t,"aria-label":`${S} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((V,oe)=>{var q;let[se,je]=V.split("-");return j.length?J.createElement("ol",{key:V,dir:b==="auto"?ty():b,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-theme":C,"data-y-position":se,"data-lifted":F&&j.length>1&&!a,"data-x-position":je,style:{"--front-toast-height":`${((q=B[0])==null?void 0:q.height)||0}px`,"--width":`${D2}px`,"--gap":`${y}px`,...p,...F2(c,u)},onBlur:T=>{W.current&&!T.currentTarget.contains(T.relatedTarget)&&(W.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:T=>{T.target instanceof HTMLElement&&T.target.dataset.dismissible==="false"||W.current||(W.current=!0,O.current=T.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{G||A(!1)},onDragEnd:()=>A(!1),onPointerDown:T=>{T.target instanceof HTMLElement&&T.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},j.filter(T=>!T.position&&oe===0||T.position===V).map((T,Y)=>{var X,ie;return J.createElement($2,{key:T.id,icons:w,index:Y,toast:T,defaultRichColors:f,duration:(X=g==null?void 0:g.duration)!=null?X:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:v,closeButton:(ie=g==null?void 0:g.closeButton)!=null?ie:i,interacting:G,position:V,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Z,toasts:j.filter(pe=>pe.position==T.position),heights:B.filter(pe=>pe.position==T.position),setHeights:I,expandByDefault:a,gap:y,loadingIcon:x,expanded:F,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const sS=m.createContext(null);function z2({children:e,defaultTheme:t="system",value:r,...n}){const[s,a]=m.useState(()=>{if(typeof window<"u"){const l=localStorage.getItem("theme");return l&&(l==="dark"||l==="light"||l==="system")?l:t}return t});m.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(s)},[s]);const i={theme:s,setTheme:l=>{localStorage.setItem("theme",l),a(l)}};return o.jsx(sS.Provider,{value:i,...n,children:e})}const W2=()=>{const e=m.useContext(sS);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},V2=({...e})=>{const{theme:t}=W2();return o.jsx(U2,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var H2=Np[" useId ".trim().toString()]||(()=>{}),G2=0;function Vn(e){const[t,r]=m.useState(H2());return Ot(()=>{r(n=>n??String(G2++))},[e]),t?`radix-${t}`:""}const q2=["top","right","bottom","left"],Ls=Math.min,Cr=Math.max,nu=Math.round,Jl=Math.floor,Pn=e=>({x:e,y:e}),K2={left:"right",right:"left",bottom:"top",top:"bottom"},Y2={start:"end",end:"start"};function zh(e,t,r){return Cr(e,Ls(t,r))}function Yn(e,t){return typeof e=="function"?e(t):e}function Qn(e){return e.split("-")[0]}function $i(e){return e.split("-")[1]}function Nm(e){return e==="x"?"y":"x"}function _m(e){return e==="y"?"height":"width"}const Q2=new Set(["top","bottom"]);function En(e){return Q2.has(Qn(e))?"y":"x"}function Em(e){return Nm(En(e))}function J2(e,t,r){r===void 0&&(r=!1);const n=$i(e),s=Em(e),a=_m(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=su(i)),[i,su(i)]}function X2(e){const t=su(e);return[Wh(e),t,Wh(t)]}function Wh(e){return e.replace(/start|end/g,t=>Y2[t])}const ry=["left","right"],ny=["right","left"],Z2=["top","bottom"],ek=["bottom","top"];function tk(e,t,r){switch(e){case"top":case"bottom":return r?t?ny:ry:t?ry:ny;case"left":case"right":return t?Z2:ek;default:return[]}}function rk(e,t,r,n){const s=$i(e);let a=tk(Qn(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(Wh)))),a}function su(e){return e.replace(/left|right|bottom|top/g,t=>K2[t])}function nk(e){return{top:0,right:0,bottom:0,left:0,...e}}function aS(e){return typeof e!="number"?nk(e):{top:e,right:e,bottom:e,left:e}}function au(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function sy(e,t,r){let{reference:n,floating:s}=e;const a=En(t),i=Em(t),l=_m(i),c=Qn(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch($i(t)){case"start":p[i]-=h*(r&&u?-1:1);break;case"end":p[i]+=h*(r&&u?-1:1);break}return p}const sk=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=sy(u,n,c),h=n,p={},v=0;for(let g=0;g<l.length;g++){const{name:b,fn:y}=l[g],{x,y:w,data:S,reset:N}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=x??d,f=w??f,p={...p,[b]:{...p[b],...S}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:d,y:f}=sy(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function Ko(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Yn(t,e),v=aS(p),b=l[h?f==="floating"?"reference":"floating":f],y=au(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(b)))==null||r?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},N=au(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(y.top-N.top+v.top)/S.y,bottom:(N.bottom-y.bottom+v.bottom)/S.y,left:(y.left-N.left+v.left)/S.x,right:(N.right-y.right+v.right)/S.x}}const ak=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Yn(e,t)||{};if(u==null)return{};const f=aS(d),h={x:r,y:n},p=Em(s),v=_m(p),g=await i.getDimensions(u),b=p==="y",y=b?"top":"left",x=b?"bottom":"right",w=b?"clientHeight":"clientWidth",S=a.reference[v]+a.reference[p]-h[p]-a.floating[v],N=h[p]-a.reference[p],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=j?j[w]:0;(!_||!await(i.isElement==null?void 0:i.isElement(j)))&&(_=l.floating[w]||a.floating[v]);const E=S/2-N/2,B=_/2-g[v]/2-1,I=Ls(f[y],B),F=Ls(f[x],B),A=I,G=_-g[v]-F,k=_/2-g[v]/2+E,C=zh(A,k,G),L=!c.arrow&&$i(s)!=null&&k!==C&&a.reference[v]/2-(k<A?I:F)-g[v]/2<0,K=L?k<A?k-A:k-G:0;return{[p]:h[p]+K,data:{[p]:C,centerOffset:k-C-K,...L&&{alignmentOffset:K}},reset:L}}}),ik=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=Yn(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Qn(s),x=En(l),w=Qn(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(w||!g?[su(l)]:X2(l)),j=v!=="none";!h&&j&&N.push(...rk(l,g,v,S));const _=[l,...N],E=await Ko(t,b),B=[];let I=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&B.push(E[y]),f){const k=J2(s,i,S);B.push(E[k[0]],E[k[1]])}if(I=[...I,{placement:s,overflows:B}],!B.every(k=>k<=0)){var F,A;const k=(((F=a.flip)==null?void 0:F.index)||0)+1,C=_[k];if(C&&(!(f==="alignment"?x!==En(C):!1)||I.every(R=>R.overflows[0]>0&&En(R.placement)===x)))return{data:{index:k,overflows:I},reset:{placement:C}};let L=(A=I.filter(K=>K.overflows[0]<=0).sort((K,R)=>K.overflows[1]-R.overflows[1])[0])==null?void 0:A.placement;if(!L)switch(p){case"bestFit":{var G;const K=(G=I.filter(R=>{if(j){const O=En(R.placement);return O===x||O==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(O=>O>0).reduce((O,W)=>O+W,0)]).sort((R,O)=>R[1]-O[1])[0])==null?void 0:G[0];K&&(L=K);break}case"initialPlacement":L=l;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function ay(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function iy(e){return q2.some(t=>e[t]>=0)}const ok=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Yn(e,t);switch(n){case"referenceHidden":{const a=await Ko(t,{...s,elementContext:"reference"}),i=ay(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:iy(i)}}}case"escaped":{const a=await Ko(t,{...s,altBoundary:!0}),i=ay(a,r.floating);return{data:{escapedOffsets:i,escaped:iy(i)}}}default:return{}}}}},iS=new Set(["left","top"]);async function lk(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Qn(r),l=$i(r),c=En(r)==="y",u=iS.has(i)?-1:1,d=a&&c?-1:1,f=Yn(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const ck=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await lk(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},uk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:y,y:x}=b;return{x:y,y:x}}},...c}=Yn(e,t),u={x:r,y:n},d=await Ko(t,c),f=En(Qn(s)),h=Nm(f);let p=u[h],v=u[f];if(a){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",x=p+d[b],w=p-d[y];p=zh(x,p,w)}if(i){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=v+d[b],w=v-d[y];v=zh(x,v,w)}const g=l.fn({...t,[h]:p,[f]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:a,[f]:i}}}}}},dk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Yn(e,t),d={x:r,y:n},f=En(s),h=Nm(f);let p=d[h],v=d[f];const g=Yn(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",S=a.reference[h]-a.floating[w]+b.mainAxis,N=a.reference[h]+a.reference[w]-b.mainAxis;p<S?p=S:p>N&&(p=N)}if(u){var y,x;const w=h==="y"?"width":"height",S=iS.has(Qn(s)),N=a.reference[f]-a.floating[w]+(S&&((y=i.offset)==null?void 0:y[f])||0)+(S?0:b.crossAxis),j=a.reference[f]+a.reference[w]+(S?0:((x=i.offset)==null?void 0:x[f])||0)-(S?b.crossAxis:0);v<N?v=N:v>j&&(v=j)}return{[h]:p,[f]:v}}}},fk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Yn(e,t),d=await Ko(t,u),f=Qn(s),h=$i(s),p=En(s)==="y",{width:v,height:g}=a.floating;let b,y;f==="top"||f==="bottom"?(b=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,b=h==="end"?"top":"bottom");const x=g-d.top-d.bottom,w=v-d.left-d.right,S=Ls(g-d[b],x),N=Ls(v-d[y],w),j=!t.middlewareData.shift;let _=S,E=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=x),j&&!h){const I=Cr(d.left,0),F=Cr(d.right,0),A=Cr(d.top,0),G=Cr(d.bottom,0);p?E=v-2*(I!==0||F!==0?I+F:Cr(d.left,d.right)):_=g-2*(A!==0||G!==0?A+G:Cr(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:_});const B=await i.getDimensions(l.floating);return v!==B.width||g!==B.height?{reset:{rects:!0}}:{}}}};function Hu(){return typeof window<"u"}function Fi(e){return oS(e)?(e.nodeName||"").toLowerCase():"#document"}function Ar(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Rn(e){var t;return(t=(oS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function oS(e){return Hu()?e instanceof Node||e instanceof Ar(e).Node:!1}function mn(e){return Hu()?e instanceof Element||e instanceof Ar(e).Element:!1}function kn(e){return Hu()?e instanceof HTMLElement||e instanceof Ar(e).HTMLElement:!1}function oy(e){return!Hu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ar(e).ShadowRoot}const hk=new Set(["inline","contents"]);function pl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=gn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!hk.has(s)}const pk=new Set(["table","td","th"]);function mk(e){return pk.has(Fi(e))}const gk=[":popover-open",":modal"];function Gu(e){return gk.some(t=>{try{return e.matches(t)}catch{return!1}})}const vk=["transform","translate","scale","rotate","perspective"],yk=["transform","translate","scale","rotate","perspective","filter"],xk=["paint","layout","strict","content"];function Cm(e){const t=Tm(),r=mn(e)?gn(e):e;return vk.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||yk.some(n=>(r.willChange||"").includes(n))||xk.some(n=>(r.contain||"").includes(n))}function bk(e){let t=$s(e);for(;kn(t)&&!Pi(t);){if(Cm(t))return t;if(Gu(t))return null;t=$s(t)}return null}function Tm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wk=new Set(["html","body","#document"]);function Pi(e){return wk.has(Fi(e))}function gn(e){return Ar(e).getComputedStyle(e)}function qu(e){return mn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $s(e){if(Fi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||oy(e)&&e.host||Rn(e);return oy(t)?t.host:t}function lS(e){const t=$s(e);return Pi(t)?e.ownerDocument?e.ownerDocument.body:e.body:kn(t)&&pl(t)?t:lS(t)}function Yo(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=lS(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=Ar(s);if(a){const l=Vh(i);return t.concat(i,i.visualViewport||[],pl(s)?s:[],l&&r?Yo(l):[])}return t.concat(s,Yo(s,[],r))}function Vh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function cS(e){const t=gn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=kn(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=nu(r)!==a||nu(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function Pm(e){return mn(e)?e:e.contextElement}function ui(e){const t=Pm(e);if(!kn(t))return Pn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=cS(t);let i=(a?nu(r.width):r.width)/n,l=(a?nu(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Sk=Pn(0);function uS(e){const t=Ar(e);return!Tm()||!t.visualViewport?Sk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jk(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ar(e)?!1:t}function wa(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=Pm(e);let i=Pn(1);t&&(n?mn(n)&&(i=ui(n)):i=ui(e));const l=jk(a,r,n)?uS(a):Pn(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(a){const h=Ar(a),p=n&&mn(n)?Ar(n):n;let v=h,g=Vh(v);for(;g&&n&&p!==v;){const b=ui(g),y=g.getBoundingClientRect(),x=gn(g),w=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*b.x,S=y.top+(g.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=w,u+=S,v=Ar(g),g=Vh(v)}}return au({width:d,height:f,x:c,y:u})}function km(e,t){const r=qu(e).scrollLeft;return t?t.left+r:wa(Rn(e)).left+r}function dS(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:km(e,n)),a=n.top+t.scrollTop;return{x:s,y:a}}function Nk(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=Rn(n),l=t?Gu(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Pn(1);const d=Pn(0),f=kn(n);if((f||!f&&!a)&&((Fi(n)!=="body"||pl(i))&&(c=qu(n)),kn(n))){const p=wa(n);u=ui(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=i&&!f&&!a?dS(i,c,!0):Pn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function _k(e){return Array.from(e.getClientRects())}function Ek(e){const t=Rn(e),r=qu(e),n=e.ownerDocument.body,s=Cr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Cr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+km(e);const l=-r.scrollTop;return gn(n).direction==="rtl"&&(i+=Cr(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:l}}function Ck(e,t){const r=Ar(e),n=Rn(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const u=Tm();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}const Tk=new Set(["absolute","fixed"]);function Pk(e,t){const r=wa(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=kn(e)?ui(e):Pn(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function ly(e,t,r){let n;if(t==="viewport")n=Ck(e,r);else if(t==="document")n=Ek(Rn(e));else if(mn(t))n=Pk(t,r);else{const s=uS(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return au(n)}function fS(e,t){const r=$s(e);return r===t||!mn(r)||Pi(r)?!1:gn(r).position==="fixed"||fS(r,t)}function kk(e,t){const r=t.get(e);if(r)return r;let n=Yo(e,[],!1).filter(l=>mn(l)&&Fi(l)!=="body"),s=null;const a=gn(e).position==="fixed";let i=a?$s(e):e;for(;mn(i)&&!Pi(i);){const l=gn(i),c=Cm(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&Tk.has(s.position)||pl(i)&&!c&&fS(e,i))?n=n.filter(d=>d!==i):s=l,i=$s(i)}return t.set(e,n),n}function Ak(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Gu(t)?[]:kk(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=ly(t,d,s);return u.top=Cr(f.top,u.top),u.right=Ls(f.right,u.right),u.bottom=Ls(f.bottom,u.bottom),u.left=Cr(f.left,u.left),u},ly(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Rk(e){const{width:t,height:r}=cS(e);return{width:t,height:r}}function Ik(e,t,r){const n=kn(t),s=Rn(t),a=r==="fixed",i=wa(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Pn(0);function u(){c.x=km(s)}if(n||!n&&!a)if((Fi(t)!=="body"||pl(s))&&(l=qu(t)),n){const p=wa(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?dS(s,l):Pn(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function mf(e){return gn(e).position==="static"}function cy(e,t){if(!kn(e)||gn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Rn(e)===r&&(r=r.ownerDocument.body),r}function hS(e,t){const r=Ar(e);if(Gu(e))return r;if(!kn(e)){let s=$s(e);for(;s&&!Pi(s);){if(mn(s)&&!mf(s))return s;s=$s(s)}return r}let n=cy(e,t);for(;n&&mk(n)&&mf(n);)n=cy(n,t);return n&&Pi(n)&&mf(n)&&!Cm(n)?r:n||bk(e)||r}const Dk=async function(e){const t=this.getOffsetParent||hS,r=this.getDimensions,n=await r(e.floating);return{reference:Ik(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ok(e){return gn(e).direction==="rtl"}const Bk={convertOffsetParentRelativeRectToViewportRelativeRect:Nk,getDocumentElement:Rn,getClippingRect:Ak,getOffsetParent:hS,getElementRects:Dk,getClientRects:_k,getDimensions:Rk,getScale:ui,isElement:mn,isRTL:Ok};function pS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Mk(e,t){let r=null,n;const s=Rn(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const v=Jl(f),g=Jl(s.clientWidth-(d+h)),b=Jl(s.clientHeight-(f+p)),y=Jl(d),w={rootMargin:-v+"px "+-g+"px "+-b+"px "+-y+"px",threshold:Cr(0,Ls(1,c))||1};let S=!0;function N(j){const _=j[0].intersectionRatio;if(_!==c){if(!S)return i();_?i(!1,_):n=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!pS(u,e.getBoundingClientRect())&&i(),S=!1}try{r=new IntersectionObserver(N,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return i(!0),a}function Lk(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Pm(e),d=s||a?[...u?Yo(u):[],...Yo(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const f=u&&l?Mk(u,r):null;let h=-1,p=null;i&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let v,g=c?wa(e):null;c&&b();function b(){const y=wa(e);g&&!pS(g,y)&&r(),g=y,v=requestAnimationFrame(b)}return r(),()=>{var y;d.forEach(x=>{s&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const $k=ck,Fk=uk,Uk=ik,zk=fk,Wk=ok,uy=ak,Vk=dk,Hk=(e,t,r)=>{const n=new Map,s={platform:Bk,...r},a={...s.platform,_c:n};return sk(e,t,{...s,platform:a})};var Gk=typeof document<"u",qk=function(){},Ec=Gk?m.useLayoutEffect:qk;function iu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!iu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!iu(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function mS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dy(e,t){const r=mS(e);return Math.round(t*r)/r}function gf(e){const t=m.useRef(e);return Ec(()=>{t.current=e}),t}function Kk(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(n);iu(h,n)||p(n);const[v,g]=m.useState(null),[b,y]=m.useState(null),x=m.useCallback(R=>{R!==j.current&&(j.current=R,g(R))},[]),w=m.useCallback(R=>{R!==_.current&&(_.current=R,y(R))},[]),S=a||v,N=i||b,j=m.useRef(null),_=m.useRef(null),E=m.useRef(d),B=c!=null,I=gf(c),F=gf(s),A=gf(u),G=m.useCallback(()=>{if(!j.current||!_.current)return;const R={placement:t,strategy:r,middleware:h};F.current&&(R.platform=F.current),Hk(j.current,_.current,R).then(O=>{const W={...O,isPositioned:A.current!==!1};k.current&&!iu(E.current,W)&&(E.current=W,Vs.flushSync(()=>{f(W)}))})},[h,t,r,F,A]);Ec(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const k=m.useRef(!1);Ec(()=>(k.current=!0,()=>{k.current=!1}),[]),Ec(()=>{if(S&&(j.current=S),N&&(_.current=N),S&&N){if(I.current)return I.current(S,N,G);G()}},[S,N,G,I,B]);const C=m.useMemo(()=>({reference:j,floating:_,setReference:x,setFloating:w}),[x,w]),L=m.useMemo(()=>({reference:S,floating:N}),[S,N]),K=m.useMemo(()=>{const R={position:r,left:0,top:0};if(!L.floating)return R;const O=dy(L.floating,d.x),W=dy(L.floating,d.y);return l?{...R,transform:"translate("+O+"px, "+W+"px)",...mS(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:O,top:W}},[r,l,L.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:G,refs:C,elements:L,floatingStyles:K}),[d,G,C,L,K])}const Yk=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?uy({element:n.current,padding:s}).fn(r):{}:n?uy({element:n,padding:s}).fn(r):{}}}},Qk=(e,t)=>({...$k(e),options:[e,t]}),Jk=(e,t)=>({...Fk(e),options:[e,t]}),Xk=(e,t)=>({...Vk(e),options:[e,t]}),Zk=(e,t)=>({...Uk(e),options:[e,t]}),eA=(e,t)=>({...zk(e),options:[e,t]}),tA=(e,t)=>({...Wk(e),options:[e,t]}),rA=(e,t)=>({...Yk(e),options:[e,t]});var nA="Arrow",gS=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return o.jsx(Re.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});gS.displayName=nA;var sA=gS;function vS(e){const[t,r]=m.useState(void 0);return Ot(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Am="Popper",[yS,Ku]=An(Am),[aA,xS]=yS(Am),bS=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return o.jsx(aA,{scope:t,anchor:n,onAnchorChange:s,children:r})};bS.displayName=Am;var wS="PopperAnchor",SS=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=xS(wS,r),i=m.useRef(null),l=st(t,i);return m.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(Re.div,{...s,ref:l})});SS.displayName=wS;var Rm="PopperContent",[iA,oA]=yS(Rm),jS=m.forwardRef((e,t)=>{var T,Y,X,ie,pe,re;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=e,b=xS(Rm,r),[y,x]=m.useState(null),w=st(t,we=>x(we)),[S,N]=m.useState(null),j=vS(S),_=(j==null?void 0:j.width)??0,E=(j==null?void 0:j.height)??0,B=n+(a!=="center"?"-"+a:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],A=F.length>0,G={padding:I,boundary:F.filter(cA),altBoundary:A},{refs:k,floatingStyles:C,placement:L,isPositioned:K,middlewareData:R}=Kk({strategy:"fixed",placement:B,whileElementsMounted:(...we)=>Lk(...we,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[Qk({mainAxis:s+E,alignmentAxis:i}),c&&Jk({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Xk():void 0,...G}),c&&Zk({...G}),eA({...G,apply:({elements:we,rects:xe,availableWidth:Oe,availableHeight:Ie})=>{const{width:Je,height:Lt}=xe.reference,P=we.floating.style;P.setProperty("--radix-popper-available-width",`${Oe}px`),P.setProperty("--radix-popper-available-height",`${Ie}px`),P.setProperty("--radix-popper-anchor-width",`${Je}px`),P.setProperty("--radix-popper-anchor-height",`${Lt}px`)}}),S&&rA({element:S,padding:l}),uA({arrowWidth:_,arrowHeight:E}),h&&tA({strategy:"referenceHidden",...G})]}),[O,W]=ES(L),Z=Qr(v);Ot(()=>{K&&(Z==null||Z())},[K,Z]);const V=(T=R.arrow)==null?void 0:T.x,oe=(Y=R.arrow)==null?void 0:Y.y,q=((X=R.arrow)==null?void 0:X.centerOffset)!==0,[se,je]=m.useState();return Ot(()=>{y&&je(window.getComputedStyle(y).zIndex)},[y]),o.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...C,transform:K?C.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(ie=R.transformOrigin)==null?void 0:ie.x,(pe=R.transformOrigin)==null?void 0:pe.y].join(" "),...((re=R.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(iA,{scope:r,placedSide:O,onArrowChange:N,arrowX:V,arrowY:oe,shouldHideArrow:q,children:o.jsx(Re.div,{"data-side":O,"data-align":W,...g,ref:w,style:{...g.style,animation:K?void 0:"none"}})})})});jS.displayName=Rm;var NS="PopperArrow",lA={top:"bottom",right:"left",bottom:"top",left:"right"},_S=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=oA(NS,n),i=lA[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(sA,{...s,ref:r,style:{...s.style,display:"block"}})})});_S.displayName=NS;function cA(e){return e!==null}var uA=e=>({name:"transformOrigin",options:e,fn(t){var b,y,x;const{placement:r,rects:n,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=ES(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=i?f:`${h}px`,g=`${-c}px`):u==="top"?(v=i?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=i?f:`${p}px`):u==="left"&&(v=`${n.floating.width+c}px`,g=i?f:`${p}px`),{data:{x:v,y:g}}}});function ES(e){const[t,r="center"]=e.split("-");return[t,r]}var dA=bS,CS=SS,TS=jS,PS=_S,[Yu,B5]=An("Tooltip",[Ku]),Im=Ku(),kS="TooltipProvider",fA=700,fy="tooltip.open",[hA,AS]=Yu(kS),RS=e=>{const{__scopeTooltip:t,delayDuration:r=fA,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,i=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(hA,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};RS.displayName=kS;var IS="Tooltip",[M5,Qu]=Yu(IS),Hh="TooltipTrigger",pA=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Qu(Hh,r),a=AS(Hh,r),i=Im(r),l=m.useRef(null),c=st(t,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(CS,{asChild:!0,...i,children:o.jsx(Re.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Pe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Pe(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Pe(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Pe(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Pe(e.onBlur,s.onClose),onClick:Pe(e.onClick,s.onClose)})})});pA.displayName=Hh;var mA="TooltipPortal",[L5,gA]=Yu(mA,{forceMount:void 0}),ki="TooltipContent",DS=m.forwardRef((e,t)=>{const r=gA(ki,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,i=Qu(ki,e.__scopeTooltip);return o.jsx(Xn,{present:n||i.open,children:i.disableHoverableContent?o.jsx(OS,{side:s,...a,ref:t}):o.jsx(vA,{side:s,...a,ref:t})})}),vA=m.forwardRef((e,t)=>{const r=Qu(ki,e.__scopeTooltip),n=AS(ki,e.__scopeTooltip),s=m.useRef(null),a=st(t,s),[i,l]=m.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=m.useCallback(()=>{l(null),f(!1)},[f]),p=m.useCallback((v,g)=>{const b=v.currentTarget,y={x:v.clientX,y:v.clientY},x=SA(y,b.getBoundingClientRect()),w=jA(y,x),S=NA(g.getBoundingClientRect()),N=EA([...w,...S]);l(N),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const v=b=>p(b,d),g=b=>p(b,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,p,h]),m.useEffect(()=>{if(i){const v=g=>{const b=g.target,y={x:g.clientX,y:g.clientY},x=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),w=!_A(y,i);x?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,i,u,h]),o.jsx(OS,{...e,ref:a})}),[yA,xA]=Yu(IS,{isInside:!1}),bA=TT("TooltipContent"),OS=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=Qu(ki,r),u=Im(r),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(fy,d),()=>document.removeEventListener(fy,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(fl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(TS,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(bA,{children:n}),o.jsx(yA,{scope:r,isInside:!0,children:o.jsx(QT,{id:c.contentId,role:"tooltip",children:s||n})})]})})});DS.displayName=ki;var BS="TooltipArrow",wA=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Im(r);return xA(BS,r).isInside?null:o.jsx(PS,{...s,...n,ref:t})});wA.displayName=BS;function SA(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function jA(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function NA(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function _A(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function EA(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),CA(t)}function CA(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var TA=RS,MS=DS;const PA=TA,kA=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(MS,{ref:n,sideOffset:t,className:De("z-50 overflow-hidden rounded-md border border-border/40 bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-lg animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));kA.displayName=MS.displayName;var Ju=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xu=typeof window>"u"||"Deno"in globalThis;function sn(){}function AA(e,t){return typeof e=="function"?e(t):e}function RA(e){return typeof e=="number"&&e>=0&&e!==1/0}function IA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gh(e,t){return typeof e=="function"?e(t):e}function DA(e,t){return typeof e=="function"?e(t):e}function hy(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==Dm(i,t.options))return!1}else if(!Jo(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function py(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Qo(t.options.mutationKey)!==Qo(a))return!1}else if(!Jo(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Dm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qo)(e)}function Qo(e){return JSON.stringify(e,(t,r)=>qh(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Jo(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Jo(e[r],t[r])):!1}function LS(e,t){if(e===t)return e;const r=my(e)&&my(t);if(r||qh(e)&&qh(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),i=a.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:a[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=LS(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===i&&u===s?e:l}return t}function my(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function qh(e){if(!gy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!gy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function gy(e){return Object.prototype.toString.call(e)==="[object Object]"}function OA(e){return new Promise(t=>{setTimeout(t,e)})}function BA(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?LS(e,t):t}function MA(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function LA(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Om=Symbol();function $S(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Om?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ia,ms,hi,Kx,$A=(Kx=class extends Ju{constructor(){super();Xe(this,ia);Xe(this,ms);Xe(this,hi);Be(this,hi,t=>{if(!Xu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){te(this,ms)||this.setEventListener(te(this,hi))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,ms))==null||t.call(this),Be(this,ms,void 0))}setEventListener(t){var r;Be(this,hi,t),(r=te(this,ms))==null||r.call(this),Be(this,ms,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){te(this,ia)!==t&&(Be(this,ia,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof te(this,ia)=="boolean"?te(this,ia):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ia=new WeakMap,ms=new WeakMap,hi=new WeakMap,Kx),FS=new $A,pi,gs,mi,Yx,FA=(Yx=class extends Ju{constructor(){super();Xe(this,pi,!0);Xe(this,gs);Xe(this,mi);Be(this,mi,t=>{if(!Xu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){te(this,gs)||this.setEventListener(te(this,mi))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,gs))==null||t.call(this),Be(this,gs,void 0))}setEventListener(t){var r;Be(this,mi,t),(r=te(this,gs))==null||r.call(this),Be(this,gs,t(this.setOnline.bind(this)))}setOnline(t){te(this,pi)!==t&&(Be(this,pi,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return te(this,pi)}},pi=new WeakMap,gs=new WeakMap,mi=new WeakMap,Yx),ou=new FA;function UA(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function zA(e){return Math.min(1e3*2**e,3e4)}function US(e){return(e??"online")==="online"?ou.isOnline():!0}var zS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function vf(e){return e instanceof zS}function WS(e){let t=!1,r=0,n=!1,s;const a=UA(),i=g=>{var b;n||(h(new zS(g)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>FS.isFocused()&&(e.networkMode==="always"||ou.isOnline())&&e.canRun(),d=()=>US(e.networkMode)&&e.canRun(),f=g=>{var b;n||(n=!0,(b=e.onSuccess)==null||b.call(e,g),s==null||s(),a.resolve(g))},h=g=>{var b;n||(n=!0,(b=e.onError)==null||b.call(e,g),s==null||s(),a.reject(g))},p=()=>new Promise(g=>{var b;s=y=>{(n||u())&&g(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(n)return;let g;const b=r===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var j;if(n)return;const x=e.retry??(Xu?0:3),w=e.retryDelay??zA,S=typeof w=="function"?w(r,y):w,N=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(t||!N){h(y);return}r++,(j=e.onFail)==null||j.call(e,r,y),OA(S).then(()=>u()?void 0:p()).then(()=>{t?h(y):v()})})};return{promise:a,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():p().then(v),a)}}var WA=e=>setTimeout(e,0);function VA(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=WA;const a=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var nr=VA(),oa,Qx,VS=(Qx=class{constructor(){Xe(this,oa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),RA(this.gcTime)&&Be(this,oa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xu?1/0:5*60*1e3))}clearGcTimeout(){te(this,oa)&&(clearTimeout(te(this,oa)),Be(this,oa,void 0))}},oa=new WeakMap,Qx),gi,la,Fr,ca,Yt,al,ua,an,Dn,Jx,HA=(Jx=class extends VS{constructor(t){super();Xe(this,an);Xe(this,gi);Xe(this,la);Xe(this,Fr);Xe(this,ca);Xe(this,Yt);Xe(this,al);Xe(this,ua);Be(this,ua,!1),Be(this,al,t.defaultOptions),this.setOptions(t.options),this.observers=[],Be(this,ca,t.client),Be(this,Fr,te(this,ca).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Be(this,gi,qA(this.options)),this.state=t.state??te(this,gi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=te(this,Yt))==null?void 0:t.promise}setOptions(t){this.options={...te(this,al),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,Fr).remove(this)}setData(t,r){const n=BA(this.state.data,t,this.options);return Ht(this,an,Dn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ht(this,an,Dn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=te(this,Yt))==null?void 0:n.promise;return(s=te(this,Yt))==null||s.cancel(t),r?r.then(sn).catch(sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,gi))}isActive(){return this.observers.some(t=>DA(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Om||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Gh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!IA(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,Yt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,Yt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),te(this,Fr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(te(this,Yt)&&(te(this,ua)?te(this,Yt).cancel({revert:!0}):te(this,Yt).cancelRetry()),this.scheduleGc()),te(this,Fr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ht(this,an,Dn).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(te(this,Yt))return te(this,Yt).continueRetry(),te(this,Yt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Be(this,ua,!0),n.signal)})},a=()=>{const h=$S(this.options,r),v=(()=>{const g={client:te(this,ca),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return Be(this,ua,!1),this.options.persister?this.options.persister(h,v,this):h(v)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:te(this,ca),state:this.state,fetchFn:a};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),Be(this,la,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Ht(this,an,Dn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var p,v,g,b;vf(h)&&h.silent||Ht(this,an,Dn).call(this,{type:"error",error:h}),vf(h)||((v=(p=te(this,Fr).config).onError)==null||v.call(p,h,this),(b=(g=te(this,Fr).config).onSettled)==null||b.call(g,this.state.data,h,this)),this.scheduleGc()};return Be(this,Yt,WS({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,v,g,b;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(v=(p=te(this,Fr).config).onSuccess)==null||v.call(p,h,this),(b=(g=te(this,Fr).config).onSettled)==null||b.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{Ht(this,an,Dn).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Ht(this,an,Dn).call(this,{type:"pause"})},onContinue:()=>{Ht(this,an,Dn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),te(this,Yt).start()}},gi=new WeakMap,la=new WeakMap,Fr=new WeakMap,ca=new WeakMap,Yt=new WeakMap,al=new WeakMap,ua=new WeakMap,an=new WeakSet,Dn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...GA(n.data,this.options),fetchMeta:t.meta??null};case"success":return Be(this,la,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return vf(s)&&s.revert&&te(this,la)?{...te(this,la),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),nr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),te(this,Fr).notify({query:this,type:"updated",action:t})})},Jx);function GA(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:US(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function qA(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var wn,Xx,KA=(Xx=class extends Ju{constructor(t={}){super();Xe(this,wn);this.config=t,Be(this,wn,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??Dm(s,r);let i=this.get(a);return i||(i=new HA({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){te(this,wn).has(t.queryHash)||(te(this,wn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=te(this,wn).get(t.queryHash);r&&(t.destroy(),r===t&&te(this,wn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return te(this,wn).get(t)}getAll(){return[...te(this,wn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>hy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>hy(t,n)):r}notify(t){nr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){nr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},wn=new WeakMap,Xx),Sn,er,da,jn,is,Zx,YA=(Zx=class extends VS{constructor(t){super();Xe(this,jn);Xe(this,Sn);Xe(this,er);Xe(this,da);this.mutationId=t.mutationId,Be(this,er,t.mutationCache),Be(this,Sn,[]),this.state=t.state||QA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){te(this,Sn).includes(t)||(te(this,Sn).push(t),this.clearGcTimeout(),te(this,er).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Be(this,Sn,te(this,Sn).filter(r=>r!==t)),this.scheduleGc(),te(this,er).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){te(this,Sn).length||(this.state.status==="pending"?this.scheduleGc():te(this,er).remove(this))}continue(){var t;return((t=te(this,da))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,l,c,u,d,f,h,p,v,g,b,y,x,w,S,N,j,_,E;const r=()=>{Ht(this,jn,is).call(this,{type:"continue"})};Be(this,da,WS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(B,I)=>{Ht(this,jn,is).call(this,{type:"failed",failureCount:B,error:I})},onPause:()=>{Ht(this,jn,is).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,er).canRun(this)}));const n=this.state.status==="pending",s=!te(this,da).canStart();try{if(n)r();else{Ht(this,jn,is).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=te(this,er).config).onMutate)==null?void 0:i.call(a,t,this));const I=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));I!==this.state.context&&Ht(this,jn,is).call(this,{type:"pending",context:I,variables:t,isPaused:s})}const B=await te(this,da).start();return await((d=(u=te(this,er).config).onSuccess)==null?void 0:d.call(u,B,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,B,t,this.state.context)),await((v=(p=te(this,er).config).onSettled)==null?void 0:v.call(p,B,null,this.state.variables,this.state.context,this)),await((b=(g=this.options).onSettled)==null?void 0:b.call(g,B,null,t,this.state.context)),Ht(this,jn,is).call(this,{type:"success",data:B}),B}catch(B){try{throw await((x=(y=te(this,er).config).onError)==null?void 0:x.call(y,B,t,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,B,t,this.state.context)),await((j=(N=te(this,er).config).onSettled)==null?void 0:j.call(N,void 0,B,this.state.variables,this.state.context,this)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,void 0,B,t,this.state.context)),B}finally{Ht(this,jn,is).call(this,{type:"error",error:B})}}finally{te(this,er).runNext(this)}}},Sn=new WeakMap,er=new WeakMap,da=new WeakMap,jn=new WeakSet,is=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),nr.batch(()=>{te(this,Sn).forEach(n=>{n.onMutationUpdate(t)}),te(this,er).notify({mutation:this,type:"updated",action:t})})},Zx);function QA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $n,on,il,eb,JA=(eb=class extends Ju{constructor(t={}){super();Xe(this,$n);Xe(this,on);Xe(this,il);this.config=t,Be(this,$n,new Set),Be(this,on,new Map),Be(this,il,0)}build(t,r,n){const s=new YA({mutationCache:this,mutationId:++kl(this,il)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){te(this,$n).add(t);const r=Xl(t);if(typeof r=="string"){const n=te(this,on).get(r);n?n.push(t):te(this,on).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(te(this,$n).delete(t)){const r=Xl(t);if(typeof r=="string"){const n=te(this,on).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&te(this,on).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Xl(t);if(typeof r=="string"){const n=te(this,on).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Xl(t);if(typeof r=="string"){const s=(n=te(this,on).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){nr.batch(()=>{te(this,$n).forEach(t=>{this.notify({type:"removed",mutation:t})}),te(this,$n).clear(),te(this,on).clear()})}getAll(){return Array.from(te(this,$n))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>py(r,n))}findAll(t={}){return this.getAll().filter(r=>py(t,r))}notify(t){nr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return nr.batch(()=>Promise.all(t.map(r=>r.continue().catch(sn))))}},$n=new WeakMap,on=new WeakMap,il=new WeakMap,eb);function Xl(e){var t;return(t=e.options.scope)==null?void 0:t.id}function vy(e){return{onFetch:(t,r)=>{var d,f,h,p,v;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=$S(t.options,t.fetchOptions),x=async(w,S,N)=>{if(g)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const _=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:S,direction:N?"backward":"forward",meta:t.options.meta};return b(F),F})(),E=await y(_),{maxPages:B}=t.options,I=N?LA:MA;return{pages:I(w.pages,E,B),pageParams:I(w.pageParams,S,B)}};if(s&&a.length){const w=s==="backward",S=w?XA:yy,N={pages:a,pageParams:i},j=S(n,N);l=await x(N,j,w)}else{const w=e??a.length;do{const S=c===0?i[0]??n.initialPageParam:yy(n,l);if(c>0&&S==null)break;l=await x(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function yy(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function XA(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var wt,vs,ys,vi,yi,xs,xi,bi,tb,ZA=(tb=class{constructor(e={}){Xe(this,wt);Xe(this,vs);Xe(this,ys);Xe(this,vi);Xe(this,yi);Xe(this,xs);Xe(this,xi);Xe(this,bi);Be(this,wt,e.queryCache||new KA),Be(this,vs,e.mutationCache||new JA),Be(this,ys,e.defaultOptions||{}),Be(this,vi,new Map),Be(this,yi,new Map),Be(this,xs,0)}mount(){kl(this,xs)._++,te(this,xs)===1&&(Be(this,xi,FS.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,wt).onFocus())})),Be(this,bi,ou.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,wt).onOnline())})))}unmount(){var e,t;kl(this,xs)._--,te(this,xs)===0&&((e=te(this,xi))==null||e.call(this),Be(this,xi,void 0),(t=te(this,bi))==null||t.call(this),Be(this,bi,void 0))}isFetching(e){return te(this,wt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return te(this,vs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,wt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=te(this,wt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Gh(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return te(this,wt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=te(this,wt).get(n.queryHash),a=s==null?void 0:s.state.data,i=AA(t,a);if(i!==void 0)return te(this,wt).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return nr.batch(()=>te(this,wt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,wt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=te(this,wt);nr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=te(this,wt);return nr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=nr.batch(()=>te(this,wt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(sn).catch(sn)}invalidateQueries(e,t={}){return nr.batch(()=>(te(this,wt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=nr.batch(()=>te(this,wt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(sn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(sn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=te(this,wt).build(this,t);return r.isStaleByTime(Gh(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(sn).catch(sn)}fetchInfiniteQuery(e){return e.behavior=vy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(sn).catch(sn)}ensureInfiniteQueryData(e){return e.behavior=vy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ou.isOnline()?te(this,vs).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,wt)}getMutationCache(){return te(this,vs)}getDefaultOptions(){return te(this,ys)}setDefaultOptions(e){Be(this,ys,e)}setQueryDefaults(e,t){te(this,vi).set(Qo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...te(this,vi).values()],r={};return t.forEach(n=>{Jo(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){te(this,yi).set(Qo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...te(this,yi).values()],r={};return t.forEach(n=>{Jo(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...te(this,ys).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Dm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Om&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...te(this,ys).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){te(this,wt).clear(),te(this,vs).clear()}},wt=new WeakMap,vs=new WeakMap,ys=new WeakMap,vi=new WeakMap,yi=new WeakMap,xs=new WeakMap,xi=new WeakMap,bi=new WeakMap,tb),eR=m.createContext(void 0),tR=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(eR.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lu.apply(this,arguments)}var Ss;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ss||(Ss={}));const xy="popstate";function rR(e){e===void 0&&(e={});function t(s,a){let{pathname:i="/",search:l="",hash:c=""}=ml(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),Kh("",{pathname:i,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){let i=s.document.querySelector("base"),l="";if(i&&i.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof a=="string"?a:HS(a))}function n(s,a){Bm(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return sR(t,r,n,e)}function Sr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nR(){return Math.random().toString(36).substr(2,8)}function by(e,t){return{usr:e.state,key:e.key,idx:t}}function Kh(e,t,r,n){return r===void 0&&(r=null),lu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ml(t):t,{state:r,key:t&&t.key||n||nR()})}function HS(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ml(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function sR(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,l=Ss.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(lu({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Ss.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:g.location,delta:y})}function h(b,y){l=Ss.Push;let x=Kh(g.location,b,y);r&&r(x,b),u=d()+1;let w=by(x,u),S=g.createHref(x);try{i.pushState(w,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(S)}a&&c&&c({action:l,location:g.location,delta:1})}function p(b,y){l=Ss.Replace;let x=Kh(g.location,b,y);r&&r(x,b),u=d();let w=by(x,u),S=g.createHref(x);i.replaceState(w,"",S),a&&c&&c({action:l,location:g.location,delta:0})}function v(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:HS(b);return x=x.replace(/ $/,"%20"),Sr(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return l},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(xy,f),c=b,()=>{s.removeEventListener(xy,f),c=null}},createHref(b){return t(s,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(b){return i.go(b)}};return g}var wy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wy||(wy={}));function aR(e,t,r){return r===void 0&&(r="/"),iR(e,t,r)}function iR(e,t,r,n){let s=typeof t=="string"?ml(t):t,a=KS(s.pathname||"/",r);if(a==null)return null;let i=GS(e);oR(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=xR(a);l=gR(i[c],u)}return l}function GS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(Sr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=di([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Sr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),GS(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:pR(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of qS(a.path))s(a,i,c)}),t}function qS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=qS(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function oR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:mR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lR=/^:[\w-]+$/,cR=3,uR=2,dR=1,fR=10,hR=-2,Sy=e=>e==="*";function pR(e,t){let r=e.split("/"),n=r.length;return r.some(Sy)&&(n+=hR),t&&(n+=uR),r.filter(s=>!Sy(s)).reduce((s,a)=>s+(lR.test(a)?cR:a===""?dR:fR),n)}function mR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function gR(e,t,r){let{routesMeta:n}=e,s={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=vR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:di([a,f.pathname]),pathnameBase:bR(di([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=di([a,f.pathnameBase]))}return i}function vR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=yR(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=l[f]||"";i=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[f];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function yR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Bm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function xR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function KS(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const di=e=>e.join("/").replace(/\/\/+/g,"/"),bR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function wR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const YS=["post","put","patch","delete"];new Set(YS);const SR=["get",...YS];new Set(SR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cu.apply(this,arguments)}const jR=m.createContext(null),NR=m.createContext(null),QS=m.createContext(null),Zu=m.createContext(null),ed=m.createContext({outlet:null,matches:[],isDataRoute:!1}),JS=m.createContext(null);function Mm(){return m.useContext(Zu)!=null}function XS(){return Mm()||Sr(!1),m.useContext(Zu).location}function _R(e,t){return ER(e,t)}function ER(e,t,r,n){Mm()||Sr(!1);let{navigator:s}=m.useContext(QS),{matches:a}=m.useContext(ed),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=XS(),d;if(t){var f;let b=typeof t=="string"?ml(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Sr(!1),d=b}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=aR(e,{pathname:p}),g=AR(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:di([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:di([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return t&&g?m.createElement(Zu.Provider,{value:{location:cu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ss.Pop}},g):g}function CR(){let e=OR(),t=wR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const TR=m.createElement(CR,null);class PR extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(ed.Provider,{value:this.props.routeContext},m.createElement(JS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kR(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(jR);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(ed.Provider,{value:t},n)}function AR(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Sr(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let p,v=!1,g=null,b=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||TR,c&&(u<0&&h===0?(BR("route-fallback"),v=!0,b=null):u===h&&(v=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),x=()=>{let w;return p?w=g:v?w=b:f.route.Component?w=m.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,m.createElement(kR,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(PR,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var ZS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ZS||{});function RR(e){let t=m.useContext(NR);return t||Sr(!1),t}function IR(e){let t=m.useContext(ed);return t||Sr(!1),t}function DR(e){let t=IR(),r=t.matches[t.matches.length-1];return r.route.id||Sr(!1),r.route.id}function OR(){var e;let t=m.useContext(JS),r=RR(ZS.UseRouteError),n=DR();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}const jy={};function BR(e,t,r){jy[e]||(jy[e]=!0)}function MR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Cc(e){Sr(!1)}function LR(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ss.Pop,navigator:a,static:i=!1,future:l}=e;Mm()&&Sr(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:i,future:cu({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=ml(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,g=m.useMemo(()=>{let b=KS(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:v},navigationType:s}},[c,d,f,h,p,v,s]);return g==null?null:m.createElement(QS.Provider,{value:u},m.createElement(Zu.Provider,{children:r,value:g}))}function $R(e){let{children:t,location:r}=e;return _R(Yh(t),r)}new Promise(()=>{});function Yh(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let a=[...t,s];if(n.type===m.Fragment){r.push.apply(r,Yh(n.props.children,a));return}n.type!==Cc&&Sr(!1),!n.props.index||!n.props.children||Sr(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Yh(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const FR="6";try{window.__reactRouterVersion=FR}catch{}const UR="startTransition",Ny=Np[UR];function zR(e){let{basename:t,children:r,future:n,window:s}=e,a=m.useRef();a.current==null&&(a.current=rR({window:s,v5Compat:!0}));let i=a.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=m.useCallback(f=>{u&&Ny?Ny(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.useEffect(()=>MR(n),[n]),m.createElement(LR,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}var _y;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_y||(_y={}));var Ey;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ey||(Ey={}));const WR="modulepreload",VR=function(e){return"/BidWhist/"+e},Cy={},Ue=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=VR(c),c in Cy)return;Cy[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":WR,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},HR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ue(async()=>{const{default:n}=await Promise.resolve().then(()=>Ui);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Lm extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class GR extends Lm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ty extends Lm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Py extends Lm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Qh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Qh||(Qh={}));var qR=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class KR{constructor(t,{headers:r={},customFetch:n,region:s=Qh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=HR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return qR(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:i}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(g=>{throw new GR(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Ty(f);if(!f.ok)throw new Py(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield f.json():p==="application/octet-stream"?v=yield f.blob():p==="text/event-stream"?v=f:p==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Py||s instanceof Ty?s.context:void 0}}})}}var vr={},$m={},td={},gl={},rd={},nd={},YR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ai=YR();const QR=Ai.fetch,e1=Ai.fetch.bind(Ai),t1=Ai.Headers,JR=Ai.Request,XR=Ai.Response,Ui=Object.freeze(Object.defineProperty({__proto__:null,Headers:t1,Request:JR,Response:XR,default:e1,fetch:QR},Symbol.toStringTag,{value:"Module"})),ZR=q_(Ui);var sd={};Object.defineProperty(sd,"__esModule",{value:!0});let eI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};sd.default=eI;var r1=qr&&qr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nd,"__esModule",{value:!0});const tI=r1(ZR),rI=r1(sd);let nI=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=tI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c;let u=null,d=null,f=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{u=JSON.parse(g),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,p="OK")}catch{a.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new rI.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};nd.default=nI;var sI=qr&&qr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rd,"__esModule",{value:!0});const aI=sI(nd);let iI=class extends aI.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};rd.default=iI;var oI=qr&&qr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gl,"__esModule",{value:!0});const lI=oI(rd);let cI=class extends lI.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};gl.default=cI;var uI=qr&&qr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(td,"__esModule",{value:!0});const no=uI(gl);let dI=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new no.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new no.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new no.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new no.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new no.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};td.default=dI;var ad={},id={};Object.defineProperty(id,"__esModule",{value:!0});id.version=void 0;id.version="0.0.0-automated";Object.defineProperty(ad,"__esModule",{value:!0});ad.DEFAULT_HEADERS=void 0;const fI=id;ad.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fI.version}`};var n1=qr&&qr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($m,"__esModule",{value:!0});const hI=n1(td),pI=n1(gl),mI=ad;let gI=class s1{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},mI.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new hI.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new s1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new pI.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};$m.default=gI;var zi=qr&&qr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vr,"__esModule",{value:!0});vr.PostgrestError=vr.PostgrestBuilder=vr.PostgrestTransformBuilder=vr.PostgrestFilterBuilder=vr.PostgrestQueryBuilder=vr.PostgrestClient=void 0;const a1=zi($m);vr.PostgrestClient=a1.default;const i1=zi(td);vr.PostgrestQueryBuilder=i1.default;const o1=zi(gl);vr.PostgrestFilterBuilder=o1.default;const l1=zi(rd);vr.PostgrestTransformBuilder=l1.default;const c1=zi(nd);vr.PostgrestBuilder=c1.default;const u1=zi(sd);vr.PostgrestError=u1.default;var vI=vr.default={PostgrestClient:a1.default,PostgrestQueryBuilder:i1.default,PostgrestFilterBuilder:o1.default,PostgrestTransformBuilder:l1.default,PostgrestBuilder:c1.default,PostgrestError:u1.default};const{PostgrestClient:yI,PostgrestQueryBuilder:V5,PostgrestFilterBuilder:H5,PostgrestTransformBuilder:G5,PostgrestBuilder:q5,PostgrestError:K5}=vI;function xI(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const bI=xI(),wI="2.11.15",SI=`realtime-js/${wI}`,jI="1.0.0",d1=1e4,NI=1e3;var _o;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_o||(_o={}));var Kt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Kt||(Kt={}));var cn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(cn||(cn={}));var Jh;(function(e){e.websocket="websocket"})(Jh||(Jh={}));var ra;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ra||(ra={}));class _I{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class f1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ct||(ct={}));const ky=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,i)=>(a[i]=EI(i,e,t,s),a),{})},EI=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?h1(a,i):Xh(i)},h1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return kI(t,r)}switch(e){case ct.bool:return CI(t);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return TI(t);case ct.json:case ct.jsonb:return PI(t);case ct.timestamp:return AI(t);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return Xh(t);default:return Xh(t)}},Xh=e=>e,CI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},TI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},PI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},kI=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>h1(t,l))}return e},AI=e=>typeof e=="string"?e.replace(" ","T"):e,p1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class yf{constructor(t,r,n={},s=d1){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ay;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ay||(Ay={}));class Eo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Eo.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=Eo.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Eo.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=a[u];if(f){const h=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),v=d.filter(b=>p.indexOf(b.presence_ref)<0),g=f.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ry;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ry||(Ry={}));var Iy;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Iy||(Iy={}));var Mn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Mn||(Mn={}));class Fm{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yf(this,cn.join,this.params,this.timeout),this.rejoinTimer=new f1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Kt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Eo(this),this.broadcastEndpointURL=p1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Kt.closed){const{config:{broadcast:a,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Mn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Mn.CLOSED));const c={},u={broadcast:a,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Mn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let g=0;g<p;g++){const b=h[g],{filter:{event:y,schema:x,table:w,filter:S}}=b,N=d&&d[g];if(N&&N.event===y&&N.schema===x&&N.table===w&&N.filter===S)v.push(Object.assign(Object.assign({},b),{id:N.id}));else{this.unsubscribe(),this.state=Kt.errored,t==null||t(Mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Mn.SUBSCRIBED);return}}).receive("error",d=>{this.state=Kt.errored,t==null||t(Mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Kt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new yf(this,cn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new yf(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=cn;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,g,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(p=>p.callback(h,n)):(a=this.bindings[i])===null||a===void 0||a.filter(p=>{var v,g,b,y,x,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const S=p.id,N=(v=p.filter)===null||v===void 0?void 0:v.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:g,table:b,commit_timestamp:y,type:x,errors:w}=v;h=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:y,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===Kt.closed}_isJoined(){return this.state===Kt.joined}_isJoining(){return this.state===Kt.joining}_isLeaving(){return this.state===Kt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Fm.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(cn.close,{},t)}_onError(t){this._on(cn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Kt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ky(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ky(t.columns,t.old_record)),r}}const Dy=()=>{},RI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class II{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=d1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dy,this.ref=0,this.logger=Dy,this.conn=null,this.sendBuffer=[],this.serializer=new _I,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...l)=>Ue(async()=>{const{default:c}=await Promise.resolve().then(()=>Ui);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${Jh.websocket}`,this.httpEndpoint=p1(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,i)=>i(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new f1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=bI),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jI}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _o.connecting:return ra.Connecting;case _o.open:return ra.Open;case _o.closing:return ra.Closing;default:return ra.Closed}}isConnected(){return this.connectionState()===ra.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Fm(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:SI};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(cn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(NI,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:i}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,a,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(cn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([RI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Um extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function At(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class DI extends Um{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zh extends Um{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var OI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const m1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ue(async()=>{const{default:n}=await Promise.resolve().then(()=>Ui);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},BI=()=>OI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ue(()=>Promise.resolve().then(()=>Ui),void 0)).Response:Response}),ep=e=>{if(Array.isArray(e))return e.map(r=>ep(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=ep(n)}),t};var Pa=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const xf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MI=(e,t,r)=>Pa(void 0,void 0,void 0,function*(){const n=yield BI();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new DI(xf(s),e.status||500))}).catch(s=>{t(new Zh(xf(s),s))}):t(new Zh(xf(e),e))}),LI=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function vl(e,t,r,n,s,a){return Pa(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,LI(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>MI(c,l,n))})})}function uu(e,t,r,n){return Pa(this,void 0,void 0,function*(){return vl(e,"GET",t,r,n)})}function ds(e,t,r,n,s){return Pa(this,void 0,void 0,function*(){return vl(e,"POST",t,n,s,r)})}function $I(e,t,r,n,s){return Pa(this,void 0,void 0,function*(){return vl(e,"PUT",t,n,s,r)})}function FI(e,t,r,n){return Pa(this,void 0,void 0,function*(){return vl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function g1(e,t,r,n,s){return Pa(this,void 0,void 0,function*(){return vl(e,"DELETE",t,n,s,r)})}var lr=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const UI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Oy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zI{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=m1(s)}uploadOrUpdate(t,r,n,s){return lr(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},Oy),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(At(a))return{data:null,error:a};throw a}})}upload(t,r,n){return lr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return lr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Oy.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(At(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return lr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield ds(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new Um("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}update(t,r,n){return lr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return lr(this,void 0,void 0,function*(){try{return{data:yield ds(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}copy(t,r,n){return lr(this,void 0,void 0,function*(){try{return{data:{path:(yield ds(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return lr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield ds(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return lr(this,void 0,void 0,function*(){try{const s=yield ds(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}download(t,r){return lr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield uu(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(At(l))return{data:null,error:l};throw l}})}info(t){return lr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield uu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ep(n),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}exists(t){return lr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield FI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(At(n)&&n instanceof Zh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return lr(this,void 0,void 0,function*(){try{return{data:yield g1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}list(t,r,n){return lr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},UI),r),{prefix:t||""});return{data:yield ds(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const WI="2.7.1",VI={"X-Client-Info":`storage-js/${WI}`};var Aa=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class HI{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},VI),r),this.fetch=m1(n)}listBuckets(){return Aa(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(At(t))return{data:null,error:t};throw t}})}getBucket(t){return Aa(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Aa(this,void 0,void 0,function*(){try{return{data:yield ds(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Aa(this,void 0,void 0,function*(){try{return{data:yield $I(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Aa(this,void 0,void 0,function*(){try{return{data:yield ds(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Aa(this,void 0,void 0,function*(){try{return{data:yield g1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}}class GI extends HI{constructor(t,r={},n){super(t,r,n)}from(t){return new zI(this.url,this.headers,t,this.fetch)}}const qI="2.52.0";let fo="";typeof Deno<"u"?fo="deno":typeof document<"u"?fo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fo="react-native":fo="node";const KI={"X-Client-Info":`supabase-js-${fo}/${qI}`},YI={headers:KI},QI={schema:"public"},JI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XI={};var ZI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const eD=e=>{let t;return e?t=e:typeof fetch>"u"?t=e1:t=fetch,(...r)=>t(...r)},tD=()=>typeof Headers>"u"?t1:Headers,rD=(e,t,r)=>{const n=eD(r),s=tD();return(a,i)=>ZI(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))})};var nD=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function sD(e){return e.endsWith("/")?e:e+"/"}function aD(e,t){var r,n;const{db:s,auth:a,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>nD(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const v1="2.71.1",Fa=30*1e3,tp=3,bf=tp*Fa,iD="http://localhost:9999",oD="supabase.auth.token",lD={"X-Client-Info":`gotrue-js/${v1}`},rp="X-Supabase-Api-Version",y1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uD=10*60*1e3;class zm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class dD extends zm{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function fD(e){return Me(e)&&e.name==="AuthApiError"}class x1 extends zm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Hs extends zm{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class os extends Hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hD(e){return Me(e)&&e.name==="AuthSessionMissingError"}class Zl extends Hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ec extends Hs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class tc extends Hs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pD(e){return Me(e)&&e.name==="AuthImplicitGrantRedirectError"}class By extends Hs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class np extends Hs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function wf(e){return Me(e)&&e.name==="AuthRetryableFetchError"}class My extends Hs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class sp extends Hs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const du="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ly=` 	
\r=`.split(""),mD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ly.length;t+=1)e[Ly[t].charCodeAt(0)]=-2;for(let t=0;t<du.length;t+=1)e[du[t].charCodeAt(0)]=t;return e})();function $y(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(du[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(du[n]),t.queuedBits-=6}}function b1(e,t,r){const n=mD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Fy(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{yD(i,n,r)};for(let i=0;i<e.length;i+=1)b1(e.charCodeAt(i),s,a);return t.join("")}function gD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function vD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}gD(n,t)}}function yD(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function xD(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)b1(e.charCodeAt(s),r,n);return new Uint8Array(t)}function bD(e){const t=[];return vD(e,r=>t.push(r)),new Uint8Array(t)}function wD(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>$y(s,r,n)),$y(null,r,n),t.join("")}function SD(e){return Math.round(Date.now()/1e3)+e}function jD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const en=()=>typeof window<"u"&&typeof document<"u",Ys={tested:!1,writable:!1},w1=()=>{if(!en())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ys.tested)return Ys.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ys.tested=!0,Ys.writable=!0}catch{Ys.tested=!0,Ys.writable=!1}return Ys.writable};function ND(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const S1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ue(async()=>{const{default:n}=await Promise.resolve().then(()=>Ui);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},_D=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ua=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Qs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ss=async(e,t)=>{await e.removeItem(t)};class od{constructor(){this.promise=new od.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}od.promiseConstructor=Promise;function Sf(e){const t=e.split(".");if(t.length!==3)throw new sp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!cD.test(t[n]))throw new sp("JWT not in base64url format");return{header:JSON.parse(Fy(t[0])),payload:JSON.parse(Fy(t[1])),signature:xD(t[2]),raw:{header:t[0],payload:t[1]}}}async function ED(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function CD(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function TD(e){return("0"+e.toString(16)).substr(-2)}function PD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,TD).join("")}async function kD(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function AD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await kD(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ra(e,t,r=!1){const n=PD();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ua(e,`${t}-code-verifier`,s);const a=await AD(n);return[a,n===a?"plain":"s256"]}const RD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ID(e){const t=e.headers.get(rp);if(!t||!t.match(RD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function DD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function OD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ia(e){if(!BD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jf(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Uy(e){return JSON.parse(JSON.stringify(e))}var MD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ea=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LD=[502,503,504];async function zy(e){var t;if(!_D(e))throw new np(ea(e),0);if(LD.includes(e.status))throw new np(ea(e),e.status);let r;try{r=await e.json()}catch(a){throw new x1(ea(a),a)}let n;const s=ID(e);if(s&&s.getTime()>=y1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new My(ea(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new os}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new My(ea(r),e.status,r.weak_password.reasons);throw new dD(ea(r),e.status||500,n)}const $D=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function We(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[rp]||(a[rp]=y1["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await FD(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function FD(e,t,r,n,s,a){const i=$D(t,n,s,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new np(ea(c),0)}if(l.ok||await zy(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await zy(c)}}function On(e){var t;let r=null;VD(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=SD(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Wy(e){const t=On(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ps(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function UD(e){return{data:e,error:null}}function zD(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=MD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function WD(e){return e}function VD(e){return e.access_token&&e.refresh_token&&e.expires_in}const Nf=["global","local","others"];var HD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class GD{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=S1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Nf[0]){if(Nf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Nf.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ps})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=HD(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:zD,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ps})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:WD});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Me(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ia(t);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ps})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ia(t);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ps})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ia(t);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ps})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ia(t.userId);try{const{data:r,error:n}=await We(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ia(t.userId),Ia(t.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}}function Vy(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function qD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Da={debug:!!(globalThis&&w1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class j1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class KD extends j1{}async function YD(e,t,r){Da.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Da.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Da.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Da.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Da.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new KD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Da.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}qD();const QD={url:iD,storageKey:oD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hy(e,t,r){return await r()}const Oa={};class Xo{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xo.nextInstanceID,Xo.nextInstanceID+=1,this.instanceID>0&&en()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},QD),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new GD({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=S1(s.fetch),this.lock=s.lock||Hy,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:en()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=YD:this.lock=Hy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:w1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vy(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Vy(this.memoryStorage)),en()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Oa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Oa[this.storageKey]=Object.assign(Object.assign({},Oa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Oa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Oa[this.storageKey]=Object.assign(Object.assign({},Oa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${v1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=ND(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),en()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),pD(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Me(r)?{error:r}:{error:new x1("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:On}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Me(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Ra(this.storage,this.storageKey)),a=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:On})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:On})}else throw new ec("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Me(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wy})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wy})}else throw new ec("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Zl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,i,l,c,u,d,f,h,p;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:b,wallet:y,statement:x,options:w}=t;let S;if(en())if(typeof y=="object")S=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const N=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),x?{statement:x}:null));let _;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")_=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)_=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)v=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),g=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=j}}try{const{data:b,error:y}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:wD(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:On});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Zl}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(Me(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await Qs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:i}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:On});if(await ss(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Zl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(Me(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,l=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:On}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Zl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ra(this.storage,this.storageKey));const{error:f}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ec("You must provide either an email or phone number.")}catch(l){if(Me(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:On});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await Ra(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:UD})}catch(a){if(Me(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new os;const{error:s}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Me(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await We(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:l}=await We(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new ec("You must provide either an email or phone number and a type")}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Qs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<bf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await Qs(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=jf()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ps}):await this._useSession(async r=>{var n,s,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new os}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:ps})})}catch(r){if(Me(r))return hD(r)&&(await this._removeSession(),await ss(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new os;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ra(this.storage,this.storageKey));const{data:u,error:d}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:ps});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new os;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=Sf(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Me(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new os;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!en())throw new tc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new tc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new By("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new By("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new tc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Fa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:g,error:b}=await this._getUser(a);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Qs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(fD(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ss(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=jD(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ra(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Me(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return en()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Me(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await CD(async s=>(s>0&&await ED(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:On})),(s,a)=>{const i=200*Math.pow(2,s);return a&&wf(a)&&Date.now()+i-n<Fa})}catch(n){if(this._debug(r,"error",n),Me(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),en()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Qs(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Qs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Ua(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:jf()}else if(s&&!s.user&&!s.user){const i=await Qs(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await ss(this.storage,this.storageKey+"-user"),await Ua(this.storage,this.storageKey,s)):s.user=jf()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<bf;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${bf}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),wf(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new os;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new od;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new os;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),Me(a)){const i={session:null,error:a};return wf(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ua(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=Uy(s);await Ua(this.storage,this.storageKey,a)}else{const s=Uy(r);await Ua(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ss(this.storage,this.storageKey),await ss(this.storage,this.storageKey+"-code-verifier"),await ss(this.storage,this.storageKey+"-user"),this.userStorage&&await ss(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&en()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Fa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Fa}ms, refresh threshold is ${tp} ticks`),s<=tp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof j1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!en()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await Ra(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await We(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await We(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:i,error:l}=await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(Me(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await We(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Me(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Sf(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+uD>s)return n;const{data:a,error:i}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=Sf(n);r!=null&&r.allowExpired||DD(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:s,signature:i},error:null}}const d=OD(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,bD(`${l}.${c}`)))throw new sp("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}}Xo.nextInstanceID=0;const JD=Xo;class XD extends JD{constructor(t){super(t)}}var ZD=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class eO{constructor(t,r,n){var s,a,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=sD(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:QI,realtime:XI,auth:Object.assign(Object.assign({},JI),{storageKey:u}),global:YI},f=aD(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=rD(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new yI(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new KR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new GI(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return ZD(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new XD({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new II(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tO=(e,t,r)=>new eO(e,t,r),rO="https://awfupnyqnmkhhihjwtjp.supabase.co",nO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF3ZnVwbnlxbm1raGhpaGp3dGpwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI3ODY2OTgsImV4cCI6MjA2ODM2MjY5OH0.ThT4hwPe9mddo8GV8rE3nDueRHKttHaYp7S676JUREg",rt=tO(rO,nO),et=Object.freeze(Object.defineProperty({__proto__:null,supabase:rt},Symbol.toStringTag,{value:"Module"})),N1=m.createContext({}),_t=()=>m.useContext(N1),sO=(e,t,r)=>({updateTournamentResult:(i,l,c,u,d)=>{t(f=>{const p=(f[i]||[]).map(v=>{if(v.teamId===l){const g={...v.rounds};g[c]||(g[c]={points:0,wl:"",boston:0}),g[c]={...g[c],[u]:d};const b=Object.values(g).reduce((w,S)=>w+(S.points||0),0),y=Object.values(g).filter(w=>w.wl==="W").length,x=Object.values(g).reduce((w,S)=>w+(S.boston||0),0);return{...v,rounds:g,totalPoints:b,totalWins:y,totalBoston:x}}return v});return{...f,[i]:p}})},getTournamentResults:i=>{const l=r.filter(f=>{var h;return(h=f.registeredTournaments)==null?void 0:h.includes(i)}),c=e[i]||[],u={};return c.forEach(f=>{u[f.teamId]=f}),l.map(f=>u[f.id]?u[f.id]:{teamId:f.id,teamNumber:f.teamNumber,teamName:f.name,rounds:{},totalPoints:0,totalWins:0,totalBoston:0})},formatTeamName:(i,l)=>{if(!i.trim()||!l.trim())return"";const c=l.trim().charAt(0).toUpperCase();return`${i.trim()} ${c}`}}),_1=({children:e})=>{["teams","schedules","games","scoreSubmissions"].forEach(P=>localStorage.removeItem(P)),J.useEffect(()=>{Ue(async()=>{const{supabase:P}=await Promise.resolve().then(()=>et);return{supabase:P}},void 0).then(({supabase:P})=>{P.from("teams").select("*").limit(1).then(U=>{}).catch(U=>{})})},[]);const t=P=>{if(P){const fe=p.find(he=>he.tournamentId===P),ae=fe?fe.matches.map(he=>he.id):[];u(he=>he.filter(Ae=>!Ae.matchId||!ae.includes(Ae.matchId))),localStorage.setItem("games",JSON.stringify(JSON.parse(localStorage.getItem("games")||"[]").filter(he=>!he.matchId||!ae.includes(he.matchId)))),h(he=>he.filter(Ae=>!Ae.matchId||!ae.includes(Ae.matchId))),localStorage.setItem("scoreSubmissions",JSON.stringify(JSON.parse(localStorage.getItem("scoreSubmissions")||"[]").filter(he=>!he.matchId||!ae.includes(he.matchId))))}else u([]),localStorage.setItem("games",JSON.stringify([])),h([]),localStorage.setItem("scoreSubmissions",JSON.stringify([]));x(fe=>{if(!P)return{};const ae={...fe};return delete ae[P],ae});const U=localStorage.getItem("tournamentResults");let z=U?JSON.parse(U):{};P&&typeof z=="object"&&z!==null?(delete z[P],localStorage.setItem("tournamentResults",JSON.stringify(z))):P||localStorage.setItem("tournamentResults",JSON.stringify({}));const M=localStorage.getItem("resultsOverrides");let H=M?JSON.parse(M):{};P&&typeof H=="object"&&H!==null?localStorage.setItem("resultsOverrides",JSON.stringify({})):P||localStorage.setItem("resultsOverrides",JSON.stringify({})),v(fe=>P?fe.filter(ae=>ae.tournamentId!==P):[]),localStorage.setItem("schedules",JSON.stringify(P?JSON.parse(localStorage.getItem("schedules")||"[]").filter(fe=>fe.tournamentId!==P):[])),S(fe=>{if(!P)return{};const ae={...fe};return delete ae[P],ae});const $=localStorage.getItem("brackets");let le=$?JSON.parse($):{};P&&typeof le=="object"&&le!==null?(delete le[P],localStorage.setItem("brackets",JSON.stringify(le))):P||localStorage.setItem("brackets",JSON.stringify({}))},[r,n]=m.useState(!1),[s,a]=m.useState([]),[i,l]=m.useState([]);m.useEffect(()=>{Ue(()=>Promise.resolve().then(()=>et),void 0).then(async({supabase:P})=>{const{data:U,error:z}=await P.from("teams").select(`
          *,
          player1:players!player1_id(*),
          player2:players!player2_id(*)
        `);if(z){console.error("Error fetching teams:",z),a([]);return}const{data:M,error:H}=await P.from("team_registrations").select("*"),{data:$,error:le}=await P.from("player_tournament").select("*");if(H){console.error("Error fetching team registrations:",H);const ae=(U||[]).map(he=>{var Ae,$e,be,Ne,D,ee,ce,me;return{...he,id:String(he.id),player1FirstName:((Ae=he.player1)==null?void 0:Ae.first_name)||"",player1LastName:(($e=he.player1)==null?void 0:$e.last_name)||"",player2FirstName:((be=he.player2)==null?void 0:be.first_name)||"",player2LastName:((Ne=he.player2)==null?void 0:Ne.last_name)||"",phoneNumber:((D=he.player1)==null?void 0:D.phone_number)||((ee=he.player2)==null?void 0:ee.phone_number)||"",city:((ce=he.player1)==null?void 0:ce.city)||((me=he.player2)==null?void 0:me.city)||"",registeredTournaments:[]}});a(ae);return}const fe=(U||[]).map(ae=>{var ee,ce,me,tt,Tt,gt,it,or;const Ae=M.filter(Ee=>String(Ee.team_id)===String(ae.id)).map(Ee=>Ee.tournament_id),$e={},be={},Ne={},D={};return $&&!le&&$.forEach(Ee=>{Ee.player_id===ae.player1_id?($e[Ee.tournament_id]=Ee.paid,Ne[Ee.tournament_id]=Ee.b_paid):Ee.player_id===ae.player2_id&&(be[Ee.tournament_id]=Ee.paid,D[Ee.tournament_id]=Ee.b_paid)}),{...ae,id:String(ae.id),player1FirstName:((ee=ae.player1)==null?void 0:ee.first_name)||"",player1LastName:((ce=ae.player1)==null?void 0:ce.last_name)||"",player2FirstName:((me=ae.player2)==null?void 0:me.first_name)||"",player2LastName:((tt=ae.player2)==null?void 0:tt.last_name)||"",phoneNumber:((Tt=ae.player1)==null?void 0:Tt.phone_number)||((gt=ae.player2)==null?void 0:gt.phone_number)||"",city:((it=ae.player1)==null?void 0:it.city)||((or=ae.player2)==null?void 0:or.city)||"",registeredTournaments:Ae,player1TournamentPayments:$e,player2TournamentPayments:be,player1BostonPotPayments:Ne,player2BostonPotPayments:D}});a(fe)})},[]),m.useEffect(()=>{Ie()},[]);const[c,u]=m.useState([]);m.useEffect(()=>{async function P(){const{data:z,error:M}=await rt.from("games").select("*");if(M){Q({title:"Failed to fetch games from Supabase",description:M.message,variant:"destructive"}),u([]);return}if(!z){u([]);return}const H=z.map($=>({...$,id:String($.id),teamA:String($.teamA??$.team_a),teamB:String($.teamB??$.team_b),matchId:String($.matchId??$.match_id),handsA:$.handsA??$.hands_a??0,handsB:$.handsB??$.hands_b??0,boston_a:$.boston_a??$.bostonA??0,boston_b:$.boston_b??$.bostonB??0,entered_by_team_id:$.entered_by_team_id??$.enteredBy,status:$.status,round:$.round,submittedBy:String($.submitted_by??$.submittedBy??""),confirmed:!!$.confirmed,timestamp:$.timestamp?new Date($.timestamp):new Date}));u(H)}P();const U=rt.channel("public:games").on("postgres_changes",{event:"*",schema:"public",table:"games"},z=>{const M=z.new||z.old;if(!M)return;const H={...M,id:String(M.id),teamA:String(M.teamA??M.team_a),teamB:String(M.teamB??M.team_b),matchId:String(M.matchId??M.match_id),handsA:M.handsA??M.hands_a??0,handsB:M.handsB??M.hands_b??0,boston_a:M.boston_a??M.bostonA??0,boston_b:M.boston_b??M.bostonB??0,entered_by_team_id:M.entered_by_team_id??M.enteredBy,status:M.status,round:M.round,submittedBy:String(M.submitted_by??M.submittedBy??""),confirmed:!!M.confirmed,timestamp:M.timestamp?new Date(M.timestamp):new Date};u($=>{switch(z.eventType){case"DELETE":return $.filter(fe=>fe.id!==M.id);case"UPDATE":return $.map(fe=>fe.id===M.id?H:fe);case"INSERT":default:return $.some(fe=>fe.id===M.id)?$:[...$,H]}})}).subscribe();return()=>{rt.removeChannel(U)}},[]);const d=async()=>{try{const{data:P,error:U}=await rt.from("games").select("*");if(U){Q({title:"Failed to refresh games from Supabase",description:U.message,variant:"destructive"});return}const z=(P||[]).map(M=>({...M,id:String(M.id),teamA:String(M.teamA??M.team_a),teamB:String(M.teamB??M.team_b),matchId:String(M.matchId??M.match_id),handsA:M.handsA??M.hands_a??0,handsB:M.handsB??M.hands_b??0,boston_a:M.boston_a??M.bostonA??0,boston_b:M.boston_b??M.bostonB??0,entered_by_team_id:M.entered_by_team_id??M.enteredBy,status:M.status,round:M.round,submittedBy:String(M.submitted_by??M.submittedBy??""),confirmed:!!M.confirmed,timestamp:M.timestamp?new Date(M.timestamp):new Date}));u(z)}catch(P){Q({title:"Unexpected error refreshing games",description:String(P),variant:"destructive"})}},[f,h]=m.useState(()=>{const P=localStorage.getItem("scoreSubmissions");return P?JSON.parse(P):[]});m.useEffect(()=>{(async()=>{const{data:z,error:M}=await rt.from("scores").select("*");if(M){console.error("Failed to load scores",M);return}z&&h(z.map(H=>({id:H.id,matchId:H.matchId,teamA:s.find($=>String($.id)===String(H.team_a))||{id:String(H.team_a)},teamB:s.find($=>String($.id)===String(H.team_b))||{id:String(H.team_b)},scoreA:Number(H.score_a),scoreB:Number(H.score_b),boston:H.boston,handsA:Number(H.hands_a)||0,handsB:Number(H.hands_b)||0,submittedBy:String(H.submitted_by),timestamp:new Date(H.timestamp),round:H.round})))})();const U=rt.channel("public:scores").on("postgres_changes",{event:"*",schema:"public",table:"scores"},z=>{const M=z.new||z.old;if(!M)return;const H={id:M.id,matchId:M.matchId,teamA:s.find($=>String($.id)===String(M.team_a))||{id:String(M.team_a)},teamB:s.find($=>String($.id)===String(M.team_b))||{id:String(M.team_b)},scoreA:Number(M.score_a),scoreB:Number(M.score_b),boston:M.boston,handsA:Number(M.hands_a)||0,handsB:Number(M.hands_b)||0,submittedBy:String(M.submitted_by),timestamp:new Date(M.timestamp),round:M.round};h($=>{switch(z.eventType){case"DELETE":return $.filter(fe=>fe.id!==M.id);case"UPDATE":return $.map(fe=>fe.id===M.id?H:fe);case"INSERT":default:return $.some(fe=>fe.id===M.id)?$:[...$,H]}})}).subscribe();return()=>{rt.removeChannel(U)}},[s]);const[p,v]=m.useState([]);m.useEffect(()=>{async function P(){try{const{data:U,error:z}=await rt.from("matches").select("*");if(z){Q({title:"Failed to fetch schedules from Supabase",description:z.message,variant:"destructive"});return}if(!U){v([]);return}const M={};U.forEach($=>{const le={id:String($.id),teamA:String($.team_a),teamB:String($.team_b),round:$.round,tournamentId:String($.tournament_id),isBye:$.is_bye,isSameCity:$.is_same_city,table:$.table_number};M[le.tournamentId]||(M[le.tournamentId]=[]),M[le.tournamentId].push(le)});const H=Object.entries(M).map(([$,le])=>({tournamentId:$,rounds:Math.max(...le.map(fe=>fe.round)),matches:le}));v(H)}catch(U){Q({title:"Unexpected error fetching schedules",description:String(U),variant:"destructive"}),v([])}}P()},[]),m.useEffect(()=>{const P=rt.channel("public:matches").on("postgres_changes",{event:"*",schema:"public",table:"matches"},async()=>{try{const{data:U,error:z}=await rt.from("matches").select("*");if(z||!U)return;const M={};U.forEach($=>{const le={id:String($.id),teamA:String($.team_a),teamB:String($.team_b),round:$.round,tournamentId:String($.tournament_id),isBye:$.is_bye,isSameCity:$.is_same_city,table:$.table_number};M[le.tournamentId]||(M[le.tournamentId]=[]),M[le.tournamentId].push(le)});const H=Object.entries(M).map(([$,le])=>({tournamentId:$,rounds:Math.max(...le.map(fe=>fe.round)),matches:le}));v(H)}catch(U){console.error("Realtime schedule refresh failed",U)}}).subscribe();return()=>{rt.removeChannel(P)}},[]),m.useEffect(()=>{localStorage.setItem("schedules",JSON.stringify(p))},[p]),m.useEffect(()=>{localStorage.setItem("scoreSubmissions",JSON.stringify(f))},[f]);const[g,b]=m.useState([]),[y,x]=m.useState({}),[w,S]=m.useState(()=>{const P=localStorage.getItem("brackets");return P?JSON.parse(P):{}});m.useEffect(()=>{localStorage.setItem("brackets",JSON.stringify(w))},[w]);const[N,j]=m.useState(["Columbus","Cincinnati","Chicago","Detroit","Atlanta","DC/Maryland","Other"]),[_,E]=m.useState([]);m.useEffect(()=>{Ue(async()=>{const{supabase:P}=await Promise.resolve().then(()=>et);return{supabase:P}},void 0).then(({supabase:P})=>{P.from("tournaments").select("*").then(U=>{if(!U.error){const z=(U.data||[]).map(M=>({...M,bostonPotCost:M.boston_pot_cost}));E(z)}})})},[]);const B=m.useCallback(()=>_.find(P=>P.status==="active")||null,[_]),I=async P=>{const U=String(P),{error:z}=await rt.from("tournaments").update({status:"not_active"}).neq("id",U);z&&console.error("[setActiveTournament] Error setting all to not_active:",z);const{error:M}=await rt.from("tournaments").update({status:"active"}).eq("id",U).select();M&&console.error("[setActiveTournament] Error setting selected to active:",M);const{data:H,error:$}=await rt.from("tournaments").select("*");$?console.error("[setActiveTournament] Error refreshing tournaments:",$):E(H||[]),(z||M)&&Q({title:"Failed to set active tournament",description:((z==null?void 0:z.message)||"")+((M==null?void 0:M.message)||""),variant:"destructive"})},F=P=>{E(U=>U.map(z=>z.id===P?{...z,status:"finished"}:z)),v(U=>U.filter(z=>z.tournamentId!==P)),Z(P),V(P),oe(P),Q({title:"Tournament finished and cleared."})},[A,G]=m.useState(""),[k,C]=m.useState([]),L=async()=>{try{const{data:P,error:U}=await rt.from("messages").select("*").order("created_at",{ascending:!1});if(U){console.error("Error fetching messages:",U);return}if(P){const z=P.map(M=>({id:M.id,text:M.text,type:M.type,active:M.active,createdAt:new Date(M.created_at),expiresAt:M.expires_at?new Date(M.expires_at):void 0,createdBy:M.created_by}));console.log("Fetched messages:",z),C(z)}}catch(P){console.error("Error fetching messages:",P)}};m.useEffect(()=>{L()},[]),m.useEffect(()=>{const P=setInterval(()=>{L()},5e3);return()=>clearInterval(P)},[]),m.useEffect(()=>{console.log("Setting up real-time subscription for messages");const P=async()=>{try{return rt.channel("messages-realtime").on("postgres_changes",{event:"*",schema:"public",table:"messages"},M=>{console.log("Message change detected:",M),setTimeout(()=>{L()},100)}).subscribe(M=>{console.log("Messages subscription status:",M),M==="SUBSCRIBED"?console.log("Messages subscription successful"):M==="CHANNEL_ERROR"&&console.error("Messages subscription error")})}catch(z){return console.error("Error setting up messages subscription:",z),null}};let U=null;return P().then(z=>{U=z}),()=>{console.log("Cleaning up messages subscription"),U&&rt.removeChannel(U)}},[]);const{updateTournamentResult:K,getTournamentResults:R}=sO(y,x,s),O=(P,U,z,M)=>{a(H=>H.map($=>{if($.id!==P)return $;const le=U==="player1"?"player1TournamentPayments":"player2TournamentPayments";return{...$,[le]:{...$[le],[z]:M}}}))};m.useEffect(()=>{let P=null;return(async()=>{const{supabase:U}=await Ue(async()=>{const{supabase:z}=await Promise.resolve().then(()=>et);return{supabase:z}},void 0);P=U.channel("scores-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"scores"},async z=>{const M=z.new,H=String(M.match_id),$=f.find(le=>le.matchId===H&&String(le.submittedBy)===String(A));$&&$.scoreA===M.score_a&&$.scoreB===M.score_b&&$.boston===M.boston&&await W({...$,teamA:$.teamA,teamB:$.teamB,scoreA:$.scoreA,scoreB:$.scoreB,boston:$.boston,handsA:$.handsA,handsB:$.handsB,matchId:H,round:$.round,submittedBy:$.submittedBy})}).subscribe()})(),()=>{P&&P.unsubscribe&&P.unsubscribe()}},[f,A]),m.useEffect(()=>{c.forEach(P=>{if(!P.confirmed)return;let U="1";if(P.matchId){const he=p.find(Ae=>Ae.matches.some($e=>$e.id===P.matchId));he&&(U=he.tournamentId)}const z=P.round,M=typeof P.teamA=="object"?P.teamA.id:String(P.teamA||""),H=typeof P.teamB=="object"?P.teamB.id:String(P.teamB||""),$=P.winner==="teamA",le=P.winner==="teamB",fe=P.boston==="teamA"?1:0,ae=P.boston==="teamB"?1:0;x(he=>{let $e=(he[U]||[]).map(be=>{if(be.teamId===M){const Ne={...be.rounds};Ne[z]={points:P.scoreA,wl:$?"W":"L",boston:fe};const D=Object.values(Ne).reduce((me,tt)=>me+(tt.points||0),0),ee=Object.values(Ne).filter(me=>me.wl==="W").length,ce=Object.values(Ne).reduce((me,tt)=>me+(tt.boston||0),0);return{...be,rounds:Ne,totalPoints:D,totalWins:ee,totalBoston:ce}}return be});return $e=$e.map(be=>{if(be.teamId===H){const Ne={...be.rounds};Ne[z]={points:P.scoreB,wl:le?"W":"L",boston:ae};const D=Object.values(Ne).reduce((me,tt)=>me+(tt.points||0),0),ee=Object.values(Ne).filter(me=>me.wl==="W").length,ce=Object.values(Ne).reduce((me,tt)=>me+(tt.boston||0),0);return{...be,rounds:Ne,totalPoints:D,totalWins:ee,totalBoston:ce}}return be}),{...he,[U]:$e}})})},[c,p]);const W=async P=>{const U=P.matchId,z=P.entered_by_team_id,{data:M,error:H}=await rt.from("games").select("*").eq("matchId",U).eq("entered_by_team_id",z).in("status",["entering","disputed"]).single();if(H||!M){console.error("submitGame: Could not find existing score entry or disputed row",H),Q({title:"Error: Could not find score entry session",description:"Please try again.",variant:"destructive"});return}const $={id:M.id,teamA:P.teamA,teamB:P.teamB,scoreA:P.scoreA,scoreB:P.scoreB,teamAScore:P.scoreA,teamBScore:P.scoreB,boston:"none",boston_a:P.boston_a,boston_b:P.boston_b,winner:P.winner,submittedBy:String(z),confirmed:!1,timestamp:new Date,matchId:U,round:P.round,handsA:P.handsA,handsB:P.handsB,status:"pending_confirmation",entered_by_team_id:z};try{const{error:le}=await rt.from("games").upsert([{id:$.id,matchId:$.matchId,teamA:String($.teamA),teamB:String($.teamB),scoreA:$.scoreA,scoreB:$.scoreB,boston_a:$.boston_a,boston_b:$.boston_b,winner:$.winner,submittedBy:$.submittedBy,confirmed:$.confirmed,confirmedBy:null,round:$.round,timestamp:$.timestamp,handsA:$.handsA,handsB:$.handsB,status:$.status,entered_by_team_id:$.entered_by_team_id}],{onConflict:["id"]});if(le){console.error("GAME UPSERT ERROR",le),Q({title:"Failed to save game",description:le.message,variant:"destructive"});return}Q({title:"Score submitted successfully!",description:"Waiting for opponent confirmation.",variant:"default"}),u(fe=>fe.map(ae=>ae.id===$.id?$:ae)),await d()}catch(le){console.error("GAME UPSERT UNEXPECTED",le),Q({title:"Unexpected error",description:String(le),variant:"destructive"});return}},Z=P=>{x(U=>{const z={...U};return delete z[P],z})},V=P=>{u(U=>{const z=p.find(H=>H.tournamentId===P);if(!z)return U;const M=z.matches.map(H=>H.id);return U.filter(H=>!H.matchId||!M.includes(H.matchId))})},oe=P=>{h(U=>{const z=p.find(H=>H.tournamentId===P);if(!z)return U;const M=z.matches.map(H=>H.id);return U.filter(H=>!M.includes(H.matchId))})},q=async P=>{try{const{matches:U}=P,z=U.map(H=>({id:H.id,team_a:H.teamA,team_b:H.teamB,round:H.round,tournament_id:H.tournamentId,table_number:H.table!=null?H.table:1,is_bye:H.isBye??!1,is_same_city:H.isSameCity??!1})),{error:M}=await rt.from("matches").upsert(z,{onConflict:["id"]});if(M){Q({title:"Failed to save schedule to Supabase",description:M.message,variant:"destructive"});return}Q({title:"Schedule saved to Supabase!",variant:"default"}),v(H=>[...H.filter($=>$.tournamentId!==P.tournamentId),P])}catch(U){Q({title:"Unexpected error saving schedule",description:String(U),variant:"destructive"})}},se=async(P,U,z)=>{var $e;u(be=>be.map(Ne=>Ne.id===P?{...Ne,confirmed:U}:Ne));try{const{error:be}=await rt.from("games").update({status:U?"confirmed":"disputed",confirmed:U,confirmedBy:U?"opponent":null}).eq("id",P);if(be){console.error("confirmScore database update error:",be),Q({title:"Error updating score confirmation",description:be.message,variant:"destructive"});return}}catch(be){console.error("confirmScore unexpected error:",be),Q({title:"Unexpected error updating confirmation",description:String(be),variant:"destructive"});return}const H=c.find(be=>be.id===P)||z;if(!H)return;let $="",le,fe;for(const be of p){const Ne=be.matches.find(D=>D.id===H.matchId);if(Ne){$=be.tournamentId,le=Ne,fe=be;break}}if(!$||!le||!fe)return;const ae=fe.matches.some(be=>{const Ne=/^R\d+[LW]\d+$/;return typeof be.teamA=="string"&&Ne.test(be.teamA)||typeof be.teamB=="string"&&Ne.test(be.teamB)}),he=fe.rounds<=1||fe.matches.some(be=>be.opponentPlaceholder)||ae;if(he){const Ne=le.round+1,D=H.winner==="teamA"?le.teamA:le.teamB,ee=H.winner==="teamA"?le.teamB:le.teamA;let ce=p;if(he){const Ee=le.round,vt=Ee+1,Et=`R${Ee}L${le.table}`,Se=`R${Ee}W${le.table}`;console.log("--- confirmScore debug ---"),console.log("currentRound:",Ee),console.log("match.table:",le.table),console.log("loserPlaceholder:",Et),console.log("winnerPlaceholder:",Se),((($e=p.find(Ze=>Ze.tournamentId===$))==null?void 0:$e.matches.filter(Ze=>Ze.round===vt))||[]).forEach(Ze=>{console.log("Next round match:",Ze.id,"teamA:",Ze.teamA,"teamB:",Ze.teamB)});const Ce=Ze=>typeof Ze=="string"?Ze.trim().toUpperCase():Ze;ce=p.map(Ze=>{if(Ze.tournamentId!==$)return Ze;const Vt=Ze.matches.map(Xt=>{if(Xt.round===vt){let jt={...Xt};return Ce(jt.teamA)===Ce(Et)&&(jt.teamA=ee),Ce(jt.teamB)===Ce(Et)&&(jt.teamB=ee),Ce(jt.teamA)===Ce(Se)&&(jt.teamA=D),Ce(jt.teamB)===Ce(Se)&&(jt.teamB=D),jt}return Xt});return{...Ze,matches:Vt}})}const me=le.table??1,tt=Math.ceil(fe.matches.filter(Ee=>Ee.round===1&&!Ee.isBye).length/2),Tt=Math.ceil(me/2),gt=tt-Math.floor((tt-me)/2),it=ce.map(Ee=>{if(Ee.tournamentId!==$)return Ee;let vt=Ee.matches.filter(Ce=>Ce.round===Ne),Et=vt.find(Ce=>Ce.table===Tt);Et||(Et={id:`${$}-r${Ne}-t${Tt}`,tournamentId:$,round:Ne,table:Tt,teamA:null,teamB:null,isBye:!1,isSameCity:!1},vt.push(Et)),Et.teamA?Et.teamB||(Et.teamB=ee):Et.teamA=ee;let Se=vt.find(Ce=>Ce.table===gt);Se||(Se={id:`${$}-r${Ne}-t${gt}`,tournamentId:$,round:Ne,table:gt,teamA:null,teamB:null,isBye:!1,isSameCity:!1},vt.push(Se)),Se.teamA?Se.teamB||(Se.teamB=D):Se.teamA=D,[Et,Se].forEach(Ce=>{Ce.teamA&&!Ce.teamB?Ce.opponentPlaceholder={type:"winner",table:Ce.table}:!Ce.teamA&&Ce.teamB&&(Ce.opponentPlaceholder={type:"winner",table:Ce.table})});const Fe=Math.max(Ee.rounds,Ne);return{...Ee,matches:[...Ee.matches.filter(Ce=>Ce.round!==Ne),...vt],rounds:Fe}});v(it);const or=it.find(Ee=>Ee.tournamentId===$);or&&await q(or)}const Ae=p.find(be=>be.tournamentId===$);Ae&&await q(Ae)},je=async()=>{for(const P of c.filter(U=>U.confirmed))await se(P.id,!0,P);Q({title:"Variables updated across schedule."})},T=async()=>{try{const{data:P,error:U}=await rt.from("matches").select("*");if(U||!P)return;const z={};P.forEach(H=>{const $={id:String(H.id),teamA:String(H.team_a),teamB:String(H.team_b),round:H.round,tournamentId:String(H.tournament_id),isBye:H.is_bye,isSameCity:H.is_same_city,table:H.table_number};z[$.tournamentId]||(z[$.tournamentId]=[]),z[$.tournamentId].push($)});const M=Object.entries(z).map(([H,$])=>({tournamentId:H,rounds:Math.max(...$.map(le=>le.round)),matches:$}));v(M),Q({title:"Schedule refreshed from database."})}catch(P){console.error("refreshSchedules error",P)}},Y=async()=>{const P=p.map(U=>{const z=U.matches.map($=>({...$})),M=($,le)=>z.find(fe=>fe.round===$&&fe.table===le),H=$=>{const le=/^R(\d+)([LW])(\d+)$/.exec($.trim().toUpperCase());if(!le)return null;const[,fe,ae,he]=le,Ae=M(parseInt(fe),parseInt(he));if(!Ae)return null;const $e=c.find(D=>D.matchId===Ae.id&&D.confirmed);if(!$e)return null;const be=$e.winner==="teamA"?Ae.teamB:Ae.teamA,Ne=$e.winner==="teamA"?Ae.teamA:Ae.teamB;return ae==="L"?be:Ne};return z.forEach($=>{if(typeof $.teamA=="string"){const le=H($.teamA);le&&($.teamA=le)}if(typeof $.teamB=="string"){const le=H($.teamB);le&&($.teamB=le)}}),{...U,matches:z}});v(P);for(const U of P)await q(U);Q({title:"Placeholders forcibly refreshed and saved."})},X=(P,U,z)=>{a(M=>M.map(H=>{if(H.id===P){const $={...H.tournamentPayments};return $[U]=z,{...H,tournamentPayments:$}}return H}))},ie=async(P,U,z,M)=>{try{const{supabase:H}=await Ue(async()=>{const{supabase:fe}=await Promise.resolve().then(()=>et);return{supabase:fe}},void 0),$=M?{b_paid:z}:{paid:z},{error:le}=await H.from("player_tournament").update($).eq("player_id",P).eq("tournament_id",U);if(le)throw console.error("Error updating player payment:",le),le;Q({title:"Payment updated successfully"})}catch(H){throw console.error("Error updating player payment:",H),H}},pe=async P=>{try{const{supabase:U}=await Ue(async()=>{const{supabase:H}=await Promise.resolve().then(()=>et);return{supabase:H}},void 0),{data:z,error:M}=await U.from("player_tournament").select("*").eq("player_id",P);if(M)throw console.error("Error fetching player tournament payments:",M),M;return z||[]}catch(U){throw console.error("Error fetching player tournament payments:",U),U}},re=(P,U)=>{var he,Ae,$e,be;const z=((he=P.player1TournamentPayments)==null?void 0:he[U])||!1,M=((Ae=P.player2TournamentPayments)==null?void 0:Ae[U])||!1,H=(($e=P.player1BostonPotPayments)==null?void 0:$e[U])||!1,$=((be=P.player2BostonPotPayments)==null?void 0:be[U])||!1;return{tournamentPaid:z&&M,bostonPotPaid:H&&$,bostonPotMismatch:H!==$}},we=P=>{let U=0;return P.registeredTournaments&&P.registeredTournaments.forEach(z=>{const M=_.find(H=>H.id===z);if(M){U+=M.cost*2;const{bostonPotPaid:H}=re(P,z);H&&(U+=M.bostonPotCost*2)}}),U},xe=async(P,U,z)=>{const{supabase:M}=await Ue(async()=>{const{supabase:H}=await Promise.resolve().then(()=>et);return{supabase:H}},void 0);try{const H=`${P.first_name}/${U.first_name}`,{data:$,error:le}=await M.from("teams").insert([{name:H,player1_id:P.id,player2_id:U.id}]).select().single();if(le)return console.error("Error creating team:",le),Q({title:"Failed to create team",description:le.message,variant:"destructive"}),null;const{error:fe}=await M.from("team_registrations").insert([{team_id:$.id,tournament_id:z}]);if(fe)return console.error("Error registering team for tournament:",fe),Q({title:"Team created but failed to register for tournament",description:fe.message,variant:"destructive"}),null;const ae=[],{data:he}=await M.from("player_tournament").select("id").eq("player_id",P.id).eq("tournament_id",z).single();he||ae.push({player_id:P.id,tournament_id:z,paid:!1,b_paid:!1,entered_boston_pot:!1});const{data:Ae}=await M.from("player_tournament").select("id").eq("player_id",U.id).eq("tournament_id",z).single();if(Ae||ae.push({player_id:U.id,tournament_id:z,paid:!1,b_paid:!1,entered_boston_pot:!1}),ae.length>0){const{error:ce}=await M.from("player_tournament").insert(ae);if(ce)return console.error("Error registering players for tournament:",ce),Q({title:"Team created but failed to register players",description:ce.message,variant:"destructive"}),null}const{data:$e,error:be}=await M.from("teams").select("*, player1:players!player1_id(*), player2:players!player2_id(*)");if(be)return console.error("Error fetching teams:",be),Q({title:"Team created but failed to refresh data",description:be.message,variant:"destructive"}),null;const{data:Ne,error:D}=await M.from("team_registrations").select("team_id, tournament_id");if(D)return console.error("Error fetching team registrations:",D),Q({title:"Team created but failed to refresh registrations",description:D.message,variant:"destructive"}),null;const ee=$e.map(ce=>{var Tt,gt,it,or,Ee,vt,Et,Se;const tt=Ne.filter(Fe=>Fe.team_id===ce.id).map(Fe=>Fe.tournament_id);return{...ce,id:String(ce.id),player1FirstName:((Tt=ce.player1)==null?void 0:Tt.first_name)||"",player1LastName:((gt=ce.player1)==null?void 0:gt.last_name)||"",player2FirstName:((it=ce.player2)==null?void 0:it.first_name)||"",player2LastName:((or=ce.player2)==null?void 0:or.last_name)||"",phoneNumber:((Ee=ce.player1)==null?void 0:Ee.phone_number)||((vt=ce.player2)==null?void 0:vt.phone_number)||"",city:((Et=ce.player1)==null?void 0:Et.city)||((Se=ce.player2)==null?void 0:Se.city)||"",registeredTournaments:tt}});return a(ee),Q({title:`Team ${H} created successfully!`}),String($.id)}catch(H){return console.error("Error creating team from players:",H),Q({title:"Failed to create team",description:String(H),variant:"destructive"}),null}},Oe=async()=>{const{supabase:P}=await Ue(async()=>{const{supabase:U}=await Promise.resolve().then(()=>et);return{supabase:U}},void 0);try{const{data:U,error:z}=await P.from("teams").select(`
          *,
          player1:players!player1_id(*),
          player2:players!player2_id(*)
        `);if(z){console.error("Error fetching teams:",z);return}const{data:M,error:H}=await P.from("team_registrations").select("*");if(H){console.error("Error fetching team registrations:",H);const ae=(U||[]).map(he=>{var Ae,$e,be,Ne,D,ee,ce,me;return{...he,id:String(he.id),player1FirstName:((Ae=he.player1)==null?void 0:Ae.first_name)||"",player1LastName:(($e=he.player1)==null?void 0:$e.last_name)||"",player2FirstName:((be=he.player2)==null?void 0:be.first_name)||"",player2LastName:((Ne=he.player2)==null?void 0:Ne.last_name)||"",phoneNumber:((D=he.player1)==null?void 0:D.phone_number)||((ee=he.player2)==null?void 0:ee.phone_number)||"",city:((ce=he.player1)==null?void 0:ce.city)||((me=he.player2)==null?void 0:me.city)||"",registeredTournaments:[]}});a(ae);return}const{data:$,error:le}=await P.from("player_tournament").select("*");le&&console.error("Error fetching player payments:",le);const fe=(U||[]).map(ae=>{var ee,ce,me,tt,Tt,gt,it,or;const Ae=M.filter(Ee=>String(Ee.team_id)===String(ae.id)).map(Ee=>Ee.tournament_id),$e={},be={},Ne={},D={};return $&&$.forEach(Ee=>{Ee.player_id===ae.player1_id?($e[Ee.tournament_id]=Ee.paid,Ne[Ee.tournament_id]=Ee.b_paid):Ee.player_id===ae.player2_id&&(be[Ee.tournament_id]=Ee.paid,D[Ee.tournament_id]=Ee.b_paid)}),{...ae,id:String(ae.id),player1FirstName:((ee=ae.player1)==null?void 0:ee.first_name)||"",player1LastName:((ce=ae.player1)==null?void 0:ce.last_name)||"",player2FirstName:((me=ae.player2)==null?void 0:me.first_name)||"",player2LastName:((tt=ae.player2)==null?void 0:tt.last_name)||"",phoneNumber:((Tt=ae.player1)==null?void 0:Tt.phone_number)||((gt=ae.player2)==null?void 0:gt.phone_number)||"",city:((it=ae.player1)==null?void 0:it.city)||((or=ae.player2)==null?void 0:or.city)||"",registeredTournaments:Ae,player1TournamentPayments:$e,player2TournamentPayments:be,player1BostonPotPayments:Ne,player2BostonPotPayments:D}});a(fe)}catch(U){console.error("Error refreshing teams:",U)}},Ie=async()=>{try{const{supabase:P}=await Ue(async()=>{const{supabase:M}=await Promise.resolve().then(()=>et);return{supabase:M}},void 0),{data:U,error:z}=await P.from("players").select("*").order("first_name",{ascending:!0});if(z){console.error("Error fetching players:",z),l([]);return}l(U||[])}catch(P){console.error("Error refreshing players:",P)}},Je=async({matchId:P,teamId:U,teamA:z,teamB:M,round:H})=>{try{const{data:$,error:le}=await rt.from("games").select("*").eq("matchId",P).in("status",["entering","pending_confirmation","disputed"]);if(le)return console.error("beginScoreEntry select error:",le),{ok:!1,reason:"error"};if($&&$.length>0){const Ae=$[0];if(Ae.status==="entering"&&String(Ae.entered_by_team_id)!==String(U))return{ok:!1,reason:"conflict"};if(Ae.status==="pending_confirmation")return{ok:!1,reason:"conflict"};if(Ae.status==="disputed"&&String(Ae.entered_by_team_id)!==String(U))return{ok:!1,reason:"conflict"}}const ae={id:$&&$[0]?$[0].id:Date.now().toString(),matchId:P,teamA:String(z),teamB:String(M),round:H,scoreA:0,scoreB:0,boston_a:0,boston_b:0,handsA:0,handsB:0,status:"entering",entered_by_team_id:String(U),confirmed:!1,timestamp:new Date().toISOString()},{error:he}=await rt.from("games").upsert([ae],{onConflict:["id"]});return he?(console.error("beginScoreEntry upsert error:",he),{ok:!1,reason:"error"}):(await d(),{ok:!0})}catch($){return console.error("beginScoreEntry catch error:",$),{ok:!1,reason:"error"}}},Lt=async({matchId:P,teamId:U})=>{try{const{error:z}=await rt.from("games").delete().eq("matchId",P).eq("status","entering").eq("entered_by_team_id",U);return z?(console.error("Error releasing score entry lock:",z),{ok:!1}):(await d(),{ok:!0})}catch(z){return console.error("Error releasing score entry lock:",z),{ok:!1}}};return o.jsx(N1.Provider,{value:{sidebarOpen:r,toggleSidebar:()=>n(P=>!P),teams:s,players:i,games:c,setGames:u,tournaments:_,setTournaments:E,schedules:p,scoreTexts:g,tournamentResults:y,setTournamentResults:x,brackets:w,cities:N,currentUser:A,setCurrentUser:G,scoreSubmissions:f,setScoreSubmissions:h,resetAllTournamentData:t,updatePlaceholders:je,forceReplaceAllPlaceholders:Y,refreshSchedules:T,deleteTeam:P=>{a(U=>{const z=U.filter(M=>M.id!==P);return localStorage.setItem("teams",JSON.stringify(z)),z}),Q({title:"Team deleted successfully."})},addTeam:async(P,U,z,M,H,$,le,fe)=>{const{supabase:ae}=await Ue(async()=>{const{supabase:he}=await Promise.resolve().then(()=>et);return{supabase:he}},void 0);try{const{data:he,error:Ae}=await ae.from("players").insert([{first_name:P,last_name:U,phone_number:H,city:$}]).select().single();if(Ae)return Q({title:"Failed to create player 1",description:Ae.message,variant:"destructive"}),null;const{data:$e,error:be}=await ae.from("players").insert([{first_name:z,last_name:M,phone_number:H,city:$}]).select().single();if(be)return Q({title:"Failed to create player 2",description:be.message,variant:"destructive"}),null;const Ne=`${P}/${z}`,{data:D,error:ee}=await ae.from("teams").insert([{name:Ne,player1_id:he.id,player2_id:$e.id}]).select().single();if(ee)return Q({title:"Failed to create team",description:ee.message,variant:"destructive"}),null;if(le&&le.length>0){const gt=le.map(it=>({team_id:D.id,tournament_id:it}));await ae.from("team_registrations").insert(gt)}const{data:ce,error:me}=await ae.from("teams").select(`
              *,
              player1:players!player1_id(*),
              player2:players!player2_id(*)
            `);me&&Q({title:"Error reloading teams",description:me.message,variant:"destructive"});const{data:tt,error:Tt}=await ae.from("team_registrations").select("*");if(!me&&!Tt){const gt=(ce||[]).map(it=>{var vt,Et,Se,Fe,Ce,Ze,Vt,Xt;const Ee=tt.filter(jt=>String(jt.team_id)===String(it.id)).map(jt=>jt.tournament_id);return{...it,id:String(it.id),player1FirstName:((vt=it.player1)==null?void 0:vt.first_name)||"",player1LastName:((Et=it.player1)==null?void 0:Et.last_name)||"",player2FirstName:((Se=it.player2)==null?void 0:Se.first_name)||"",player2LastName:((Fe=it.player2)==null?void 0:Fe.last_name)||"",phoneNumber:((Ce=it.player1)==null?void 0:Ce.phone_number)||((Ze=it.player2)==null?void 0:Ze.phone_number)||"",city:((Vt=it.player1)==null?void 0:Vt.city)||((Xt=it.player2)==null?void 0:Xt.city)||"",registeredTournaments:Ee}});a(gt)}else ce&&a(ce);return Q({title:`Team ${Ne} registered successfully!`}),String(D.id)}catch(he){return Q({title:"Failed to register team",description:String(he),variant:"destructive"}),null}},updateTeam:async P=>{const{supabase:U}=await Ue(async()=>{const{supabase:z}=await Promise.resolve().then(()=>et);return{supabase:z}},void 0);try{const{id:z,registeredTournaments:M}=P;if(Array.isArray(M)&&(await U.from("team_registrations").delete().eq("team_id",z),M.length>0)){const ae=M.map(he=>({team_id:z,tournament_id:he}));await U.from("team_registrations").insert(ae)}const{data:H,error:$}=await U.from("teams").select(`
              *,
              player1:players!player1_id(*),
              player2:players!player2_id(*)
            `);if($){Q({title:"Error reloading teams",description:$.message,variant:"destructive"});return}const{data:le,error:fe}=await U.from("team_registrations").select("*");if(!$&&!fe){const ae=(H||[]).map(he=>{var be,Ne,D,ee,ce,me,tt,Tt;const $e=le.filter(gt=>String(gt.team_id)===String(he.id)).map(gt=>gt.tournament_id);return{...he,id:String(he.id),player1FirstName:((be=he.player1)==null?void 0:be.first_name)||"",player1LastName:((Ne=he.player1)==null?void 0:Ne.last_name)||"",player2FirstName:((D=he.player2)==null?void 0:D.first_name)||"",player2LastName:((ee=he.player2)==null?void 0:ee.last_name)||"",phoneNumber:((ce=he.player1)==null?void 0:ce.phone_number)||((me=he.player2)==null?void 0:me.phone_number)||"",city:((tt=he.player1)==null?void 0:tt.city)||((Tt=he.player2)==null?void 0:Tt.city)||"",registeredTournaments:$e}});a(ae)}else H&&a(H);Q({title:"Team updated successfully!"})}catch(z){Q({title:"Failed to update team",description:String(z),variant:"destructive"})}},submitGame:W,beginScoreEntry:Je,releaseScoreEntryLock:Lt,confirmGame:(P,U)=>{u(z=>z.map(M=>M.id===P?{...M,confirmed:!0,confirmedBy:U}:M))},updateGameScore:(P,U,z)=>{},saveSchedule:async P=>{try{const{matches:U}=P,z=U.map(H=>({id:H.id,team_a:H.teamA,team_b:H.teamB,round:H.round,tournament_id:H.tournamentId,table_number:H.table!=null?H.table:1,is_bye:H.isBye??!1,is_same_city:H.isSameCity??!1})),{error:M}=await rt.from("matches").upsert(z,{onConflict:["id"]});if(M){Q({title:"Failed to save schedule to Supabase",description:M.message,variant:"destructive"});return}Q({title:"Schedule saved to Supabase!",variant:"default"}),v(H=>[...H.filter($=>$.tournamentId!==P.tournamentId),P])}catch(U){Q({title:"Unexpected error saving schedule",description:String(U),variant:"destructive"})}},addScoreText:P=>{b(U=>[...U,P])},updateScoreText:(P,U)=>{b(z=>z.map(M=>M.id===P?{...M,...U}:M))},getPendingGames:()=>c.filter(P=>!P.confirmed),getTeamStats:()=>({wins:0,losses:0,totalPoints:0,bostons:0}),updateTournamentResult:K,getTournamentResults:R,addTournament:(P,U,z,M)=>{if(!P||typeof P!="string"||P.trim()===""){Q({title:"Tournament name is required.",variant:"destructive"});return}if(typeof U!="number"||U<=0){Q({title:"Tournament cost must be greater than 0.",variant:"destructive"});return}if(typeof z!="number"||z<0){Q({title:"Boston Pot cost must be 0 or greater.",variant:"destructive"});return}const H={id:Date.now().toString(),name:P.trim(),cost:Number(U),bostonPotCost:Number(z),description:typeof M=="string"?M:"",status:"active"};E($=>{const fe=[...$.filter(ae=>ae&&typeof ae.id=="string"&&typeof ae.name=="string"&&typeof ae.cost=="number"&&typeof ae.bostonPotCost=="number"&&(ae.status==="active"||ae.status==="finished")).map(ae=>({id:ae.id,name:ae.name,cost:Number(ae.cost),bostonPotCost:Number(ae.bostonPotCost),description:typeof ae.description=="string"?ae.description:"",status:ae.status})),H];return localStorage.setItem("tournaments",JSON.stringify(fe)),fe}),Q({title:`Tournament "${H.name}" added and set as active!`})},finishTournament:F,getActiveTournament:B,setActiveTournament:I,updateTournament:async(P,U,z,M,H,$)=>{const{supabase:le}=await Ue(async()=>{const{supabase:Ae}=await Promise.resolve().then(()=>et);return{supabase:Ae}},void 0),{error:fe}=await le.from("tournaments").update({name:U,cost:z,boston_pot_cost:M,status:$,description:H}).eq("id",P);if(fe){Q({title:"Failed to update tournament in database.",description:fe.message,variant:"destructive"});return}const{data:ae,error:he}=await le.from("tournaments").select("*");he||E(ae||[]),Q({title:`Tournament "${U}" updated successfully!`})},createTournament:async(P,U)=>{const{supabase:z}=await Ue(async()=>{const{supabase:fe}=await Promise.resolve().then(()=>et);return{supabase:fe}},void 0),{data:M,error:H}=await z.from("tournaments").insert([{name:P,status:U,cost:0,boston_pot_cost:0}]).select().single();if(H){Q({title:"Failed to create tournament in database.",description:H.message,variant:"destructive"});return}const{data:$,error:le}=await z.from("tournaments").select("*");le||E($||[]),Q({title:`Tournament "${P}" created successfully!`})},updateTournamentStatus:async P=>{const{supabase:U}=await Ue(async()=>{const{supabase:$}=await Promise.resolve().then(()=>et);return{supabase:$}},void 0),{error:z}=await U.from("tournaments").update({name:P.name,status:P.status}).eq("id",P.id);if(z){Q({title:"Failed to update tournament in database.",description:z.message,variant:"destructive"});return}const{data:M,error:H}=await U.from("tournaments").select("*");H||E(M||[]),Q({title:`Tournament "${P.name}" updated successfully!`})},deleteTournament:async P=>{const{supabase:U}=await Ue(async()=>{const{supabase:$}=await Promise.resolve().then(()=>et);return{supabase:$}},void 0),{error:z}=await U.from("tournaments").delete().eq("id",P);if(z){Q({title:"Failed to delete tournament from database.",description:z.message,variant:"destructive"});return}const{data:M,error:H}=await U.from("tournaments").select("*");H||E(M||[]),Q({title:"Tournament deleted successfully!"})},updatePaymentStatus:()=>{},updatePlayerPaymentStatus:()=>{},updatePlayerTournamentPayment:O,updateTeamPayment:X,updatePlayerPayment:ie,getPlayerTournamentPayments:pe,getTeamPaymentStatus:re,calculateTeamTotalOwed:we,sendScoreSheetLinks:async()=>{},submitScore:async()=>{},confirmScore:se,saveBracket:P=>{S(U=>({...U,[P.tournamentId]:P}))},getBracket:P=>w[P]||null,updateBracket:(P,U)=>{S(z=>{const M=z[P];return M?{...z,[P]:{...M,...U}}:z})},deleteBracket:P=>{S(U=>{const z={...U};return delete z[P],z})},addCity:P=>{N.includes(P)?Q({title:"City already exists",description:`"${P}" is already in the list.`,variant:"destructive"}):(j(U=>[...U,P]),Q({title:`City "${P}" added successfully!`}))},removeCity:P=>{const U=s.filter(z=>z.city===P);if(U.length>0){Q({title:"Cannot remove city",description:`${U.length} team(s) are using "${P}". Remove or update teams first.`,variant:"destructive"});return}j(z=>z.filter(M=>M!==P)),Q({title:`City "${P}" removed successfully!`})},updateCities:P=>{j(P),Q({title:"Cities updated successfully!"})},clearTournamentResults:Z,clearGames:V,clearScoreSubmissions:oe,refreshGamesFromSupabase:d,createTeamFromPlayers:xe,refreshTeams:Oe,refreshPlayers:Ie,messages:k,addMessage:async P=>{try{const{data:U,error:z}=await rt.from("messages").insert([{text:P.text,type:P.type,active:P.active,expires_at:P.expiresAt,created_by:P.createdBy||"admin"}]).select().single();if(z){console.error("Error adding message:",z),Q({title:"Error adding message",variant:"destructive"});return}Q({title:"Message added successfully!"})}catch(U){console.error("Error adding message:",U),Q({title:"Error adding message",variant:"destructive"})}},updateMessage:async(P,U)=>{try{const z={};U.text!==void 0&&(z.text=U.text),U.type!==void 0&&(z.type=U.type),U.active!==void 0&&(z.active=U.active),U.expiresAt!==void 0&&(z.expires_at=U.expiresAt);const{error:M}=await rt.from("messages").update(z).eq("id",P);if(M){console.error("Error updating message:",M),Q({title:"Error updating message",variant:"destructive"});return}Q({title:"Message updated successfully!"})}catch(z){console.error("Error updating message:",z),Q({title:"Error updating message",variant:"destructive"})}},deleteMessage:async P=>{try{const{error:U}=await rt.from("messages").delete().eq("id",P);if(U){console.error("Error deleting message:",U),Q({title:"Error deleting message",variant:"destructive"});return}Q({title:"Message deleted successfully!"})}catch(U){console.error("Error deleting message:",U),Q({title:"Error deleting message",variant:"destructive"})}},getActiveMessages:()=>{const P=k.filter(U=>U.active);return console.log("getActiveMessages called, returning:",P),P}},children:e})},He=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:De("rounded-lg border border-border/40 bg-background shadow-sm",e),...t}));He.displayName="Card";const qe=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:De("flex flex-col space-y-1.5 p-6",e),...t}));qe.displayName="CardHeader";const Qe=m.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:De("text-2xl font-semibold leading-none tracking-tight text-foreground",e),...t}));Qe.displayName="CardTitle";const aO=m.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:De("text-sm text-muted-foreground",e),...t}));aO.displayName="CardDescription";const Ge=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:De("p-6 pt-0",e),...t}));Ge.displayName="CardContent";const iO=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:De("flex items-center p-6 pt-0",e),...t}));iO.displayName="CardFooter";const oO=Wu("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ne=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?ET:"button";return o.jsx(i,{className:De(oO({variant:t,size:r,className:e})),ref:a,...s})});ne.displayName="Button";const ye=m.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:De("flex h-10 w-full rounded-md border border-border/60 bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ye.displayName="Input";var lO="Label",E1=m.forwardRef((e,t)=>o.jsx(Re.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));E1.displayName=lO;var C1=E1;const cO=Wu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",{variants:{variant:{default:"text-foreground",muted:"text-muted-foreground",accent:"text-primary"},size:{default:"text-sm",xs:"text-xs",sm:"text-sm",lg:"text-base"}},defaultVariants:{variant:"default",size:"default"}}),ge=m.forwardRef(({className:e,variant:t,size:r,...n},s)=>o.jsx(C1,{ref:s,className:De(cO({variant:t,size:r}),e),...n}));ge.displayName=C1.displayName;const uO=({onSetupComplete:e})=>{const{setCurrentUser:t,teams:r,fetchError:n}=_t(),[s,a]=m.useState(""),[i,l]=m.useState(null),[c,u]=m.useState(!1),d=()=>{s.trim()&&(t(s.trim()),e())},f=h=>{h.key==="Enter"&&d()};return r?o.jsxs("div",{className:"min-h-screen flex flex-col justify-between items-center bg-gradient-to-br from-black via-red-900 to-black p-4 relative",children:[o.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none select-none bg-[url('https://upload.wikimedia.org/wikipedia/commons/5/5a/Spades.svg')] bg-center bg-repeat",style:{zIndex:0}}),o.jsxs(He,{className:"w-full max-w-md shadow-2xl border-4 border-black rounded-2xl bg-gradient-to-br from-black via-gray-900 to-red-900/80 backdrop-blur relative z-10",children:[o.jsxs(qe,{className:"text-center space-y-4",children:[o.jsxs("div",{className:"mx-auto w-20 h-28 flex items-center justify-center bg-gradient-to-br from-black to-red-800 rounded-xl shadow-lg border-2 border-white relative",children:[o.jsxs("svg",{width:"48",height:"64",viewBox:"0 0 48 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("rect",{width:"48",height:"64",rx:"8",fill:"#fff",stroke:"#000",strokeWidth:"2"}),o.jsx("text",{x:"24",y:"40",textAnchor:"middle",fontSize:"36",fontWeight:"bold",fill:"#000",children:""})]}),o.jsx("span",{className:"absolute top-1 left-2 text-black text-lg font-bold",children:"A"}),o.jsx("span",{className:"absolute bottom-1 right-2 text-black text-lg font-bold rotate-180",children:"A"}),o.jsx("span",{className:"absolute top-5 left-3 text-black text-2xl",children:""}),o.jsx("span",{className:"absolute bottom-5 right-3 text-black text-2xl rotate-180",children:""})]}),o.jsx(Qe,{className:"text-4xl font-extrabold bg-gradient-to-r from-red-600 to-black bg-clip-text text-transparent drop-shadow-lg tracking-wide",children:"My Tournaments"})]}),o.jsxs(Ge,{className:"space-y-6",children:[i&&o.jsx("div",{className:"bg-red-100 border border-red-300 text-red-800 rounded p-3 mb-2 text-center",children:i}),n&&o.jsx("div",{className:"bg-red-100 border border-red-300 text-red-800 rounded p-3 mb-2 text-center",children:n}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"playerName",className:"text-base font-semibold text-red-100 drop-shadow",children:"Please enter your pin to access the admin portal"}),o.jsx(ye,{id:"playerName",placeholder:"Enter pin",value:s,onChange:h=>a(h.target.value),onKeyPress:f,className:"text-center text-lg bg-black/80 text-white border-red-500 focus:border-red-700 focus:ring-red-700",autoFocus:!0})]}),o.jsxs(ne,{onClick:d,disabled:!s.trim()||c,className:"w-full bg-gradient-to-r from-black via-red-700 to-black hover:from-red-800 hover:to-black text-white font-bold py-3 px-4 rounded-xl shadow-xl transform transition hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2 border-2 border-red-700",children:[c&&o.jsx("span",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),o.jsx(kP,{size:20}),"Enter My Tournaments Admin portal"]}),(r==null?void 0:r.length)===0&&o.jsx("p",{className:"text-sm text-red-300 text-center italic",children:"Note: Add teams first in the Teams tab"})]}),o.jsx("div",{className:"mt-6 text-xs text-center text-red-200 font-mono tracking-wide",children:"Built and Managed by Brian Welch"})]}),o.jsx("div",{className:"w-full text-center text-xs text-red-300 mt-4 z-10",children:"Built and Managed by Brian Welch"})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:o.jsxs("div",{children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),o.jsx("div",{children:"Loading teams..."}),n&&o.jsx("div",{className:"mt-4 bg-red-100 border border-red-300 text-red-800 rounded p-3 text-center",children:n})]})})},dO=Wu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border",success:"border-transparent bg-green-500/20 text-green-700 dark:text-green-300 border-green-500/30",warning:"border-transparent bg-yellow-500/20 text-yellow-700 dark:text-yellow-300 border-yellow-500/30",info:"border-transparent bg-primary/10 text-primary border-primary/30"},size:{default:"px-2.5 py-0.5 text-xs",sm:"px-2 py-0.5 text-[10px]",lg:"px-3 py-0.5 text-sm"}},defaultVariants:{variant:"default",size:"default"}});function Te({className:e,variant:t,size:r,...n}){return o.jsx("span",{className:De(dO({variant:t,size:r}),e),...n})}function Gy(e,[t,r]){return Math.min(r,Math.max(t,e))}var fO=m.createContext(void 0);function Wm(e){const t=m.useContext(fO);return e||t||"ltr"}var _f=0;function T1(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??qy()),document.body.insertAdjacentElement("beforeend",e[1]??qy()),_f++,()=>{_f===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),_f--}},[])}function qy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ef="focusScope.autoFocusOnMount",Cf="focusScope.autoFocusOnUnmount",Ky={bubbles:!1,cancelable:!0},hO="FocusScope",Vm=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=m.useState(null),u=Qr(s),d=Qr(a),f=m.useRef(null),h=st(t,g=>c(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let g=function(w){if(p.paused||!l)return;const S=w.target;l.contains(S)?f.current=S:ls(f.current,{select:!0})},b=function(w){if(p.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||ls(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&ls(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),x.disconnect()}}},[n,l,p.paused]),m.useEffect(()=>{if(l){Qy.add(p);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(Ef,Ky);l.addEventListener(Ef,u),l.dispatchEvent(y),y.defaultPrevented||(pO(xO(P1(l)),{select:!0}),document.activeElement===g&&ls(l))}return()=>{l.removeEventListener(Ef,u),setTimeout(()=>{const y=new CustomEvent(Cf,Ky);l.addEventListener(Cf,d),l.dispatchEvent(y),y.defaultPrevented||ls(g??document.body,{select:!0}),l.removeEventListener(Cf,d),Qy.remove(p)},0)}}},[l,u,d,p]);const v=m.useCallback(g=>{if(!r&&!n||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(b&&y){const x=g.currentTarget,[w,S]=mO(x);w&&S?!g.shiftKey&&y===S?(g.preventDefault(),r&&ls(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),r&&ls(S,{select:!0})):y===x&&g.preventDefault()}},[r,n,p.paused]);return o.jsx(Re.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});Vm.displayName=hO;function pO(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ls(n,{select:t}),document.activeElement!==r)return}function mO(e){const t=P1(e),r=Yy(t,e),n=Yy(t.reverse(),e);return[r,n]}function P1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Yy(e,t){for(const r of e)if(!gO(r,{upTo:t}))return r}function gO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function vO(e){return e instanceof HTMLInputElement&&"select"in e}function ls(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&vO(e)&&t&&e.select()}}var Qy=yO();function yO(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Jy(e,t),e.unshift(t)},remove(t){var r;e=Jy(e,t),(r=e[0])==null||r.resume()}}}function Jy(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function xO(e){return e.filter(t=>t.tagName!=="A")}function k1(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var bO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ba=new WeakMap,rc=new WeakMap,nc={},Tf=0,A1=function(e){return e&&(e.host||A1(e.parentNode))},wO=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=A1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},SO=function(e,t,r,n){var s=wO(t,Array.isArray(e)?e:[e]);nc[r]||(nc[r]=new WeakMap);var a=nc[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),v=p!==null&&p!=="false",g=(Ba.get(h)||0)+1,b=(a.get(h)||0)+1;Ba.set(h,g),a.set(h,b),i.push(h),g===1&&v&&rc.set(h,!0),b===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),Tf++,function(){i.forEach(function(f){var h=Ba.get(f)-1,p=a.get(f)-1;Ba.set(f,h),a.set(f,p),h||(rc.has(f)||f.removeAttribute(n),rc.delete(f)),p||f.removeAttribute(r)}),Tf--,Tf||(Ba=new WeakMap,Ba=new WeakMap,rc=new WeakMap,nc={})}},R1=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=bO(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),SO(n,s,r,"aria-hidden")):function(){return null}},_n=function(){return _n=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},_n.apply(this,arguments)};function I1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function jO(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Tc="right-scroll-bar-position",Pc="width-before-scroll-bar",NO="with-scroll-bars-hidden",_O="--removed-body-scroll-bar-size";function Pf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function EO(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var CO=typeof window<"u"?m.useLayoutEffect:m.useEffect,Xy=new WeakMap;function TO(e,t){var r=EO(null,function(n){return e.forEach(function(s){return Pf(s,n)})});return CO(function(){var n=Xy.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(l){a.has(l)||Pf(l,null)}),a.forEach(function(l){s.has(l)||Pf(l,i)})}Xy.set(r,e)},[e]),r}function PO(e){return e}function kO(e,t){t===void 0&&(t=PO);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function AO(e){e===void 0&&(e={});var t=kO(null);return t.options=_n({async:!0,ssr:!1},e),t}var D1=function(e){var t=e.sideCar,r=I1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,_n({},r))};D1.isSideCarExport=!0;function RO(e,t){return e.useMedium(t),D1}var O1=AO(),kf=function(){},ld=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:kf,onWheelCapture:kf,onTouchMoveCapture:kf}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,v=e.noIsolation,g=e.inert,b=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,w=e.gapMode,S=I1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,j=TO([r,t]),_=_n(_n({},S),s);return m.createElement(m.Fragment,null,d&&m.createElement(N,{sideCar:O1,removeScrollBar:u,shards:f,noRelative:p,noIsolation:v,inert:g,setCallbacks:a,allowPinchZoom:!!b,lockRef:r,gapMode:w}),i?m.cloneElement(m.Children.only(l),_n(_n({},_),{ref:j})):m.createElement(x,_n({},_,{className:c,ref:j}),l))});ld.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ld.classNames={fullWidth:Pc,zeroRight:Tc};var IO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function DO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=IO();return t&&e.setAttribute("nonce",t),e}function OO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function BO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var MO=function(){var e=0,t=null;return{add:function(r){e==0&&(t=DO())&&(OO(t,r),BO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},LO=function(){var e=MO();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},B1=function(){var e=LO(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},$O={left:0,top:0,right:0,gap:0},Af=function(e){return parseInt(e||"",10)||0},FO=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Af(r),Af(n),Af(s)]},UO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $O;var t=FO(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},zO=B1(),fi="data-scroll-locked",WO=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(NO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(fi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Pc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Tc," .").concat(Tc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Pc," .").concat(Pc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(fi,`] {
    `).concat(_O,": ").concat(l,`px;
  }
`)},Zy=function(){var e=parseInt(document.body.getAttribute(fi)||"0",10);return isFinite(e)?e:0},VO=function(){m.useEffect(function(){return document.body.setAttribute(fi,(Zy()+1).toString()),function(){var e=Zy()-1;e<=0?document.body.removeAttribute(fi):document.body.setAttribute(fi,e.toString())}},[])},HO=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;VO();var a=m.useMemo(function(){return UO(s)},[s]);return m.createElement(zO,{styles:WO(a,!t,s,r?"":"!important")})},ap=!1;if(typeof window<"u")try{var sc=Object.defineProperty({},"passive",{get:function(){return ap=!0,!0}});window.addEventListener("test",sc,sc),window.removeEventListener("test",sc,sc)}catch{ap=!1}var Ma=ap?{passive:!1}:!1,GO=function(e){return e.tagName==="TEXTAREA"},M1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!GO(e)&&r[t]==="visible")},qO=function(e){return M1(e,"overflowY")},KO=function(e){return M1(e,"overflowX")},ex=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=L1(e,n);if(s){var a=$1(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},YO=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},QO=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},L1=function(e,t){return e==="v"?qO(t):KO(t)},$1=function(e,t){return e==="v"?YO(t):QO(t)},JO=function(e,t){return e==="h"&&t==="rtl"?-1:1},XO=function(e,t,r,n,s){var a=JO(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var p=$1(e,l),v=p[0],g=p[1],b=p[2],y=g-b-a*v;(v||y)&&L1(e,l)&&(f+=y,h+=v);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},ac=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tx=function(e){return[e.deltaX,e.deltaY]},rx=function(e){return e&&"current"in e?e.current:e},ZO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},eB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tB=0,La=[];function rB(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(tB++)[0],a=m.useState(B1)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=jO([e.lockRef.current],(e.shards||[]).map(rx),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var y=ac(g),x=r.current,w="deltaX"in g?g.deltaX:x[0]-y[0],S="deltaY"in g?g.deltaY:x[1]-y[1],N,j=g.target,_=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in g&&_==="h"&&j.type==="range")return!1;var E=ex(_,j);if(!E)return!0;if(E?N=_:(N=_==="v"?"h":"v",E=ex(_,j)),!E)return!1;if(!n.current&&"changedTouches"in g&&(w||S)&&(n.current=N),!N)return!0;var B=n.current||N;return XO(B,b,g,B==="h"?w:S)},[]),c=m.useCallback(function(g){var b=g;if(!(!La.length||La[La.length-1]!==a)){var y="deltaY"in b?tx(b):ac(b),x=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&ZO(N.delta,y)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var w=(i.current.shards||[]).map(rx).filter(Boolean).filter(function(N){return N.contains(b.target)}),S=w.length>0?l(b,w[0]):!i.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(g,b,y,x){var w={name:g,delta:b,target:y,should:x,shadowParent:nB(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=m.useCallback(function(g){r.current=ac(g),n.current=void 0},[]),f=m.useCallback(function(g){u(g.type,tx(g),g.target,l(g,e.lockRef.current))},[]),h=m.useCallback(function(g){u(g.type,ac(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return La.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Ma),document.addEventListener("touchmove",c,Ma),document.addEventListener("touchstart",d,Ma),function(){La=La.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Ma),document.removeEventListener("touchmove",c,Ma),document.removeEventListener("touchstart",d,Ma)}},[]);var p=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(a,{styles:eB(s)}):null,p?m.createElement(HO,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function nB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const sB=RO(O1,rB);var Hm=m.forwardRef(function(e,t){return m.createElement(ld,_n({},e,{ref:t,sideCar:sB}))});Hm.classNames=ld.classNames;var aB=[" ","Enter","ArrowUp","ArrowDown"],iB=[" ","Enter"],Sa="Select",[cd,ud,oB]=gm(Sa),[Wi,Y5]=An(Sa,[oB,Ku]),dd=Ku(),[lB,Gs]=Wi(Sa),[cB,uB]=Wi(Sa),F1=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:v}=e,g=dd(t),[b,y]=m.useState(null),[x,w]=m.useState(null),[S,N]=m.useState(!1),j=Wm(u),[_,E]=Ms({prop:n,defaultProp:s??!1,onChange:a,caller:Sa}),[B,I]=Ms({prop:i,defaultProp:l,onChange:c,caller:Sa}),F=m.useRef(null),A=b?v||!!b.closest("form"):!0,[G,k]=m.useState(new Set),C=Array.from(G).map(L=>L.props.value).join(";");return o.jsx(dA,{...g,children:o.jsxs(lB,{required:p,scope:t,trigger:b,onTriggerChange:y,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:N,contentId:Vn(),value:B,onValueChange:I,open:_,onOpenChange:E,dir:j,triggerPointerDownPosRef:F,disabled:h,children:[o.jsx(cd.Provider,{scope:t,children:o.jsx(cB,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(L=>{k(K=>new Set(K).add(L))},[]),onNativeOptionRemove:m.useCallback(L=>{k(K=>{const R=new Set(K);return R.delete(L),R})},[]),children:r})}),A?o.jsxs(uj,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:B,onChange:L=>I(L.target.value),disabled:h,form:v,children:[B===void 0?o.jsx("option",{value:""}):null,Array.from(G)]},C):null]})})};F1.displayName=Sa;var U1="SelectTrigger",z1=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=dd(r),i=Gs(U1,r),l=i.disabled||n,c=st(t,i.onTriggerChange),u=ud(r),d=m.useRef("touch"),[f,h,p]=fj(g=>{const b=u().filter(w=>!w.disabled),y=b.find(w=>w.value===i.value),x=hj(b,g,y);x!==void 0&&i.onValueChange(x.value)}),v=g=>{l||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(CS,{asChild:!0,...a,children:o.jsx(Re.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":dj(i.value)?"":void 0,...s,ref:c,onClick:Pe(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:Pe(s.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Pe(s.onKeyDown,g=>{const b=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(b&&g.key===" ")&&aB.includes(g.key)&&(v(),g.preventDefault())})})})});z1.displayName=U1;var W1="SelectValue",V1=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...l}=e,c=Gs(W1,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=st(t,c.onValueNodeChange);return Ot(()=>{u(d)},[u,d]),o.jsx(Re.span,{...l,ref:f,style:{pointerEvents:"none"},children:dj(c.value)?o.jsx(o.Fragment,{children:i}):a})});V1.displayName=W1;var dB="SelectIcon",H1=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(Re.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});H1.displayName=dB;var fB="SelectPortal",G1=e=>o.jsx(Fu,{asChild:!0,...e});G1.displayName=fB;var ja="SelectContent",q1=m.forwardRef((e,t)=>{const r=Gs(ja,e.__scopeSelect),[n,s]=m.useState();if(Ot(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Vs.createPortal(o.jsx(K1,{scope:e.__scopeSelect,children:o.jsx(cd.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(Y1,{...e,ref:t})});q1.displayName=ja;var rn=10,[K1,qs]=Wi(ja),hB="SelectContentImpl",pB=Ti("SelectContent.RemoveScroll"),Y1=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:b,...y}=e,x=Gs(ja,r),[w,S]=m.useState(null),[N,j]=m.useState(null),_=st(t,T=>S(T)),[E,B]=m.useState(null),[I,F]=m.useState(null),A=ud(r),[G,k]=m.useState(!1),C=m.useRef(!1);m.useEffect(()=>{if(w)return R1(w)},[w]),T1();const L=m.useCallback(T=>{const[Y,...X]=A().map(re=>re.ref.current),[ie]=X.slice(-1),pe=document.activeElement;for(const re of T)if(re===pe||(re==null||re.scrollIntoView({block:"nearest"}),re===Y&&N&&(N.scrollTop=0),re===ie&&N&&(N.scrollTop=N.scrollHeight),re==null||re.focus(),document.activeElement!==pe))return},[A,N]),K=m.useCallback(()=>L([E,w]),[L,E,w]);m.useEffect(()=>{G&&K()},[G,K]);const{onOpenChange:R,triggerPointerDownPosRef:O}=x;m.useEffect(()=>{if(w){let T={x:0,y:0};const Y=ie=>{var pe,re;T={x:Math.abs(Math.round(ie.pageX)-(((pe=O.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((re=O.current)==null?void 0:re.y)??0))}},X=ie=>{T.x<=10&&T.y<=10?ie.preventDefault():w.contains(ie.target)||R(!1),document.removeEventListener("pointermove",Y),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",X,{capture:!0})}}},[w,R,O]),m.useEffect(()=>{const T=()=>R(!1);return window.addEventListener("blur",T),window.addEventListener("resize",T),()=>{window.removeEventListener("blur",T),window.removeEventListener("resize",T)}},[R]);const[W,Z]=fj(T=>{const Y=A().filter(pe=>!pe.disabled),X=Y.find(pe=>pe.ref.current===document.activeElement),ie=hj(Y,T,X);ie&&setTimeout(()=>ie.ref.current.focus())}),V=m.useCallback((T,Y,X)=>{const ie=!C.current&&!X;(x.value!==void 0&&x.value===Y||ie)&&(B(T),ie&&(C.current=!0))},[x.value]),oe=m.useCallback(()=>w==null?void 0:w.focus(),[w]),q=m.useCallback((T,Y,X)=>{const ie=!C.current&&!X;(x.value!==void 0&&x.value===Y||ie)&&F(T)},[x.value]),se=n==="popper"?ip:Q1,je=se===ip?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:b}:{};return o.jsx(K1,{scope:r,content:w,viewport:N,onViewportChange:j,itemRefCallback:V,selectedItem:E,onItemLeave:oe,itemTextRefCallback:q,focusSelectedItem:K,selectedItemText:I,position:n,isPositioned:G,searchRef:W,children:o.jsx(Hm,{as:pB,allowPinchZoom:!0,children:o.jsx(Vm,{asChild:!0,trapped:x.open,onMountAutoFocus:T=>{T.preventDefault()},onUnmountAutoFocus:Pe(s,T=>{var Y;(Y=x.trigger)==null||Y.focus({preventScroll:!0}),T.preventDefault()}),children:o.jsx(fl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:T=>T.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(se,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:T=>T.preventDefault(),...y,...je,onPlaced:()=>k(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Pe(y.onKeyDown,T=>{const Y=T.ctrlKey||T.altKey||T.metaKey;if(T.key==="Tab"&&T.preventDefault(),!Y&&T.key.length===1&&Z(T.key),["ArrowUp","ArrowDown","Home","End"].includes(T.key)){let ie=A().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(T.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(T.key)){const pe=T.target,re=ie.indexOf(pe);ie=ie.slice(re+1)}setTimeout(()=>L(ie)),T.preventDefault()}})})})})})})});Y1.displayName=hB;var mB="SelectItemAlignedPosition",Q1=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=Gs(ja,r),i=qs(ja,r),[l,c]=m.useState(null),[u,d]=m.useState(null),f=st(t,_=>d(_)),h=ud(r),p=m.useRef(!1),v=m.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:y,focusSelectedItem:x}=i,w=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&b&&y){const _=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),B=a.valueNode.getBoundingClientRect(),I=y.getBoundingClientRect();if(a.dir!=="rtl"){const pe=I.left-E.left,re=B.left-pe,we=_.left-re,xe=_.width+we,Oe=Math.max(xe,E.width),Ie=window.innerWidth-rn,Je=Gy(re,[rn,Math.max(rn,Ie-Oe)]);l.style.minWidth=xe+"px",l.style.left=Je+"px"}else{const pe=E.right-I.right,re=window.innerWidth-B.right-pe,we=window.innerWidth-_.right-re,xe=_.width+we,Oe=Math.max(xe,E.width),Ie=window.innerWidth-rn,Je=Gy(re,[rn,Math.max(rn,Ie-Oe)]);l.style.minWidth=xe+"px",l.style.right=Je+"px"}const F=h(),A=window.innerHeight-rn*2,G=g.scrollHeight,k=window.getComputedStyle(u),C=parseInt(k.borderTopWidth,10),L=parseInt(k.paddingTop,10),K=parseInt(k.borderBottomWidth,10),R=parseInt(k.paddingBottom,10),O=C+L+G+R+K,W=Math.min(b.offsetHeight*5,O),Z=window.getComputedStyle(g),V=parseInt(Z.paddingTop,10),oe=parseInt(Z.paddingBottom,10),q=_.top+_.height/2-rn,se=A-q,je=b.offsetHeight/2,T=b.offsetTop+je,Y=C+L+T,X=O-Y;if(Y<=q){const pe=F.length>0&&b===F[F.length-1].ref.current;l.style.bottom="0px";const re=u.clientHeight-g.offsetTop-g.offsetHeight,we=Math.max(se,je+(pe?oe:0)+re+K),xe=Y+we;l.style.height=xe+"px"}else{const pe=F.length>0&&b===F[0].ref.current;l.style.top="0px";const we=Math.max(q,C+g.offsetTop+(pe?V:0)+je)+X;l.style.height=we+"px",g.scrollTop=Y-q+g.offsetTop}l.style.margin=`${rn}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,l,u,g,b,y,a.dir,n]);Ot(()=>w(),[w]);const[S,N]=m.useState();Ot(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const j=m.useCallback(_=>{_&&v.current===!0&&(w(),x==null||x(),v.current=!1)},[w,x]);return o.jsx(vB,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:o.jsx(Re.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Q1.displayName=mB;var gB="SelectPopperPosition",ip=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=rn,...a}=e,i=dd(r);return o.jsx(TS,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ip.displayName=gB;var[vB,Gm]=Wi(ja,{}),op="SelectViewport",J1=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=qs(op,r),i=Gm(op,r),l=st(t,a.onViewportChange),c=m.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(cd.Slot,{scope:r,children:o.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Pe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const v=window.innerHeight-rn*2,g=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),y=Math.max(g,b);if(y<v){const x=y+p,w=Math.min(v,x),S=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});J1.displayName=op;var X1="SelectGroup",[yB,xB]=Wi(X1),bB=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Vn();return o.jsx(yB,{scope:r,id:s,children:o.jsx(Re.div,{role:"group","aria-labelledby":s,...n,ref:t})})});bB.displayName=X1;var Z1="SelectLabel",ej=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=xB(Z1,r);return o.jsx(Re.div,{id:s.id,...n,ref:t})});ej.displayName=Z1;var fu="SelectItem",[wB,tj]=Wi(fu),rj=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,l=Gs(fu,r),c=qs(fu,r),u=l.value===n,[d,f]=m.useState(a??""),[h,p]=m.useState(!1),v=st(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,s)}),g=Vn(),b=m.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(wB,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(cd.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(Re.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:Pe(i.onFocus,()=>p(!0)),onBlur:Pe(i.onBlur,()=>p(!1)),onClick:Pe(i.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:Pe(i.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:Pe(i.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:Pe(i.onPointerMove,x=>{var w;b.current=x.pointerType,s?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(i.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Pe(i.onKeyDown,x=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(iB.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});rj.displayName=fu;var ho="SelectItemText",nj=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=Gs(ho,r),l=qs(ho,r),c=tj(ho,r),u=uB(ho,r),[d,f]=m.useState(null),h=st(t,y=>f(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,v=m.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return Ot(()=>(g(v),()=>b(v)),[g,b,v]),o.jsxs(o.Fragment,{children:[o.jsx(Re.span,{id:c.textId,...a,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Vs.createPortal(a.children,i.valueNode):null]})});nj.displayName=ho;var sj="SelectItemIndicator",aj=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return tj(sj,r).isSelected?o.jsx(Re.span,{"aria-hidden":!0,...n,ref:t}):null});aj.displayName=sj;var lp="SelectScrollUpButton",ij=m.forwardRef((e,t)=>{const r=qs(lp,e.__scopeSelect),n=Gm(lp,e.__scopeSelect),[s,a]=m.useState(!1),i=st(t,n.onScrollButtonChange);return Ot(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(lj,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ij.displayName=lp;var cp="SelectScrollDownButton",oj=m.forwardRef((e,t)=>{const r=qs(cp,e.__scopeSelect),n=Gm(cp,e.__scopeSelect),[s,a]=m.useState(!1),i=st(t,n.onScrollButtonChange);return Ot(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(lj,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});oj.displayName=cp;var lj=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=qs("SelectScrollButton",r),i=m.useRef(null),l=ud(r),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Ot(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Re.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Pe(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Pe(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Pe(s.onPointerLeave,()=>{c()})})}),SB="SelectSeparator",cj=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Re.div,{"aria-hidden":!0,...n,ref:t})});cj.displayName=SB;var up="SelectArrow",jB=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=dd(r),a=Gs(up,r),i=qs(up,r);return a.open&&i.position==="popper"?o.jsx(PS,{...s,...n,ref:t}):null});jB.displayName=up;var NB="SelectBubbleInput",uj=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=m.useRef(null),a=st(n,s),i=k1(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(Re.select,{...r,style:{...ww,...r.style},ref:a,defaultValue:t})});uj.displayName=NB;function dj(e){return e===""||e===void 0}function fj(e){const t=Qr(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function hj(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=_B(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function _B(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var EB=F1,pj=z1,CB=V1,TB=H1,PB=G1,mj=q1,kB=J1,gj=ej,vj=rj,AB=nj,RB=aj,yj=ij,xj=oj,bj=cj;const jr=EB,Nr=CB,dr=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(pj,{ref:n,className:De("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-colors",e),...r,children:[t,o.jsx(TB,{asChild:!0,children:o.jsx(wm,{className:"h-4 w-4 opacity-50 transition-transform duration-200 ease-in-out group-data-[state=open]:rotate-180"})})]}));dr.displayName=pj.displayName;const wj=m.forwardRef(({className:e,...t},r)=>o.jsx(yj,{ref:r,className:De("flex cursor-default items-center justify-center py-1 text-muted-foreground",e),...t,children:o.jsx(SP,{className:"h-4 w-4"})}));wj.displayName=yj.displayName;const Sj=m.forwardRef(({className:e,...t},r)=>o.jsx(xj,{ref:r,className:De("flex cursor-default items-center justify-center py-1 text-muted-foreground",e),...t,children:o.jsx(wm,{className:"h-4 w-4"})}));Sj.displayName=xj.displayName;const fr=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(PB,{children:o.jsxs(mj,{ref:s,className:De("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border/40 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(wj,{}),o.jsx(kB,{className:De("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(Sj,{})]})}));fr.displayName=mj.displayName;const IB=m.forwardRef(({className:e,...t},r)=>o.jsx(gj,{ref:r,className:De("py-1.5 pl-8 pr-2 text-sm font-medium text-muted-foreground",e),...t}));IB.displayName=gj.displayName;const ot=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(vj,{ref:n,className:De("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent/50 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(RB,{children:o.jsx(ba,{className:"h-4 w-4 text-primary"})})}),o.jsx(AB,{children:t})]}));ot.displayName=vj.displayName;const DB=m.forwardRef(({className:e,...t},r)=>o.jsx(bj,{ref:r,className:De("-mx-1 my-1 h-px bg-muted",e),...t}));DB.displayName=bj.displayName;var fd="Checkbox",[OB,Q5]=An(fd),[BB,qm]=OB(fd);function MB(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:a,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=Ms({prop:r,defaultProp:s??!1,onChange:c,caller:fd}),[v,g]=m.useState(null),[b,y]=m.useState(null),x=m.useRef(!1),w=v?!!i||!!v.closest("form"):!0,S={checked:h,disabled:a,setChecked:p,control:v,setControl:g,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:As(s)?!1:s,isFormControl:w,bubbleInput:b,setBubbleInput:y};return o.jsx(BB,{scope:t,...S,children:LB(f)?f(S):n})}var jj="CheckboxTrigger",Nj=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:a,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:v}=qm(jj,e),g=st(s,d),b=m.useRef(c);return m.useEffect(()=>{const y=a==null?void 0:a.form;if(y){const x=()=>f(b.current);return y.addEventListener("reset",x),()=>y.removeEventListener("reset",x)}},[a,f]),o.jsx(Re.button,{type:"button",role:"checkbox","aria-checked":As(c)?"mixed":c,"aria-required":u,"data-state":Pj(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:g,onKeyDown:Pe(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Pe(r,y=>{f(x=>As(x)?!0:!x),v&&p&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});Nj.displayName=jj;var Km=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(MB,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx(Nj,{...f,ref:t,__scopeCheckbox:r}),h&&o.jsx(Tj,{__scopeCheckbox:r})]})})});Km.displayName=fd;var _j="CheckboxIndicator",Ej=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=qm(_j,r);return o.jsx(Xn,{present:n||As(a.checked)||a.checked===!0,children:o.jsx(Re.span,{"data-state":Pj(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Ej.displayName=_j;var Cj="CheckboxBubbleInput",Tj=m.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=qm(Cj,e),v=st(r,p),g=k1(a),b=vS(n);m.useEffect(()=>{const x=h;if(!x)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,j=!s.current;if(g!==a&&N){const _=new Event("click",{bubbles:j});x.indeterminate=As(a),N.call(x,As(a)?!1:a),x.dispatchEvent(_)}},[h,g,a,s]);const y=m.useRef(As(a)?!1:a);return o.jsx(Re.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Tj.displayName=Cj;function LB(e){return typeof e=="function"}function As(e){return e==="indeterminate"}function Pj(e){return As(e)?"indeterminate":e?"checked":"unchecked"}const kj=m.forwardRef(({className:e,...t},r)=>o.jsx(Km,{ref:r,className:De("peer h-4 w-4 shrink-0 rounded-sm border border-primary/60 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground transition-colors duration-200",e),...t,children:o.jsx(Ej,{className:De("flex items-center justify-center text-current"),children:o.jsx(ba,{className:"h-3.5 w-3.5 transition-transform duration-200"})})}));kj.displayName=Km.displayName;var hd="Dialog",[Aj,J5]=An(hd),[$B,vn]=Aj(hd),Rj=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=Ms({prop:n,defaultProp:s??!1,onChange:a,caller:hd});return o.jsx($B,{scope:t,triggerRef:l,contentRef:c,contentId:Vn(),titleId:Vn(),descriptionId:Vn(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};Rj.displayName=hd;var Ij="DialogTrigger",Dj=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=vn(Ij,r),a=st(t,s.triggerRef);return o.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Jm(s.open),...n,ref:a,onClick:Pe(e.onClick,s.onOpenToggle)})});Dj.displayName=Ij;var Ym="DialogPortal",[FB,Oj]=Aj(Ym,{forceMount:void 0}),Bj=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=vn(Ym,t);return o.jsx(FB,{scope:t,forceMount:r,children:m.Children.map(n,i=>o.jsx(Xn,{present:r||a.open,children:o.jsx(Fu,{asChild:!0,container:s,children:i})}))})};Bj.displayName=Ym;var hu="DialogOverlay",Mj=m.forwardRef((e,t)=>{const r=Oj(hu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=vn(hu,e.__scopeDialog);return a.modal?o.jsx(Xn,{present:n||a.open,children:o.jsx(zB,{...s,ref:t})}):null});Mj.displayName=hu;var UB=Ti("DialogOverlay.RemoveScroll"),zB=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=vn(hu,r);return o.jsx(Hm,{as:UB,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Re.div,{"data-state":Jm(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Na="DialogContent",Lj=m.forwardRef((e,t)=>{const r=Oj(Na,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=vn(Na,e.__scopeDialog);return o.jsx(Xn,{present:n||a.open,children:a.modal?o.jsx(WB,{...s,ref:t}):o.jsx(VB,{...s,ref:t})})});Lj.displayName=Na;var WB=m.forwardRef((e,t)=>{const r=vn(Na,e.__scopeDialog),n=m.useRef(null),s=st(t,r.contentRef,n);return m.useEffect(()=>{const a=n.current;if(a)return R1(a)},[]),o.jsx($j,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:Pe(e.onFocusOutside,a=>a.preventDefault())})}),VB=m.forwardRef((e,t)=>{const r=vn(Na,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return o.jsx($j,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),$j=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=vn(Na,r),c=m.useRef(null),u=st(t,c);return T1(),o.jsxs(o.Fragment,{children:[o.jsx(Vm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(fl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Jm(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(HB,{titleId:l.titleId}),o.jsx(qB,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Qm="DialogTitle",Fj=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=vn(Qm,r);return o.jsx(Re.h2,{id:s.titleId,...n,ref:t})});Fj.displayName=Qm;var Uj="DialogDescription",zj=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=vn(Uj,r);return o.jsx(Re.p,{id:s.descriptionId,...n,ref:t})});zj.displayName=Uj;var Wj="DialogClose",Vj=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=vn(Wj,r);return o.jsx(Re.button,{type:"button",...n,ref:t,onClick:Pe(e.onClick,()=>s.onOpenChange(!1))})});Vj.displayName=Wj;function Jm(e){return e?"open":"closed"}var Hj="DialogTitleWarning",[X5,Gj]=NT(Hj,{contentName:Na,titleName:Qm,docsSlug:"dialog"}),HB=({titleId:e})=>{const t=Gj(Hj),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},GB="DialogDescriptionWarning",qB=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Gj(GB).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},KB=Rj,YB=Dj,QB=Bj,qj=Mj,Kj=Lj,Yj=Fj,Qj=zj,JB=Vj;const Er=KB,ti=YB,XB=QB,Jj=m.forwardRef(({className:e,...t},r)=>o.jsx(qj,{ref:r,className:De("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Jj.displayName=qj.displayName;const hr=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(XB,{children:[o.jsx(Jj,{}),o.jsxs(Kj,{ref:n,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border/40 bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(JB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Ta,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hr.displayName=Kj.displayName;const pr=({className:e,...t})=>o.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pr.displayName="DialogHeader";const mr=m.forwardRef(({className:e,...t},r)=>o.jsx(Yj,{ref:r,className:De("text-lg font-semibold leading-none tracking-tight text-foreground",e),...t}));mr.displayName=Yj.displayName;const ZB=m.forwardRef(({className:e,...t},r)=>o.jsx(Qj,{ref:r,className:De("text-sm text-muted-foreground",e),...t}));ZB.displayName=Qj.displayName;const eM=()=>{const{teams:e,tournaments:t,players:r,createTeamFromPlayers:n,updateTeam:s,refreshPlayers:a,refreshTeams:i,createTournament:l,updateTournamentStatus:c,deleteTournament:u}=_t(),[d,f]=m.useState("all"),[h,p]=m.useState(""),[v,g]=m.useState([]),[b,y]=m.useState(!1),[x,w]=m.useState(!1),[S,N]=m.useState(null),[j,_]=m.useState({first_name:"",last_name:"",city:"",phone_number:""}),[E,B]=m.useState("all"),[I,F]=m.useState(""),[A,G]=m.useState([]),[k,C]=m.useState(!1),[L,K]=m.useState(!1),[R,O]=m.useState(null),[W,Z]=m.useState({name:"",city:"",player1_id:"",player2_id:""}),[V,oe]=m.useState([]),[q,se]=m.useState("all"),[je,T]=m.useState(""),[Y,X]=m.useState(!1),[ie,pe]=m.useState(!1),[re,we]=m.useState(null),[xe,Oe]=m.useState({name:"",status:"pending"}),Ie=r.filter(D=>{if(d!=="all"){if(d==="unassigned"){if(e.some(ce=>(ce.player1_id===D.id||ce.player2_id===D.id)&&ce.registeredTournaments&&ce.registeredTournaments.length>0))return!1}else if(!e.some(ce=>{var me;return(ce.player1_id===D.id||ce.player2_id===D.id)&&((me=ce.registeredTournaments)==null?void 0:me.includes(d))}))return!1}if(h){const ee=h.toLowerCase();return D.first_name.toLowerCase().includes(ee)||D.last_name.toLowerCase().includes(ee)||D.city.toLowerCase().includes(ee)}return!0}),Je=e.filter(D=>{var ee;if(E!=="all"){if(E==="unassigned"){if(D.registeredTournaments&&D.registeredTournaments.length>0)return!1}else if(!((ee=D.registeredTournaments)!=null&&ee.includes(E)))return!1}if(I){const ce=I.toLowerCase();return D.name.toLowerCase().includes(ce)||D.city.toLowerCase().includes(ce)}return!0}),Lt=t.filter(D=>{var ee;if(q!=="all")if(q==="active"){if(D.status!=="active")return!1}else if(q==="pending"){if(D.status!=="pending")return!1}else if(q==="finished"){if(D.status!=="finished")return!1}else{const ce=e.find(me=>me.id===q);if(!ce||!((ee=ce.registeredTournaments)!=null&&ee.includes(D.id)))return!1}if(je){const ce=je.toLowerCase();return D.name.toLowerCase().includes(ce)}return!0}),P=D=>{const ee=r.find(ce=>ce.id===D);return ee?`${ee.first_name} ${ee.last_name}`:"Unknown Player"},U=D=>{v.find(ee=>ee.id===D.id)?g(v.filter(ee=>ee.id!==D.id)):v.length<2?g([...v,D]):Q({title:"Maximum players selected",description:"You can only select 2 players to create a team.",variant:"destructive"})},z=async()=>{if(v.length!==2){Q({title:"Invalid selection",description:"Please select exactly 2 players to create a team.",variant:"destructive"});return}const D=v[0],ee=v[1];if(e.find(me=>me.player1_id===D.id&&me.player2_id===ee.id||me.player1_id===ee.id&&me.player2_id===D.id)){Q({title:"Team already exists",description:`A team with ${D.first_name} ${D.last_name} and ${ee.first_name} ${ee.last_name} already exists.`,variant:"destructive"});return}try{const me=`${D.first_name}/${ee.first_name}`;await n(D,ee,me),g([]),await i(),Q({title:"Team created successfully",description:`Team "${me}" has been created.`,variant:"default"})}catch{Q({title:"Error creating team",description:"Failed to create team. Please try again.",variant:"destructive"})}},M=async()=>{if(A.length===0){Q({title:"No teams selected",description:"Please select at least one team.",variant:"destructive"});return}if(V.length===0){Q({title:"No tournaments selected",description:"Please select at least one tournament.",variant:"destructive"});return}const D=[];for(const ee of A){const ce=V.filter(me=>{var tt;return(tt=ee.registeredTournaments)==null?void 0:tt.includes(me)});ce.length>0&&D.push({team:ee,tournaments:ce})}if(D.length>0){const ee=D.map(({team:ce,tournaments:me})=>`${ce.name} (${me.join(", ")})`).join(", ");Q({title:"Teams already registered",description:`The following teams are already registered for some selected tournaments: ${ee}`,variant:"destructive"});return}try{for(const ee of A){const ce=[...ee.registeredTournaments||[],...V];await s({...ee,registeredTournaments:ce})}G([]),oe([]),await i(),Q({title:"Teams added to tournaments",description:`${A.length} team(s) added to ${V.length} tournament(s).`,variant:"default"})}catch{Q({title:"Error adding teams",description:"Failed to add teams to tournaments. Please try again.",variant:"destructive"})}},H=async(D,ee)=>{var ce;try{const me=((ce=D.registeredTournaments)==null?void 0:ce.filter(tt=>tt!==ee))||[];await s({...D,registeredTournaments:me}),await i(),Q({title:"Team removed",description:`Team "${D.name}" removed from tournament.`,variant:"default"})}catch{Q({title:"Error removing team",description:"Failed to remove team from tournament. Please try again.",variant:"destructive"})}},$=async()=>{if(!j.first_name||!j.last_name||!j.city){Q({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}try{const{supabase:D}=await Ue(async()=>{const{supabase:me}=await Promise.resolve().then(()=>et);return{supabase:me}},void 0),{data:ee,error:ce}=await D.from("players").insert([{first_name:j.first_name,last_name:j.last_name,city:j.city,phone_number:j.phone_number||null}]).select().single();if(ce)throw ce;_({first_name:"",last_name:"",city:"",phone_number:""}),y(!1),await a(),Q({title:"Player added successfully",description:`${j.first_name} ${j.last_name} has been added.`,variant:"default"})}catch{Q({title:"Error adding player",description:"Failed to add player. Please try again.",variant:"destructive"})}},le=async()=>{if(!S||!S.first_name||!S.last_name||!S.city){Q({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}try{const{supabase:D}=await Ue(async()=>{const{supabase:ce}=await Promise.resolve().then(()=>et);return{supabase:ce}},void 0),{error:ee}=await D.from("players").update({first_name:S.first_name,last_name:S.last_name,city:S.city,phone_number:S.phone_number||null}).eq("id",S.id);if(ee)throw ee;N(null),w(!1),await a(),Q({title:"Player updated successfully",description:`${S.first_name} ${S.last_name} has been updated.`,variant:"default"})}catch{Q({title:"Error updating player",description:"Failed to update player. Please try again.",variant:"destructive"})}},fe=async D=>{try{const{supabase:ee}=await Ue(async()=>{const{supabase:me}=await Promise.resolve().then(()=>et);return{supabase:me}},void 0),{error:ce}=await ee.from("players").delete().eq("id",D);if(ce)throw ce;await a(),Q({title:"Player deleted successfully",description:"Player has been removed.",variant:"default"})}catch{Q({title:"Error deleting player",description:"Failed to delete player. Please try again.",variant:"destructive"})}},ae=async()=>{if(!W.name||!W.city||!W.player1_id||!W.player2_id){Q({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}if(W.player1_id===W.player2_id){Q({title:"Invalid selection",description:"Please select two different players.",variant:"destructive"});return}try{const{supabase:D}=await Ue(async()=>{const{supabase:me}=await Promise.resolve().then(()=>et);return{supabase:me}},void 0),{data:ee,error:ce}=await D.from("teams").insert([{name:W.name,city:W.city,player1_id:W.player1_id,player2_id:W.player2_id,registeredTournaments:[]}]).select().single();if(ce)throw ce;Z({name:"",city:"",player1_id:"",player2_id:""}),C(!1),await i(),Q({title:"Team added successfully",description:`Team "${W.name}" has been created.`,variant:"default"})}catch{Q({title:"Error adding team",description:"Failed to add team. Please try again.",variant:"destructive"})}},he=async()=>{if(!R||!R.name||!R.city||!R.player1_id||!R.player2_id){Q({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}if(R.player1_id===R.player2_id){Q({title:"Invalid selection",description:"Please select two different players.",variant:"destructive"});return}try{await s(R),O(null),K(!1),await i(),Q({title:"Team updated successfully",description:`Team "${R.name}" has been updated.`,variant:"default"})}catch{Q({title:"Error updating team",description:"Failed to update team. Please try again.",variant:"destructive"})}},Ae=async D=>{try{const{supabase:ee}=await Ue(async()=>{const{supabase:me}=await Promise.resolve().then(()=>et);return{supabase:me}},void 0),{error:ce}=await ee.from("teams").delete().eq("id",D);if(ce)throw ce;await i(),Q({title:"Team deleted successfully",description:"Team has been removed.",variant:"default"})}catch{Q({title:"Error deleting team",description:"Failed to delete team. Please try again.",variant:"destructive"})}},$e=async()=>{if(!xe.name){Q({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}try{await l(xe.name,xe.status),Oe({name:"",status:"pending"}),X(!1),Q({title:"Tournament added successfully",description:`Tournament "${xe.name}" has been created.`,variant:"default"})}catch{Q({title:"Error adding tournament",description:"Failed to add tournament. Please try again.",variant:"destructive"})}},be=async()=>{if(!re||!re.name){Q({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}try{await c(re),we(null),pe(!1),Q({title:"Tournament updated successfully",description:`Tournament "${re.name}" has been updated.`,variant:"default"})}catch{Q({title:"Error updating tournament",description:"Failed to update tournament. Please try again.",variant:"destructive"})}},Ne=async D=>{try{await u(D),Q({title:"Tournament deleted successfully",description:"Tournament has been removed.",variant:"default"})}catch{Q({title:"Error deleting tournament",description:"Failed to delete tournament. Please try again.",variant:"destructive"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(He,{children:[o.jsx(qe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(Vu,{className:"h-5 w-5"}),"Team Builder"]}),o.jsxs(Er,{open:b,onOpenChange:y,children:[o.jsx(ti,{asChild:!0,children:o.jsxs(ne,{size:"sm",children:[o.jsx(li,{className:"h-4 w-4 mr-2"}),"Add New Player"]})}),o.jsxs(hr,{children:[o.jsx(pr,{children:o.jsx(mr,{children:"Add New Player"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"first_name",children:"First Name *"}),o.jsx(ye,{id:"first_name",value:j.first_name,onChange:D=>_({...j,first_name:D.target.value})})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"last_name",children:"Last Name *"}),o.jsx(ye,{id:"last_name",value:j.last_name,onChange:D=>_({...j,last_name:D.target.value})})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"city",children:"City *"}),o.jsx(ye,{id:"city",value:j.city,onChange:D=>_({...j,city:D.target.value})})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"phone_number",children:"Phone Number"}),o.jsx(ye,{id:"phone_number",value:j.phone_number,onChange:D=>_({...j,phone_number:D.target.value})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{onClick:$,className:"flex-1",children:"Add Player"}),o.jsx(ne,{variant:"outline",onClick:()=>y(!1),children:"Cancel"})]})]})]})]})]})}),o.jsx(Ge,{children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs(He,{className:"border-2 border-red-500",children:[o.jsxs(qe,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Qe,{className:"text-lg text-center",children:"Players"}),o.jsx("div",{className:"flex gap-1",children:o.jsxs(Er,{open:b,onOpenChange:y,children:[o.jsx(ti,{asChild:!0,children:o.jsx(ne,{size:"sm",children:o.jsx(li,{className:"h-4 w-4"})})}),o.jsxs(hr,{children:[o.jsx(pr,{children:o.jsx(mr,{children:"Add New Player"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"first_name",children:"First Name *"}),o.jsx(ye,{id:"first_name",value:j.first_name,onChange:D=>_({...j,first_name:D.target.value})})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"last_name",children:"Last Name *"}),o.jsx(ye,{id:"last_name",value:j.last_name,onChange:D=>_({...j,last_name:D.target.value})})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"city",children:"City *"}),o.jsx(ye,{id:"city",value:j.city,onChange:D=>_({...j,city:D.target.value})})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"phone_number",children:"Phone Number"}),o.jsx(ye,{id:"phone_number",value:j.phone_number,onChange:D=>_({...j,phone_number:D.target.value})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{onClick:$,className:"flex-1",children:"Add Player"}),o.jsx(ne,{variant:"outline",onClick:()=>y(!1),children:"Cancel"})]})]})]})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(jr,{value:d,onValueChange:f,children:[o.jsx(dr,{className:"border-2 border-black",children:o.jsx(Nr,{placeholder:"Filter by tournament"})}),o.jsxs(fr,{children:[o.jsx(ot,{value:"all",children:"All Players"}),o.jsx(ot,{value:"unassigned",children:"Unassigned"}),t.map(D=>o.jsx(ot,{value:D.id,children:D.name},D.id))]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(pa,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ye,{placeholder:"Search players...",value:h,onChange:D=>p(D.target.value),className:"pl-8"})]})]})]}),o.jsxs(Ge,{className:"space-y-2",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[Ie.length," player(s) found"]}),o.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:Ie.map(D=>o.jsx("div",{className:`p-2 rounded border cursor-pointer transition-colors ${v.find(ee=>ee.id===D.id)?"bg-blue-50 border-blue-200":"hover:bg-gray-50"}`,onClick:()=>U(D),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium",children:[D.first_name," ",D.last_name]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:D.city})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ne,{size:"sm",variant:"ghost",onClick:ee=>{ee.stopPropagation(),N(D),w(!0)},className:"h-6 w-6 p-0",children:o.jsx(Nc,{className:"h-3 w-3"})}),o.jsx(ne,{size:"sm",variant:"ghost",onClick:ee=>{ee.stopPropagation(),fe(D.id)},className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:o.jsx(hf,{className:"h-3 w-3"})}),v.find(ee=>ee.id===D.id)&&o.jsx(ba,{className:"h-4 w-4 text-blue-600"})]})]})},D.id))}),v.length>0&&o.jsxs(ne,{onClick:z,className:"w-full",disabled:v.length!==2,children:["Create Team (",v.length,"/2)"]})]})]}),o.jsxs(He,{className:"border-2 border-red-500",children:[o.jsxs(qe,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Qe,{className:"text-lg text-center",children:"Teams"}),o.jsx("div",{className:"flex gap-1",children:o.jsxs(Er,{open:k,onOpenChange:C,children:[o.jsx(ti,{asChild:!0,children:o.jsx(ne,{size:"sm",children:o.jsx(tu,{className:"h-4 w-4"})})}),o.jsxs(hr,{children:[o.jsx(pr,{children:o.jsx(mr,{children:"Add New Team"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"team_name",children:"Team Name *"}),o.jsx(ye,{id:"team_name",value:W.name,onChange:D=>Z({...W,name:D.target.value})})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"team_city",children:"City *"}),o.jsx(ye,{id:"team_city",value:W.city,onChange:D=>Z({...W,city:D.target.value})})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"player1",children:"Player 1 *"}),o.jsxs(jr,{value:W.player1_id,onValueChange:D=>Z({...W,player1_id:D}),children:[o.jsx(dr,{children:o.jsx(Nr,{placeholder:"Select player 1"})}),o.jsx(fr,{children:r.map(D=>o.jsxs(ot,{value:D.id,children:[D.first_name," ",D.last_name," (",D.city,")"]},D.id))})]})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"player2",children:"Player 2 *"}),o.jsxs(jr,{value:W.player2_id,onValueChange:D=>Z({...W,player2_id:D}),children:[o.jsx(dr,{children:o.jsx(Nr,{placeholder:"Select player 2"})}),o.jsx(fr,{children:r.map(D=>o.jsxs(ot,{value:D.id,children:[D.first_name," ",D.last_name," (",D.city,")"]},D.id))})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{onClick:ae,className:"flex-1",children:"Add Team"}),o.jsx(ne,{variant:"outline",onClick:()=>C(!1),children:"Cancel"})]})]})]})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(jr,{value:E,onValueChange:B,children:[o.jsx(dr,{className:"border-2 border-black",children:o.jsx(Nr,{placeholder:"Filter by tournament"})}),o.jsxs(fr,{children:[o.jsx(ot,{value:"all",children:"All Teams"}),o.jsx(ot,{value:"unassigned",children:"Unassigned"}),t.map(D=>o.jsx(ot,{value:D.id,children:D.name},D.id))]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(pa,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ye,{placeholder:"Search teams...",value:I,onChange:D=>F(D.target.value),className:"pl-8"})]})]})]}),o.jsxs(Ge,{className:"space-y-2",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[Je.length," team(s) found"]}),o.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:Je.map(D=>o.jsx("div",{className:`p-2 rounded border cursor-pointer transition-colors ${A.find(ee=>ee.id===D.id)?"bg-blue-50 border-blue-200":"hover:bg-gray-50"}`,onClick:()=>{A.find(ee=>ee.id===D.id)?G(A.filter(ee=>ee.id!==D.id)):G([...A,D])},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:D.name}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[P(D.player1_id)," & ",P(D.player2_id)]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:D.city}),D.registeredTournaments&&D.registeredTournaments.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:D.registeredTournaments.map(ee=>{const ce=t.find(me=>me.id===ee);return o.jsxs(Te,{variant:"secondary",className:"text-xs",children:[(ce==null?void 0:ce.name)||ee,o.jsx("button",{onClick:me=>{me.stopPropagation(),H(D,ee)},className:"ml-1 hover:text-red-600",children:o.jsx(Ta,{className:"h-3 w-3"})})]},ee)})})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ne,{size:"sm",variant:"ghost",onClick:ee=>{ee.stopPropagation(),O(D),K(!0)},className:"h-6 w-6 p-0",children:o.jsx(Nc,{className:"h-3 w-3"})}),o.jsx(ne,{size:"sm",variant:"ghost",onClick:ee=>{ee.stopPropagation(),Ae(D.id)},className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:o.jsx(hf,{className:"h-3 w-3"})}),A.find(ee=>ee.id===D.id)&&o.jsx(ba,{className:"h-4 w-4 text-blue-600"})]})]})},D.id))})]})]}),o.jsxs(He,{className:"border-2 border-red-500",children:[o.jsxs(qe,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Qe,{className:"text-lg text-center",children:"Tournaments"}),o.jsx("div",{className:"flex gap-1",children:o.jsxs(Er,{open:Y,onOpenChange:X,children:[o.jsx(ti,{asChild:!0,children:o.jsx(ne,{size:"sm",children:o.jsx(tu,{className:"h-4 w-4"})})}),o.jsxs(hr,{children:[o.jsx(pr,{children:o.jsx(mr,{children:"Add New Tournament"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"tournament_name",children:"Tournament Name *"}),o.jsx(ye,{id:"tournament_name",value:xe.name,onChange:D=>Oe({...xe,name:D.target.value})})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"tournament_status",children:"Status *"}),o.jsxs(jr,{value:xe.status,onValueChange:D=>Oe({...xe,status:D}),children:[o.jsx(dr,{children:o.jsx(Nr,{placeholder:"Select status"})}),o.jsxs(fr,{children:[o.jsx(ot,{value:"pending",children:"Pending"}),o.jsx(ot,{value:"active",children:"Active"}),o.jsx(ot,{value:"finished",children:"Finished"})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{onClick:$e,className:"flex-1",children:"Add Tournament"}),o.jsx(ne,{variant:"outline",onClick:()=>X(!1),children:"Cancel"})]})]})]})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(jr,{value:q,onValueChange:se,children:[o.jsx(dr,{className:"border-2 border-black",children:o.jsx(Nr,{placeholder:"Filter tournaments"})}),o.jsxs(fr,{children:[o.jsx(ot,{value:"all",children:"All Tournaments"}),o.jsx(ot,{value:"active",children:"Active Only"}),o.jsx(ot,{value:"pending",children:"Pending Only"}),o.jsx(ot,{value:"finished",children:"Finished Only"}),o.jsx(ot,{value:"divider",disabled:!0,children:""}),e.map(D=>o.jsxs(ot,{value:D.id,children:[D.name," - Tournaments"]},D.id))]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(pa,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(ye,{placeholder:"Search tournaments...",value:je,onChange:D=>T(D.target.value),className:"pl-8"})]})]})]}),o.jsxs(Ge,{className:"space-y-3",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[Lt.length," tournament(s) found"]}),o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:Lt.map(D=>o.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded border hover:bg-gray-50 transition-colors",children:[o.jsx(kj,{id:D.id,checked:V.includes(D.id),onCheckedChange:ee=>{oe(ee?[...V,D.id]:V.filter(ce=>ce!==D.id))}}),o.jsx(ge,{htmlFor:D.id,className:`flex-1 cursor-pointer font-medium ${D.status==="active"?"text-red-600":""}`,children:D.name}),o.jsx(ne,{size:"sm",variant:"ghost",onClick:ee=>{ee.stopPropagation(),we(D),pe(!0)},className:"h-6 w-6 p-0",children:o.jsx(Nc,{className:"h-3 w-3"})}),o.jsx(ne,{size:"sm",variant:"ghost",onClick:ee=>{ee.stopPropagation(),Ne(D.id)},className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:o.jsx(hf,{className:"h-3 w-3"})})]},D.id))}),A.length>0&&V.length>0&&o.jsxs(ne,{onClick:M,className:"w-full",children:[o.jsx(yP,{className:"h-4 w-4 mr-2"}),"Add ",A.length," Team(s) to ",V.length," Tournament(s)"]})]})]})]})})]}),o.jsx(Er,{open:x&&S!==null,onOpenChange:w,children:o.jsxs(hr,{children:[o.jsx(pr,{children:o.jsx(mr,{children:"Edit Player"})}),S&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"edit_first_name",children:"First Name *"}),o.jsx(ye,{id:"edit_first_name",value:S.first_name,onChange:D=>N({...S,first_name:D.target.value})})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"edit_last_name",children:"Last Name *"}),o.jsx(ye,{id:"edit_last_name",value:S.last_name,onChange:D=>N({...S,last_name:D.target.value})})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"edit_city",children:"City *"}),o.jsx(ye,{id:"edit_city",value:S.city,onChange:D=>N({...S,city:D.target.value})})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"edit_phone_number",children:"Phone Number"}),o.jsx(ye,{id:"edit_phone_number",value:S.phone_number||"",onChange:D=>N({...S,phone_number:D.target.value})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{onClick:le,className:"flex-1",children:"Update Player"}),o.jsx(ne,{variant:"outline",onClick:()=>w(!1),children:"Cancel"})]})]})]})}),o.jsx(Er,{open:L&&R!==null,onOpenChange:K,children:o.jsxs(hr,{children:[o.jsx(pr,{children:o.jsx(mr,{children:"Edit Team"})}),R&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"edit_team_name",children:"Team Name *"}),o.jsx(ye,{id:"edit_team_name",value:R.name,onChange:D=>O({...R,name:D.target.value})})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"edit_team_city",children:"City *"}),o.jsx(ye,{id:"edit_team_city",value:R.city,onChange:D=>O({...R,city:D.target.value})})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"edit_player1",children:"Player 1 *"}),o.jsxs(jr,{value:R.player1_id,onValueChange:D=>O({...R,player1_id:D}),children:[o.jsx(dr,{children:o.jsx(Nr,{placeholder:"Select player 1"})}),o.jsx(fr,{children:r.map(D=>o.jsxs(ot,{value:D.id,children:[D.first_name," ",D.last_name," (",D.city,")"]},D.id))})]})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"edit_player2",children:"Player 2 *"}),o.jsxs(jr,{value:R.player2_id,onValueChange:D=>O({...R,player2_id:D}),children:[o.jsx(dr,{children:o.jsx(Nr,{placeholder:"Select player 2"})}),o.jsx(fr,{children:r.map(D=>o.jsxs(ot,{value:D.id,children:[D.first_name," ",D.last_name," (",D.city,")"]},D.id))})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{onClick:he,className:"flex-1",children:"Update Team"}),o.jsx(ne,{variant:"outline",onClick:()=>K(!1),children:"Cancel"})]})]})]})}),o.jsx(Er,{open:ie&&re!==null,onOpenChange:pe,children:o.jsxs(hr,{children:[o.jsx(pr,{children:o.jsx(mr,{children:"Edit Tournament"})}),re&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"edit_tournament_name",children:"Tournament Name *"}),o.jsx(ye,{id:"edit_tournament_name",value:re.name,onChange:D=>we({...re,name:D.target.value})})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"edit_tournament_status",children:"Status *"}),o.jsxs(jr,{value:re.status,onValueChange:D=>we({...re,status:D}),children:[o.jsx(dr,{children:o.jsx(Nr,{placeholder:"Select status"})}),o.jsxs(fr,{children:[o.jsx(ot,{value:"pending",children:"Pending"}),o.jsx(ot,{value:"active",children:"Active"}),o.jsx(ot,{value:"finished",children:"Finished"})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{onClick:be,className:"flex-1",children:"Update Tournament"}),o.jsx(ne,{variant:"outline",onClick:()=>pe(!1),children:"Cancel"})]})]})]})})]})},tM=()=>{const{tournaments:e,getActiveTournament:t,createTeamFromPlayers:r}=_t(),[n,s]=m.useState({first_name:"",last_name:"",city:"",phone_number:"",selectedTournaments:[],bostonPotTournaments:[]}),[a,i]=m.useState(!1),[l,c]=m.useState([]),[u,d]=m.useState(!1),[f,h]=m.useState(!1),[p,v]=m.useState([]),[g,b]=m.useState(null),[y,x]=m.useState(""),[w,S]=m.useState([]),[N,j]=m.useState([]),[_,E]=m.useState([]),[B,I]=m.useState(""),[F,A]=m.useState([]),G=t();m.useEffect(()=>{if(!G)return;(async()=>{try{i(!0);const{supabase:Y}=await Ue(async()=>{const{supabase:Oe}=await Promise.resolve().then(()=>et);return{supabase:Oe}},void 0),{data:X,error:ie}=await Y.from("player_tournament").select("player_id").eq("tournament_id",G.id);if(ie){console.error("Error fetching tournament player IDs:",ie);return}if(!X||X.length===0){c([]);return}const pe=X.map(Oe=>Oe.player_id),{data:re,error:we}=await Y.from("players").select("*").in("id",pe);if(we){console.error("Error fetching players:",we);return}const xe=(re||[]).sort((Oe,Ie)=>Oe.first_name.localeCompare(Ie.first_name));c(xe)}catch(Y){console.error("Error loading registered players:",Y)}finally{i(!1)}})()},[G]),m.useEffect(()=>{if(!G)return;(async()=>{try{const{supabase:Y}=await Ue(async()=>{const{supabase:xe}=await Promise.resolve().then(()=>et);return{supabase:xe}},void 0),{data:X,error:ie}=await Y.from("team_registrations").select("team_id").eq("tournament_id",G.id);if(ie){console.error("Error fetching team registrations:",ie);return}if(!X||X.length===0){A([]);return}const pe=X.map(xe=>xe.team_id),{data:re,error:we}=await Y.from("teams").select(`
            *,
            player1:players!player1_id(*),
            player2:players!player2_id(*)
          `).in("id",pe);if(we){console.error("Error fetching teams:",we);return}A(re||[])}catch(Y){console.error("Error loading committed teams:",Y)}})()},[G]),m.useEffect(()=>{(async()=>{try{const{supabase:Y}=await Ue(async()=>{const{supabase:pe}=await Promise.resolve().then(()=>et);return{supabase:pe}},void 0),{data:X,error:ie}=await Y.from("players").select("*").order("first_name");if(ie){console.error("Error fetching all players:",ie);return}v(X||[])}catch(Y){console.error("Error loading all players:",Y)}})()},[]);const k=(T,Y)=>{s(X=>({...X,[T]:Y}))},C=T=>{s(Y=>{const X=Y.selectedTournaments.includes(T)?Y.selectedTournaments.filter(pe=>pe!==T):[...Y.selectedTournaments,T],ie=Y.selectedTournaments.includes(T)?Y.bostonPotTournaments.filter(pe=>pe!==T):[...Y.bostonPotTournaments,T];return{...Y,selectedTournaments:X,bostonPotTournaments:ie}})},L=T=>{s(Y=>({...Y,bostonPotTournaments:Y.bostonPotTournaments.includes(T)?Y.bostonPotTournaments.filter(X=>X!==T):[...Y.bostonPotTournaments,T]}))},K=()=>n.selectedTournaments.reduce((T,Y)=>{const X=e.find(ie=>ie.id===Y);return T+((X==null?void 0:X.cost)||0)},0),R=p.filter(T=>{if(!y)return!0;const Y=y.toLowerCase();return T.first_name.toLowerCase().includes(Y)||T.last_name.toLowerCase().includes(Y)||T.city.toLowerCase().includes(Y)||T.phone_number.toLowerCase().includes(Y)}),O=async(T,Y)=>{try{d(!0);const{supabase:X}=await Ue(async()=>{const{supabase:xe}=await Promise.resolve().then(()=>et);return{supabase:xe}},void 0),ie=Y.map(xe=>X.from("player_tournament").insert([{player_id:T.id,tournament_id:xe}])),re=(await Promise.all(ie)).filter(xe=>xe.error);if(re.length>0){console.error("Error registering player for tournaments:",re),alert("Failed to register player for some tournaments. Please try again.");return}if(G&&Y.includes(G.id)){const xe=[...l,T].sort((Oe,Ie)=>Oe.first_name.localeCompare(Ie.first_name));c(xe)}s({first_name:"",last_name:"",city:"",phone_number:"",selectedTournaments:[],bostonPotTournaments:[]}),b(null),h(!1),x(""),S([]);const we=e.filter(xe=>Y.includes(xe.id)).map(xe=>xe.name).join(", ");alert(`Player ${T.first_name} ${T.last_name} added successfully to: ${we}`)}catch(X){console.error("Error adding existing player to tournaments:",X),alert("Failed to add player to tournaments. Please try again.")}finally{d(!1)}},W=async T=>{try{const{supabase:Y}=await Ue(async()=>{const{supabase:re}=await Promise.resolve().then(()=>et);return{supabase:re}},void 0),{data:X,error:ie}=await Y.from("player_tournament").select("tournament_id").eq("player_id",T);if(ie){console.error("Error fetching player tournament registrations:",ie);return}const pe=(X==null?void 0:X.map(re=>re.tournament_id))||[];S(pe)}catch(Y){console.error("Error loading player existing tournaments:",Y)}},V=l.filter(T=>{const Y=F.some(ie=>ie.player1_id===T.id||ie.player2_id===T.id),X=_.some(ie=>ie.player1.id===T.id||ie.player2.id===T.id);return!Y&&!X}).filter(T=>{if(!B)return!0;const Y=B.toLowerCase();return T.first_name.toLowerCase().includes(Y)||T.last_name.toLowerCase().includes(Y)||T.city.toLowerCase().includes(Y)||T.phone_number.toLowerCase().includes(Y)}),oe=T=>{N.find(Y=>Y.id===T.id)?j(Y=>Y.filter(X=>X.id!==T.id)):N.length<2&&j(Y=>[...Y,T])},q=async()=>{if(!(!G||N.length!==2))try{d(!0);const T=await r(N[0],N[1],G.id);if(T){const Y={id:T,name:`${N[0].first_name}/${N[1].first_name}`,player1:N[0],player2:N[1],created_at:new Date().toISOString()};E(ie=>[Y,...ie]),j([]),(async()=>{try{const{supabase:ie}=await Ue(async()=>{const{supabase:we}=await Promise.resolve().then(()=>et);return{supabase:we}},void 0),{data:pe,error:re}=await ie.from("team_registrations").select("team_id").eq("tournament_id",G.id);if(re)return;if(pe&&pe.length>0){const we=pe.map(Ie=>Ie.team_id),{data:xe,error:Oe}=await ie.from("teams").select(`
                  *,
                  player1:players!player1_id(*),
                  player2:players!player2_id(*)
                `).in("id",we);Oe||A(xe||[])}}catch(ie){console.error("Error refreshing committed teams:",ie)}})()}}catch(T){console.error("Error creating team:",T),alert("Failed to create team. Please try again.")}finally{d(!1)}},se=async T=>{if(!(!G||!confirm("Are you sure you want to undo this team? This will remove them from the tournament but keep the team record.")))try{const{supabase:Y}=await Ue(async()=>{const{supabase:ie}=await Promise.resolve().then(()=>et);return{supabase:ie}},void 0),{error:X}=await Y.from("team_registrations").delete().eq("team_id",T.id).eq("tournament_id",G.id);if(X){console.error("Error removing team from tournament:",X),alert("Failed to undo team. Please try again.");return}A(ie=>ie.filter(pe=>pe.id!==T.id)),alert("Team undone successfully! Players are now available for new teams.")}catch(Y){console.error("Error undoing team:",Y),alert("Failed to undo team. Please try again.")}},je=async T=>{if(T.preventDefault(),!!G){if(!n.first_name.trim()||!n.last_name.trim()||!n.city.trim()||!n.phone_number.trim()){alert("Please fill in all required fields");return}if(n.selectedTournaments.length===0){alert("Please select at least one tournament");return}try{d(!0);const{supabase:Y}=await Ue(async()=>{const{supabase:Ie}=await Promise.resolve().then(()=>et);return{supabase:Ie}},void 0),{data:X,error:ie}=await Y.from("players").insert([{first_name:n.first_name.trim(),last_name:n.last_name.trim(),city:n.city.trim(),phone_number:n.phone_number.trim()}]).select().single();if(ie){console.error("Error creating player:",ie),alert("Failed to create player. Please try again.");return}const pe=n.selectedTournaments.map(Ie=>{const Je=n.bostonPotTournaments.includes(Ie);return Y.from("player_tournament").insert([{player_id:X.id,tournament_id:Ie,paid:!1,b_paid:!1,entered_boston_pot:Je}])}),we=(await Promise.all(pe)).filter(Ie=>Ie.error);if(we.length>0){console.error("Error registering player for tournaments:",we),alert("Player created but failed to register for some tournaments. Please try again.");return}s({first_name:"",last_name:"",city:"",phone_number:"",selectedTournaments:[],bostonPotTournaments:[]});const xe=[...l,X].sort((Ie,Je)=>Ie.first_name.localeCompare(Je.first_name));c(xe);const Oe=e.filter(Ie=>n.selectedTournaments.includes(Ie.id)).map(Ie=>Ie.name).join(", ");alert(`Player ${X.first_name} ${X.last_name} registered successfully for: ${Oe}`)}catch(Y){console.error("Error registering player:",Y),alert("Failed to register player. Please try again.")}finally{d(!1)}}};return G?o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Player Registration & Team Management"}),o.jsxs("p",{className:"text-muted-foreground",children:["Active Tournament: ",o.jsx("strong",{children:G.name})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs(He,{children:[o.jsx(qe,{children:o.jsxs(Qe,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(li,{className:"h-5 w-5"}),"Register New Player"]}),o.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>h(!0),children:"Add Existing Player"})]})}),o.jsx(Ge,{children:o.jsxs("form",{onSubmit:je,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"first_name",children:"First Name *"}),o.jsx(ye,{id:"first_name",value:n.first_name,onChange:T=>k("first_name",T.target.value),placeholder:"John",required:!0})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"last_name",children:"Last Name *"}),o.jsx(ye,{id:"last_name",value:n.last_name,onChange:T=>k("last_name",T.target.value),placeholder:"Doe",required:!0})]})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"city",children:"City *"}),o.jsx(ye,{id:"city",value:n.city,onChange:T=>k("city",T.target.value),placeholder:"New York",required:!0})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"phone_number",children:"Phone Number *"}),o.jsx(ye,{id:"phone_number",value:n.phone_number,onChange:T=>k("phone_number",T.target.value),placeholder:"(555) 123-4567",required:!0})]}),o.jsxs("div",{children:[o.jsx(ge,{children:"Select Tournaments *"}),o.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded-md p-3",children:e.map(T=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:`tournament-${T.id}`,checked:n.selectedTournaments.includes(T.id),onChange:()=>C(T.id),className:"rounded"}),o.jsx("label",{htmlFor:`tournament-${T.id}`,className:"flex-1 cursor-pointer",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-medium text-sm",children:T.name}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["$",T.cost]})]})})]},T.id))}),n.selectedTournaments.length>0&&o.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded-md",children:o.jsxs("p",{className:"text-sm font-medium",children:["Total Cost: ",o.jsxs("span",{className:"text-blue-600",children:["$",K()]})]})})]}),n.selectedTournaments.length>0&&o.jsxs("div",{children:[o.jsx(ge,{children:"Boston Pot Selection (95% of players opt in)"}),o.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded-md p-3",children:e.filter(T=>n.selectedTournaments.includes(T.id)).map(T=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:`boston-${T.id}`,checked:n.bostonPotTournaments.includes(T.id),onChange:()=>L(T.id),className:"rounded",defaultChecked:!0}),o.jsx("label",{htmlFor:`boston-${T.id}`,className:"flex-1 cursor-pointer",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-medium text-sm",children:T.name}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["$",T.bostonPotCost||0]})]})})]},T.id))}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Checked = Opt into Boston Pot (default for 95% of players)"})]}),o.jsx(ne,{type:"submit",className:"w-full",disabled:u,children:u?o.jsxs(o.Fragment,{children:[o.jsx(ff,{className:"h-4 w-4 mr-2 animate-spin"}),"Registering..."]}):o.jsxs(o.Fragment,{children:[o.jsx(li,{className:"h-4 w-4 mr-2"}),"Register Player"]})})]})})]}),o.jsxs(He,{children:[o.jsxs(qe,{children:[o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(Vu,{className:"h-5 w-5"}),"Available Players (",V.length,")"]}),o.jsxs("div",{className:"relative",children:[o.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(ye,{placeholder:"Search players...",value:B,onChange:T=>I(T.target.value),className:"pl-10"})]})]}),o.jsxs(Ge,{children:[a?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Loading players..."}):V.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No available players. Register players first."}):o.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:V.map(T=>{const Y=N.find(X=>X.id===T.id);return o.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${Y?"bg-blue-50 border-blue-300":"hover:bg-gray-50"}`,onClick:()=>oe(T),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:`font-medium ${Y?"text-blue-700":""}`,children:[T.first_name," ",T.last_name]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.city,"  ",T.phone_number]})]}),Y&&o.jsx(ba,{className:"h-4 w-4 text-blue-600"})]})},T.id)})}),N.length>0&&o.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsxs("p",{className:"text-sm font-medium mb-2",children:["Selected Players (",N.length,"/2):"]}),o.jsx("div",{className:"space-y-1",children:N.map(T=>o.jsxs("div",{className:"text-sm",children:[" ",T.first_name," ",T.last_name]},T.id))}),N.length===2&&o.jsx(ne,{onClick:q,disabled:u,className:"w-full mt-3",children:u?o.jsxs(o.Fragment,{children:[o.jsx(ff,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Team..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Jv,{className:"h-4 w-4 mr-2"}),"Create Team"]})})]})]})]}),o.jsxs(He,{children:[o.jsx(qe,{children:o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(Jv,{className:"h-5 w-5"}),"Committed Teams (",F.length,")"]})}),o.jsx(Ge,{children:F.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No teams committed yet. Select players to create teams."}):o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:F.map(T=>{var Y,X,ie,pe;return o.jsxs("div",{className:"p-3 border rounded-lg bg-green-50 border-green-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:"font-medium text-green-800",children:T.name}),o.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>se(T),className:"text-red-600 hover:text-red-700",children:[o.jsx(RP,{className:"h-3 w-3 mr-1"}),"Undo"]})]}),o.jsxs("div",{className:"text-sm text-green-700",children:[o.jsxs("div",{children:[" ",(Y=T.player1)==null?void 0:Y.first_name," ",(X=T.player1)==null?void 0:X.last_name]}),o.jsxs("div",{children:[" ",(ie=T.player2)==null?void 0:ie.first_name," ",(pe=T.player2)==null?void 0:pe.last_name]})]})]},T.id)})})})]})]}),f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Add Existing Player to Tournaments"}),o.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>{h(!1),b(null),x(""),S([])},children:o.jsx(Ta,{className:"h-4 w-4"})})]}),g?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsxs("div",{className:"font-medium",children:[g.first_name," ",g.last_name]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[g.city,"  ",g.phone_number]})]}),o.jsxs("div",{children:[o.jsx(ge,{children:"Select Tournaments to Add Player To"}),o.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-md p-3 mt-2",children:e.map(T=>{const Y=w.includes(T.id);return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:`existing-tournament-${T.id}`,checked:n.selectedTournaments.includes(T.id),onChange:()=>C(T.id),disabled:Y,className:"rounded"}),o.jsxs("label",{htmlFor:`existing-tournament-${T.id}`,className:`flex-1 cursor-pointer ${Y?"opacity-50":""}`,children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"font-medium",children:[T.name,Y&&o.jsx(Te,{variant:"secondary",className:"ml-2 text-xs",children:"Already Registered"})]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["$",T.cost]})]}),T.description&&o.jsx("p",{className:"text-xs text-muted-foreground",children:T.description})]})]},T.id)})}),n.selectedTournaments.length>0&&o.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded-md",children:[o.jsxs("p",{className:"text-sm font-medium",children:["Total Cost: ",o.jsxs("span",{className:"text-blue-600",children:["$",K()]})]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",n.selectedTournaments.length," tournament(s)"]})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(ne,{onClick:()=>O(g,n.selectedTournaments),disabled:u||n.selectedTournaments.length===0,className:"flex-1",children:u?o.jsxs(o.Fragment,{children:[o.jsx(ff,{className:"h-4 w-4 mr-2 animate-spin"}),"Adding..."]}):o.jsxs(o.Fragment,{children:[o.jsx(li,{className:"h-4 w-4 mr-2"}),"Add to Tournaments"]})}),o.jsx(ne,{variant:"outline",onClick:()=>{b(null),S([])},disabled:u,children:"Back to Search"})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ge,{children:"Search Players"}),o.jsx(ye,{placeholder:"Search by name, city, or phone...",value:y,onChange:T=>x(T.target.value)})]}),o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:R.map(T=>o.jsxs("div",{className:"p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>{b(T),W(T.id),s(Y=>({...Y,selectedTournaments:[]}))},children:[o.jsxs("div",{className:"font-medium",children:[T.first_name," ",T.last_name]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[T.city,"  ",T.phone_number]})]},T.id))})]})]})})]}):o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(He,{className:"w-96",children:o.jsx(Ge,{className:"pt-6",children:o.jsx("p",{className:"text-center text-muted-foreground",children:"Please select an active tournament to register players."})})})})},Xj=({team:e,isOpen:t,onClose:r,onSave:n})=>{console.log("TeamEditor mounted. Props:",{team:e,isOpen:t}),console.log("TeamEditor team prop:",e);const[s,a]=m.useState(!1),{cities:i,tournaments:l,deleteTeam:c}=_t(),[u,d]=m.useState(e),[f,h]=m.useState({player1_first_name:e.player1_first_name||"",player1_last_name:e.player1_last_name||"",player2_first_name:e.player2_first_name||"",player2_last_name:e.player2_last_name||"",phone_number:e.phone_number||"",city:e.city||"",registeredTournaments:e.registeredTournaments||e.registered_tournaments||[],bostonPotOptOut:e.bostonPotOptOut||e.boston_pot_opt_out||{}});typeof window<"u"&&console.log("TeamEditor formData state:",f);const p=o.jsxs("div",{style:{fontSize:"10px",color:"purple",wordBreak:"break-all"},children:["[team prop] ",JSON.stringify(e)]});J.useEffect(()=>{h({player1_first_name:e.player1_first_name||"",player1_last_name:e.player1_last_name||"",player2_first_name:e.player2_first_name||"",player2_last_name:e.player2_last_name||"",phone_number:e.phone_number||"",city:e.city||"",registeredTournaments:e.registeredTournaments||e.registered_tournaments||[],bostonPotOptOut:e.bostonPotOptOut||e.boston_pot_opt_out||{}})},[e]);const v=()=>{window.confirm("Are you sure you want to delete this team? This action cannot be undone.")&&(a(!0),e&&e.id&&typeof c=="function"&&c(e.id),typeof r=="function"&&setTimeout(()=>{r()},200))},g=S=>{h(N=>({...N,registeredTournaments:N.registeredTournaments.includes(S)?N.registeredTournaments.filter(j=>j!==S):[...N.registeredTournaments,S],bostonPotOptOut:N.registeredTournaments.includes(S)?Object.fromEntries(Object.entries(N.bostonPotOptOut).filter(([j])=>j!==S)):N.bostonPotOptOut}))},b=S=>{h(N=>({...N,bostonPotOptOut:{...N.bostonPotOptOut,[S]:!N.bostonPotOptOut[S]}}))},y=S=>{const N=S.replace(/\D/g,"");return N.length===10?`(${N.slice(0,3)}) ${N.slice(3,6)}-${N.slice(6)}`:S},x=S=>{const N=y(S.target.value);h(j=>({...j,phone_Number:N}))},w=()=>{const S=f.registeredTournaments.filter(j=>!f.bostonPotOptOut[j]),N={...e,player1FirstName:f.player1_first_name,player1LastName:f.player1_last_name,player2FirstName:f.player2_first_name,player2LastName:f.player2_last_name,phoneNumber:f.phone_number,city:f.city,name:`${f.player1_first_name} ${f.player1_last_name}/${f.player2_first_name} ${f.player2_last_name}`,registeredTournaments:f.registeredTournaments,bostonPotOptOut:f.bostonPotOptOut,bostonPotTournaments:S};n(N),r()};return o.jsx(Er,{open:t,onOpenChange:r,children:o.jsxs(hr,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsx(pr,{children:o.jsx(mr,{children:"Edit Team"})}),o.jsxs("div",{style:{color:"red",fontWeight:"bold"},children:["[DEBUG] TeamEditor rendered. Team: ",e&&e.id?e.id:"no id"," | ",e&&e.name?e.name:"no name"]}),o.jsxs("div",{style:{color:"blue",fontWeight:"bold"},children:["[DEBUG] cities: ",Array.isArray(i)?i.length:"undefined"," | tournaments: ",Array.isArray(l)?l.length:"undefined"]}),p,o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{style:{color:"green",fontWeight:"bold"},children:["[DEBUG] Form section rendering. formData: ",JSON.stringify(f)]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx(ge,{children:"Player 1 First Name"}),o.jsx(ye,{value:f.player1_first_name,onChange:S=>h(N=>({...N,player1_first_name:S.target.value}))})]}),o.jsxs("div",{children:[o.jsx(ge,{children:"Player 1 Last Name"}),o.jsx(ye,{value:f.player1_last_name,onChange:S=>h(N=>({...N,player1_last_name:S.target.value}))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx(ge,{children:"Player 2 First Name"}),o.jsx(ye,{value:f.player2_first_name,onChange:S=>h(N=>({...N,player2_first_name:S.target.value}))})]}),o.jsxs("div",{children:[o.jsx(ge,{children:"Player 2 Last Name"}),o.jsx(ye,{value:f.player2_last_name,onChange:S=>h(N=>({...N,player2_last_name:S.target.value}))})]})]}),o.jsxs("div",{children:[o.jsx(ge,{children:"Phone Number"}),o.jsx(ye,{value:f.phone_number,onChange:x})]}),o.jsxs("div",{children:[o.jsx(ge,{children:"City"}),o.jsxs(jr,{value:f.city,onValueChange:S=>h(N=>({...N,city:S})),children:[o.jsx(dr,{children:o.jsx(Nr,{placeholder:"Select a city"})}),o.jsx(fr,{children:(Array.isArray(i)?i:[]).map(S=>o.jsx(ot,{value:S,children:S},S))})]})]}),o.jsxs("div",{children:[o.jsx(ge,{children:"Tournaments"}),o.jsx("div",{className:"flex flex-col gap-2",children:(Array.isArray(l)?l:[]).map(S=>{const N=f.registeredTournaments.includes(S.id);return o.jsxs("div",{className:"flex flex-col border rounded p-2",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:N,onChange:()=>g(S.id)}),o.jsx("span",{children:S.name})]}),N&&o.jsxs("label",{className:"flex items-center gap-2 ml-6 mt-1",children:[o.jsx("input",{type:"checkbox",checked:!!f.bostonPotOptOut[S.id],onChange:()=>b(S.id)}),o.jsx("span",{children:"No Boston Pot"})]})]},S.id)})})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ne,{variant:"outline",onClick:r,children:"Cancel"}),o.jsx(ne,{variant:"destructive",onClick:v,disabled:s,children:"Delete Team"}),o.jsx(ne,{onClick:w,disabled:s,children:"Save Changes"})]})]})]})})};var pd="Collapsible",[rM,Z5]=An(pd),[nM,Xm]=rM(pd),Zj=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:i,...l}=e,[c,u]=Ms({prop:n,defaultProp:s??!1,onChange:i,caller:pd});return o.jsx(nM,{scope:r,disabled:a,contentId:Vn(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:o.jsx(Re.div,{"data-state":eg(c),"data-disabled":a?"":void 0,...l,ref:t})})});Zj.displayName=pd;var eN="CollapsibleTrigger",tN=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=Xm(eN,r);return o.jsx(Re.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":eg(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Pe(e.onClick,s.onOpenToggle)})});tN.displayName=eN;var Zm="CollapsibleContent",rN=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Xm(Zm,e.__scopeCollapsible);return o.jsx(Xn,{present:r||s.open,children:({present:a})=>o.jsx(sM,{...n,ref:t,present:a})})});rN.displayName=Zm;var sM=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,i=Xm(Zm,r),[l,c]=m.useState(n),u=m.useRef(null),d=st(t,u),f=m.useRef(0),h=f.current,p=m.useRef(0),v=p.current,g=i.open||l,b=m.useRef(g),y=m.useRef(void 0);return m.useEffect(()=>{const x=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(x)},[]),Ot(()=>{const x=u.current;if(x){y.current=y.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const w=x.getBoundingClientRect();f.current=w.height,p.current=w.width,b.current||(x.style.transitionDuration=y.current.transitionDuration,x.style.animationName=y.current.animationName),c(n)}},[i.open,n]),o.jsx(Re.div,{"data-state":eg(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!g,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:g&&s})});function eg(e){return e?"open":"closed"}var aM=Zj;const iM=aM,oM=tN,lM=rN,cM=()=>{const{teams:e,tournaments:t,updateTeam:r,getActiveTournament:n}=_t(),[s,a]=m.useState(null),[i,l]=m.useState(""),[c,u]=m.useState(new Set),d=n&&n();J.useEffect(()=>{t.length>0&&c.size===0&&u(new Set(t.map(b=>b.id)))},[t]),console.log("Available tournaments:",t.map(b=>`${b.id}: ${b.name}`)),console.log("Total teams:",e.length),console.log("Teams with registeredTournaments:",e.filter(b=>b.registeredTournaments&&b.registeredTournaments.length>0).length);const f=b=>{const y=e.filter(x=>{var w;return(w=x.registeredTournaments)==null?void 0:w.includes(b)});return console.log(`Tournament ${b} teams:`,y.length,y.map(x=>`${x.teamNumber}: ${x.name}`)),y},h=(b,y)=>{var S,N;const x=((S=b.player1TournamentPayments)==null?void 0:S[y])||!1,w=((N=b.player2TournamentPayments)==null?void 0:N[y])||!1;return x&&w?"fully-paid":x||w?"partially-paid":"unpaid"},p=b=>{switch(b){case"fully-paid":return o.jsx(Te,{className:"bg-green-500",children:"Fully Paid"});case"partially-paid":return o.jsx(Te,{variant:"secondary",className:"bg-yellow-500 text-white",children:"Partial"});default:return o.jsx(Te,{variant:"secondary",children:"Unpaid"})}},v=b=>{if(!i)return b;const y=i.toLowerCase(),x=S=>S?String(S).toLowerCase():"",w=b.filter(S=>x(S.name).includes(y)||x(S.city).includes(y)||x(S.player1FirstName).includes(y)||x(S.player1LastName).includes(y)||x(S.player2FirstName).includes(y)||x(S.player2LastName).includes(y));return console.log(`Filtered teams for search "${i}":`,w.length,"out of",b.length),w},g=b=>{const y=new Set(c);y.has(b)?y.delete(b):y.add(b),u(y)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(He,{className:"shadow-lg",children:[o.jsxs(qe,{children:[o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(Wn,{className:"w-5 h-5"}),"Teams by Tournament"]}),o.jsxs("div",{className:"relative",children:[o.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(ye,{placeholder:"Search by team name, city, or player name...",value:i,onChange:b=>l(b.target.value),className:"pl-10"})]})]}),o.jsx(Ge,{children:o.jsx("div",{className:"space-y-4",children:[...t].sort((b,y)=>{if(d){if(b.id===d.id)return-1;if(y.id===d.id)return 1}return b.name.localeCompare(y.name)}).map(b=>{const y=f(b.id),x=v(y);let w=c.has(b.id);return i.trim()&&(w=x.length===0),console.log(`Tournament ${b.name} (${b.id}): ${y.length} total teams, ${x.length} after filtering`),o.jsx(iM,{open:!w,children:o.jsxs("div",{className:"border rounded-lg",children:[o.jsx(oM,{asChild:!0,children:o.jsxs(ne,{variant:"ghost",className:"w-full p-4 flex items-center justify-between hover:bg-gray-50",onClick:()=>g(b.id),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[w?o.jsx(wP,{className:"w-4 h-4"}):o.jsx(wm,{className:"w-4 h-4"}),o.jsx("h3",{className:"text-lg font-semibold",children:b.name})]}),o.jsxs(Te,{variant:"outline",className:"flex items-center gap-1",children:[o.jsx(Vu,{className:"w-3 h-3"}),x.length," teams"]})]})}),o.jsx(lM,{children:o.jsx("div",{className:"p-4 pt-0",children:x.length===0?o.jsx("p",{className:"text-gray-500 text-center py-2",children:"No teams found"}):o.jsx("div",{className:"space-y-2",children:x.map(S=>{var _,E,B;const N=h(S,b.id),j=(_=S.bostonPotTournaments)==null?void 0:_.includes(b.id);return o.jsxs("div",{className:"p-3 bg-gray-50 rounded space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium",children:["Team ",S.teamNumber,": ",S.name]}),o.jsxs("div",{className:"text-sm",children:[o.jsxs("span",{className:(E=S.player1TournamentPayments)!=null&&E[b.id]?"text-green-600 font-semibold":"text-red-600 font-semibold",children:[S.player1FirstName," ",S.player1LastName]})," "," & "," ",o.jsxs("span",{className:(B=S.player2TournamentPayments)!=null&&B[b.id]?"text-green-600 font-semibold":"text-red-600 font-semibold",children:[S.player2FirstName," ",S.player2LastName]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ne,{size:"sm",variant:"outline",onClick:()=>a(S),children:o.jsx(Nc,{className:"w-3 h-3"})}),o.jsx("div",{className:"text-right",children:p(N)})]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[o.jsx(PP,{className:"w-3 h-3"}),o.jsx("span",{children:S.phoneNumber})]}),o.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[o.jsx(Vw,{className:"w-3 h-3"}),o.jsx("span",{children:S.city})]})]}),j&&o.jsx(Te,{variant:"outline",className:"text-xs",children:"Boston Pot"})]})]},S.id)})})})})]})},b.id)})})})]}),s&&o.jsx(Xj,{team:s,isOpen:!!s,onClose:()=>a(null),onSave:r})]})},uM=()=>{var N;const{teams:e,tournaments:t,updatePlayerPayment:r,getTeamPaymentStatus:n,calculateTeamTotalOwed:s,getActiveTournament:a,refreshTeams:i}=_t(),[l,c]=m.useState(""),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,v]=m.useState(!1);a();const g=f||u;m.useEffect(()=>{u&&!f&&b(u.id)},[u]);const b=async j=>{var _,E,B,I,F,A,G,k;try{const{supabase:C}=await Ue(async()=>{const{supabase:q}=await Promise.resolve().then(()=>et);return{supabase:q}},void 0),{data:L,error:K}=await C.from("teams").select(`
          *,
          player1:players!player1_id(*),
          player2:players!player2_id(*)
        `).eq("id",j).single();if(K){console.error("Error fetching team data:",K);return}const{data:R,error:O}=await C.from("team_registrations").select("tournament_id").eq("team_id",j);if(O){console.error("Error fetching team registrations:",O);return}const{data:W,error:Z}=await C.from("player_tournament").select("*").or(`player_id.eq.${L.player1_id},player_id.eq.${L.player2_id}`);if(Z){console.error("Error fetching player payments:",Z);return}const V=(R==null?void 0:R.map(q=>q.tournament_id))||[],oe={...L,id:String(L.id),player1FirstName:((_=L.player1)==null?void 0:_.first_name)||"",player1LastName:((E=L.player1)==null?void 0:E.last_name)||"",player2FirstName:((B=L.player2)==null?void 0:B.first_name)||"",player2LastName:((I=L.player2)==null?void 0:I.last_name)||"",phoneNumber:((F=L.player1)==null?void 0:F.phone_number)||((A=L.player2)==null?void 0:A.phone_number)||"",city:((G=L.player1)==null?void 0:G.city)||((k=L.player2)==null?void 0:k.city)||"",registeredTournaments:V,player1TournamentPayments:{},player2TournamentPayments:{},player1BostonPotPayments:{},player2BostonPotPayments:{}};W==null||W.forEach(q=>{q.player_id===L.player1_id?(oe.player1TournamentPayments[q.tournament_id]=q.paid,oe.player1BostonPotPayments[q.tournament_id]=q.b_paid):q.player_id===L.player2_id&&(oe.player2TournamentPayments[q.tournament_id]=q.paid,oe.player2BostonPotPayments[q.tournament_id]=q.b_paid)}),h(oe)}catch(C){console.error("Error refreshing team data:",C)}},y=async(j,_,E)=>{if(g)try{v(!0);const{supabase:B}=await Ue(async()=>{const{supabase:F}=await Promise.resolve().then(()=>et);return{supabase:F}},void 0),{error:I}=await B.from("player_tournament").update({paid:E,b_paid:E}).eq("player_id",j).eq("tournament_id",_);if(I)throw console.error("Error updating player payment:",I),I;if(f){const F={...f};j===F.player1_id?(F.player1TournamentPayments={...F.player1TournamentPayments,[_]:E},F.player1BostonPotPayments={...F.player1BostonPotPayments,[_]:E}):j===F.player2_id&&(F.player2TournamentPayments={...F.player2TournamentPayments,[_]:E},F.player2BostonPotPayments={...F.player2BostonPotPayments,[_]:E}),h(F)}await i(),Q({title:`Payment ${E?"marked as paid":"marked as unpaid"} successfully`})}catch(B){console.error("Error updating player payment:",B),alert("Failed to update payment. Please try again.")}finally{v(!1)}},x=e.filter(j=>{var E,B,I,F,A;if(!l)return!0;const _=l.toLowerCase();return j.name.toLowerCase().includes(_)||((E=j.city)==null?void 0:E.toLowerCase().includes(_))||((B=j.player1FirstName)==null?void 0:B.toLowerCase().includes(_))||((I=j.player1LastName)==null?void 0:I.toLowerCase().includes(_))||((F=j.player2FirstName)==null?void 0:F.toLowerCase().includes(_))||((A=j.player2LastName)==null?void 0:A.toLowerCase().includes(_))}),w=j=>j.tournamentPaid&&j.bostonPotPaid?o.jsx(Te,{className:"bg-green-500",children:"Fully Paid"}):j.tournamentPaid?o.jsx(Te,{variant:"secondary",className:"bg-blue-500 text-white",children:"Tournament Paid"}):o.jsx(Te,{variant:"secondary",children:"Unpaid"}),S=(j,_)=>{var C,L,K,R;const E=((C=j.player1TournamentPayments)==null?void 0:C[_])||!1,B=((L=j.player2TournamentPayments)==null?void 0:L[_])||!1,I=((K=j.player1BostonPotPayments)==null?void 0:K[_])||!1,F=((R=j.player2BostonPotPayments)==null?void 0:R[_])||!1;return{tournamentPaid:E&&B,bostonPotPaid:I&&F,bostonPotMismatch:I!==F}};if(g){const j=g;return o.jsx("div",{className:"space-y-6",children:o.jsxs(He,{className:"shadow-lg",children:[o.jsxs(qe,{children:[o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(qo,{className:"w-5 h-5"}),"Payment Details for ",j.name]}),o.jsx(ne,{size:"sm",variant:"outline",onClick:()=>b(j.id),disabled:p,className:"ml-auto",children:"Refresh Data"})]}),o.jsxs(Ge,{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Team Details:"}),o.jsx("div",{className:"font-semibold",children:j.name}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Phone: ",j.phoneNumber," | City: ",j.city]}),o.jsxs("div",{className:"text-sm font-medium mt-2",children:["Total Amount Due: $",s(j)]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-sm font-medium",children:"Tournament Payments:"}),(N=j.registeredTournaments)==null?void 0:N.map(_=>{var I,F,A,G,k,C,L,K;const E=t.find(R=>R.id===_),B=S(j,_);return o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:(E==null?void 0:E.name)||_}),w(B)]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Tournament Cost: $",(E==null?void 0:E.cost)||0," per player",(E==null?void 0:E.bostonPotCost)&&o.jsxs("span",{children:[" | Boston Pot: $",E.bostonPotCost," per player"]})]}),B.bostonPotMismatch&&o.jsxs("div",{className:"mb-2 p-2 bg-orange-50 border border-orange-200 rounded-md",children:[o.jsxs("div",{className:"flex items-center gap-2 text-orange-700",children:[o.jsx(Qv,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Boston Pot Mismatch"})]}),o.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"One player opted into Boston Pot, the other didn't. Team is not in Boston Pot."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-medium",children:[j.player1FirstName," ",j.player1LastName]}),o.jsxs("div",{className:"text-xs text-gray-600",children:["Tournament: ",(I=j.player1TournamentPayments)!=null&&I[_]?"Paid":"Unpaid"," | Boston Pot: ",(F=j.player1BostonPotPayments)!=null&&F[_]?"Paid":"Unpaid"]})]}),o.jsx("div",{className:"flex gap-1",children:o.jsx(ne,{size:"sm",variant:(A=j.player1TournamentPayments)!=null&&A[_]?"default":"outline",onClick:()=>{var R;return y(j.player1_id,_,!((R=j.player1TournamentPayments)!=null&&R[_]))},disabled:p,children:(G=j.player1TournamentPayments)!=null&&G[_]?"Paid":"Mark Paid"})})]}),o.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-medium",children:[j.player2FirstName," ",j.player2LastName]}),o.jsxs("div",{className:"text-xs text-gray-600",children:["Tournament: ",(k=j.player2TournamentPayments)!=null&&k[_]?"Paid":"Unpaid"," | Boston Pot: ",(C=j.player2BostonPotPayments)!=null&&C[_]?"Paid":"Unpaid"]})]}),o.jsx("div",{className:"flex gap-1",children:o.jsx(ne,{size:"sm",variant:(L=j.player2TournamentPayments)!=null&&L[_]?"default":"outline",onClick:()=>{var R;return y(j.player2_id,_,!((R=j.player2TournamentPayments)!=null&&R[_]))},disabled:p,children:(K=j.player2TournamentPayments)!=null&&K[_]?"Paid":"Mark Paid"})})]})]})]},_)})]}),o.jsx("div",{className:"flex gap-3 pt-4",children:o.jsx(ne,{onClick:()=>{d(null),h(null)},variant:"outline",className:"flex-1",children:"Back to Teams"})})]})]})})}return o.jsx("div",{className:"space-y-6",children:o.jsxs(He,{className:"shadow-lg",children:[o.jsxs(qe,{children:[o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(qo,{className:"w-5 h-5"}),"Team Payments"]}),o.jsxs("div",{className:"relative",children:[o.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(ye,{placeholder:"Search teams...",value:l,onChange:j=>c(j.target.value),className:"pl-10"})]})]}),o.jsx(Ge,{children:o.jsx("div",{className:"space-y-3",children:x.map(j=>{var B,I;const _=s(j),E=(B=j.registeredTournaments)==null?void 0:B.some(F=>S(j,F).bostonPotMismatch);return o.jsx("div",{className:`p-4 border rounded-lg hover:bg-gray-50 cursor-pointer ${E?"border-orange-300 bg-orange-50":""}`,onClick:()=>d(j),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:j.name}),o.jsxs("div",{className:"text-sm text-gray-600",children:[j.city,"  ",j.phoneNumber]}),o.jsxs("div",{className:"text-sm text-gray-500",children:[j.player1FirstName," ",j.player1LastName," & ",j.player2FirstName," ",j.player2LastName]}),E&&o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx(Qv,{className:"h-3 w-3 text-orange-600"}),o.jsx("span",{className:"text-xs text-orange-600",children:"Boston Pot Mismatch"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-sm font-medium",children:["$",_]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[((I=j.registeredTournaments)==null?void 0:I.length)||0," tournaments"]})]})]})},j.id)})})})]})})},dM=()=>{const{games:e,teams:t,getTournamentResults:r}=_t(),n=e.filter(i=>i.confirmed).sort((i,l)=>new Date(l.timestamp).getTime()-new Date(i.timestamp).getTime());r("1");const s={totalGames:n.length,totalPoints:n.reduce((i,l)=>i+l.scoreA+l.scoreB,0),bostons:n.filter(i=>i.boston!=="none").length,avgScore:n.length>0?(n.reduce((i,l)=>i+l.scoreA+l.scoreB,0)/n.length).toFixed(1):"0.0"},a=i=>{const l=t.find(p=>p.id===i.teamA)||{id:i.teamA},c=t.find(p=>p.id===i.teamB)||{id:i.teamB},u=i.winner==="teamA"?l:c,d=i.winner==="teamA"?c:l,f=i.winner==="teamA"?i.scoreA:i.scoreB,h=i.winner==="teamA"?i.scoreB:i.scoreA;return{winner:u,loser:d,winnerScore:f,loserScore:h,round:i.round,boston:i.boston,timestamp:i.timestamp}};return o.jsxs(He,{children:[o.jsx(qe,{children:o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(Wn,{className:"h-5 w-5"}),"Tournament Game History"]})}),o.jsxs(Ge,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.totalGames}),o.jsx("div",{className:"text-sm text-blue-600",children:"Total Games"})]}),o.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.totalPoints}),o.jsx("div",{className:"text-sm text-green-600",children:"Total Points"})]}),o.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.bostons}),o.jsx("div",{className:"text-sm text-yellow-600",children:"Bostons"})]}),o.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.avgScore}),o.jsx("div",{className:"text-sm text-purple-600",children:"Avg Score"})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[o.jsx(Sm,{className:"h-4 w-4"}),"Recent Games"]}),n.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx("p",{children:"No completed games yet"}),o.jsx("p",{className:"text-sm",children:"Games will appear here after both teams confirm scores"})]}):o.jsxs("div",{className:"space-y-2",children:[n.slice(0,10).map(i=>{const l=a(i);return o.jsxs("div",{className:"p-3 rounded-lg border bg-gradient-to-r from-gray-50 to-white hover:from-gray-100 hover:to-gray-50 transition-all duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Te,{variant:"outline",className:"text-xs",children:["Round ",l.round]}),o.jsxs("span",{className:"text-sm font-medium",children:["Team ",l.winner.teamNumber||"Unknown"," ",l.winnerScore," - Team ",l.loser.teamNumber||"Unknown"," ",l.loserScore]}),l.boston!=="none"&&o.jsx(bm,{className:"h-4 w-4 text-yellow-500"})]}),o.jsx("div",{className:"text-xs text-gray-500",children:new Date(l.timestamp).toLocaleDateString()})]}),o.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[l.winner.player1FirstName," ",l.winner.player1LastName," & ",l.winner.player2FirstName," ",l.winner.player2LastName,o.jsx("span",{className:"mx-2",children:"vs"}),l.loser.player1FirstName," ",l.loser.player1LastName," & ",l.loser.player2FirstName," ",l.loser.player2LastName]})]},i.id)}),n.length>10&&o.jsxs("div",{className:"text-center text-sm text-gray-500 pt-2",children:["Showing 10 most recent games of ",n.length," total"]})]})]})]})]})},pu=m.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 transition-colors resize-none",e),ref:r,...t}));pu.displayName="Textarea";var Rf="rovingFocusGroup.onEntryFocus",fM={bubbles:!1,cancelable:!0},yl="RovingFocusGroup",[dp,nN,hM]=gm(yl),[pM,sN]=An(yl,[hM]),[mM,gM]=pM(yl),aN=m.forwardRef((e,t)=>o.jsx(dp.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(dp.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(vM,{...e,ref:t})})}));aN.displayName=yl;var vM=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=st(t,h),v=Wm(a),[g,b]=Ms({prop:i,defaultProp:l??null,onChange:c,caller:yl}),[y,x]=m.useState(!1),w=Qr(u),S=nN(r),N=m.useRef(!1),[j,_]=m.useState(0);return m.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(Rf,w),()=>E.removeEventListener(Rf,w)},[w]),o.jsx(mM,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(E=>b(E),[b]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>_(E=>E-1),[]),children:o.jsx(Re.div,{tabIndex:y||j===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Pe(e.onMouseDown,()=>{N.current=!0}),onFocus:Pe(e.onFocus,E=>{const B=!N.current;if(E.target===E.currentTarget&&B&&!y){const I=new CustomEvent(Rf,fM);if(E.currentTarget.dispatchEvent(I),!I.defaultPrevented){const F=S().filter(L=>L.focusable),A=F.find(L=>L.active),G=F.find(L=>L.id===g),C=[A,G,...F].filter(Boolean).map(L=>L.ref.current);lN(C,d)}}N.current=!1}),onBlur:Pe(e.onBlur,()=>x(!1))})})}),iN="RovingFocusGroupItem",oN=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=Vn(),u=a||c,d=gM(iN,r),f=d.currentTabStopId===u,h=nN(r),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:g}=d;return m.useEffect(()=>{if(n)return p(),()=>v()},[n,p,v]),o.jsx(dp.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(Re.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Pe(e.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:Pe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Pe(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=bM(b,d.orientation,d.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const S=w.indexOf(b.currentTarget);w=d.loop?wM(w,S+1):w.slice(S+1)}setTimeout(()=>lN(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:g!=null}):i})})});oN.displayName=iN;var yM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function bM(e,t,r){const n=xM(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return yM[n]}function lN(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function wM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var SM=aN,jM=oN,md="Tabs",[NM,e6]=An(md,[sN]),cN=sN(),[_M,tg]=NM(md),uN=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Wm(l),[f,h]=Ms({prop:n,onChange:s,defaultProp:a??"",caller:md});return o.jsx(_M,{scope:r,baseId:Vn(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:o.jsx(Re.div,{dir:d,"data-orientation":i,...u,ref:t})})});uN.displayName=md;var dN="TabsList",fN=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=tg(dN,r),i=cN(r);return o.jsx(SM,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:o.jsx(Re.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});fN.displayName=dN;var hN="TabsTrigger",pN=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,i=tg(hN,r),l=cN(r),c=vN(i.baseId,n),u=yN(i.baseId,n),d=n===i.value;return o.jsx(jM,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(Re.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Pe(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:Pe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:Pe(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});pN.displayName=hN;var mN="TabsContent",gN=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...i}=e,l=tg(mN,r),c=vN(l.baseId,n),u=yN(l.baseId,n),d=n===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(Xn,{present:s||d,children:({present:h})=>o.jsx(Re.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});gN.displayName=mN;function vN(e,t){return`${e}-trigger-${t}`}function yN(e,t){return`${e}-content-${t}`}var EM=uN,xN=fN,bN=pN,wN=gN;const SN=EM,rg=m.forwardRef(({className:e,...t},r)=>o.jsx(xN,{ref:r,className:De("inline-flex h-10 items-center justify-center rounded-md bg-muted/50 p-1 text-muted-foreground",e),...t}));rg.displayName=xN.displayName;const Co=m.forwardRef(({className:e,...t},r)=>o.jsx(bN,{ref:r,className:De("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm hover:text-foreground",e),...t}));Co.displayName=bN.displayName;const tr=m.forwardRef(({className:e,...t},r)=>o.jsx(wN,{ref:r,className:De("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 animate-in fade-in-0 data-[state=inactive]:animate-out data-[state=inactive]:fade-out-0 duration-200",e),...t}));tr.displayName=wN.displayName;const CM=()=>{const{cities:e,addCity:t,removeCity:r}=_t(),[n,s]=m.useState(""),a=()=>{n.trim()&&(t(n.trim()),s(""))},i=c=>{r(c)},l=c=>{c.key==="Enter"&&a()};return o.jsxs(He,{className:"shadow-lg",children:[o.jsx(qe,{children:o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(Vw,{className:"w-5 h-5"}),"City Management"]})}),o.jsxs(Ge,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"newCity",children:"Add New City"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ye,{id:"newCity",placeholder:"Enter city name",value:n,onChange:c=>s(c.target.value),onKeyPress:l,className:"flex-1"}),o.jsxs(ne,{onClick:a,disabled:!n.trim(),className:"flex items-center gap-2",children:[o.jsx(tu,{className:"w-4 h-4"}),"Add"]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(ge,{children:["Current Cities (",e.length,")"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(c=>o.jsxs(Te,{variant:"secondary",className:"flex items-center gap-2 px-3 py-1",children:[c,o.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>i(c),className:"h-4 w-4 p-0 hover:bg-red-100",children:o.jsx(Ta,{className:"w-3 h-3"})})]},c))}),e.length===0&&o.jsx("p",{className:"text-gray-500 text-sm",children:"No cities added yet."})]})]})]})},TM=()=>{const{messages:e,addMessage:t,updateMessage:r,deleteMessage:n,getActiveMessages:s}=_t(),[a,i]=m.useState(""),[l,c]=m.useState("info"),u=[{id:"lunch",title:"Lunch Break",message:" Lunch will be served in 15 minutes! Please make your way to the dining area.",type:"info"},{id:"round",title:"Next Round",message:" Next round starts in 10 minutes! Please return to your assigned tables.",type:"warning"},{id:"break",title:"Break Time",message:" 15-minute break! Snacks and drinks available at the concession stand.",type:"info"},{id:"final",title:"Final Round",message:" Final round of the tournament! Championship on the line - give it your all!",type:"success"},{id:"awards",title:"Awards Ceremony",message:" Awards ceremony in 10 minutes! Please gather in the main hall.",type:"success"}],d=s()[0],f=async v=>{try{for(const g of e)g.active&&await r(g.id,{active:!1});await t({text:v.message,type:v.type,active:!0,createdBy:"admin"}),Q({title:"Message Posted",description:`"${v.title}" message is now scrolling on all screens`})}catch(g){console.error("Error sending predefined message:",g)}},h=async()=>{if(!a.trim()){Q({title:"Error",description:"Please enter a message",variant:"destructive"});return}try{for(const v of e)v.active&&await r(v.id,{active:!1});await t({text:a,type:l,active:!0,createdBy:"admin"}),i(""),Q({title:"Custom Message Posted",description:"Your custom message is now scrolling on all screens"})}catch(v){console.error("Error sending custom message:",v)}},p=async()=>{if(d)try{await r(d.id,{active:!1}),Q({title:"Message Removed",description:"The scrolling message has been removed from all screens"})}catch(v){console.error("Error removing message:",v)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Message Manager"}),d&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Te,{variant:"secondary",className:"bg-green-100 text-green-800",children:[o.jsx(Hw,{className:"h-3 w-3 mr-1"}),"Active Message"]}),o.jsxs(ne,{variant:"destructive",size:"sm",onClick:p,children:[o.jsx(Ta,{className:"h-4 w-4 mr-1"}),"Remove Message"]})]})]}),d&&o.jsxs(He,{className:"border-green-200 bg-green-50",children:[o.jsx(qe,{children:o.jsx(Qe,{className:"text-green-800",children:"Currently Displaying"})}),o.jsxs(Ge,{children:[o.jsx("p",{className:"text-green-700 font-medium",children:d.text}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx(Te,{variant:"outline",className:"text-xs",children:d.type}),o.jsxs("span",{className:"text-xs text-green-600",children:["Posted: ",d.createdAt.toLocaleTimeString()]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(He,{children:[o.jsx(qe,{children:o.jsx(Qe,{children:"Quick Messages"})}),o.jsx(Ge,{className:"space-y-3",children:u.map(v=>o.jsxs("div",{className:"border rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h4",{className:"font-medium",children:v.title}),o.jsx(Te,{variant:"outline",className:"text-xs",children:v.type})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:v.message}),o.jsxs(ne,{onClick:()=>f(v),className:"w-full",size:"sm",children:[o.jsx(Yv,{className:"h-4 w-4 mr-2"}),"Post This Message"]})]},v.id))})]}),o.jsxs(He,{children:[o.jsx(qe,{children:o.jsx(Qe,{children:"Custom Message"})}),o.jsxs(Ge,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message Type"}),o.jsx("div",{className:"flex gap-2",children:["info","warning","success","error"].map(v=>o.jsx(ne,{variant:l===v?"default":"outline",size:"sm",onClick:()=>c(v),children:v.charAt(0).toUpperCase()+v.slice(1)},v))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message Text"}),o.jsx(pu,{value:a,onChange:v=>i(v.target.value),placeholder:"Enter your custom message...",rows:4,className:"resize-none"})]}),o.jsxs(ne,{onClick:h,disabled:!a.trim(),className:"w-full",children:[o.jsx(Yv,{className:"h-4 w-4 mr-2"}),"Post Custom Message"]})]})]})]})]})},PM=()=>{const{tournaments:e,setTournaments:t,addTournament:r,updateTournament:n,getActiveTournament:s,setActiveTournament:a}=_t(),[i,l]=m.useState("tournaments"),[c,u]=m.useState(""),[d,f]=m.useState(""),[h,p]=m.useState("10"),[v,g]=m.useState(""),[b,y]=m.useState(null),[x,w]=m.useState(""),[S,N]=m.useState(""),[j,_]=m.useState(""),[E,B]=m.useState(""),I=s(),F=async()=>{if(!c.trim()||!d.trim()||!h.trim())return;const C=parseFloat(d),L=parseFloat(h);isNaN(C)||C<=0||isNaN(L)||L<=0||(await r(c.trim(),C,L,v.trim()||void 0),u(""),f(""),p("10"),g(""))},A=C=>{y(C.id),w(C.name),N(C.cost.toString()),_(C.bostonPotCost.toString()),B(C.description||"")},G=async()=>{if(!x.trim()||!S.trim()||!j.trim()||!b)return;const C=parseFloat(S),L=parseFloat(j);isNaN(C)||C<=0||isNaN(L)||L<=0||(await n(b,x.trim(),C,L,E.trim()||void 0),k())},k=()=>{y(null),w(""),N(""),_(""),B("")};return o.jsx("div",{className:"space-y-6",children:o.jsxs(SN,{defaultValue:"tournaments",className:"w-full",value:i,onValueChange:l,children:[o.jsxs(rg,{className:"grid w-full grid-cols-3",children:[o.jsx(Co,{value:"tournaments",children:"Tournament Setup"}),o.jsx(Co,{value:"cities",children:"City Management"}),o.jsx(Co,{value:"messaging",children:"Messaging"})]}),o.jsxs(tr,{value:"tournaments",className:"space-y-6",children:[o.jsxs(He,{className:"shadow-lg",children:[o.jsx(qe,{children:o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(Wn,{className:"w-5 h-5"}),"Active Tournament"]})}),o.jsx(Ge,{children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("label",{htmlFor:"active-tournament-select",className:"font-medium",children:"Select Active Tournament:"}),o.jsxs("select",{id:"active-tournament-select",className:"border rounded p-2",value:(I==null?void 0:I.id)||"",onChange:C=>{const L=e.find(K=>K.id===C.target.value);L&&a(L.id)},children:[o.jsx("option",{value:"",disabled:!0,children:"Select a tournament..."}),e.map(C=>o.jsx("option",{value:C.id,children:C.name},C.id))]}),I&&o.jsx(Te,{variant:"default",className:"bg-green-500 text-white ml-2",children:"Active"})]})})]}),o.jsxs(He,{className:"shadow-lg",children:[o.jsx(qe,{children:o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(qw,{className:"w-5 h-5"}),"Tournament Setup"]})}),o.jsxs(Ge,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"tournamentName",children:"Tournament Name"}),o.jsx(ye,{id:"tournamentName",placeholder:"e.g., Friday 3 AM Tournament",value:c,onChange:C=>u(C.target.value)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"tournamentCost",children:"Base Cost ($)"}),o.jsx(ye,{id:"tournamentCost",type:"number",placeholder:"30",value:d,onChange:C=>f(C.target.value)})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"bostonPotCost",children:"Boston Pot Cost ($)"}),o.jsx(ye,{id:"bostonPotCost",type:"number",placeholder:"10",value:h,onChange:C=>p(C.target.value)})]})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"tournamentDescription",children:"Description (Optional)"}),o.jsx(pu,{id:"tournamentDescription",placeholder:"Tournament details...",value:v,onChange:C=>g(C.target.value),rows:3})]}),o.jsxs(ne,{onClick:F,disabled:!c.trim()||!d.trim()||!h.trim(),className:"w-full flex items-center gap-2",children:[o.jsx(tu,{className:"w-4 h-4"}),"Add Tournament"]})]})]}),o.jsxs(He,{className:"shadow-lg",children:[o.jsx(qe,{children:o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(Wn,{className:"w-5 h-5"}),"Available Tournaments (",e.length,")"]})}),o.jsx(Ge,{children:o.jsx("div",{className:"grid gap-3",children:e.map(C=>o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${C.status==="active"?"bg-green-50 border border-green-300":C.status==="pending"?"bg-yellow-50 border border-yellow-300":"bg-gray-50"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold",children:C.name}),o.jsx(Te,{variant:C.status==="active"?"default":C.status==="pending"?"secondary":"outline",children:C.status==="active"?"Active":C.status==="pending"?"Pending":"Finished"})]}),b===C.id?o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(ye,{value:x,onChange:L=>w(L.target.value),placeholder:"Tournament name"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(ye,{type:"number",value:S,onChange:L=>N(L.target.value),placeholder:"Base cost"}),o.jsx(ye,{type:"number",value:j,onChange:L=>_(L.target.value),placeholder:"Boston cost"})]}),o.jsx(pu,{value:E,onChange:L=>B(L.target.value),placeholder:"Description",rows:2}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{size:"sm",onClick:G,children:o.jsx(Gw,{className:"w-3 h-3"})}),o.jsx(ne,{size:"sm",variant:"outline",onClick:k,children:o.jsx(Ta,{className:"w-3 h-3"})})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-semibold",children:C.name}),C.status==="active"&&o.jsx(Te,{variant:"default",className:"bg-green-500 text-white",children:"Active"}),C.status==="finished"&&o.jsx(Te,{variant:"secondary",children:"Finished"})]}),C.description&&o.jsx("div",{className:"text-sm text-gray-600",children:C.description}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsxs(Te,{variant:"secondary",children:["Per Team: $",C.cost]}),o.jsxs(Te,{variant:"outline",className:"flex items-center gap-1",children:[o.jsx(AP,{className:"w-3 h-3"}),"Boston: $",C.bostonPotCost]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-gray-600",children:"Total with Boston:"}),o.jsxs("div",{className:"font-semibold",children:["$",(C.cost||0)+(C.bostonPotCost||0)]})]}),o.jsx(ne,{size:"sm",variant:"outline",onClick:()=>A(C),children:o.jsx(CP,{className:"w-3 h-3"})})]})]})]},C.id))})})]})]}),o.jsx(tr,{value:"cities",children:o.jsx(CM,{})}),o.jsx(tr,{value:"messaging",className:"space-y-6",children:o.jsx(TM,{})})]})})};var kM="Separator",nx="horizontal",AM=["horizontal","vertical"],jN=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=nx,...s}=e,a=RM(n)?n:nx,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(Re.div,{"data-orientation":a,...l,...s,ref:t})});jN.displayName=kM;function RM(e){return AM.includes(e)}var NN=jN;const _N=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,variant:n="default",...s},a)=>o.jsx(NN,{ref:a,decorative:r,orientation:t,className:De("shrink-0",n==="default"&&"bg-border",n==="muted"&&"bg-muted",n==="accent"&&"bg-primary/30",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));_N.displayName=NN.displayName;const IM=({schedule:e,tournamentName:t})=>{const{teams:r,games:n,scoreSubmissions:s,refreshGamesFromSupabase:a}=_t();J.useEffect(()=>{const c=setInterval(()=>{a()},2e3);return()=>clearInterval(c)},[a]);const i=c=>{const u=n.find(f=>f.matchId===c.id&&f.confirmed);if(u){const f=u.winner==="teamA"?r.find(v=>v.id===c.teamA):r.find(v=>v.id===c.teamB),h=u.winner==="teamA"?u.scoreA:u.scoreB,p=u.winner==="teamA"?u.scoreB:u.scoreA;return`Completed - Team ${(f==null?void 0:f.teamNumber)||"Unknown"} won ${h}-${p}`}const d=s.filter(f=>f.matchId===c.id);if(d.length===2)return d[0].scoreA===d[1].scoreA&&d[0].scoreB===d[1].scoreB?"Confirming scores":"Score conflict - needs resolution";if(d.length===1){const f=r.find(h=>h.id===d[0].submittedBy);return`Waiting for opponent score (Team ${(f==null?void 0:f.teamNumber)||"Unknown"} submitted)`}if(c.teamA==="TBD"||c.teamB==="TBD"){if(c.round===1)return"Ready to start";{const h=e.matches.filter(p=>p.round===c.round-1).filter(p=>!n.find(v=>v.matchId===p.id&&v.confirmed));return h.length>0?`Waiting for ${h.length} Round ${c.round-1} match${h.length>1?"es":""} to complete`:"Waiting for team assignment"}}return"Ready to score"},l=c=>c.includes("Completed")?"bg-green-100 border-green-300 text-green-800":c.includes("Ready to score")?"bg-blue-100 border-blue-300 text-blue-800":c.includes("Waiting for opponent score")?"bg-yellow-100 border-yellow-300 text-yellow-800":c.includes("Confirming scores")?"bg-orange-100 border-orange-300 text-orange-800":c.includes("Score conflict")?"bg-red-100 border-red-300 text-red-800":c.includes("Ready to start")?"bg-blue-100 border-blue-300 text-blue-800":"bg-gray-100 border-gray-300 text-gray-600";return o.jsxs(He,{className:"border-2 border-gray-300",children:[o.jsx(qe,{children:o.jsx(Qe,{className:"text-center text-2xl font-bold text-red-600 mb-2 border-b-2 border-red-500 pb-2 shadow-sm",children:t})}),o.jsxs(Ge,{children:[o.jsxs("div",{className:"text-center text-sm text-gray-600 mb-4",children:[e.matches.length," matches  ",Math.max(...e.matches.map(c=>c.round))," rounds"]}),Array.from({length:Math.max(e.rounds,Math.max(...e.matches.map(c=>c.round)))},(c,u)=>u+1).map(c=>{const u=e.matches.filter(d=>d.round===c);return o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs(Te,{variant:"outline",className:"font-bold text-lg px-4 py-2 bg-blue-100 border-blue-300 text-blue-800",children:["Round ",c]})}),o.jsx("div",{className:"space-y-3",children:u.map(d=>{var y,x;if(d.isBye){const w=d.teamA==="null"?d.teamB:d.teamA,S=r.find(N=>String(N.id)===String(w));return o.jsxs("div",{className:"p-2 md:p-3 border rounded-lg bg-yellow-50 border-yellow-300 text-yellow-800",children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-1 gap-2 md:gap-0",children:o.jsx("div",{className:"flex-1 font-medium text-xs md:text-sm",children:S?o.jsxs("span",{children:[S.teamNumber??S.id,": ",S.name," - ",o.jsx("span",{className:"text-[8px] md:text-[10px]",children:S.city})]}):"Unknown Team"})}),o.jsx("div",{className:"flex flex-wrap justify-center items-center gap-1 md:gap-2 mt-1",children:o.jsx(Te,{variant:"outline",className:"text-[10px] md:text-xs px-1.5 py-0.5 md:px-2 md:py-1 bg-yellow-100 border-yellow-300 text-yellow-800",children:"BYE"})})]},d.id)}const f=r.find(w=>w.id===d.teamA),h=r.find(w=>w.id===d.teamB),p=i(d),v=l(p),g=n.find(w=>w.matchId===d.id&&w.confirmed);let b=null;if(g){const w=g.winner==="teamA"?f:h,S=g.winner==="teamA"?g.scoreA:g.scoreB,N=g.winner==="teamA"?g.scoreB:g.scoreA;b={winner:w,winnerScore:S,loserScore:N}}return o.jsxs("div",{className:`p-2 md:p-3 border rounded-lg ${v} relative`,children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-1 gap-2 md:gap-0",children:[o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"font-medium text-xs md:text-sm",children:d.teamA==="TBD"?"TBD":f?o.jsxs("span",{children:[f.teamNumber??f.id,": ",f.name," - ",o.jsx("span",{className:"text-[8px] md:text-[10px]",children:f.city})]}):`${d.teamA}`})}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs(Te,{variant:"outline",className:"text-[10px] md:text-xs px-1.5 py-0.5 md:px-2 md:py-1 mb-1",children:["Table ",d.table]}),o.jsx("span",{className:"text-muted-foreground mx-0 md:mx-3 font-medium text-xs md:text-sm text-center",children:"vs"})]}),o.jsx("div",{className:"flex-1 md:text-right",children:o.jsx("div",{className:"font-medium text-xs md:text-sm",children:d.teamB==="TBD"?"TBD":h?o.jsxs("span",{children:[h.teamNumber??h.id,": ",h.name," - ",o.jsx("span",{className:"text-[8px] md:text-[10px]",children:h.city})]}):`${d.teamB}`})})]}),o.jsx("div",{className:"flex flex-wrap justify-center items-center gap-1 md:gap-2 mt-1",children:f&&h&&f.city===h.city&&o.jsx(Te,{variant:"destructive",className:"text-[10px] md:text-xs px-1.5 py-0.5 md:px-2 md:py-1",children:"Same City"})}),b&&o.jsx("div",{className:"absolute bottom-1 right-2",children:o.jsxs("span",{className:"text-xs italic text-red-600",children:["Team ",((y=b.winner)==null?void 0:y.teamNumber)??((x=b.winner)==null?void 0:x.id)," won ",b.winnerScore,"-",b.loserScore]})})]},d.id)})}),c<e.rounds&&o.jsx(_N,{className:"mt-4"})]},c)})]})]})};function fp(e,t){return fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},fp(e,t)}function EN(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,fp(e,t)}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ke.apply(null,arguments)}function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function DM(e,t){if(Zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OM(e){var t=DM(e,"string");return Zo(t)=="symbol"?t:t+""}function BM(e,t,r){return(t=OM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ax(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sx(Object(r),!0).forEach(function(n){BM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ix=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ox=function(){return Math.random().toString(36).substring(7).split("").join(".")},lx={INIT:"@@redux/INIT"+ox(),REPLACE:"@@redux/REPLACE"+ox()};function MM(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function CN(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(cr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(cr(1));return r(CN)(e,t)}if(typeof e!="function")throw new Error(cr(2));var s=e,a=t,i=[],l=i,c=!1;function u(){l===i&&(l=i.slice())}function d(){if(c)throw new Error(cr(3));return a}function f(g){if(typeof g!="function")throw new Error(cr(4));if(c)throw new Error(cr(5));var b=!0;return u(),l.push(g),function(){if(b){if(c)throw new Error(cr(6));b=!1,u();var x=l.indexOf(g);l.splice(x,1),i=null}}}function h(g){if(!MM(g))throw new Error(cr(7));if(typeof g.type>"u")throw new Error(cr(8));if(c)throw new Error(cr(9));try{c=!0,a=s(a,g)}finally{c=!1}for(var b=i=l,y=0;y<b.length;y++){var x=b[y];x()}return g}function p(g){if(typeof g!="function")throw new Error(cr(10));s=g,h({type:lx.REPLACE})}function v(){var g,b=f;return g={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(cr(11));function w(){x.next&&x.next(d())}w();var S=b(w);return{unsubscribe:S}}},g[ix]=function(){return this},g}return h({type:lx.INIT}),n={dispatch:h,subscribe:f,getState:d,replaceReducer:p},n[ix]=v,n}function cx(e,t){return function(){return t(e.apply(this,arguments))}}function ux(e,t){if(typeof e=="function")return cx(e,t);if(typeof e!="object"||e===null)throw new Error(cr(16));var r={};for(var n in e){var s=e[n];typeof s=="function"&&(r[n]=cx(s,t))}return r}function TN(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,s){return function(){return n(s.apply(void 0,arguments))}})}function LM(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var s=n.apply(void 0,arguments),a=function(){throw new Error(cr(15))},i={getState:s.getState,dispatch:function(){return a.apply(void 0,arguments)}},l=t.map(function(c){return c(i)});return a=TN.apply(void 0,l)(s.dispatch),ax(ax({},s),{},{dispatch:a})}}}var PN=J.createContext(null);function $M(e){e()}var kN=$M,FM=function(t){return kN=t},UM=function(){return kN};function zM(){var e=UM(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var s=t;s;)s.callback(),s=s.next})},get:function(){for(var s=[],a=t;a;)s.push(a),a=a.next;return s},subscribe:function(s){var a=!0,i=r={callback:s,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){!a||t===null||(a=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var dx={notify:function(){},get:function(){return[]}};function AN(e,t){var r,n=dx;function s(f){return c(),n.subscribe(f)}function a(){n.notify()}function i(){d.onStateChange&&d.onStateChange()}function l(){return!!r}function c(){r||(r=t?t.addNestedSub(i):e.subscribe(i),n=zM())}function u(){r&&(r(),r=void 0,n.clear(),n=dx)}var d={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:i,isSubscribed:l,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return n}};return d}var RN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?m.useLayoutEffect:m.useEffect;function WM(e){var t=e.store,r=e.context,n=e.children,s=m.useMemo(function(){var l=AN(t);return{store:t,subscription:l}},[t]),a=m.useMemo(function(){return t.getState()},[t]);RN(function(){var l=s.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[s,a]);var i=r||PN;return J.createElement(i.Provider,{value:s},n)}function mu(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IN={exports:{}},at={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mt=typeof Symbol=="function"&&Symbol.for,ng=Mt?Symbol.for("react.element"):60103,sg=Mt?Symbol.for("react.portal"):60106,gd=Mt?Symbol.for("react.fragment"):60107,vd=Mt?Symbol.for("react.strict_mode"):60108,yd=Mt?Symbol.for("react.profiler"):60114,xd=Mt?Symbol.for("react.provider"):60109,bd=Mt?Symbol.for("react.context"):60110,ag=Mt?Symbol.for("react.async_mode"):60111,wd=Mt?Symbol.for("react.concurrent_mode"):60111,Sd=Mt?Symbol.for("react.forward_ref"):60112,jd=Mt?Symbol.for("react.suspense"):60113,VM=Mt?Symbol.for("react.suspense_list"):60120,Nd=Mt?Symbol.for("react.memo"):60115,_d=Mt?Symbol.for("react.lazy"):60116,HM=Mt?Symbol.for("react.block"):60121,GM=Mt?Symbol.for("react.fundamental"):60117,qM=Mt?Symbol.for("react.responder"):60118,KM=Mt?Symbol.for("react.scope"):60119;function Mr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ng:switch(e=e.type,e){case ag:case wd:case gd:case yd:case vd:case jd:return e;default:switch(e=e&&e.$$typeof,e){case bd:case Sd:case _d:case Nd:case xd:return e;default:return t}}case sg:return t}}}function DN(e){return Mr(e)===wd}at.AsyncMode=ag;at.ConcurrentMode=wd;at.ContextConsumer=bd;at.ContextProvider=xd;at.Element=ng;at.ForwardRef=Sd;at.Fragment=gd;at.Lazy=_d;at.Memo=Nd;at.Portal=sg;at.Profiler=yd;at.StrictMode=vd;at.Suspense=jd;at.isAsyncMode=function(e){return DN(e)||Mr(e)===ag};at.isConcurrentMode=DN;at.isContextConsumer=function(e){return Mr(e)===bd};at.isContextProvider=function(e){return Mr(e)===xd};at.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ng};at.isForwardRef=function(e){return Mr(e)===Sd};at.isFragment=function(e){return Mr(e)===gd};at.isLazy=function(e){return Mr(e)===_d};at.isMemo=function(e){return Mr(e)===Nd};at.isPortal=function(e){return Mr(e)===sg};at.isProfiler=function(e){return Mr(e)===yd};at.isStrictMode=function(e){return Mr(e)===vd};at.isSuspense=function(e){return Mr(e)===jd};at.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gd||e===wd||e===yd||e===vd||e===jd||e===VM||typeof e=="object"&&e!==null&&(e.$$typeof===_d||e.$$typeof===Nd||e.$$typeof===xd||e.$$typeof===bd||e.$$typeof===Sd||e.$$typeof===GM||e.$$typeof===qM||e.$$typeof===KM||e.$$typeof===HM)};at.typeOf=Mr;IN.exports=at;var YM=IN.exports,ig=YM,QM={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},JM={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},XM={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ON={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},og={};og[ig.ForwardRef]=XM;og[ig.Memo]=ON;function fx(e){return ig.isMemo(e)?ON:og[e.$$typeof]||QM}var ZM=Object.defineProperty,eL=Object.getOwnPropertyNames,hx=Object.getOwnPropertySymbols,tL=Object.getOwnPropertyDescriptor,rL=Object.getPrototypeOf,px=Object.prototype;function BN(e,t,r){if(typeof t!="string"){if(px){var n=rL(t);n&&n!==px&&BN(e,n,r)}var s=eL(t);hx&&(s=s.concat(hx(t)));for(var a=fx(e),i=fx(t),l=0;l<s.length;++l){var c=s[l];if(!JM[c]&&!(r&&r[c])&&!(i&&i[c])&&!(a&&a[c])){var u=tL(t,c);try{ZM(e,c,u)}catch{}}}}return e}var nL=BN;const mx=xp(nL);var MN={exports:{}},lt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed=60103,Cd=60106,xl=60107,bl=60108,wl=60114,Sl=60109,jl=60110,Nl=60112,_l=60113,lg=60120,El=60115,Cl=60116,LN=60121,$N=60122,FN=60117,UN=60129,zN=60131;if(typeof Symbol=="function"&&Symbol.for){var $t=Symbol.for;Ed=$t("react.element"),Cd=$t("react.portal"),xl=$t("react.fragment"),bl=$t("react.strict_mode"),wl=$t("react.profiler"),Sl=$t("react.provider"),jl=$t("react.context"),Nl=$t("react.forward_ref"),_l=$t("react.suspense"),lg=$t("react.suspense_list"),El=$t("react.memo"),Cl=$t("react.lazy"),LN=$t("react.block"),$N=$t("react.server.block"),FN=$t("react.fundamental"),UN=$t("react.debug_trace_mode"),zN=$t("react.legacy_hidden")}function yn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ed:switch(e=e.type,e){case xl:case wl:case bl:case _l:case lg:return e;default:switch(e=e&&e.$$typeof,e){case jl:case Nl:case Cl:case El:case Sl:return e;default:return t}}case Cd:return t}}}var sL=Sl,aL=Ed,iL=Nl,oL=xl,lL=Cl,cL=El,uL=Cd,dL=wl,fL=bl,hL=_l;lt.ContextConsumer=jl;lt.ContextProvider=sL;lt.Element=aL;lt.ForwardRef=iL;lt.Fragment=oL;lt.Lazy=lL;lt.Memo=cL;lt.Portal=uL;lt.Profiler=dL;lt.StrictMode=fL;lt.Suspense=hL;lt.isAsyncMode=function(){return!1};lt.isConcurrentMode=function(){return!1};lt.isContextConsumer=function(e){return yn(e)===jl};lt.isContextProvider=function(e){return yn(e)===Sl};lt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ed};lt.isForwardRef=function(e){return yn(e)===Nl};lt.isFragment=function(e){return yn(e)===xl};lt.isLazy=function(e){return yn(e)===Cl};lt.isMemo=function(e){return yn(e)===El};lt.isPortal=function(e){return yn(e)===Cd};lt.isProfiler=function(e){return yn(e)===wl};lt.isStrictMode=function(e){return yn(e)===bl};lt.isSuspense=function(e){return yn(e)===_l};lt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===xl||e===wl||e===UN||e===bl||e===_l||e===lg||e===zN||typeof e=="object"&&e!==null&&(e.$$typeof===Cl||e.$$typeof===El||e.$$typeof===Sl||e.$$typeof===jl||e.$$typeof===Nl||e.$$typeof===FN||e.$$typeof===LN||e[0]===$N)};lt.typeOf=yn;MN.exports=lt;var pL=MN.exports,mL=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],gL=["reactReduxForwardedRef"],vL=[],yL=[null,null];function xL(e,t){var r=e[1];return[t.payload,r+1]}function gx(e,t,r){RN(function(){return e.apply(void 0,t)},r)}function bL(e,t,r,n,s,a,i){e.current=n,t.current=s,r.current=!1,a.current&&(a.current=null,i())}function wL(e,t,r,n,s,a,i,l,c,u){if(e){var d=!1,f=null,h=function(){if(!d){var g=t.getState(),b,y;try{b=n(g,s.current)}catch(x){y=x,f=x}y||(f=null),b===a.current?i.current||c():(a.current=b,l.current=b,i.current=!0,u({type:"STORE_UPDATED",payload:{error:y}}))}};r.onStateChange=h,r.trySubscribe(),h();var p=function(){if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f};return p}}var SL=function(){return[null,0]};function jL(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,s=n===void 0?function(w){return"ConnectAdvanced("+w+")"}:n,a=r.methodName,i=a===void 0?"connectAdvanced":a,l=r.renderCountProp,c=l===void 0?void 0:l,u=r.shouldHandleStateChanges,d=u===void 0?!0:u,f=r.storeKey,h=f===void 0?"store":f;r.withRef;var p=r.forwardRef,v=p===void 0?!1:p,g=r.context,b=g===void 0?PN:g,y=mu(r,mL),x=b;return function(S){var N=S.displayName||S.name||"Component",j=s(N),_=ke({},y,{getDisplayName:s,methodName:i,renderCountProp:c,shouldHandleStateChanges:d,storeKey:h,displayName:j,wrappedComponentName:N,WrappedComponent:S}),E=y.pure;function B(k){return e(k.dispatch,_)}var I=E?m.useMemo:function(k){return k()};function F(k){var C=m.useMemo(function(){var P=k.reactReduxForwardedRef,U=mu(k,gL);return[k.context,P,U]},[k]),L=C[0],K=C[1],R=C[2],O=m.useMemo(function(){return L&&L.Consumer&&pL.isContextConsumer(J.createElement(L.Consumer,null))?L:x},[L,x]),W=m.useContext(O),Z=!!k.store&&!!k.store.getState&&!!k.store.dispatch;W&&W.store;var V=Z?k.store:W.store,oe=m.useMemo(function(){return B(V)},[V]),q=m.useMemo(function(){if(!d)return yL;var P=AN(V,Z?null:W.subscription),U=P.notifyNestedSubs.bind(P);return[P,U]},[V,Z,W]),se=q[0],je=q[1],T=m.useMemo(function(){return Z?W:ke({},W,{subscription:se})},[Z,W,se]),Y=m.useReducer(xL,vL,SL),X=Y[0],ie=X[0],pe=Y[1];if(ie&&ie.error)throw ie.error;var re=m.useRef(),we=m.useRef(R),xe=m.useRef(),Oe=m.useRef(!1),Ie=I(function(){return xe.current&&R===we.current?xe.current:oe(V.getState(),R)},[V,ie,R]);gx(bL,[we,re,Oe,R,Ie,xe,je]),gx(wL,[d,V,se,oe,we,re,Oe,xe,je,pe],[V,se,oe]);var Je=m.useMemo(function(){return J.createElement(S,ke({},Ie,{ref:K}))},[K,S,Ie]),Lt=m.useMemo(function(){return d?J.createElement(O.Provider,{value:T},Je):Je},[O,Je,T]);return Lt}var A=E?J.memo(F):F;if(A.WrappedComponent=S,A.displayName=F.displayName=j,v){var G=J.forwardRef(function(C,L){return J.createElement(A,ke({},C,{reactReduxForwardedRef:L}))});return G.displayName=j,G.WrappedComponent=S,mx(G,S)}return mx(A,S)}}function vx(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function If(e,t){if(vx(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!vx(e[r[s]],t[r[s]]))return!1;return!0}function NL(e,t){var r={},n=function(i){var l=e[i];typeof l=="function"&&(r[i]=function(){return t(l.apply(void 0,arguments))})};for(var s in e)n(s);return r}function cg(e){return function(r,n){var s=e(r,n);function a(){return s}return a.dependsOnOwnProps=!1,a}}function yx(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function WN(e,t){return function(n,s){s.displayName;var a=function(l,c){return a.dependsOnOwnProps?a.mapToProps(l,c):a.mapToProps(l)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,c){a.mapToProps=e,a.dependsOnOwnProps=yx(e);var u=a(l,c);return typeof u=="function"&&(a.mapToProps=u,a.dependsOnOwnProps=yx(u),u=a(l,c)),u},a}}function _L(e){return typeof e=="function"?WN(e):void 0}function EL(e){return e?void 0:cg(function(t){return{dispatch:t}})}function CL(e){return e&&typeof e=="object"?cg(function(t){return NL(e,t)}):void 0}const TL=[_L,EL,CL];function PL(e){return typeof e=="function"?WN(e):void 0}function kL(e){return e?void 0:cg(function(){return{}})}const AL=[PL,kL];function RL(e,t,r){return ke({},r,e,t)}function IL(e){return function(r,n){n.displayName;var s=n.pure,a=n.areMergedPropsEqual,i=!1,l;return function(u,d,f){var h=e(u,d,f);return i?(!s||!a(h,l))&&(l=h):(i=!0,l=h),l}}}function DL(e){return typeof e=="function"?IL(e):void 0}function OL(e){return e?void 0:function(){return RL}}const BL=[DL,OL];var ML=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function LL(e,t,r,n){return function(a,i){return r(e(a,i),t(n,i),i)}}function $L(e,t,r,n,s){var a=s.areStatesEqual,i=s.areOwnPropsEqual,l=s.areStatePropsEqual,c=!1,u,d,f,h,p;function v(w,S){return u=w,d=S,f=e(u,d),h=t(n,d),p=r(f,h,d),c=!0,p}function g(){return f=e(u,d),t.dependsOnOwnProps&&(h=t(n,d)),p=r(f,h,d),p}function b(){return e.dependsOnOwnProps&&(f=e(u,d)),t.dependsOnOwnProps&&(h=t(n,d)),p=r(f,h,d),p}function y(){var w=e(u,d),S=!l(w,f);return f=w,S&&(p=r(f,h,d)),p}function x(w,S){var N=!i(S,d),j=!a(w,u,S,d);return u=w,d=S,N&&j?g():N?b():j?y():p}return function(S,N){return c?x(S,N):v(S,N)}}function FL(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,s=t.initMergeProps,a=mu(t,ML),i=r(e,a),l=n(e,a),c=s(e,a),u=a.pure?$L:LL;return u(i,l,c,e,a)}var UL=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Df(e,t,r){for(var n=t.length-1;n>=0;n--){var s=t[n](e);if(s)return s}return function(a,i){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+i.wrappedComponentName+".")}}function zL(e,t){return e===t}function WL(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?jL:r,s=t.mapStateToPropsFactories,a=s===void 0?AL:s,i=t.mapDispatchToPropsFactories,l=i===void 0?TL:i,c=t.mergePropsFactories,u=c===void 0?BL:c,d=t.selectorFactory,f=d===void 0?FL:d;return function(p,v,g,b){b===void 0&&(b={});var y=b,x=y.pure,w=x===void 0?!0:x,S=y.areStatesEqual,N=S===void 0?zL:S,j=y.areOwnPropsEqual,_=j===void 0?If:j,E=y.areStatePropsEqual,B=E===void 0?If:E,I=y.areMergedPropsEqual,F=I===void 0?If:I,A=mu(y,UL),G=Df(p,a,"mapStateToProps"),k=Df(v,l,"mapDispatchToProps"),C=Df(g,u,"mergeProps");return n(f,ke({methodName:"connect",getDisplayName:function(K){return"Connect("+K+")"},shouldHandleStateChanges:!!p,initMapStateToProps:G,initMapDispatchToProps:k,initMergeProps:C,pure:w,areStatesEqual:N,areOwnPropsEqual:_,areStatePropsEqual:B,areMergedPropsEqual:F},A))}}const VN=WL();FM(Vs.unstable_batchedUpdates);function VL(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function HN(e,t){var r=m.useState(function(){return{inputs:t,result:e()}})[0],n=m.useRef(!0),s=m.useRef(r),a=n.current||!!(t&&s.current.inputs&&VL(t,s.current.inputs)),i=a?s.current:{inputs:t,result:e()};return m.useEffect(function(){n.current=!1,s.current=i},[i]),i.result}function HL(e,t){return HN(function(){return e},t)}var Ke=HN,_e=HL,GL="Invariant failed";function qL(e,t){throw new Error(GL)}var dn=function(t){var r=t.top,n=t.right,s=t.bottom,a=t.left,i=n-a,l=s-r,c={top:r,right:n,bottom:s,left:a,width:i,height:l,x:a,y:r,center:{x:(n+a)/2,y:(s+r)/2}};return c},ug=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},xx=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},KL=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Of={top:0,right:0,bottom:0,left:0},dg=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?Of:n,a=t.border,i=a===void 0?Of:a,l=t.padding,c=l===void 0?Of:l,u=dn(ug(r,s)),d=dn(xx(r,i)),f=dn(xx(d,c));return{marginBox:u,borderBox:dn(r),paddingBox:d,contentBox:f,margin:s,border:i,padding:c}},Lr=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&qL(),s},YL=function(){return{x:window.pageXOffset,y:window.pageYOffset}},gu=function(t,r){var n=t.borderBox,s=t.border,a=t.margin,i=t.padding,l=KL(n,r);return dg({borderBox:l,border:s,margin:a,padding:i})},vu=function(t,r){return r===void 0&&(r=YL()),gu(t,r)},GN=function(t,r){var n={top:Lr(r.marginTop),right:Lr(r.marginRight),bottom:Lr(r.marginBottom),left:Lr(r.marginLeft)},s={top:Lr(r.paddingTop),right:Lr(r.paddingRight),bottom:Lr(r.paddingBottom),left:Lr(r.paddingLeft)},a={top:Lr(r.borderTopWidth),right:Lr(r.borderRightWidth),bottom:Lr(r.borderBottomWidth),left:Lr(r.borderLeftWidth)};return dg({borderBox:t,margin:n,padding:s,border:a})},qN=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return GN(r,n)},bx=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function QL(e,t){return!!(e===t||bx(e)&&bx(t))}function JL(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!QL(e[r],t[r]))return!1;return!0}function Dt(e,t){t===void 0&&(t=JL);var r,n=[],s,a=!1;function i(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return a&&r===this&&t(l,n)||(s=e.apply(this,l),a=!0,r=this,n=l),s}return i}var el=function(t){var r=[],n=null,s=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return s.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},s};function KN(e,t){}KN.bind(null,"warn");KN.bind(null,"error");function Rs(){}function XL(e,t){return ke({},e,{},t)}function Vr(e,t,r){var n=t.map(function(s){var a=XL(r,s.options);return e.addEventListener(s.eventName,s.fn,a),function(){e.removeEventListener(s.eventName,s.fn,a)}});return function(){n.forEach(function(a){a()})}}var ZL="Invariant failed";function yu(e){this.message=e}yu.prototype.toString=function(){return this.message};function de(e,t){throw new yu(ZL)}var e$=function(e){EN(t,e);function t(){for(var n,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,n.callbacks=null,n.unbind=Rs,n.onWindowError=function(l){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var u=l.error;u instanceof yu&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=Vr(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(s){if(s instanceof yu){this.setState({});return}throw s},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(J.Component),t$=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,xu=function(t){return t+1},r$=function(t){return`
  You have lifted an item in position `+xu(t.source.index)+`
`},YN=function(t,r){var n=t.droppableId===r.droppableId,s=xu(t.index),a=xu(r.index);return n?`
      You have moved the item from position `+s+`
      to position `+a+`
    `:`
    You have moved the item from position `+s+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+a+`
  `},QN=function(t,r,n){var s=r.droppableId===n.droppableId;return s?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},n$=function(t){var r=t.destination;if(r)return YN(t.source,r);var n=t.combine;return n?QN(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},wx=function(t){return`
  The item has returned to its starting position
  of `+xu(t.index)+`
`},s$=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+wx(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+YN(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+QN(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+wx(t.source)+`
  `},kc={dragHandleUsageInstructions:t$,onDragStart:r$,onDragUpdate:n$,onDragEnd:s$},Bt={x:0,y:0},Ut=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},Pr=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},Is=function(t,r){return t.x===r.x&&t.y===r.y},Vi=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},_a=function(t,r,n){var s;return n===void 0&&(n=0),s={},s[t]=r,s[t==="x"?"y":"x"]=n,s},tl=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},Sx=function(t,r){return Math.min.apply(Math,r.map(function(n){return tl(t,n)}))},JN=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},a$=function(e,t){var r=dn({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},Tl=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},jx=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},i$={top:0,right:0,bottom:0,left:0},o$=function(t,r){return r?Tl(t,r.scroll.diff.displacement):t},l$=function(t,r,n){if(n&&n.increasedBy){var s;return ke({},t,(s={},s[r.end]=t[r.end]+n.increasedBy[r.line],s))}return t},c$=function(t,r){return r&&r.shouldClipSubject?a$(r.pageMarginBox,t):dn(t)},Ri=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,s=e.frame,a=o$(t.marginBox,s),i=l$(a,n,r),l=c$(i,s);return{page:t,withPlaceholder:r,active:l}},fg=function(e,t){e.frame||de();var r=e.frame,n=Pr(t,r.scroll.initial),s=Vi(n),a=ke({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:s},max:r.scroll.max}}),i=Ri({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a}),l=ke({},e,{frame:a,subject:i});return l};function bu(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function hg(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Ks(e,t){if(e.find)return e.find(t);var r=hg(e,t);if(r!==-1)return e[r]}function XN(e){return Array.prototype.slice.call(e)}var ZN=Dt(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),e_=Dt(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),Td=Dt(function(e){return bu(e)}),u$=Dt(function(e){return bu(e)}),Hi=Dt(function(e,t){var r=u$(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,s){return n.descriptor.index-s.descriptor.index});return r});function pg(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Pd(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var kd=Dt(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),d$=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.insideDestination,a=e.previousImpact;if(!n.isCombineEnabled)return null;var i=pg(a);if(!i)return null;function l(g){var b={type:"COMBINE",combine:{draggableId:g,droppableId:n.descriptor.id}};return ke({},a,{at:b})}var c=a.displaced.all,u=c.length?c[0]:null;if(t)return u?l(u):null;var d=kd(r,s);if(!u){if(!d.length)return null;var f=d[d.length-1];return l(f.descriptor.id)}var h=hg(d,function(g){return g.descriptor.id===u});h===-1&&de();var p=h-1;if(p<0)return null;var v=d[p];return l(v.descriptor.id)},Gi=function(e,t){return e.descriptor.droppableId===t.descriptor.id},t_={point:Bt,value:0},rl={invisible:{},visible:{},all:[]},f$={displaced:rl,displacedBy:t_,at:null},Gr=function(e,t){return function(r){return e<=r&&r<=t}},r_=function(e){var t=Gr(e.top,e.bottom),r=Gr(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(s)return!0;var a=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right),l=a&&i;if(l)return!0;var c=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right,d=c&&u;if(d)return!0;var f=c&&i||u&&a;return f}},h$=function(e){var t=Gr(e.top,e.bottom),r=Gr(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return s}},mg={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},n_={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},p$=function(e){return function(t){var r=Gr(t.top,t.bottom),n=Gr(t.left,t.right);return function(s){return e===mg?r(s.top)&&r(s.bottom):n(s.left)&&n(s.right)}}},m$=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:Bt;return Tl(t,n)},g$=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},v$=function(t,r,n){return n(r)(t)},gg=function(t){var r=t.target,n=t.destination,s=t.viewport,a=t.withDroppableDisplacement,i=t.isVisibleThroughFrameFn,l=a?m$(r,n):r;return g$(l,n,i)&&v$(l,s,i)},y$=function(t){return gg(ke({},t,{isVisibleThroughFrameFn:r_}))},s_=function(t){return gg(ke({},t,{isVisibleThroughFrameFn:h$}))},x$=function(t){return gg(ke({},t,{isVisibleThroughFrameFn:p$(t.destination.axis)}))},b$=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var s=r.invisible,a=r.visible;if(s[t])return!1;var i=a[t];return i?i.shouldAnimate:!0};function w$(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return dn(ug(r,n))}function nl(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,s=e.viewport,a=e.forceShouldAnimate,i=e.last;return t.reduce(function(c,u){var d=w$(u,n),f=u.descriptor.id;c.all.push(f);var h=y$({target:d,destination:r,viewport:s,withDroppableDisplacement:!0});if(!h)return c.invisible[u.descriptor.id]=!0,c;var p=b$(f,i,a),v={draggableId:f,shouldAnimate:p};return c.visible[f]=v,c},{all:[],visible:{},invisible:{}})}function S$(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function Nx(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,s=e.destination,a=S$(t,{inHomeList:r});return{displaced:rl,displacedBy:n,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:a}}}}function wu(e){var t=e.draggable,r=e.insideDestination,n=e.destination,s=e.viewport,a=e.displacedBy,i=e.last,l=e.index,c=e.forceShouldAnimate,u=Gi(t,n);if(l==null)return Nx({insideDestination:r,inHomeList:u,displacedBy:a,destination:n});var d=Ks(r,function(g){return g.descriptor.index===l});if(!d)return Nx({insideDestination:r,inHomeList:u,displacedBy:a,destination:n});var f=kd(t,r),h=r.indexOf(d),p=f.slice(h),v=nl({afterDragging:p,destination:n,displacedBy:a,last:i,viewport:s.frame,forceShouldAnimate:c});return{displaced:v,displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function Fs(e,t){return!!t.effected[e]}var j$=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,s=e.combine,a=e.afterCritical;if(!r.isCombineEnabled)return null;var i=s.draggableId,l=n[i],c=l.descriptor.index,u=Fs(i,a);return u?t?c:c-1:t?c+1:c},N$=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,s=e.location;if(!n.length)return null;var a=s.index,i=t?a+1:a-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=r?c:c+1;return i<l||i>u?null:i},_$=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,s=e.draggables,a=e.destination,i=e.insideDestination,l=e.previousImpact,c=e.viewport,u=e.afterCritical,d=l.at;if(d||de(),d.type==="REORDER"){var f=N$({isMovingForward:t,isInHomeList:r,location:d.destination,insideDestination:i});return f==null?null:wu({draggable:n,insideDestination:i,destination:a,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:f})}var h=j$({isMovingForward:t,destination:a,displaced:l.displaced,draggables:s,combine:d.combine,afterCritical:u});return h==null?null:wu({draggable:n,insideDestination:i,destination:a,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:h})},E$=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,s=e.displacedBy,a=!!(t.visible[n]||t.invisible[n]);return Fs(n,r)?a?Bt:Vi(s.point):a?s.point:Bt},C$=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,s=Pd(r);s||de();var a=s.draggableId,i=n[a].page.borderBox.center,l=E$({displaced:r.displaced,afterCritical:t,combineWith:a,displacedBy:r.displacedBy});return Ut(i,l)},a_=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},T$=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},vg=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},_x=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return _a(r.line,n.marginBox[r.end]+a_(r,s),vg(r,n.marginBox,s))},Ex=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return _a(r.line,n.marginBox[r.start]-T$(r,s),vg(r,n.marginBox,s))},P$=function(t){var r=t.axis,n=t.moveInto,s=t.isMoving;return _a(r.line,n.contentBox[r.start]+a_(r,s),vg(r,n.contentBox,s))},k$=function(e){var t=e.impact,r=e.draggable,n=e.draggables,s=e.droppable,a=e.afterCritical,i=Hi(s.descriptor.id,n),l=r.page,c=s.axis;if(!i.length)return P$({axis:c,moveInto:s.page,isMoving:l});var u=t.displaced,d=t.displacedBy,f=u.all[0];if(f){var h=n[f];if(Fs(f,a))return Ex({axis:c,moveRelativeTo:h.page,isMoving:l});var p=gu(h.page,d.point);return Ex({axis:c,moveRelativeTo:p,isMoving:l})}var v=i[i.length-1];if(v.descriptor.id===r.descriptor.id)return l.borderBox.center;if(Fs(v.descriptor.id,a)){var g=gu(v.page,Vi(a.displacedBy.point));return _x({axis:c,moveRelativeTo:g,isMoving:l})}return _x({axis:c,moveRelativeTo:v.page,isMoving:l})},hp=function(e,t){var r=e.frame;return r?Ut(t,r.scroll.diff.displacement):t},A$=function(t){var r=t.impact,n=t.draggable,s=t.droppable,a=t.draggables,i=t.afterCritical,l=n.page.borderBox.center,c=r.at;return!s||!c?l:c.type==="REORDER"?k$({impact:r,draggable:n,draggables:a,droppable:s,afterCritical:i}):C$({impact:r,draggables:a,afterCritical:i})},Ad=function(e){var t=A$(e),r=e.droppable,n=r?hp(r,t):t;return n},i_=function(e,t){var r=Pr(t,e.scroll.initial),n=Vi(r),s=dn({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),a={frame:s,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return a};function Cx(e,t){return e.map(function(r){return t[r]})}function R$(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var I$=function(e){var t=e.impact,r=e.viewport,n=e.destination,s=e.draggables,a=e.maxScrollChange,i=i_(r,Ut(r.scroll.current,a)),l=n.frame?fg(n,Ut(n.frame.scroll.current,a)):n,c=t.displaced,u=nl({afterDragging:Cx(c.all,s),destination:n,displacedBy:t.displacedBy,viewport:i.frame,last:c,forceShouldAnimate:!1}),d=nl({afterDragging:Cx(c.all,s),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),f={},h={},p=[c,u,d];c.all.forEach(function(g){var b=R$(g,p);if(b){h[g]=b;return}f[g]=!0});var v=ke({},t,{displaced:{all:c.all,invisible:f,visible:h}});return v},D$=function(e,t){return Ut(e.scroll.diff.displacement,t)},yg=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,s=D$(n,t),a=Pr(s,r.page.borderBox.center);return Ut(r.client.borderBox.center,a)},o_=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,s=e.viewport,a=e.withDroppableDisplacement,i=e.onlyOnMainAxis,l=i===void 0?!1:i,c=Pr(n,t.page.borderBox.center),u=Tl(t.page.borderBox,c),d={target:u,destination:r,withDroppableDisplacement:a,viewport:s};return l?x$(d):s_(d)},O$=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.draggables,a=e.previousImpact,i=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var d=Hi(n.descriptor.id,s),f=Gi(r,n),h=d$({isMovingForward:t,draggable:r,destination:n,insideDestination:d,previousImpact:a})||_$({isMovingForward:t,isInHomeList:f,draggable:r,draggables:s,destination:n,insideDestination:d,previousImpact:a,viewport:i,afterCritical:u});if(!h)return null;var p=Ad({impact:h,draggable:r,droppable:n,draggables:s,afterCritical:u}),v=o_({draggable:r,destination:n,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var g=yg({pageBorderBoxCenter:p,draggable:r,viewport:i});return{clientSelection:g,impact:h,scrollJumpRequest:null}}var b=Pr(p,l),y=I$({impact:h,viewport:i,destination:n,draggables:s,maxScrollChange:b});return{clientSelection:c,impact:y,scrollJumpRequest:b}},Zt=function(t){var r=t.subject.active;return r||de(),r},B$=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,s=e.droppables,a=e.viewport,i=n.subject.active;if(!i)return null;var l=n.axis,c=Gr(i[l.start],i[l.end]),u=Td(s).filter(function(f){return f!==n}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return r_(a.frame)(Zt(f))}).filter(function(f){var h=Zt(f);return t?i[l.crossAxisEnd]<h[l.crossAxisEnd]:h[l.crossAxisStart]<i[l.crossAxisStart]}).filter(function(f){var h=Zt(f),p=Gr(h[l.start],h[l.end]);return c(h[l.start])||c(h[l.end])||p(i[l.start])||p(i[l.end])}).sort(function(f,h){var p=Zt(f)[l.crossAxisStart],v=Zt(h)[l.crossAxisStart];return t?p-v:v-p}).filter(function(f,h,p){return Zt(f)[l.crossAxisStart]===Zt(p[0])[l.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var d=u.filter(function(f){var h=Gr(Zt(f)[l.start],Zt(f)[l.end]);return h(r[l.line])});return d.length===1?d[0]:d.length>1?d.sort(function(f,h){return Zt(f)[l.start]-Zt(h)[l.start]})[0]:u.sort(function(f,h){var p=Sx(r,jx(Zt(f))),v=Sx(r,jx(Zt(h)));return p!==v?p-v:Zt(f)[l.start]-Zt(h)[l.start]})[0]},Tx=function(t,r){var n=t.page.borderBox.center;return Fs(t.descriptor.id,r)?Pr(n,r.displacedBy.point):n},M$=function(t,r){var n=t.page.borderBox;return Fs(t.descriptor.id,r)?Tl(n,Vi(r.displacedBy.point)):n},L$=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,s=e.insideDestination,a=e.afterCritical,i=s.filter(function(l){return s_({target:M$(l,a),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var u=tl(t,hp(n,Tx(l,a))),d=tl(t,hp(n,Tx(c,a)));return u<d?-1:d<u?1:l.descriptor.index-c.descriptor.index});return i[0]||null},Pl=Dt(function(t,r){var n=r[t.line];return{value:n,point:_a(t.line,n)}}),$$=function(t,r,n){var s=t.axis;if(t.descriptor.mode==="virtual")return _a(s.line,r[s.line]);var a=t.subject.page.contentBox[s.size],i=Hi(t.descriptor.id,n),l=i.reduce(function(d,f){return d+f.client.marginBox[s.size]},0),c=l+r[s.line],u=c-a;return u<=0?null:_a(s.line,u)},l_=function(t,r){return ke({},t,{scroll:ke({},t.scroll,{max:r})})},c_=function(t,r,n){var s=t.frame;Gi(r,t)&&de(),t.subject.withPlaceholder&&de();var a=Pl(t.axis,r.displaceBy).point,i=$$(t,a,n),l={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){var c=Ri({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return ke({},t,{subject:c})}var u=i?Ut(s.scroll.max,i):s.scroll.max,d=l_(s,u),f=Ri({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:d});return ke({},t,{subject:f,frame:d})},F$=function(t){var r=t.subject.withPlaceholder;r||de();var n=t.frame;if(!n){var s=Ri({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return ke({},t,{subject:s})}var a=r.oldFrameMaxScroll;a||de();var i=l_(n,a),l=Ri({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return ke({},t,{subject:l,frame:i})},U$=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,s=e.draggable,a=e.draggables,i=e.destination,l=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var u={displaced:rl,displacedBy:t_,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},d=Ad({impact:u,draggable:s,droppable:i,draggables:a,afterCritical:c}),f=Gi(s,i)?i:c_(i,s,a),h=o_({draggable:s,destination:f,newPageBorderBoxCenter:d,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?u:null}var p=t[i.axis.line]<=r.page.borderBox.center[i.axis.line],v=function(){var b=r.descriptor.index;return r.descriptor.id===s.descriptor.id||p?b:b+1}(),g=Pl(i.axis,s.displaceBy);return wu({draggable:s,insideDestination:n,destination:i,viewport:l,displacedBy:g,last:rl,index:v})},z$=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,s=e.isOver,a=e.draggables,i=e.droppables,l=e.viewport,c=e.afterCritical,u=B$({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:i,viewport:l});if(!u)return null;var d=Hi(u.descriptor.id,a),f=L$({pageBorderBoxCenter:r,viewport:l,destination:u,insideDestination:d,afterCritical:c}),h=U$({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:a,moveRelativeTo:f,insideDestination:d,viewport:l,afterCritical:c});if(!h)return null;var p=Ad({impact:h,draggable:n,droppable:u,draggables:a,afterCritical:c}),v=yg({pageBorderBoxCenter:p,draggable:n,viewport:l});return{clientSelection:v,impact:h,scrollJumpRequest:null}},Rr=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},W$=function(t,r){var n=Rr(t);return n?r[n]:null},V$=function(e){var t=e.state,r=e.type,n=W$(t.impact,t.dimensions.droppables),s=!!n,a=t.dimensions.droppables[t.critical.droppable.id],i=n||a,l=i.axis.direction,c=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!s)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,h=t.dimensions,p=h.draggables,v=h.droppables;return c?O$({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:i,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):z$({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:i,draggables:p,droppables:v,viewport:t.viewport,afterCritical:t.afterCritical})};function ta(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function u_(e){var t=Gr(e.top,e.bottom),r=Gr(e.left,e.right);return function(s){return t(s.y)&&r(s.x)}}function H$(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function G$(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,s=r.page.borderBox.center,a=n.map(function(i){var l=i.axis,c=_a(i.axis.line,t.center[l.line],i.page.borderBox.center[l.crossAxisLine]);return{id:i.descriptor.id,distance:tl(s,c)}}).sort(function(i,l){return l.distance-i.distance});return a[0]?a[0].id:null}function q$(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,s=Td(n).filter(function(a){if(!a.isEnabled)return!1;var i=a.subject.active;if(!i||!H$(t,i))return!1;if(u_(i)(t.center))return!0;var l=a.axis,c=i.center[l.crossAxisLine],u=t[l.crossAxisStart],d=t[l.crossAxisEnd],f=Gr(i[l.crossAxisStart],i[l.crossAxisEnd]),h=f(u),p=f(d);return!h&&!p?!0:h?u<c:d>c});return s.length?s.length===1?s[0].descriptor.id:G$({pageBorderBox:t,draggable:r,candidates:s}):null}var d_=function(t,r){return dn(Tl(t,r))},K$=function(e,t){var r=e.frame;return r?d_(t,r.scroll.diff.value):t};function f_(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function Y$(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var Q$=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,s=e.insideDestination,a=e.last,i=e.viewport,l=e.afterCritical,c=n.axis,u=Pl(n.axis,r.displaceBy),d=u.value,f=t[c.start],h=t[c.end],p=kd(r,s),v=Ks(p,function(b){var y=b.descriptor.id,x=b.page.borderBox.center[c.line],w=Fs(y,l),S=f_({displaced:a,id:y});return w?S?h<=x:f<x-d:S?h<=x+d:f<x}),g=Y$({draggable:r,closest:v,inHomeList:Gi(r,n)});return wu({draggable:r,insideDestination:s,destination:n,viewport:i,last:a,displacedBy:u,index:g})},J$=4,X$=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,s=e.destination,a=e.insideDestination,i=e.afterCritical;if(!s.isCombineEnabled)return null;var l=s.axis,c=Pl(s.axis,t.displaceBy),u=c.value,d=r[l.start],f=r[l.end],h=kd(t,a),p=Ks(h,function(g){var b=g.descriptor.id,y=g.page.borderBox,x=y[l.size],w=x/J$,S=Fs(b,i),N=f_({displaced:n.displaced,id:b});return S?N?f>y[l.start]+w&&f<y[l.end]-w:d>y[l.start]-u+w&&d<y[l.end]-u-w:N?f>y[l.start]+u+w&&f<y[l.end]+u-w:d>y[l.start]+w&&d<y[l.end]-w});if(!p)return null;var v={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:s.descriptor.id}}};return v},h_=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,s=e.droppables,a=e.previousImpact,i=e.viewport,l=e.afterCritical,c=d_(r.page.borderBox,t),u=q$({pageBorderBox:c,draggable:r,droppables:s});if(!u)return f$;var d=s[u],f=Hi(d.descriptor.id,n),h=K$(d,c);return X$({pageBorderBoxWithDroppableScroll:h,draggable:r,previousImpact:a,destination:d,insideDestination:f,afterCritical:l})||Q$({pageBorderBoxWithDroppableScroll:h,draggable:r,destination:d,insideDestination:f,last:a.displaced,viewport:i,afterCritical:l})},xg=function(e,t){var r;return ke({},e,(r={},r[t.descriptor.id]=t,r))},Z$=function(t){var r=t.previousImpact,n=t.impact,s=t.droppables,a=Rr(r),i=Rr(n);if(!a||a===i)return s;var l=s[a];if(!l.subject.withPlaceholder)return s;var c=F$(l);return xg(s,c)},eF=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,s=e.previousImpact,a=e.impact,i=Z$({previousImpact:s,impact:a,droppables:n}),l=Rr(a);if(!l)return i;var c=n[l];if(Gi(t,c)||c.subject.withPlaceholder)return i;var u=c_(c,t,r);return xg(i,u)},To=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,s=e.viewport,a=e.impact,i=e.scrollJumpRequest,l=s||t.viewport,c=n||t.dimensions,u=r||t.current.client.selection,d=Pr(u,t.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:Ut(t.initial.client.borderBoxCenter,d)},h={selection:Ut(f.selection,l.scroll.current),borderBoxCenter:Ut(f.borderBoxCenter,l.scroll.current),offset:Ut(f.offset,l.scroll.diff.value)},p={client:f,page:h};if(t.phase==="COLLECTING")return ke({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:p});var v=c.draggables[t.critical.draggable.id],g=a||h_({pageOffset:h.offset,draggable:v,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),b=eF({draggable:v,impact:g,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),y=ke({},t,{current:p,dimensions:{draggables:c.draggables,droppables:b},impact:g,viewport:l,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null});return y};function tF(e,t){return e.map(function(r){return t[r]})}var p_=function(e){var t=e.impact,r=e.viewport,n=e.draggables,s=e.destination,a=e.forceShouldAnimate,i=t.displaced,l=tF(i.all,n),c=nl({afterDragging:l,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:i});return ke({},t,{displaced:c})},m_=function(e){var t=e.impact,r=e.draggable,n=e.droppable,s=e.draggables,a=e.viewport,i=e.afterCritical,l=Ad({impact:t,draggable:r,draggables:s,droppable:n,afterCritical:i});return yg({pageBorderBoxCenter:l,draggable:r,viewport:a})},g_=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&de();var s=t.impact,a=n||t.viewport,i=r||t.dimensions,l=i.draggables,c=i.droppables,u=l[t.critical.draggable.id],d=Rr(s);d||de();var f=c[d],h=p_({impact:s,viewport:a,destination:f,draggables:l}),p=m_({impact:h,draggable:u,droppable:f,draggables:l,viewport:a,afterCritical:t.afterCritical});return To({impact:h,clientSelection:p,state:t,dimensions:i,viewport:a})},rF=function(e){return{index:e.index,droppableId:e.droppableId}},v_=function(e){var t=e.draggable,r=e.home,n=e.draggables,s=e.viewport,a=Pl(r.axis,t.displaceBy),i=Hi(r.descriptor.id,n),l=i.indexOf(t);l===-1&&de();var c=i.slice(l+1),u=c.reduce(function(p,v){return p[v.descriptor.id]=!0,p},{}),d={inVirtualList:r.descriptor.mode==="virtual",displacedBy:a,effected:u},f=nl({afterDragging:c,destination:r,displacedBy:a,last:null,viewport:s.frame,forceShouldAnimate:!1}),h={displaced:f,displacedBy:a,at:{type:"REORDER",destination:rF(t.descriptor)}};return{impact:h,afterCritical:d}},nF=function(e,t){return{draggables:e.draggables,droppables:xg(e.droppables,t)}},sF=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,s=gu(t.client,r),a=vu(s,n),i=ke({},t,{placeholder:ke({},t.placeholder,{client:s}),client:s,page:a});return i},aF=function(e){var t=e.frame;return t||de(),t},iF=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,s=n.scroll.diff.value;return t.map(function(a){var i=a.descriptor.droppableId,l=r[i],c=aF(l),u=c.scroll.diff.value,d=Ut(s,u),f=sF({draggable:a,offset:d,initialWindowScroll:n.scroll.initial});return f})},oF=function(e){var t=e.state,r=e.published,n=r.modified.map(function(w){var S=t.dimensions.droppables[w.droppableId],N=fg(S,w.scroll);return N}),s=ke({},t.dimensions.droppables,{},ZN(n)),a=e_(iF({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),i=ke({},t.dimensions.draggables,{},a);r.removals.forEach(function(w){delete i[w]});var l={droppables:s,draggables:i},c=Rr(t.impact),u=c?l.droppables[c]:null,d=l.draggables[t.critical.draggable.id],f=l.droppables[t.critical.droppable.id],h=v_({draggable:d,home:f,draggables:i,viewport:t.viewport}),p=h.impact,v=h.afterCritical,g=u&&u.isCombineEnabled?t.impact:p,b=h_({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:g,viewport:t.viewport,afterCritical:v}),y=ke({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:b,onLiftImpact:p,dimensions:l,afterCritical:v,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return y;var x=ke({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return x},pp=function(t){return t.movementMode==="SNAP"},Bf=function(t,r,n){var s=nF(t.dimensions,r);return!pp(t)||n?To({state:t,dimensions:s}):g_({state:t,dimensions:s})};function Mf(e){return e.isDragging&&e.movementMode==="SNAP"?ke({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Px={phase:"IDLE",completed:null,shouldFlush:!1},lF=function(e,t){if(e===void 0&&(e=Px),t.type==="FLUSH")return ke({},Px,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&de();var r=t.payload,n=r.critical,s=r.clientSelection,a=r.viewport,i=r.dimensions,l=r.movementMode,c=i.draggables[n.draggable.id],u=i.droppables[n.droppable.id],d={selection:s,borderBoxCenter:c.client.borderBox.center,offset:Bt},f={client:d,page:{selection:Ut(d.selection,a.scroll.initial),borderBoxCenter:Ut(d.selection,a.scroll.initial),offset:Ut(d.selection,a.scroll.diff.value)}},h=Td(i.droppables).every(function(pe){return!pe.isFixedOnPage}),p=v_({draggable:c,home:u,draggables:i.draggables,viewport:a}),v=p.impact,g=p.afterCritical,b={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:i,initial:f,current:f,isWindowScrollAllowed:h,impact:v,afterCritical:g,onLiftImpact:v,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return b}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&de();var y=ke({phase:"COLLECTING"},e,{phase:"COLLECTING"});return y}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||de(),oF({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ta(e)||de();var x=t.payload.client;return Is(x,e.current.client.selection)?e:To({state:e,clientSelection:x,impact:pp(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Mf(e);ta(e)||de();var w=t.payload,S=w.id,N=w.newScroll,j=e.dimensions.droppables[S];if(!j)return e;var _=fg(j,N);return Bf(e,_,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ta(e)||de();var E=t.payload,B=E.id,I=E.isEnabled,F=e.dimensions.droppables[B];F||de(),F.isEnabled===I&&de();var A=ke({},F,{isEnabled:I});return Bf(e,A,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ta(e)||de();var G=t.payload,k=G.id,C=G.isCombineEnabled,L=e.dimensions.droppables[k];L||de(),L.isCombineEnabled===C&&de();var K=ke({},L,{isCombineEnabled:C});return Bf(e,K,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ta(e)||de(),e.isWindowScrollAllowed||de();var R=t.payload.newScroll;if(Is(e.viewport.scroll.current,R))return Mf(e);var O=i_(e.viewport,R);return pp(e)?g_({state:e,viewport:O}):To({state:e,viewport:O})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ta(e))return e;var W=t.payload.maxScroll;if(Is(W,e.viewport.scroll.max))return e;var Z=ke({},e.viewport,{scroll:ke({},e.viewport.scroll,{max:W})});return ke({phase:"DRAGGING"},e,{viewport:Z})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&de();var V=V$({state:e,type:t.type});return V?To({state:e,impact:V.impact,clientSelection:V.clientSelection,scrollJumpRequest:V.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var oe=t.payload.reason;e.phase!=="COLLECTING"&&de();var q=ke({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:oe});return q}if(t.type==="DROP_ANIMATE"){var se=t.payload,je=se.completed,T=se.dropDuration,Y=se.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||de();var X={phase:"DROP_ANIMATING",completed:je,dropDuration:T,newHomeClientOffset:Y,dimensions:e.dimensions};return X}if(t.type==="DROP_COMPLETE"){var ie=t.payload.completed;return{phase:"IDLE",completed:ie,shouldFlush:!1}}return e},cF=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},uF=function(t){return{type:"LIFT",payload:t}},dF=function(t){return{type:"INITIAL_PUBLISH",payload:t}},fF=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},hF=function(){return{type:"COLLECTION_STARTING",payload:null}},pF=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},mF=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},gF=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},y_=function(t){return{type:"MOVE",payload:t}},vF=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},yF=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},xF=function(){return{type:"MOVE_UP",payload:null}},bF=function(){return{type:"MOVE_DOWN",payload:null}},wF=function(){return{type:"MOVE_RIGHT",payload:null}},SF=function(){return{type:"MOVE_LEFT",payload:null}},bg=function(){return{type:"FLUSH",payload:null}},jF=function(t){return{type:"DROP_ANIMATE",payload:t}},wg=function(t){return{type:"DROP_COMPLETE",payload:t}},x_=function(t){return{type:"DROP",payload:t}},NF=function(t){return{type:"DROP_PENDING",payload:t}},b_=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},_F=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(s){return function(a){if(a.type!=="LIFT"){s(a);return}var i=a.payload,l=i.id,c=i.clientSelection,u=i.movementMode,d=r();d.phase==="DROP_ANIMATING"&&n(wg({completed:d.completed})),r().phase!=="IDLE"&&de(),n(bg()),n(cF({draggableId:l,movementMode:u}));var f={shouldPublishImmediately:u==="SNAP"},h={draggableId:l,scrollOptions:f},p=e.startPublishing(h),v=p.critical,g=p.dimensions,b=p.viewport;n(dF({critical:v,dimensions:g,clientSelection:c,movementMode:u,viewport:b}))}}}},EF=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},Sg={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},sl={opacity:{drop:0,combining:.7},scale:{drop:.75}},jg={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Js=jg.outOfTheWay+"s "+Sg.outOfTheWay,Po={fluid:"opacity "+Js,snap:"transform "+Js+", opacity "+Js,drop:function(t){var r=t+"s "+Sg.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Js,placeholder:"height "+Js+", width "+Js+", margin "+Js},kx=function(t){return Is(t,Bt)?null:"translate("+t.x+"px, "+t.y+"px)"},mp={moveTo:kx,drop:function(t,r){var n=kx(t);return n?r?n+" scale("+sl.scale.drop+")":n:null}},gp=jg.minDropTime,w_=jg.maxDropTime,CF=w_-gp,Ax=1500,TF=.6,PF=function(e){var t=e.current,r=e.destination,n=e.reason,s=tl(t,r);if(s<=0)return gp;if(s>=Ax)return w_;var a=s/Ax,i=gp+CF*a,l=n==="CANCEL"?i*TF:i;return Number(l.toFixed(2))},kF=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,s=e.viewport,a=e.afterCritical,i=n.draggables,l=n.droppables,c=Rr(t),u=c?l[c]:null,d=l[r.descriptor.droppableId],f=m_({impact:t,draggable:r,draggables:i,afterCritical:a,droppable:u||d,viewport:s}),h=Pr(f,r.client.borderBox.center);return h},AF=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,s=e.home,a=e.viewport,i=e.onLiftImpact;if(!n.at||r!=="DROP"){var l=p_({draggables:t,impact:i,destination:s,viewport:a,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=ke({},n,{displaced:rl});return{impact:c,didDropInsideDroppable:!0}},RF=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(s){if(s.type!=="DROP"){n(s);return}var a=t(),i=s.payload.reason;if(a.phase==="COLLECTING"){r(NF({reason:i}));return}if(a.phase!=="IDLE"){var l=a.phase==="DROP_PENDING"&&a.isWaiting;l&&de(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||de();var c=a.critical,u=a.dimensions,d=u.draggables[a.critical.draggable.id],f=AF({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),h=f.impact,p=f.didDropInsideDroppable,v=p?pg(h):null,g=p?Pd(h):null,b={index:c.draggable.index,droppableId:c.droppable.id},y={draggableId:d.descriptor.id,type:d.descriptor.type,source:b,reason:i,mode:a.movementMode,destination:v,combine:g},x=kF({impact:h,draggable:d,dimensions:u,viewport:a.viewport,afterCritical:a.afterCritical}),w={critical:a.critical,afterCritical:a.afterCritical,result:y,impact:h},S=!Is(a.current.client.offset,x)||!!y.combine;if(!S){r(wg({completed:w}));return}var N=PF({current:a.current.client.offset,destination:x,reason:i}),j={newHomeClientOffset:x,dropDuration:N,completed:w};r(jF(j))}}}},S_=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function IF(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function DF(e){var t=e.onWindowScroll;function r(){t(S_())}var n=el(r),s=IF(n),a=Rs;function i(){return a!==Rs}function l(){i()&&de(),a=Vr(window,[s])}function c(){i()||de(),n.cancel(),a(),a=Rs}return{start:l,stop:c,isActive:i}}var OF=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},BF=function(e){var t=DF({onWindowScroll:function(n){e.dispatch(vF({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&OF(n)&&t.stop(),r(n)}}},MF=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),s=function(i){t||r||(t=!0,e(i),clearTimeout(n))};return s.wasCalled=function(){return t},s},LF=function(){var e=[],t=function(a){var i=hg(e,function(u){return u.timerId===a});i===-1&&de();var l=e.splice(i,1),c=l[0];c.callback()},r=function(a){var i=setTimeout(function(){return t(i)}),l={timerId:i,callback:a};e.push(l)},n=function(){if(e.length){var a=[].concat(e);e.length=0,a.forEach(function(i){clearTimeout(i.timerId),i.callback()})}};return{add:r,flush:n}},$F=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},FF=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},UF=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&s},so=function(t,r){r()},ic=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Lf=function(t,r,n,s){if(!t){n(s(r));return}var a=MF(n),i={announce:a};t(r,i),a.wasCalled()||n(s(r))},zF=function(e,t){var r=LF(),n=null,s=function(h,p){n&&de(),so("onBeforeCapture",function(){var v=e().onBeforeCapture;if(v){var g={draggableId:h,mode:p};v(g)}})},a=function(h,p){n&&de(),so("onBeforeDragStart",function(){var v=e().onBeforeDragStart;v&&v(ic(h,p))})},i=function(h,p){n&&de();var v=ic(h,p);n={mode:p,lastCritical:h,lastLocation:v.source,lastCombine:null},r.add(function(){so("onDragStart",function(){return Lf(e().onDragStart,v,t,kc.onDragStart)})})},l=function(h,p){var v=pg(p),g=Pd(p);n||de();var b=!UF(h,n.lastCritical);b&&(n.lastCritical=h);var y=!$F(n.lastLocation,v);y&&(n.lastLocation=v);var x=!FF(n.lastCombine,g);if(x&&(n.lastCombine=g),!(!b&&!y&&!x)){var w=ke({},ic(h,n.mode),{combine:g,destination:v});r.add(function(){so("onDragUpdate",function(){return Lf(e().onDragUpdate,w,t,kc.onDragUpdate)})})}},c=function(){n||de(),r.flush()},u=function(h){n||de(),n=null,so("onDragEnd",function(){return Lf(e().onDragEnd,h,t,kc.onDragEnd)})},d=function(){if(n){var h=ke({},ic(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(h)}};return{beforeCapture:s,beforeStart:a,start:i,update:l,flush:c,drop:u,abort:d}},WF=function(e,t){var r=zF(e,t);return function(n){return function(s){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var i=a.payload.critical;r.beforeStart(i,a.payload.movementMode),s(a),r.start(i,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var l=a.payload.completed.result;r.flush(),s(a),r.drop(l);return}if(s(a),a.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},VF=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&de(),e.dispatch(wg({completed:n.completed}))}}},HF=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(s){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&n(),s(a),a.type==="DROP_ANIMATE"){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(b_())}};r=requestAnimationFrame(function(){r=null,t=Vr(window,[i])})}}}},GF=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},qF=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var s=n.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},KF=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},YF=function(e){return function(t){return function(r){return function(n){if(KF(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var s=t.getState();s.phase!=="DRAGGING"&&de(),e.start(s);return}r(n),e.scroll(t.getState())}}}},QF=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(x_({reason:n.reason})))}}}},JF=TN,XF=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,s=e.getResponders,a=e.announce,i=e.autoScroller;return CN(lF,JF(LM(EF(n),GF(t),_F(t),RF,VF,HF,QF,YF(i),BF,qF(r),WF(s,a))))},$f=function(){return{additions:{},removals:{},modified:{}}};function ZF(e){var t=e.registry,r=e.callbacks,n=$f(),s=null,a=function(){s||(r.collectionStarting(),s=requestAnimationFrame(function(){s=null;var d=n,f=d.additions,h=d.removals,p=d.modified,v=Object.keys(f).map(function(y){return t.draggable.getById(y).getDimension(Bt)}).sort(function(y,x){return y.descriptor.index-x.descriptor.index}),g=Object.keys(p).map(function(y){var x=t.droppable.getById(y),w=x.callbacks.getScrollWhileDragging();return{droppableId:y,scroll:w}}),b={additions:v,removals:Object.keys(h),modified:g};n=$f(),r.publish(b)}))},i=function(d){var f=d.descriptor.id;n.additions[f]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],a()},l=function(d){var f=d.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],a()},c=function(){s&&(cancelAnimationFrame(s),s=null,n=$f())};return{add:i,remove:l,stop:c}}var j_=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,s=e.width,a=Pr({x:r,y:t},{x:s,y:n}),i={x:Math.max(0,a.x),y:Math.max(0,a.y)};return i},N_=function(){var e=document.documentElement;return e||de(),e},__=function(){var e=N_(),t=j_({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},e4=function(){var e=S_(),t=__(),r=e.y,n=e.x,s=N_(),a=s.clientWidth,i=s.clientHeight,l=n+a,c=r+i,u=dn({top:r,left:n,right:l,bottom:c}),d={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:Bt,displacement:Bt}}};return d},t4=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,s=e4(),a=s.scroll.current,i=t.droppable,l=n.droppable.getAllByType(i.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(a,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(f){return f.getDimension(a)}),u={draggables:e_(c),droppables:ZN(l)},d={dimensions:u,critical:t,viewport:s};return d};function Rx(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var r4=function(e,t){var r=null,n=ZF({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=function(p,v){e.droppable.exists(p)||de(),r&&t.updateDroppableIsEnabled({id:p,isEnabled:v})},a=function(p,v){r&&(e.droppable.exists(p)||de(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:v}))},i=function(p,v){r&&(e.droppable.exists(p)||de(),t.updateDroppableScroll({id:p,newScroll:v}))},l=function(p,v){r&&e.droppable.getById(p).callbacks.scroll(v)},c=function(){if(r){n.stop();var p=r.critical.droppable;e.droppable.getAllByType(p.type).forEach(function(v){return v.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(p){r||de();var v=r.critical.draggable;p.type==="ADDITION"&&Rx(e,v,p.value)&&n.add(p.value),p.type==="REMOVAL"&&Rx(e,v,p.value)&&n.remove(p.value)},d=function(p){r&&de();var v=e.draggable.getById(p.draggableId),g=e.droppable.getById(v.descriptor.droppableId),b={draggable:v.descriptor,droppable:g.descriptor},y=e.subscribe(u);return r={critical:b,unsubscribe:y},t4({critical:b,registry:e,scrollOptions:p.scrollOptions})},f={updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:i,startPublishing:d,stopPublishing:c};return f},E_=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},n4=function(e){window.scrollBy(e.x,e.y)},s4=Dt(function(e){return Td(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),a4=function(t,r){var n=Ks(s4(r),function(s){return s.frame||de(),u_(s.frame.pageMarginBox)(t)});return n},i4=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var s=n[r];return s.frame?s:null}var a=a4(t,n);return a},Ds={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},o4=function(e,t){var r=e[t.size]*Ds.startFromPercentage,n=e[t.size]*Ds.maxScrollAtPercentage,s={startScrollingFrom:r,maxScrollValueAt:n};return s},C_=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,s=r-t;if(s===0)return 0;var a=n-t,i=a/s;return i},Ng=1,l4=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Ds.maxPixelScroll;if(e===t.startScrollingFrom)return Ng;var r=C_({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,s=Ds.maxPixelScroll*Ds.ease(n);return Math.ceil(s)},Ix=Ds.durationDampening.accelerateAt,Dx=Ds.durationDampening.stopDampeningAt,c4=function(e,t){var r=t,n=Dx,s=Date.now(),a=s-r;if(a>=Dx)return e;if(a<Ix)return Ng;var i=C_({startOfRange:Ix,endOfRange:n,current:a}),l=e*Ds.ease(i);return Math.ceil(l)},Ox=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,s=e.shouldUseTimeDampening,a=l4(t,r);return a===0?0:s?Math.max(c4(a,n),Ng):a},Bx=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,s=e.axis,a=e.shouldUseTimeDampening,i=o4(t,s),l=r[s.end]<r[s.start];return l?Ox({distanceToEdge:r[s.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a}):-1*Ox({distanceToEdge:r[s.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a})},u4=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,s=r.height>t.height,a=r.width>t.width;return!a&&!s?n:a&&s?null:{x:a?0:n.x,y:s?0:n.y}},d4=JN(function(e){return e===0?0:e}),T_=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,s=e.center,a=e.shouldUseTimeDampening,i={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},l=Bx({container:r,distanceToEdges:i,dragStartTime:t,axis:mg,shouldUseTimeDampening:a}),c=Bx({container:r,distanceToEdges:i,dragStartTime:t,axis:n_,shouldUseTimeDampening:a}),u=d4({x:c,y:l});if(Is(u,Bt))return null;var d=u4({container:r,subject:n,proposedScroll:u});return d?Is(d,Bt)?null:d:null},f4=JN(function(e){return e===0?0:e>0?1:-1}),_g=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,s=t.change,a=Ut(r,s),i={x:e(a.x,n.x),y:e(a.y,n.y)};return Is(i,Bt)?null:i}}(),P_=function(t){var r=t.max,n=t.current,s=t.change,a={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},i=f4(s),l=_g({max:a,current:n,change:i});return!l||i.x!==0&&l.x===0||i.y!==0&&l.y===0},Eg=function(t,r){return P_({current:t.scroll.current,max:t.scroll.max,change:r})},h4=function(t,r){if(!Eg(t,r))return null;var n=t.scroll.max,s=t.scroll.current;return _g({current:s,max:n,change:r})},Cg=function(t,r){var n=t.frame;return n?P_({current:n.scroll.current,max:n.scroll.max,change:r}):!1},p4=function(t,r){var n=t.frame;return!n||!Cg(t,r)?null:_g({current:n.scroll.current,max:n.scroll.max,change:r})},m4=function(e){var t=e.viewport,r=e.subject,n=e.center,s=e.dragStartTime,a=e.shouldUseTimeDampening,i=T_({dragStartTime:s,container:t.frame,subject:r,center:n,shouldUseTimeDampening:a});return i&&Eg(t,i)?i:null},g4=function(e){var t=e.droppable,r=e.subject,n=e.center,s=e.dragStartTime,a=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var l=T_({dragStartTime:s,container:i.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:a});return l&&Cg(t,l)?l:null},Mx=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,s=e.scrollWindow,a=e.scrollDroppable,i=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,d=m4({dragStartTime:r,viewport:u,subject:c,center:i,shouldUseTimeDampening:n});if(d){s(d);return}}var f=i4({center:i,destination:Rr(t.impact),droppables:t.dimensions.droppables});if(f){var h=g4({dragStartTime:r,droppable:f,subject:c,center:i,shouldUseTimeDampening:n});h&&a(f.descriptor.id,h)}},v4=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=el(t),s=el(r),a=null,i=function(d){a||de();var f=a,h=f.shouldUseTimeDampening,p=f.dragStartTime;Mx({state:d,scrollWindow:n,scrollDroppable:s,dragStartTime:p,shouldUseTimeDampening:h})},l=function(d){a&&de();var f=Date.now(),h=!1,p=function(){h=!0};Mx({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),a={dragStartTime:f,shouldUseTimeDampening:h},h&&i(d)},c=function(){a&&(n.cancel(),s.cancel(),a=null)};return{start:l,stop:c,scroll:i}},y4=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,s=function(u,d){var f=Ut(u.current.client.selection,d);t({client:f})},a=function(u,d){if(!Cg(u,d))return d;var f=p4(u,d);if(!f)return r(u.descriptor.id,d),null;var h=Pr(d,f);r(u.descriptor.id,h);var p=Pr(d,h);return p},i=function(u,d,f){if(!u||!Eg(d,f))return f;var h=h4(d,f);if(!h)return n(f),null;var p=Pr(f,h);n(p);var v=Pr(f,p);return v},l=function(u){var d=u.scrollJumpRequest;if(d){var f=Rr(u.impact);f||de();var h=a(u.dimensions.droppables[f],d);if(h){var p=u.viewport,v=i(u.isWindowScrollAllowed,p,h);v&&s(u,v)}}};return l},x4=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,s=v4({scrollWindow:r,scrollDroppable:t}),a=y4({move:n,scrollWindow:r,scrollDroppable:t}),i=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){s.scroll(u);return}u.scrollJumpRequest&&a(u)}},l={scroll:i,start:s.start,stop:s.stop};return l},Ii="data-rbd",Di=function(){var e=Ii+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),vp=function(){var e=Ii+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),b4=function(){var e=Ii+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Lx={contextId:Ii+"-scroll-container-context-id"},w4=function(t){return function(r){return"["+r+'="'+t+'"]'}},ao=function(t,r){return t.map(function(n){var s=n.styles[r];return s?n.selector+" { "+s+" }":""}).join(" ")},S4="pointer-events: none;",j4=function(e){var t=w4(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Di.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:S4,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+Po.outOfTheWay+`;
    `;return{selector:t(vp.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),s={selector:t(b4.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},i=[n,r,s,a];return{always:ao(i,"always"),resting:ao(i,"resting"),dragging:ao(i,"dragging"),dropAnimating:ao(i,"dropAnimating"),userCancel:ao(i,"userCancel")}},Ir=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?m.useLayoutEffect:m.useEffect,Ff=function(){var t=document.querySelector("head");return t||de(),t},$x=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function N4(e,t){var r=Ke(function(){return j4(e)},[e]),n=m.useRef(null),s=m.useRef(null),a=_e(Dt(function(f){var h=s.current;h||de(),h.textContent=f}),[]),i=_e(function(f){var h=n.current;h||de(),h.textContent=f},[]);Ir(function(){!n.current&&!s.current||de();var f=$x(t),h=$x(t);return n.current=f,s.current=h,f.setAttribute(Ii+"-always",e),h.setAttribute(Ii+"-dynamic",e),Ff().appendChild(f),Ff().appendChild(h),i(r.always),a(r.resting),function(){var p=function(g){var b=g.current;b||de(),Ff().removeChild(b),g.current=null};p(n),p(s)}},[t,i,a,r.always,r.resting,e]);var l=_e(function(){return a(r.dragging)},[a,r.dragging]),c=_e(function(f){if(f==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),u=_e(function(){s.current&&a(r.resting)},[a,r.resting]),d=Ke(function(){return{dragging:l,dropping:c,resting:u}},[l,c,u]);return d}var k_=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Rd(e){return e instanceof k_(e).HTMLElement}function _4(e,t){var r="["+Di.contextId+'="'+e+'"]',n=XN(document.querySelectorAll(r));if(!n.length)return null;var s=Ks(n,function(a){return a.getAttribute(Di.draggableId)===t});return!s||!Rd(s)?null:s}function E4(e){var t=m.useRef({}),r=m.useRef(null),n=m.useRef(null),s=m.useRef(!1),a=_e(function(h,p){var v={id:h,focus:p};return t.current[h]=v,function(){var b=t.current,y=b[h];y!==v&&delete b[h]}},[]),i=_e(function(h){var p=_4(e,h);p&&p!==document.activeElement&&p.focus()},[e]),l=_e(function(h,p){r.current===h&&(r.current=p)},[]),c=_e(function(){n.current||s.current&&(n.current=requestAnimationFrame(function(){n.current=null;var h=r.current;h&&i(h)}))},[i]),u=_e(function(h){r.current=null;var p=document.activeElement;p&&p.getAttribute(Di.draggableId)===h&&(r.current=h)},[]);Ir(function(){return s.current=!0,function(){s.current=!1;var h=n.current;h&&cancelAnimationFrame(h)}},[]);var d=Ke(function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[a,u,c,l]);return d}function C4(){var e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){var p=t.indexOf(f);p!==-1&&t.splice(p,1)}}function n(f){t.length&&t.forEach(function(h){return h(f)})}function s(f){return e.draggables[f]||null}function a(f){var h=s(f);return h||de(),h}var i={register:function(h){e.draggables[h.descriptor.id]=h,n({type:"ADDITION",value:h})},update:function(h,p){var v=e.draggables[p.descriptor.id];v&&v.uniqueId===h.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:function(h){var p=h.descriptor.id,v=s(p);v&&h.uniqueId===v.uniqueId&&(delete e.draggables[p],n({type:"REMOVAL",value:h}))},getById:a,findById:s,exists:function(h){return!!s(h)},getAllByType:function(h){return bu(e.draggables).filter(function(p){return p.descriptor.type===h})}};function l(f){return e.droppables[f]||null}function c(f){var h=l(f);return h||de(),h}var u={register:function(h){e.droppables[h.descriptor.id]=h},unregister:function(h){var p=l(h.descriptor.id);p&&h.uniqueId===p.uniqueId&&delete e.droppables[h.descriptor.id]},getById:c,findById:l,exists:function(h){return!!l(h)},getAllByType:function(h){return bu(e.droppables).filter(function(p){return p.descriptor.type===h})}};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:u,subscribe:r,clean:d}}function T4(){var e=Ke(C4,[]);return m.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Tg=J.createContext(null),Su=function(){var e=document.body;return e||de(),e},P4={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},k4=function(t){return"rbd-announcement-"+t};function A4(e){var t=Ke(function(){return k4(e)},[e]),r=m.useRef(null);m.useEffect(function(){var a=document.createElement("div");return r.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),ke(a.style,P4),Su().appendChild(a),function(){setTimeout(function(){var c=Su();c.contains(a)&&c.removeChild(a),a===r.current&&(r.current=null)})}},[t]);var n=_e(function(s){var a=r.current;if(a){a.textContent=s;return}},[]);return n}var R4=0,I4={separator:"::"};function Pg(e,t){return t===void 0&&(t=I4),Ke(function(){return""+e+t.separator+R4++},[t.separator,e])}function D4(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function O4(e){var t=e.contextId,r=e.text,n=Pg("hidden-text",{separator:"-"}),s=Ke(function(){return D4({contextId:t,uniqueId:n})},[n,t]);return m.useEffect(function(){var i=document.createElement("div");return i.id=s,i.textContent=r,i.style.display="none",Su().appendChild(i),function(){var c=Su();c.contains(i)&&c.removeChild(i)}},[s,r]),s}var Id=J.createContext(null);function A_(e){var t=m.useRef(e);return m.useEffect(function(){t.current=e}),t}function B4(){var e=null;function t(){return!!e}function r(i){return i===e}function n(i){e&&de();var l={abandon:i};return e=l,l}function s(){e||de(),e=null}function a(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:r,claim:n,release:s,tryAbandon:a}}var M4=9,L4=13,kg=27,R_=32,$4=33,F4=34,U4=35,z4=36,W4=37,V4=38,H4=39,G4=40,oc,q4=(oc={},oc[L4]=!0,oc[M4]=!0,oc),I_=function(e){q4[e.keyCode]&&e.preventDefault()},Dd=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=Ks(t,function(n){return"on"+n in document});return r||e}(),D_=0,Fx=5;function K4(e,t){return Math.abs(t.x-e.x)>=Fx||Math.abs(t.y-e.y)>=Fx}var Ux={type:"IDLE"};function Y4(e){var t=e.cancel,r=e.completed,n=e.getPhase,s=e.setPhase;return[{eventName:"mousemove",fn:function(i){var l=i.button,c=i.clientX,u=i.clientY;if(l===D_){var d={x:c,y:u},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&de();var h=f.point;if(K4(h,d)){i.preventDefault();var p=f.actions.fluidLift(d);s({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(i){var l=n();if(l.type!=="DRAGGING"){t();return}i.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(i){n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:function(i){var l=n();if(l.type==="PENDING"){t();return}if(i.keyCode===kg){i.preventDefault(),t();return}I_(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(i){var l=n();if(l.type==="IDLE"&&de(),l.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:Dd,fn:t}]}function Q4(e){var t=m.useRef(Ux),r=m.useRef(Rs),n=Ke(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===D_&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var h=e.findClosestDraggableId(f);if(h){var p=e.tryGetLock(h,i,{sourceEvent:f});if(p){f.preventDefault();var v={x:f.clientX,y:f.clientY};r.current(),u(p,v)}}}}}},[e]),s=Ke(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var h=e.findClosestDraggableId(f);if(h){var p=e.findOptionsForDraggable(h);p&&(p.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}}}},[e]),a=_e(function(){var f={passive:!1,capture:!0};r.current=Vr(window,[s,n],f)},[s,n]),i=_e(function(){var d=t.current;d.type!=="IDLE"&&(t.current=Ux,r.current(),a())},[a]),l=_e(function(){var d=t.current;i(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[i]),c=_e(function(){var f={capture:!0,passive:!1},h=Y4({cancel:l,completed:i,getPhase:function(){return t.current},setPhase:function(v){t.current=v}});r.current=Vr(window,h,f)},[l,i]),u=_e(function(f,h){t.current.type!=="IDLE"&&de(),t.current={type:"PENDING",point:h,actions:f},c()},[c]);Ir(function(){return a(),function(){r.current()}},[a])}var $a;function J4(){}var X4=($a={},$a[F4]=!0,$a[$4]=!0,$a[z4]=!0,$a[U4]=!0,$a);function Z4(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===kg){a.preventDefault(),r();return}if(a.keyCode===R_){a.preventDefault(),n();return}if(a.keyCode===G4){a.preventDefault(),e.moveDown();return}if(a.keyCode===V4){a.preventDefault(),e.moveUp();return}if(a.keyCode===H4){a.preventDefault(),e.moveRight();return}if(a.keyCode===W4){a.preventDefault(),e.moveLeft();return}if(X4[a.keyCode]){a.preventDefault();return}I_(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Dd,fn:r}]}function e3(e){var t=m.useRef(J4),r=Ke(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==R_)return;var i=e.findClosestDraggableId(a);if(!i)return;var l=e.tryGetLock(i,d,{sourceEvent:a});if(!l)return;a.preventDefault();var c=!0,u=l.snapLift();t.current();function d(){c||de(),c=!1,t.current(),n()}t.current=Vr(window,Z4(u,d),{capture:!0,passive:!1})}}},[e]),n=_e(function(){var a={passive:!1,capture:!0};t.current=Vr(window,[r],a)},[r]);Ir(function(){return n(),function(){t.current()}},[n])}var Uf={type:"IDLE"},t3=120,r3=.15;function n3(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(s){s.preventDefault()}},{eventName:"keydown",fn:function(s){if(r().type!=="DRAGGING"){t();return}s.keyCode===kg&&s.preventDefault(),t()}},{eventName:Dd,fn:t}]}function s3(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;var l=a.touches[0],c=l.clientX,u=l.clientY,d={x:c,y:u};a.preventDefault(),i.actions.move(d)}},{eventName:"touchend",fn:function(a){var i=n();if(i.type!=="DRAGGING"){t();return}a.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(a){if(n().type!=="DRAGGING"){t();return}a.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(a){var i=n();i.type==="IDLE"&&de();var l=a.touches[0];if(l){var c=l.force>=r3;if(c){var u=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){u&&t();return}if(u){if(i.hasMoved){a.preventDefault();return}t();return}a.preventDefault()}}}},{eventName:Dd,fn:t}]}function a3(e){var t=m.useRef(Uf),r=m.useRef(Rs),n=_e(function(){return t.current},[]),s=_e(function(p){t.current=p},[]),a=Ke(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var v=e.findClosestDraggableId(p);if(v){var g=e.tryGetLock(v,l,{sourceEvent:p});if(g){var b=p.touches[0],y=b.clientX,x=b.clientY,w={x:y,y:x};r.current(),f(g,w)}}}}}},[e]),i=_e(function(){var p={capture:!0,passive:!1};r.current=Vr(window,[a],p)},[a]),l=_e(function(){var h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),s(Uf),r.current(),i())},[i,s]),c=_e(function(){var h=t.current;l(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[l]),u=_e(function(){var p={capture:!0,passive:!1},v={cancel:c,completed:l,getPhase:n},g=Vr(window,s3(v),p),b=Vr(window,n3(v),p);r.current=function(){g(),b()}},[c,n,l]),d=_e(function(){var p=n();p.type!=="PENDING"&&de();var v=p.actions.fluidLift(p.point);s({type:"DRAGGING",actions:v,hasMoved:!1})},[n,s]),f=_e(function(p,v){n().type!=="IDLE"&&de();var g=setTimeout(d,t3);s({type:"PENDING",point:v,actions:p,longPressTimerId:g}),u()},[u,n,s,d]);Ir(function(){return i(),function(){r.current();var v=n();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),s(Uf))}},[n,i,s]),Ir(function(){var p=Vr(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var i3={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function O_(e,t){if(t==null)return!1;var r=!!i3[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:O_(e,t.parentElement)}function o3(e,t){var r=t.target;return Rd(r)?O_(e,r):!1}var l3=function(e){return dn(e.getBoundingClientRect()).center};function c3(e){return e instanceof k_(e).Element}var u3=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=Ks(t,function(n){return n in Element.prototype});return r||e}();function B_(e,t){return e==null?null:e[u3](t)?e:B_(e.parentElement,t)}function d3(e,t){return e.closest?e.closest(t):B_(e,t)}function f3(e){return"["+Di.contextId+'="'+e+'"]'}function h3(e,t){var r=t.target;if(!c3(r))return null;var n=f3(e),s=d3(r,n);return!s||!Rd(s)?null:s}function p3(e,t){var r=h3(e,t);return r?r.getAttribute(Di.draggableId):null}function m3(e,t){var r="["+vp.contextId+'="'+e+'"]',n=XN(document.querySelectorAll(r)),s=Ks(n,function(a){return a.getAttribute(vp.id)===t});return!s||!Rd(s)?null:s}function g3(e){e.preventDefault()}function lc(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function M_(e){var t=e.lockAPI,r=e.store,n=e.registry,s=e.draggableId;if(t.isClaimed())return!1;var a=n.draggable.findById(s);return!(!a||!a.options.isEnabled||!E_(r.getState(),s))}function v3(e){var t=e.lockAPI,r=e.contextId,n=e.store,s=e.registry,a=e.draggableId,i=e.forceSensorStop,l=e.sourceEvent,c=M_({lockAPI:t,store:n,registry:s,draggableId:a});if(!c)return null;var u=s.draggable.getById(a),d=m3(r,u.descriptor.id);if(!d||l&&!u.options.canDragInteractiveElements&&o3(d,l))return null;var f=t.claim(i||Rs),h="PRE_DRAG";function p(){return u.options.shouldRespectForcePress}function v(){return t.isActive(f)}function g(j,_){lc({expected:j,phase:h,isLockActive:v,shouldWarn:!0})&&n.dispatch(_())}var b=g.bind(null,"DRAGGING");function y(j){function _(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(_(),h!=="PRE_DRAG"&&de()),n.dispatch(uF(j.liftActionArgs)),h="DRAGGING";function E(B,I){if(I===void 0&&(I={shouldBlockNextClick:!1}),j.cleanup(),I.shouldBlockNextClick){var F=Vr(window,[{eventName:"click",fn:g3,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(F)}_(),n.dispatch(x_({reason:B}))}return ke({isActive:function(){return lc({expected:"DRAGGING",phase:h,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(I){return E("DROP",I)},cancel:function(I){return E("CANCEL",I)}},j.actions)}function x(j){var _=el(function(B){b(function(){return y_({client:B})})}),E=y({liftActionArgs:{id:a,clientSelection:j,movementMode:"FLUID"},cleanup:function(){return _.cancel()},actions:{move:_}});return ke({},E,{move:_})}function w(){var j={moveUp:function(){return b(xF)},moveRight:function(){return b(wF)},moveDown:function(){return b(bF)},moveLeft:function(){return b(SF)}};return y({liftActionArgs:{id:a,clientSelection:l3(d),movementMode:"SNAP"},cleanup:Rs,actions:j})}function S(){var j=lc({expected:"PRE_DRAG",phase:h,isLockActive:v,shouldWarn:!0});j&&t.release()}var N={isActive:function(){return lc({expected:"PRE_DRAG",phase:h,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:x,snapLift:w,abort:S};return N}var y3=[Q4,e3,a3];function x3(e){var t=e.contextId,r=e.store,n=e.registry,s=e.customSensors,a=e.enableDefaultSensors,i=[].concat(a?y3:[],s||[]),l=m.useState(function(){return B4()})[0],c=_e(function(x,w){x.isDragging&&!w.isDragging&&l.tryAbandon()},[l]);Ir(function(){var x=r.getState(),w=r.subscribe(function(){var S=r.getState();c(x,S),x=S});return w},[l,r,c]),Ir(function(){return l.tryAbandon},[l.tryAbandon]);for(var u=_e(function(y){return M_({lockAPI:l,registry:n,store:r,draggableId:y})},[l,n,r]),d=_e(function(y,x,w){return v3({lockAPI:l,registry:n,contextId:t,store:r,draggableId:y,forceSensorStop:x,sourceEvent:w&&w.sourceEvent?w.sourceEvent:null})},[t,l,n,r]),f=_e(function(y){return p3(t,y)},[t]),h=_e(function(y){var x=n.draggable.findById(y);return x?x.options:null},[n.draggable]),p=_e(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(bg()))},[l,r]),v=_e(l.isClaimed,[l]),g=Ke(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:v}},[u,d,f,h,p,v]),b=0;b<i.length;b++)i[b](g)}var b3=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function io(e){return e.current||de(),e.current}function w3(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,s=e.nonce,a=e.dragHandleUsageInstructions,i=m.useRef(null),l=A_(e),c=_e(function(){return b3(l.current)},[l]),u=A4(t),d=O4({contextId:t,text:a}),f=N4(t,s),h=_e(function(B){io(i).dispatch(B)},[]),p=Ke(function(){return ux({publishWhileDragging:fF,updateDroppableScroll:pF,updateDroppableIsEnabled:mF,updateDroppableIsCombineEnabled:gF,collectionStarting:hF},h)},[h]),v=T4(),g=Ke(function(){return r4(v,p)},[v,p]),b=Ke(function(){return x4(ke({scrollWindow:n4,scrollDroppable:g.scrollDroppable},ux({move:y_},h)))},[g.scrollDroppable,h]),y=E4(t),x=Ke(function(){return XF({announce:u,autoScroller:b,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:f})},[u,b,g,y,c,f]);i.current=x;var w=_e(function(){var B=io(i),I=B.getState();I.phase!=="IDLE"&&B.dispatch(bg())},[]),S=_e(function(){var B=io(i).getState();return B.isDragging||B.phase==="DROP_ANIMATING"},[]),N=Ke(function(){return{isDragging:S,tryAbort:w}},[S,w]);r(N);var j=_e(function(B){return E_(io(i).getState(),B)},[]),_=_e(function(){return ta(io(i).getState())},[]),E=Ke(function(){return{marshal:g,focus:y,contextId:t,canLift:j,isMovementAllowed:_,dragHandleUsageInstructionsId:d,registry:v}},[t,g,d,y,j,_,v]);return x3({contextId:t,store:x,registry:v,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),m.useEffect(function(){return w},[w]),J.createElement(Id.Provider,{value:E},J.createElement(WM,{context:Tg,store:x},e.children))}var S3=0;function j3(){return Ke(function(){return""+S3++},[])}function N3(e){var t=j3(),r=e.dragHandleUsageInstructions||kc.dragHandleUsageInstructions;return J.createElement(e$,null,function(n){return J.createElement(w3,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var L_=function(t){return function(r){return t===r}},_3=L_("scroll"),E3=L_("auto"),zx=function(t,r){return r(t.overflowX)||r(t.overflowY)},C3=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return zx(n,_3)||zx(n,E3)},T3=function(){return!1},P3=function e(t){return t==null?null:t===document.body?T3()?t:null:t===document.documentElement?null:C3(t)?t:e(t.parentElement)},yp=function(e){return{x:e.scrollLeft,y:e.scrollTop}},k3=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},A3=function(e){var t=P3(e),r=k3(e);return{closestScrollable:t,isFixedOnPage:r}},R3=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,s=e.isFixedOnPage,a=e.direction,i=e.client,l=e.page,c=e.closest,u=function(){if(!c)return null;var p=c.scrollSize,v=c.client,g=j_({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:v,scrollSize:p,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:g,diff:{value:Bt,displacement:Bt}}}}(),d=a==="vertical"?mg:n_,f=Ri({page:l,withPlaceholder:null,axis:d,frame:u}),h={descriptor:t,isCombineEnabled:n,isFixedOnPage:s,axis:d,isEnabled:r,client:i,page:l,frame:u,subject:f};return h},I3=function(t,r){var n=qN(t);if(!r||t!==r)return n;var s=n.paddingBox.top-r.scrollTop,a=n.paddingBox.left-r.scrollLeft,i=s+r.scrollHeight,l=a+r.scrollWidth,c={top:s,right:l,bottom:i,left:a},u=ug(c,n.border),d=dg({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return d},D3=function(e){var t=e.ref,r=e.descriptor,n=e.env,s=e.windowScroll,a=e.direction,i=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,u=n.closestScrollable,d=I3(t,u),f=vu(d,s),h=function(){if(!u)return null;var v=qN(u),g={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:v,page:vu(v,s),scroll:yp(u),scrollSize:g,shouldClipSubject:c}}(),p=R3({descriptor:r,isEnabled:!i,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:a,client:d,page:f,closest:h});return p},O3={passive:!1},B3={passive:!0},Wx=function(e){return e.shouldPublishImmediately?O3:B3};function ju(e){var t=m.useContext(e);return t||de(),t}var cc=function(t){return t&&t.env.closestScrollable||null};function M3(e){var t=m.useRef(null),r=ju(Id),n=Pg("droppable"),s=r.registry,a=r.marshal,i=A_(e),l=Ke(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=m.useRef(l),u=Ke(function(){return Dt(function(S,N){t.current||de();var j={x:S,y:N};a.updateDroppableScroll(l.id,j)})},[l.id,a]),d=_e(function(){var S=t.current;return!S||!S.env.closestScrollable?Bt:yp(S.env.closestScrollable)},[]),f=_e(function(){var S=d();u(S.x,S.y)},[d,u]),h=Ke(function(){return el(f)},[f]),p=_e(function(){var S=t.current,N=cc(S);S&&N||de();var j=S.scrollOptions;if(j.shouldPublishImmediately){f();return}h()},[h,f]),v=_e(function(S,N){t.current&&de();var j=i.current,_=j.getDroppableRef();_||de();var E=A3(_),B={ref:_,descriptor:l,env:E,scrollOptions:N};t.current=B;var I=D3({ref:_,descriptor:l,env:E,windowScroll:S,direction:j.direction,isDropDisabled:j.isDropDisabled,isCombineEnabled:j.isCombineEnabled,shouldClipSubject:!j.ignoreContainerClipping}),F=E.closestScrollable;return F&&(F.setAttribute(Lx.contextId,r.contextId),F.addEventListener("scroll",p,Wx(B.scrollOptions))),I},[r.contextId,l,p,i]),g=_e(function(){var S=t.current,N=cc(S);return S&&N||de(),yp(N)},[]),b=_e(function(){var S=t.current;S||de();var N=cc(S);t.current=null,N&&(h.cancel(),N.removeAttribute(Lx.contextId),N.removeEventListener("scroll",p,Wx(S.scrollOptions)))},[p,h]),y=_e(function(S){var N=t.current;N||de();var j=cc(N);j||de(),j.scrollTop+=S.y,j.scrollLeft+=S.x},[]),x=Ke(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:g,dragStopped:b,scroll:y}},[b,v,g,y]),w=Ke(function(){return{uniqueId:n,descriptor:l,callbacks:x}},[x,l,n]);Ir(function(){return c.current=w.descriptor,s.droppable.register(w),function(){t.current&&b(),s.droppable.unregister(w)}},[x,l,b,w,a,s.droppable]),Ir(function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Ir(function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function zf(){}var Vx={width:0,height:0,margin:i$},L3=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate;return r||s==="close"?Vx:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},$3=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate,a=L3({isAnimatingOpenOnMount:r,placeholder:n,animate:s});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?Po.placeholder:null}};function F3(e){var t=m.useRef(null),r=_e(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,s=e.onTransitionEnd,a=e.onClose,i=e.contextId,l=m.useState(e.animate==="open"),c=l[0],u=l[1];m.useEffect(function(){return c?n!=="open"?(r(),u(!1),zf):t.current?zf:(t.current=setTimeout(function(){t.current=null,u(!1)}),r):zf},[n,c,r]);var d=_e(function(h){h.propertyName==="height"&&(s(),n==="close"&&a())},[n,a,s]),f=$3({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return J.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":i,onTransitionEnd:d,ref:e.innerRef})}var U3=J.memo(F3),Ag=J.createContext(null),z3=function(e){EN(t,e);function t(){for(var n,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(s,a){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)},t}(J.PureComponent),Hx={dragging:5e3,dropAnimating:4500},W3=function(t,r){return r?Po.drop(r.duration):t?Po.snap:Po.fluid},V3=function(t,r){return t?r?sl.opacity.drop:sl.opacity.combining:null},H3=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function G3(e){var t=e.dimension,r=t.client,n=e.offset,s=e.combineWith,a=e.dropping,i=!!s,l=H3(e),c=!!a,u=c?mp.drop(n,i):mp.moveTo(n),d={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:W3(l,a),transform:u,opacity:V3(i,c),zIndex:c?Hx.dropAnimating:Hx.dragging,pointerEvents:"none"};return d}function q3(e){return{transform:mp.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function K3(e){return e.type==="DRAGGING"?G3(e):q3(e)}function Y3(e,t,r){r===void 0&&(r=Bt);var n=window.getComputedStyle(t),s=t.getBoundingClientRect(),a=GN(s,n),i=vu(a,r),l={client:a,tagName:t.tagName.toLowerCase(),display:n.display},c={x:a.marginBox.width,y:a.marginBox.height},u={descriptor:e,placeholder:l,displaceBy:c,client:a,page:i};return u}function Q3(e){var t=Pg("draggable"),r=e.descriptor,n=e.registry,s=e.getDraggableRef,a=e.canDragInteractiveElements,i=e.shouldRespectForcePress,l=e.isEnabled,c=Ke(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:l}},[a,l,i]),u=_e(function(p){var v=s();return v||de(),Y3(r,v,p)},[r,s]),d=Ke(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:u}},[r,u,c,t]),f=m.useRef(d),h=m.useRef(!0);Ir(function(){return n.draggable.register(f.current),function(){return n.draggable.unregister(f.current)}},[n.draggable]),Ir(function(){if(h.current){h.current=!1;return}var p=f.current;f.current=d,n.draggable.update(d,p)},[d,n.draggable])}function J3(e){e.preventDefault()}function X3(e){var t=m.useRef(null),r=_e(function(B){t.current=B},[]),n=_e(function(){return t.current},[]),s=ju(Id),a=s.contextId,i=s.dragHandleUsageInstructionsId,l=s.registry,c=ju(Ag),u=c.type,d=c.droppableId,f=Ke(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}},[e.draggableId,e.index,u,d]),h=e.children,p=e.draggableId,v=e.isEnabled,g=e.shouldRespectForcePress,b=e.canDragInteractiveElements,y=e.isClone,x=e.mapped,w=e.dropAnimationFinished;if(!y){var S=Ke(function(){return{descriptor:f,registry:l,getDraggableRef:n,canDragInteractiveElements:b,shouldRespectForcePress:g,isEnabled:v}},[f,l,n,b,g,v]);Q3(S)}var N=Ke(function(){return v?{tabIndex:0,role:"button","aria-describedby":i,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:J3}:null},[a,i,p,v]),j=_e(function(B){x.type==="DRAGGING"&&x.dropping&&B.propertyName==="transform"&&w()},[w,x]),_=Ke(function(){var B=K3(x),I=x.type==="DRAGGING"&&x.dropping?j:null,F={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":p,style:B,onTransitionEnd:I},dragHandleProps:N};return F},[a,N,p,x,j,r]),E=Ke(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return h(_,x.snapshot,E)}var $_=function(e,t){return e===t},F_=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},Z3=function(t){return t.combine?t.combine.draggableId:null},e5=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function t5(){var e=Dt(function(s,a){return{x:s,y:a}}),t=Dt(function(s,a,i,l,c){return{isDragging:!0,isClone:a,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:i,combineWith:l,combineTargetFor:null}}),r=Dt(function(s,a,i,l,c,u,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:a,offset:s,dimension:i,forceShouldAnimate:d,snapshot:t(a,l,c,u,null)}}}),n=function(a,i){if(a.isDragging){if(a.critical.draggable.id!==i.draggableId)return null;var l=a.current.client.offset,c=a.dimensions.draggables[i.draggableId],u=Rr(a.impact),d=e5(a.impact),f=a.forceShouldAnimate;return r(e(l.x,l.y),a.movementMode,c,i.isClone,u,d,f)}if(a.phase==="DROP_ANIMATING"){var h=a.completed;if(h.result.draggableId!==i.draggableId)return null;var p=i.isClone,v=a.dimensions.draggables[i.draggableId],g=h.result,b=g.mode,y=F_(g),x=Z3(g),w=a.dropDuration,S={duration:w,curve:Sg.drop,moveTo:a.newHomeClientOffset,opacity:x?sl.opacity.drop:null,scale:x?sl.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:v,dropping:S,draggingOver:y,combineWith:x,mode:b,forceShouldAnimate:null,snapshot:t(b,p,y,x,S)}}}return null};return n}function U_(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var r5={mapped:{type:"SECONDARY",offset:Bt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:U_(null)}};function n5(){var e=Dt(function(i,l){return{x:i,y:l}}),t=Dt(U_),r=Dt(function(i,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:i,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),n=function(l){return l?r(Bt,l,!0):null},s=function(l,c,u,d){var f=u.displaced.visible[l],h=!!(d.inVirtualList&&d.effected[l]),p=Pd(u),v=p&&p.draggableId===l?c:null;if(!f){if(!h)return n(v);if(u.displaced.invisible[l])return null;var g=Vi(d.displacedBy.point),b=e(g.x,g.y);return r(b,v,!0)}if(h)return n(v);var y=u.displacedBy.point,x=e(y.x,y.y);return r(x,v,f.shouldAnimate)},a=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:s(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var u=l.completed;return u.result.draggableId===c.draggableId?null:s(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return a}var s5=function(){var t=t5(),r=n5(),n=function(a,i){return t(a,i)||r(a,i)||r5};return n},a5={dropAnimationFinished:b_},i5=VN(s5,a5,null,{context:Tg,pure:!0,areStatePropsEqual:$_})(X3);function z_(e){var t=ju(Ag),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:J.createElement(i5,e)}function as(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return J.createElement(z_,ke({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function o5(e){var t=m.useContext(Id);t||de();var r=t.contextId,n=t.isMovementAllowed,s=m.useRef(null),a=m.useRef(null),i=e.children,l=e.droppableId,c=e.type,u=e.mode,d=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,p=e.isCombineEnabled,v=e.snapshot,g=e.useClone,b=e.updateViewportMaxScroll,y=e.getContainerForClone,x=_e(function(){return s.current},[]),w=_e(function(F){s.current=F},[]);_e(function(){return a.current},[]);var S=_e(function(F){a.current=F},[]),N=_e(function(){n()&&b({maxScroll:__()})},[n,b]);M3({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:f,getDroppableRef:x});var j=J.createElement(z3,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(F){var A=F.onClose,G=F.data,k=F.animate;return J.createElement(U3,{placeholder:G,onClose:A,innerRef:S,animate:k,contextId:r,onTransitionEnd:N})}),_=Ke(function(){return{innerRef:w,placeholder:j,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,j,w]),E=g?g.dragging.draggableId:null,B=Ke(function(){return{droppableId:l,type:c,isUsingCloneFor:E}},[l,E,c]);function I(){if(!g)return null;var F=g.dragging,A=g.render,G=J.createElement(z_,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(k,C){return A(k,C,F)});return mm.createPortal(G,y())}return J.createElement(Ag.Provider,{value:B},i(_,v),I())}var Wf=function(t,r){return t===r.droppable.type},Gx=function(t,r){return r.draggables[t.draggable.id]},l5=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=ke({},t,{shouldAnimatePlaceholder:!1}),n=Dt(function(i){return{draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}}}),s=Dt(function(i,l,c,u,d,f){var h=d.descriptor.id,p=d.descriptor.droppableId===i;if(p){var v=f?{render:f,dragging:n(d.descriptor)}:null,g={isDraggingOver:c,draggingOverWith:c?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:v}}if(!l)return r;if(!u)return t;var b={isDraggingOver:c,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}}),a=function(l,c){var u=c.droppableId,d=c.type,f=!c.isDropDisabled,h=c.renderClone;if(l.isDragging){var p=l.critical;if(!Wf(d,p))return r;var v=Gx(p,l.dimensions),g=Rr(l.impact)===u;return s(u,f,g,g,v,h)}if(l.phase==="DROP_ANIMATING"){var b=l.completed;if(!Wf(d,b.critical))return r;var y=Gx(b.critical,l.dimensions);return s(u,f,F_(b.result)===u,Rr(b.impact)===u,y,h)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var x=l.completed;if(!Wf(d,x.critical))return r;var w=Rr(x.impact)===u,S=!!(x.impact.at&&x.impact.at.type==="COMBINE"),N=x.critical.droppable.id===u;return w?S?t:r:N?t:r}return r};return a},c5={updateViewportMaxScroll:yF};function u5(){return document.body||de(),document.body}var d5={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:u5},za=VN(l5,c5,null,{context:Tg,pure:!0,areStatePropsEqual:$_})(o5);za.defaultProps=d5;const f5=({tournamentId:e,teams:t,numberOfRounds:r,onSave:n,onCancel:s,existingSchedule:a})=>{const[i,l]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState(!1);m.useEffect(()=>{a?h(a):p()},[t,r]);const h=w=>{const S=[];for(let N=1;N<=r;N++){const j=w.matches.filter(I=>I.round===N),_=[],E=[],B=[];j.forEach(I=>{const F=t.find(G=>G.id===I.teamA),A=t.find(G=>G.id===I.teamB);F&&_.push({id:F.id,name:F.name,city:F.city}),A&&E.push({id:A.id,name:A.name,city:A.city}),B.push(I.table||1)}),S.push({leftSide:_,rightSide:E,tables:B,bench:[],tableBench:[]})}l(S)},p=async()=>{f(!0);try{if(t.length===0)throw new Error("No teams available to generate schedule");const{generateNRoundsWithByeAndFinal:w}=await Ue(async()=>{const{generateNRoundsWithByeAndFinal:_}=await import("./scheduler-C9VdCgRG.js");return{generateNRoundsWithByeAndFinal:_}},[]),S=t.map(_=>({id:_.id,name:_.name,city:_.city})),N=w(S,r),j=[];for(let _=0;_<N.length;_++){const E=N[_],B=[],I=[],F=[];E.forEach((A,G)=>{if("teamA"in A&&"teamB"in A){const k=A.teamA.city===A.teamB.city&&A.teamA.city!=="BYE",C=A.teamA.id==="BYE",L=A.teamB.id==="BYE";C?(B.push({id:A.teamA.id,name:A.teamA.name,city:A.teamA.city,isLocked:k}),I.push({id:A.teamB.id,name:A.teamB.name,city:A.teamB.city,isLocked:k})):L?(B.push({id:A.teamB.id,name:A.teamB.name,city:A.teamB.city,isLocked:k}),I.push({id:A.teamA.id,name:A.teamA.name,city:A.teamA.city,isLocked:k})):(B.push({id:A.teamA.id,name:A.teamA.name,city:A.teamA.city,isLocked:k}),I.push({id:A.teamB.id,name:A.teamB.name,city:A.teamB.city,isLocked:k})),F.push(G+1)}}),j.push({leftSide:B,rightSide:I,tables:[...F].sort(()=>Math.random()-.5),bench:[],tableBench:[]})}l(j),u([])}catch(w){console.error("Error generating schedule:",w),Q({title:"Error generating schedule",variant:"destructive"})}finally{f(!1)}},v=w=>{if(!w.destination)return;const{source:S,destination:N}=w,[j,_]=S.droppableId.split("-"),[E,B]=N.droppableId.split("-"),I=parseInt(_),F=[...i],A=F[I];if(j==="table"||E==="table"||j==="tableBench"||E==="tableBench"){if(j==="table"&&E==="tableBench"){const G=parseInt(S.droppableId.split("-")[2]),k=A.tables[G];k!==null&&(A.tables[G]=null,A.tableBench.push(k))}else if(j==="tableBench"&&E==="table"){const G=A.tableBench[S.index],k=parseInt(N.droppableId.split("-")[2]),C=A.tables[k];A.tableBench.splice(S.index,1),C!==null&&A.tableBench.push(C),A.tables[k]=G}else if(j==="table"&&E==="table"){const G=parseInt(S.droppableId.split("-")[2]),k=parseInt(N.droppableId.split("-")[2]),C=A.tables[G],L=A.tables[k];A.tables[G]=L,A.tables[k]=C}else if(j==="tableBench"&&E==="tableBench"){const[G]=A.tableBench.splice(S.index,1);A.tableBench.splice(N.index,0,G)}l(F);return}if(j==="left"&&E==="bench"){const G=parseInt(S.droppableId.split("-")[2]),k=A.leftSide[G];k&&(A.leftSide[G]=null,A.bench.push(k))}else if(j==="right"&&E==="bench"){const G=parseInt(S.droppableId.split("-")[2]),k=A.rightSide[G];k&&(A.rightSide[G]=null,A.bench.push(k))}else if(j==="bench"&&E==="left"){const G=A.bench[S.index],k=parseInt(N.droppableId.split("-")[2]),C=A.leftSide[k];A.bench.splice(S.index,1),C&&A.bench.push(C),A.leftSide[k]=G}else if(j==="bench"&&E==="right"){const G=A.bench[S.index],k=parseInt(N.droppableId.split("-")[2]),C=A.rightSide[k];A.bench.splice(S.index,1),C&&A.bench.push(C),A.rightSide[k]=G}else if(j==="left"&&E==="left"){const G=parseInt(S.droppableId.split("-")[2]),k=parseInt(N.droppableId.split("-")[2]),C=A.leftSide[G],L=A.leftSide[k];A.leftSide[G]=L,A.leftSide[k]=C}else if(j==="right"&&E==="right"){const G=parseInt(S.droppableId.split("-")[2]),k=parseInt(N.droppableId.split("-")[2]),C=A.rightSide[G],L=A.rightSide[k];A.rightSide[G]=L,A.rightSide[k]=C}else if(j==="left"&&E==="right"){const G=parseInt(S.droppableId.split("-")[2]),k=parseInt(N.droppableId.split("-")[2]),C=A.leftSide[G],L=A.rightSide[k];A.leftSide[G]=L,A.rightSide[k]=C}else if(j==="right"&&E==="left"){const G=parseInt(S.droppableId.split("-")[2]),k=parseInt(N.droppableId.split("-")[2]),C=A.rightSide[G],L=A.leftSide[k];A.rightSide[G]=L,A.leftSide[k]=C}else if(j==="bench"&&E==="bench"){const[G]=A.bench.splice(S.index,1);A.bench.splice(N.index,0,G)}l(F),I===0&&setTimeout(()=>x(),0)},g=(w,S,N)=>{const j=[...i];j[w].tables[S]=N,l(j)},b=()=>{const w=[];let S=1;i.forEach((j,_)=>{const E=_+1,B=Math.max(j.leftSide.length,j.rightSide.length);for(let I=0;I<B;I++){const F=j.leftSide[I],A=j.rightSide[I],G=j.tables[I]||I+1;F&&A&&w.push({id:`${e}-r${E}-m${S++}`,teamA:F.id==="BYE"?null:F.id,teamB:A.id==="BYE"?null:A.id,round:E,table:G,tournamentId:e,isBye:F.id==="BYE"||A.id==="BYE",isSameCity:F.city===A.city&&F.city!=="BYE"})}}),n({tournamentId:e,rounds:r,matches:w})},y=w=>{try{if(w===0)p();else{const S=[...i],N=S[w-1],j=[...N.rightSide];if(j.length>0){const B=j.pop();j.unshift(B)}const E=[...Array.from({length:Math.max(N.leftSide.length,N.rightSide.length)},(B,I)=>I+1)].sort(()=>Math.random()-.5);S[w]={leftSide:[...N.leftSide],rightSide:j,tables:E,bench:[],tableBench:[]},l(S)}}catch(S){console.error("Error regenerating round:",S),Q({title:"Error regenerating round",variant:"destructive"})}},x=w=>{{const S=[...i];for(let j=1;j<S.length;j++){const _=S[j-1],E=[..._.rightSide];if(E.length>0){const F=E.pop();E.unshift(F)}const I=[...Array.from({length:Math.max(_.leftSide.length,_.rightSide.length)},(F,A)=>A+1)].sort(()=>Math.random()-.5);S[j]={leftSide:[..._.leftSide],rightSide:E,tables:I,bench:[],tableBench:[]}}const N=S.length-1;if(N>0){const j=[];for(let I=0;I<N;I++){const F=S[I];for(let A=0;A<F.leftSide.length;A++){const G=F.leftSide[A],k=F.rightSide[A];G&&k&&(G.id==="BYE"&&k.id!=="BYE"?j.push(k):k.id==="BYE"&&G.id!=="BYE"&&j.push(G))}}const _=[],E=[],B=[];for(let I=0;I<j.length;I+=2){const F=j[I],A=j[I+1];F&&A&&(_.push(F),E.push(A),B.push(Math.floor(I/2)+1))}S[N]={leftSide:_,rightSide:E,tables:B,bench:[],tableBench:[]}}l(S)}};return o.jsx("div",{className:"space-y-6",children:o.jsxs(He,{children:[o.jsx(qe,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(Qe,{children:"Schedule Editor - Option A"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{variant:"outline",onClick:s,children:"Cancel"}),o.jsxs(ne,{onClick:b,children:[o.jsx(Gw,{className:"w-4 h-4 mr-2"}),"Save Schedule"]})]})]})}),o.jsx(Ge,{children:d?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),o.jsx("p",{className:"mt-2",children:"Generating schedule..."})]}):o.jsx("div",{className:"space-y-6",children:i.map((w,S)=>o.jsxs(He,{children:[o.jsx(qe,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(Qe,{children:["Round ",S+1]}),o.jsxs("div",{className:"flex gap-2",children:[S===0&&o.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>x(),children:[o.jsx(ru,{className:"w-4 h-4 mr-2"}),"Auto-Generate Rounds 2-",r]}),o.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>y(S),children:[o.jsx(ru,{className:"w-4 h-4 mr-2"}),"Regenerate"]})]})]})}),o.jsx(Ge,{children:o.jsx(N3,{onDragEnd:v,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 bg-gray-50",children:[o.jsx(ge,{className:"text-sm font-medium mb-2 block",children:"Bench - Drop teams and table numbers here to reorganize"}),o.jsxs("div",{className:"mb-3",children:[o.jsx(ge,{className:"text-xs text-gray-600 mb-1 block",children:"Teams:"}),o.jsx(za,{droppableId:`bench-${S}`,children:N=>o.jsxs("div",{...N.droppableProps,ref:N.innerRef,className:"min-h-[40px] flex flex-wrap gap-2",children:[w.bench.map((j,_)=>o.jsx(as,{draggableId:`bench-${S}-${j.id}`,index:_,children:E=>o.jsxs("div",{ref:E.innerRef,...E.draggableProps,className:`flex items-center gap-2 px-3 py-2 border rounded text-sm bg-white shadow-sm ${j.isLocked?"bg-yellow-50 border-yellow-200":"bg-white"}`,children:[o.jsx("div",{...E.dragHandleProps,children:o.jsx(ts,{className:"w-3 h-3 text-gray-400"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-medium",children:j.name}),o.jsx("div",{className:"text-xs text-gray-500",children:j.city})]}),j.isLocked&&o.jsx(Te,{variant:"secondary",className:"text-xs px-1 py-0",children:"Locked"})]})},j.id)),N.placeholder]})})]}),o.jsxs("div",{children:[o.jsx(ge,{className:"text-xs text-gray-600 mb-1 block",children:"Table Numbers:"}),o.jsx(za,{droppableId:`tableBench-${S}`,children:N=>o.jsxs("div",{...N.droppableProps,ref:N.innerRef,className:"min-h-[40px] flex flex-wrap gap-2",children:[w.tableBench.map((j,_)=>o.jsx(as,{draggableId:`tableBench-${S}-${j}`,index:_,children:E=>o.jsxs("div",{ref:E.innerRef,...E.draggableProps,className:"flex items-center gap-2 px-3 py-2 border rounded text-sm bg-blue-50 border-blue-200 shadow-sm",children:[o.jsx("div",{...E.dragHandleProps,children:o.jsx(ts,{className:"w-3 h-3 text-blue-400"})}),o.jsxs("div",{className:"font-medium text-blue-700",children:["Table ",j]})]})},`tableBench-${j}`)),N.placeholder]})})]})]}),o.jsx("div",{className:"space-y-2",children:w.leftSide.map((N,j)=>{const _=w.rightSide[j],E=w.tables[j];return!N&&!_?null:o.jsxs("div",{className:"flex items-center gap-4 py-2",children:[o.jsx("div",{className:"flex-1 flex justify-end",children:o.jsx(za,{droppableId:`left-${S}-${j}`,children:B=>o.jsxs("div",{...B.droppableProps,ref:B.innerRef,className:"min-h-[50px] flex items-center",children:[N?o.jsx(as,{draggableId:`left-${S}-${N.id}`,index:0,children:I=>o.jsxs("div",{ref:I.innerRef,...I.draggableProps,className:`flex items-center gap-2 px-4 py-2 border rounded text-sm w-48 ${N.isLocked?"bg-yellow-50 border-yellow-200":"bg-white"}`,children:[o.jsx("div",{...I.dragHandleProps,children:o.jsx(ts,{className:"w-3 h-3 text-gray-400"})}),o.jsxs("div",{className:"flex-1 text-right",children:[o.jsx("div",{className:"font-medium",children:N.name}),o.jsx("div",{className:"text-xs text-gray-500",children:N.city})]}),N.isLocked&&o.jsx(Te,{variant:"secondary",className:"text-xs px-1 py-0",children:"Locked"})]})},N.id):o.jsx(as,{draggableId:`left-${S}-${j}`,index:0,children:I=>o.jsxs("div",{ref:I.innerRef,...I.draggableProps,className:"flex items-center gap-2 px-4 py-2 border-2 border-dashed border-gray-300 rounded text-sm bg-gray-50 text-gray-400 min-w-[192px] justify-center cursor-move",children:[o.jsx("div",{...I.dragHandleProps,children:o.jsx(ts,{className:"w-3 h-3 text-gray-400"})}),o.jsx("span",{children:"Empty"})]})},`left-empty-${j}`),B.placeholder]})})}),o.jsxs("div",{className:"flex items-center gap-2 min-w-[100px] justify-center",children:[o.jsx(za,{droppableId:`table-${S}-${j}`,children:B=>o.jsxs("div",{...B.droppableProps,ref:B.innerRef,className:"min-h-[50px] flex items-center justify-center",children:[E?o.jsx(as,{draggableId:`table-${S}-${j}`,index:0,children:I=>o.jsxs("div",{ref:I.innerRef,...I.draggableProps,className:"flex items-center gap-2 px-3 py-2 border rounded text-sm bg-blue-50 border-blue-200 cursor-move",children:[o.jsx("div",{...I.dragHandleProps,children:o.jsx(ts,{className:"w-3 h-3 text-blue-400"})}),o.jsx(ye,{type:"number",value:E,onChange:F=>g(S,j,parseInt(F.target.value)||1),className:"w-12 h-8 text-center text-sm border-0 bg-transparent p-0",min:1,max:12})]})},`table-${j}`):o.jsx(as,{draggableId:`table-${S}-${j}`,index:0,children:I=>o.jsxs("div",{ref:I.innerRef,...I.draggableProps,className:"flex items-center gap-2 px-3 py-2 border-2 border-dashed border-gray-300 rounded text-sm bg-gray-50 text-gray-400 min-w-[80px] justify-center cursor-move",children:[o.jsx("div",{...I.dragHandleProps,children:o.jsx(ts,{className:"w-3 h-3 text-gray-400"})}),o.jsx("span",{children:"Empty"})]})},`table-empty-${j}`),B.placeholder]})}),o.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"vs"})]}),o.jsx("div",{className:"flex-1",children:o.jsx(za,{droppableId:`right-${S}-${j}`,children:B=>o.jsxs("div",{...B.droppableProps,ref:B.innerRef,className:"min-h-[50px] flex items-center",children:[_?o.jsx(as,{draggableId:`right-${S}-${_.id}`,index:0,children:I=>o.jsxs("div",{ref:I.innerRef,...I.draggableProps,className:`flex items-center gap-2 px-4 py-2 border rounded text-sm w-48 ${_.isLocked?"bg-yellow-50 border-yellow-200":"bg-white"}`,children:[o.jsx("div",{...I.dragHandleProps,children:o.jsx(ts,{className:"w-3 h-3 text-gray-400"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-medium",children:_.name}),o.jsx("div",{className:"text-xs text-gray-500",children:_.city})]}),_.isLocked&&o.jsx(Te,{variant:"secondary",className:"text-xs px-1 py-0",children:"Locked"})]})},_.id):o.jsx(as,{draggableId:`right-${S}-${j}`,index:0,children:I=>o.jsxs("div",{ref:I.innerRef,...I.draggableProps,className:"flex items-center gap-2 px-4 py-2 border-2 border-dashed border-gray-300 rounded text-sm bg-gray-50 text-gray-400 min-w-[192px] justify-center cursor-move",children:[o.jsx("div",{...I.dragHandleProps,children:o.jsx(ts,{className:"w-3 h-3 text-gray-400"})}),o.jsx("span",{children:"Empty"})]})},`right-empty-${j}`),B.placeholder]})})})]},j)})})]})})})]},S))})})]})})},h5=()=>{const{teams:e,tournaments:t,schedules:r,saveSchedule:n,sendScoreSheetLinks:s,clearTournamentResults:a,clearGames:i,clearScoreSubmissions:l,getActiveTournament:c}=_t(),[u,d]=m.useState(""),[f,h]=m.useState("4"),[p,v]=m.useState(null),[g,b]=m.useState(!1),[y,x]=m.useState(!1),[w,S]=m.useState(!1),[N,j]=m.useState([]),[_,E]=m.useState(!1),[B,I]=m.useState(null);m.useEffect(()=>{const O=c();O&&!u&&d(O.id)},[c,u]),m.useEffect(()=>{if(u){const O=r.find(W=>W.tournamentId===u);O?(v(O),h(O.rounds?O.rounds.toString():"4"),b(!1)):(v(null),h("4"),b(!1))}},[u,r]);const F=()=>{if(!u||!f){Q({title:"Please select tournament and number of rounds",variant:"destructive"});return}if(e.filter(W=>{var Z;return(Z=W.registeredTournaments)==null?void 0:Z.includes(u)}).length<2){Q({title:"Need at least 2 teams to generate schedule",variant:"destructive"});return}I(null),E(!0)},A=O=>{a(u),i(u),l(u),v(O),n(O),b(!0),E(!1),Q({title:"Schedule saved successfully!",description:`${O.rounds} rounds generated with ${O.matches.length} matches.`,variant:"default"})},G=()=>{E(!1),I(null)},k=async()=>{if(p)try{const O=window.location.origin;await s(p.tournamentId,O),x(!0),Q({title:"Score sheet links sent to all teams!"})}catch{Q({title:"Failed to send score sheet links",variant:"destructive"})}},C=t.find(O=>O.id===u),L=e.filter(O=>{var W;return(W=O.registeredTournaments)==null?void 0:W.includes(u)});r.find(O=>O.tournamentId===u);const K=L.length>0?Math.floor(L.length/2):0,R=L.length%2===1;return L.reduce((O,W)=>(O[W.city]||(O[W.city]=0),O[W.city]++,O),{}),o.jsxs("div",{className:"space-y-6",children:[_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:o.jsx(f5,{tournamentId:u,teams:e.filter(O=>{var W;return(W=O.registeredTournaments)==null?void 0:W.includes(u)}),numberOfRounds:parseInt(f),onSave:A,onCancel:G,existingSchedule:p})})}),o.jsxs(He,{className:"border-2 border-gray-300",children:[o.jsx(qe,{className:"border-b-2 border-red-500 pb-2",children:o.jsx("div",{className:"flex justify-center items-center",children:o.jsx(Qe,{className:"text-red-600",children:"Tournament Scheduler"})})}),o.jsxs(Ge,{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-4 items-end mt-4",children:[o.jsxs("div",{className:"w-48",children:[o.jsx(ge,{htmlFor:"tournament",children:"Tournament"}),o.jsxs(jr,{value:u,onValueChange:d,children:[o.jsx(dr,{children:o.jsx(Nr,{placeholder:"Select"})}),o.jsx(fr,{children:t.map(O=>o.jsx(ot,{value:O.id,children:O.name},O.id))})]})]}),o.jsxs("div",{className:"w-20",children:[o.jsx(ge,{htmlFor:"rounds",children:"Rounds"}),o.jsx(ye,{id:"rounds",type:"number",value:f,onChange:O=>h(O.target.value),placeholder:"4",min:"1",max:"10"})]}),o.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[o.jsx(ne,{onClick:F,disabled:!u||!f,size:"sm",className:"h-20 w-20 p-0 text-lg font-bold",children:"Run"}),u&&R&&o.jsx(Te,{variant:"secondary",className:"text-xs mt-2",children:"Odd - Byes Required"})]}),u&&o.jsxs("div",{className:"w-48",children:[o.jsx(ge,{children:"Teams"}),o.jsx("div",{className:"text-sm font-medium",children:L.length})]}),u&&o.jsxs("div",{className:"w-20",children:[o.jsx(ge,{children:"Tables"}),o.jsx("div",{className:"text-sm text-blue-600",children:K})]})]}),g&&p&&o.jsx("div",{className:"flex gap-2",children:o.jsx(ne,{onClick:k,disabled:y,variant:"secondary",className:"flex-1",children:y?"Links Sent ":"Send Score Sheet Out"})})]})]}),p&&o.jsx(IM,{schedule:p,tournamentName:(C==null?void 0:C.name)||""}),o.jsx(Er,{open:w,onOpenChange:S,children:o.jsxs(hr,{children:[o.jsx(pr,{children:o.jsx(mr,{children:"Teams with Byes"})}),o.jsx("div",{className:"space-y-2",children:N.length===0?o.jsx("div",{className:"text-gray-600",children:"No teams received a bye."}):o.jsx("ul",{className:"list-disc pl-6",children:N.map(O=>o.jsx("li",{children:O},O))})}),o.jsx("div",{className:"flex justify-end pt-2",children:o.jsx(ne,{onClick:()=>S(!1),children:"OK"})})]})})]})},W_=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:De("w-full caption-bottom text-sm",e),...t})}));W_.displayName="Table";const V_=m.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:De("[&_tr]:border-b",e),...t}));V_.displayName="TableHeader";const H_=m.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:De("[&_tr:last-child]:border-0",e),...t}));H_.displayName="TableBody";const p5=m.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:De("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));p5.displayName="TableFooter";const po=m.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:De("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));po.displayName="TableRow";const $r=m.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:De("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));$r.displayName="TableHead";const tn=m.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:De("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));tn.displayName="TableCell";const m5=m.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:De("mt-4 text-sm text-muted-foreground",e),...t}));m5.displayName="TableCaption";const ft=(e,t,r)=>`${e}_${t}_${r}`,g5=({tournamentId:e})=>{const{tournaments:t,teams:r,schedules:n,games:s,clearTournamentResults:a,submitGame:i,scoreSubmissions:l,resetAllTournamentData:c,setGames:u,setScoreSubmissions:d,tournamentResults:f,setTournamentResults:h,refreshGamesFromSupabase:p}=_t(),[v,g]=m.useState(e||"1"),b=e||v,[y,x]=m.useState(!0),[w,S]=m.useState({}),[N,j]=m.useState(0);J.useEffect(()=>{const k=setInterval(()=>{p()},2e3);return()=>clearInterval(k)},[p]),m.useEffect(()=>{const k=localStorage.getItem("resultsOverrides");k&&S(JSON.parse(k))},[]),m.useEffect(()=>{localStorage.setItem("resultsOverrides",JSON.stringify(w))},[w]),m.useEffect(()=>{j(k=>k+1)},[s,l]);const _=t.find(k=>k.id===b),E=n.find(k=>k.tournamentId===b),B=m.useMemo(()=>E?Array.from(new Set(E.matches.flatMap(C=>[String(C.teamA),String(C.teamB)]).filter(C=>C!=="BYE"&&C!=="TBD"))).map(C=>r.find(L=>String(L.id)===C)).filter(C=>!!C):[],[E,r]),I=E?E.rounds:5;m.useEffect(()=>{E&&S(k=>{let C=!1;const L={...k};return B.forEach(K=>{for(let R=1;R<=I;R++){const O=E.matches.find(V=>{const oe=typeof V.teamA=="object"&&V.teamA&&"id"in V.teamA?String(V.teamA.id):String(V.teamA),q=typeof V.teamB=="object"&&V.teamB&&"id"in V.teamB?String(V.teamB.id):String(V.teamB);return V.round===R&&(oe===String(K.id)||q===String(K.id))});if(!O)continue;const W=[O.teamA,O.teamB].map(V=>V==null?"":typeof V=="object"&&V&&"id"in V&&V.id!=null?String(V.id):String(V)).filter(Boolean).sort();s.find(V=>{if(!V.confirmed||V.round!==O.round)return!1;const oe=typeof V.teamA=="object"?V.teamA.id:V.teamA,q=typeof V.teamB=="object"?V.teamB.id:V.teamB,se=[String(oe),String(q)].sort();return W[0]===se[0]&&W[1]===se[1]})&&[ft(K.id,R,"wl"),ft(K.id,R,"points"),ft(K.id,R,"boston")].forEach(oe=>{oe in L&&(delete L[oe],C=!0)})}}),C?L:k})},[s,E,B,I]);const{sortedTeams:F,resultsMatrix:A}=_c(r,s,E,w,I),G=()=>{if(!B.length)return;const k={};B.forEach(C=>{for(let L=1;L<=I;L++)k[ft(String(C.id),L,"wl")]="",k[ft(String(C.id),L,"points")]="0",k[ft(String(C.id),L,"boston")]="0";k[ft(String(C.id),"total","wins")]="0",k[ft(String(C.id),"total","points")]="0",k[ft(String(C.id),"total","bostons")]="0"}),S(k);try{const C=E?E.matches.map(W=>W.id):[];let L=JSON.parse(localStorage.getItem("games")||"[]");L=L.filter(W=>!(!W.matchId||!C.includes(W.matchId))),localStorage.setItem("games",JSON.stringify(L)),typeof u=="function"&&u(L);let K=JSON.parse(localStorage.getItem("scoreSubmissions")||"[]");K=K.filter(W=>!(!W.matchId||!C.includes(W.matchId))),localStorage.setItem("scoreSubmissions",JSON.stringify(K)),typeof d=="function"&&d(K),localStorage.setItem("resultsOverrides",JSON.stringify(k));const R=localStorage.getItem("tournamentResults");let O=R?JSON.parse(R):{};typeof O=="object"&&O!==null?(delete O[b],localStorage.setItem("tournamentResults",JSON.stringify(O)),typeof h=="function"&&h(O)):console.warn("tournamentResults was not an object:",O)}catch(C){console.error("Error resetting localStorage:",C),window.alert("Error during reset: "+C.message);return}typeof a=="function"&&a(b),window.alert("Table display and results for this tournament have been reset. Teams remain.")};return o.jsxs(He,{children:[o.jsxs(qe,{children:[o.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(Wn,{className:"h-5 w-5"}),((_==null?void 0:_.name)||"Tournament")+" - Results"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xs font-bold",onClick:()=>{window.confirm("Are you sure you want to reset ALL tournament data? This will clear all games, schedules, results, brackets, and start fresh with preloaded teams.")&&(typeof c=="function"&&c(b),window.alert("All tournament data except teams has been reset."))},children:"Reset ALL Tournament Data"}),o.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-xs font-bold",onClick:G,children:"Reset Table Display Only"}),o.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-xs font-bold",onClick:()=>{x(k=>!k)},children:"Sort"}),o.jsx("button",{className:"px-3 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 text-xs font-bold",onClick:()=>{if(!E||B.length<2)return;const k=E.matches.find(K=>K.round===1&&K.teamA!=="BYE"&&K.teamB!=="BYE");if(!k)return;const C=r.find(K=>K.id===k.teamA),L=r.find(K=>K.id===k.teamB);!C||!L||(S(K=>{const R=[ft(C.id,1,"wl"),ft(C.id,1,"points"),ft(C.id,1,"boston"),ft(L.id,1,"wl"),ft(L.id,1,"points"),ft(L.id,1,"boston")],O={...K};return R.forEach(W=>{delete O[W]}),O}),i({matchId:k.id,teamA:C,teamB:L,scoreA:50,scoreB:40,boston:"",submittedBy:C.id,round:1}),i({matchId:k.id,teamA:C,teamB:L,scoreA:50,scoreB:40,boston:"",submittedBy:L.id,round:1}),window.alert(`Simulated: ${C.name} (Team #${C.teamNumber}) vs ${L.name} (Team #${L.teamNumber}) in Round 1. Score: 50-40`))},children:"Simulate Confirm Round 1 (2 Teams)"})]})]}),!_&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"text-sm font-medium",children:"Select Tournament:"}),o.jsxs("select",{className:"w-full mt-1 p-2 border rounded",value:v,onChange:k=>g(k.target.value),children:[o.jsx("option",{value:"",children:"Choose a tournament..."}),t.map(k=>o.jsx("option",{value:k.id,children:k.name},k.id))]})]})]}),o.jsx(Ge,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(W_,{children:[o.jsxs(V_,{children:[o.jsxs(po,{children:[o.jsxs($r,{rowSpan:2,className:"bg-yellow-200 border border-gray-400 text-center align-middle",children:["TEAM",o.jsx("br",{}),"#"]}),Array.from({length:I},(k,C)=>o.jsxs($r,{colSpan:4,className:`text-center border border-gray-400 ${C%2===0?"bg-pink-200":"bg-green-200"}`,children:["Round ",C+1]},C)),o.jsx($r,{colSpan:3,className:"bg-blue-200 border border-gray-400 text-center align-middle",children:"TOTALS"})]}),o.jsxs(po,{children:[Array.from({length:I},(k,C)=>o.jsxs(J.Fragment,{children:[o.jsxs($r,{className:`text-center text-xs border border-gray-400 ${C%2===0?"bg-pink-200":"bg-green-200"}`,children:["Game",o.jsx("br",{}),"Win=W",o.jsx("br",{}),"Loss=L"]}),o.jsx($r,{className:`text-center text-xs border border-gray-400 ${C%2===0?"bg-pink-200":"bg-green-200"}`,children:"Points"}),o.jsx($r,{className:`text-center text-xs border border-gray-400 ${C%2===0?"bg-pink-200":"bg-green-200"}`,children:"Hands Won"}),o.jsx($r,{className:`text-center text-xs border border-gray-400 ${C%2===0?"bg-pink-200":"bg-green-200"}`,children:"Boston"})]},C)),o.jsx($r,{className:"text-center text-xs border border-gray-400 bg-blue-200",children:"Wins"}),o.jsx($r,{className:"text-center text-xs border border-gray-400 bg-blue-200",children:"Points"}),o.jsx($r,{className:"text-center text-xs border border-gray-400 bg-blue-200",children:"Hands"}),o.jsx($r,{className:"text-center text-xs border border-gray-400 bg-blue-200",children:"Bostons"})]})]}),o.jsx(H_,{children:B.length===0?o.jsx(po,{children:o.jsxs(tn,{colSpan:1+I*4+3,className:"text-center text-gray-500 py-8",children:["No results yet. ",!_||!E?"Set up a tournament and schedule to begin.":""]})}):F.map(k=>{const C=String(k.id),L=k.teamNumber?`Team # ${k.teamNumber}`:`Team # ${k.id}`,K=k.name||"";return o.jsxs(po,{children:[o.jsx(tn,{className:"font-medium border border-gray-400 bg-yellow-100",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(Te,{variant:"outline",className:"mb-1",children:L}),o.jsx("span",{className:"text-sm",children:K})]})}),Array.from({length:I},(R,O)=>{const W=O+1,Z=A[C][W]||{wl:"",points:0,hands:0,boston:0};return o.jsxs(J.Fragment,{children:[o.jsx(tn,{className:"text-center border border-gray-400 p-0",children:o.jsx("input",{className:"w-10 text-center bg-transparent outline-none",value:w[ft(C,W,"wl")]??Z.wl,onChange:V=>{const oe=V.target.value;S(q=>{const se=ft(C,W,"wl");if(oe===""){const{[se]:je,...T}=q;return T}return{...q,[se]:oe}})}})}),o.jsx(tn,{className:"text-center border border-gray-400 p-0",children:o.jsx("input",{type:"number",className:"w-14 text-center bg-transparent outline-none",value:w[ft(C,W,"points")]??Z.points,onChange:V=>{const oe=V.target.value;S(q=>{const se=ft(C,W,"points");if(oe===""){const{[se]:je,...T}=q;return T}return{...q,[se]:oe}})}})}),o.jsx(tn,{className:"text-center border border-gray-400 p-0",children:o.jsx("input",{type:"number",className:"w-12 text-center bg-transparent outline-none",value:w[ft(C,W,"hands")]??Z.hands,onChange:V=>{const oe=V.target.value;S(q=>{const se=ft(C,W,"hands");if(oe===""){const{[se]:je,...T}=q;return T}return{...q,[se]:oe}})}})}),o.jsx(tn,{className:"text-center border border-gray-400 p-0",children:o.jsx("input",{type:"number",className:"w-10 text-center bg-transparent outline-none",value:w[ft(C,W,"boston")]??Z.boston,onChange:V=>{const oe=V.target.value;S(q=>{const se=ft(C,W,"boston");if(oe===""){const{[se]:je,...T}=q;return T}return{...q,[se]:oe}})}})})]},W)}),o.jsx(tn,{className:"text-center border border-gray-400 bg-blue-100 font-medium p-0",children:o.jsx("input",{type:"number",className:"w-12 text-center bg-transparent outline-none font-bold",value:A[C].totalPoints.wins??0,readOnly:!0})}),o.jsx(tn,{className:"text-center border border-gray-400 bg-blue-100 font-medium p-0",children:o.jsx("input",{type:"number",className:"w-16 text-center bg-transparent outline-none font-bold",value:Array.from({length:I},(R,O)=>{var V;const W=O+1,Z=w[ft(C,W,"points")];return Z!==void 0?Number(Z):((V=A[C][W])==null?void 0:V.points)||0}).reduce((R,O)=>R+O,0),readOnly:!0})}),o.jsx(tn,{className:"text-center border border-gray-400 bg-blue-100 font-medium p-0",children:o.jsx("input",{type:"number",className:"w-12 text-center bg-transparent outline-none font-bold",value:Array.from({length:I},(R,O)=>{var Z;const W=O+1;return((Z=A[C][W])==null?void 0:Z.hands)||0}).reduce((R,O)=>R+O,0),readOnly:!0})}),o.jsx(tn,{className:"text-center border border-gray-400 bg-blue-100 font-medium p-0",children:o.jsx("input",{type:"number",className:"w-12 text-center bg-transparent outline-none font-bold",value:Array.from({length:I},(R,O)=>{var V;const W=O+1,Z=w[ft(C,W,"boston")];return Z!==void 0?Number(Z):((V=A[C][W])==null?void 0:V.boston)||0}).reduce((R,O)=>R+O,0),readOnly:!0})})]},k.id)})})]})})})]})},v5=J.lazy(()=>Ue(()=>import("./ExportResultsButton-DHGza6Le.js"),[])),y5=()=>{const{games:e,teams:t,getTournamentResults:r,tournaments:n,getActiveTournament:s,refreshGamesFromSupabase:a}=_t();J.useEffect(()=>{const f=setInterval(()=>{a()},1500);return()=>clearInterval(f)},[a]);const i=s(),l=J.useMemo(()=>i?r(i.id):[],[i,r]),c=i,u=i?e.filter(f=>f.confirmed&&f.matchId&&(n&&n.length,l.some(h=>h.teamId===f.teamA.id||h.teamId===f.teamB.id))).sort((f,h)=>new Date(h.timestamp).getTime()-new Date(f.timestamp).getTime()):[],d=f=>{const h=t.find(x=>x.id===f.teamA)||{id:f.teamA},p=t.find(x=>x.id===f.teamB)||{id:f.teamB},v=f.winner==="teamA"?h:p,g=f.winner==="teamA"?p:h,b=f.winner==="teamA"?f.scoreA:f.scoreB,y=f.winner==="teamA"?f.scoreB:f.scoreA;return{winner:v,loser:g,winnerScore:b,loserScore:y,round:f.round,boston:f.boston,timestamp:f.timestamp}};return i?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[o.jsxs("span",{className:"text-2xl font-bold flex items-center gap-2",children:[o.jsx(Wn,{className:"h-6 w-6 text-yellow-500"}),(c==null?void 0:c.name)||"Tournament"]}),o.jsx("div",{children:i&&o.jsx(J.Suspense,{fallback:o.jsx("span",{children:"Loading..."}),children:o.jsx(v5,{tournamentId:i.id})})})]}),o.jsx(g5,{tournamentId:i.id})]}),o.jsxs(He,{children:[o.jsxs(qe,{children:[o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(bP,{className:"h-5 w-5"}),"Game Results - ",(c==null?void 0:c.name)||"Tournament"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.length," completed game",u.length!==1?"s":""]})]}),o.jsx(Ge,{children:u.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(Wn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{className:"font-medium",children:"No completed games yet"}),o.jsx("p",{className:"text-sm",children:"Games will appear here after both teams confirm scores"})]}):o.jsx("div",{className:"space-y-4",children:u.map(f=>{const h=d(f);return o.jsx("div",{className:"p-4 rounded-lg border bg-gradient-to-r from-gray-50 to-white hover:from-gray-100 hover:to-gray-50 transition-all duration-200",children:o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Te,{variant:"outline",className:"font-medium px-3 py-1",children:["Round ",h.round]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wn,{className:"h-4 w-4 text-yellow-500"}),o.jsxs("span",{className:"font-semibold text-green-700",children:["Team # ",h.winner.teamNumber??h.winner.id]}),o.jsxs("span",{className:"font-bold text-lg mx-2",children:[h.winnerScore," - ",h.loserScore]}),o.jsxs("span",{className:"font-medium text-red-600",children:["Team # ",h.loser.teamNumber??h.loser.id]})]}),f.boston!=="none"&&o.jsxs(Te,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[o.jsx(bm,{className:"h-3 w-3 mr-1"}),"Boston"]})]}),o.jsxs("div",{className:"text-xs text-gray-500 text-right",children:[o.jsx("div",{children:new Date(h.timestamp).toLocaleDateString()}),o.jsx("div",{children:new Date(h.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},f.id)})})})]})]}):o.jsx("div",{className:"space-y-6",children:o.jsxs(He,{children:[o.jsx(qe,{children:o.jsx(Qe,{children:"No Active Tournament"})}),o.jsx(Ge,{children:o.jsx("p",{className:"text-gray-600 text-center",children:"Please select an active tournament to view results."})})]})})},x5=({size:e,matches:t,teams:r,onScoreUpdate:n,onAdvanceWinner:s})=>{const a=Math.log2(e),i=u=>u===a?"Final":u===a-1?"Semi-Final":u===a-2?"Quarter-Final":`Round ${u}`,l=(u,d,f)=>{const h=f/Math.pow(2,u),p=f/Math.pow(2,u+1);let v=`Table ${d}`;if(u===1)v+=` (Seed ${d} home table)`;else if(u>1&&h>p)if(d<=p)v+=" (Winners stay)";else{const g=d-p;v+=` (Winner moves to Table ${g})`}return v},c=u=>{const d=t.find(f=>f.id===u);!d||!d.team1||!d.team2||s(u)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-center",children:[e," Team Elimination Bracket"]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"text-sm text-gray-600 p-3 bg-blue-50 rounded-lg",children:[o.jsx("strong",{children:"Table Assignment Rules:"}),o.jsxs("ul",{className:"mt-2 space-y-1",children:[o.jsx("li",{children:" Round 1: Table number = Lower seed number (Seed #1 plays at Table #1)"}),o.jsx("li",{children:" Later rounds: Winners from higher tables move to join winners at lower tables"}),o.jsx("li",{children:" Example: Table 1 winner plays Table 8 winner at Table 1"})]})]})}),o.jsx("div",{className:"grid gap-6",children:Array.from({length:a},(u,d)=>{const f=d+1,h=t.filter(p=>p.round===f).sort((p,v)=>p.table-v.table);return o.jsxs(He,{className:"w-full",children:[o.jsx(qe,{children:o.jsxs(Qe,{className:"text-center",children:[i(f)," - ",h.length," Tables"]})}),o.jsx(Ge,{children:o.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${Math.max(1,Math.min(4,h.length))}, 1fr)`},children:h.map(p=>o.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[o.jsx("div",{className:"text-center font-medium text-sm text-blue-600",children:l(p.round,p.table,e)}),o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[p.team1&&o.jsxs(o.Fragment,{children:[o.jsxs(Te,{variant:"outline",children:["#",p.team1.seed]}),o.jsxs("span",{className:"text-sm font-medium",children:[p.team1.teamName,(()=>{const v=p.team1.teamNumber??p.team1.teamId;return v?o.jsxs("span",{className:"text-xs text-gray-500",children:[" (Team # ",v,")"]}):null})()]})]}),!p.team1&&o.jsx("span",{className:"text-sm text-gray-500",children:"TBD"})]}),p.team1&&o.jsx(ye,{type:"number",className:"w-16 h-8 text-center",value:p.team1Score||"",onChange:v=>{const g=parseInt(v.target.value)||0;n(p.id,g,p.team2Score||0)},min:"0"})]}),o.jsx("div",{className:"text-center text-xs text-gray-500",children:"vs"}),o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[p.team2&&o.jsxs(o.Fragment,{children:[o.jsxs(Te,{variant:"outline",children:["#",p.team2.seed]}),o.jsxs("span",{className:"text-sm font-medium",children:[p.team2.teamName,(()=>{const v=p.team2.teamNumber??p.team2.teamId;return v?o.jsxs("span",{className:"text-xs text-gray-500",children:[" (Team # ",v,")"]}):null})()]})]}),!p.team2&&o.jsx("span",{className:"text-sm text-gray-500",children:"TBD"})]}),p.team2&&o.jsx(ye,{type:"number",className:"w-16 h-8 text-center",value:p.team2Score||"",onChange:v=>{const g=parseInt(v.target.value)||0;n(p.id,p.team1Score||0,g)},min:"0"})]}),p.team1&&p.team2&&typeof p.team1Score=="number"&&typeof p.team2Score=="number"&&o.jsx(ne,{size:"sm",className:"w-full",onClick:()=>c(p.id),disabled:p.winner!==void 0,children:p.winner?`Winner: ${p.winner.teamName}`:"Advance Winner"}),p.winner&&o.jsx("div",{className:"text-center p-2 bg-green-100 rounded",children:o.jsxs(Te,{className:"bg-green-600",children:["Winner: #",p.winner.seed," ",p.winner.teamName,(()=>{const v=p.winner.teamNumber??p.winner.teamId;return v?` (Team # ${v})`:""})()]})})]},p.id))})})]},f)})})]})},b5=()=>{const{tournaments:e,getTournamentResults:t,saveBracket:r,getBracket:n,updateBracket:s,deleteBracket:a,teams:i,schedules:l,games:c,getActiveTournament:u}=_t(),[d,f]=m.useState(()=>{const C=u();return(C==null?void 0:C.id)||"1"}),[h,p]=m.useState(null),[v,g]=m.useState(!1),[b,y]=m.useState(!1),[x,w]=m.useState(!1),[S,N]=m.useState([]),[j,_]=m.useState({});m.useEffect(()=>{const C=localStorage.getItem("resultsOverrides");C&&_(JSON.parse(C))},[]),m.useEffect(()=>{const C=n(d);p(C)},[d,n]);const E=C=>{const L=l.find(V=>V.tournamentId===d),K=L?L.rounds:5,{sortedTeams:R}=_c(i,c,L,j,K),O=R.slice(0,C).map((V,oe)=>({seed:oe+1,teamId:V.id,teamName:V.name,teamNumber:V.teamNumber})),W=B(C,O),Z={id:`bracket-${Date.now()}`,tournamentId:d,size:C,teams:O,matches:W,createdAt:new Date};p(Z),r(Z),N(O.slice(0,5)),g(!1),w(!0)},B=(C,L)=>{const K=[];let R=1;I(C).forEach(Z=>{const V=L.find(se=>se.seed===Z[0]),oe=L.find(se=>se.seed===Z[1]),q=Math.min(Z[0],Z[1]);K.push({id:`match-${R++}`,round:1,table:q,team1:V,team2:oe})});const W=Math.log2(C);for(let Z=2;Z<=W;Z++){const V=C/Math.pow(2,Z);for(let oe=0;oe<V;oe++)K.push({id:`match-${R++}`,round:Z,table:oe+1})}return K},I=C=>{switch(C){case 4:return[[1,4],[2,3]];case 8:return[[1,8],[4,5],[2,7],[3,6]];case 16:return[[1,16],[8,9],[4,13],[5,12],[2,15],[7,10],[3,14],[6,11]];case 32:return[[1,32],[16,17],[8,25],[9,24],[4,29],[13,20],[5,28],[12,21],[2,31],[15,18],[7,26],[10,23],[3,30],[14,19],[6,27],[11,22]];default:return[]}},F=(C,L,K)=>{if(!h)return;const R=h.matches.map(W=>W.id===C?{...W,team1Score:L,team2Score:K}:W),O={...h,matches:R};p(O),s(d,{matches:R})},A=C=>{if(!h)return;const L=h.matches.find(V=>V.id===C);if(!L||!L.team1||!L.team2)return;const K=(L.team1Score||0)>(L.team2Score||0)?L.team1:L.team2,R=h.matches.map(V=>V.id===C?{...V,winner:K}:V),O=G(L.table,L.round,h.size),Z=h.matches.filter(V=>V.round===L.round+1).find(V=>V.table===O);if(Z){const V=R.map(q=>{if(q.id===Z.id)if(q.team1){if(!q.team2)return{...q,team2:{...K,seed:K.seed}}}else return{...q,team1:{...K,seed:K.seed}};return q}),oe={...h,matches:V};p(oe),s(d,{matches:V})}else{const V={...h,matches:R};p(V),s(d,{matches:R})}},G=(C,L,K)=>{const R=K/Math.pow(2,L+1);return C<=R?C:R+1-(C-R)},k=()=>{a(d),p(null),y(!1)};return o.jsxs(He,{children:[o.jsx(qe,{children:o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(Sm,{className:"h-5 w-5"}),"Tournament Bracket Generator"]})}),o.jsx(Ge,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Universal Bracket Rule:"}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[o.jsx("li",{children:" Lowest table number always plays highest table number at lowest table"}),o.jsx("li",{children:" 16 tables: 1v16@1, 2v15@2, 3v14@3, 4v13@4..."}),o.jsx("li",{children:" 8 tables: 1v8@1, 2v7@2, 3v6@3, 4v5@4"}),o.jsx("li",{children:" 4 tables: 1v4@1, 2v3@2"}),o.jsx("li",{children:" Finals: Winner 1 vs Winner 2"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Select Tournament:"}),o.jsx("select",{className:"w-full mt-1 p-2 border rounded",value:d,onChange:C=>f(C.target.value),children:e.map(C=>o.jsx("option",{value:C.id,children:C.name},C.id))})]}),o.jsxs("div",{className:"flex gap-2",children:[!h&&o.jsxs(Er,{open:v,onOpenChange:g,children:[o.jsx(ti,{asChild:!0,children:o.jsx(ne,{onClick:()=>g(!0),children:"Create Bracket"})}),o.jsxs(hr,{children:[o.jsx(pr,{children:o.jsx(mr,{children:"Select Bracket Size"})}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 p-2",children:[o.jsxs("div",{className:"flex-1 border rounded p-2 bg-gray-50",children:[o.jsx("h4",{className:"font-semibold mb-2 text-blue-700",children:"Tournament Results Order"}),o.jsx("ol",{className:"list-decimal pl-4",children:(()=>{const C=l.find(R=>R.tournamentId===d),L=C?C.rounds:5,{sortedTeams:K}=_c(i,c,C,j,L);return K.map((R,O)=>o.jsxs("li",{className:"mb-1",children:[o.jsxs(Te,{variant:"outline",children:["#",O+1]})," ",o.jsx("span",{className:"font-medium",children:R.name})," ",o.jsxs("span",{className:"text-xs text-gray-500",children:["(Team # ",R.teamNumber??R.id,")"]})]},R.id))})()})]}),o.jsxs("div",{className:"flex-1 border rounded p-2 bg-gray-50",children:[o.jsx("h4",{className:"font-semibold mb-2 text-green-700",children:"Bracket Seeding Order (Preview)"}),o.jsx("ol",{className:"list-decimal pl-4",children:(()=>{const C=l.find(R=>R.tournamentId===d),L=C?C.rounds:5,{sortedTeams:K}=_c(i,c,C,j,L);return K.map((R,O)=>o.jsxs("li",{className:"mb-1",children:[o.jsxs(Te,{variant:"outline",children:["#",O+1]})," ",o.jsx("span",{className:"font-medium",children:R.name})," ",o.jsxs("span",{className:"text-xs text-gray-500",children:["(Team # ",R.teamNumber??R.id,")"]})]},R.id))})()})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4",children:[o.jsx(ne,{onClick:()=>E(32),variant:"outline",children:"32 Team Bracket"}),o.jsx(ne,{onClick:()=>E(16),variant:"outline",children:"16 Team Bracket"}),o.jsx(ne,{onClick:()=>E(8),variant:"outline",children:"8 Team Bracket"}),o.jsx(ne,{onClick:()=>E(4),variant:"outline",children:"4 Team Bracket"})]})]})]}),h&&o.jsxs(Er,{open:b,onOpenChange:y,children:[o.jsx(ti,{asChild:!0,children:o.jsxs(ne,{variant:"destructive",className:"flex items-center gap-2",children:[o.jsx(ru,{className:"h-4 w-4"}),"Restart Bracket"]})}),o.jsxs(hr,{children:[o.jsx(pr,{children:o.jsx(mr,{children:"Restart Bracket?"})}),o.jsxs("div",{className:"p-4",children:[o.jsx("p",{className:"mb-4",children:"Are you sure you want to restart the bracket? This will delete all current progress and cannot be undone."}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(ne,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),o.jsx(ne,{variant:"destructive",onClick:k,children:"Yes, Restart"})]})]})]})]})]}),h&&o.jsxs(o.Fragment,{children:[o.jsx(x5,{size:h.size,matches:h.matches,teams:h.teams,onScoreUpdate:F,onAdvanceWinner:A}),o.jsx(Er,{open:x,onOpenChange:w,children:o.jsxs(hr,{children:[o.jsx(pr,{children:o.jsx(mr,{children:"Top 5 Seeds"})}),o.jsxs("div",{className:"space-y-2",children:[S.length===0&&o.jsx("div",{className:"text-red-600 font-semibold",children:"No teams could be seeded. Please check that your tournament has a valid schedule and teams."}),S.map((C,L)=>{const K=C.teamNumber??C.teamId;return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Te,{variant:"outline",children:["#",C.seed]}),o.jsx("span",{className:"font-medium",children:C.teamName}),K&&o.jsxs("span",{className:"text-xs text-gray-500",children:["(Team # ",K,")"]})]},C.teamId)})]}),o.jsx("div",{className:"flex justify-end pt-2",children:o.jsx(ne,{onClick:()=>w(!1),children:"OK"})})]})})]})]})})]})},w5=()=>{const[e,t]=m.useState(0),[r,n]=m.useState(1),s=r>0?e/r:0,{tournaments:a,teams:i}=_t(),[l,c]=m.useState(""),[u,d]=m.useState(0),[f,h]=m.useState(0),[p,v]=m.useState(30),[g,b]=m.useState(50),[y,x]=m.useState(25),[w,S]=m.useState(15),[N,j]=m.useState(10);m.useEffect(()=>{if(l){const k=a.find(C=>C.id===l);if(k){let C=0,L=0;i.forEach(R=>{var O,W,Z,V;if((O=R.registeredTournaments)!=null&&O.includes(l)){const oe=k.cost,q=(W=R.bostonPotTournaments)!=null&&W.includes(l)?k.bostonPotCost:0,se=oe+q;((Z=R.player1TournamentPayments)==null?void 0:Z[l])||!1?C+=se/2:L+=se/2,((V=R.player2TournamentPayments)==null?void 0:V[l])||!1?C+=se/2:L+=se/2}});const K=i.reduce((R,O)=>{var W;return(W=O.bostonPotTournaments)!=null&&W.includes(l)?R+(k.bostonPotCost||0):R},0);d(C),h(L),t(K)}}else d(0),h(0),t(0)},[l,a,i]);const _=u+f,E=_*p/100,B=_-E,I=B*g/100,F=B*y/100,A=B*w/100,G=B*N/100;return o.jsxs("div",{className:"space-y-6",children:[o.jsx(He,{className:"mb-4",children:o.jsx(Ge,{children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(ge,{htmlFor:"tournamentSelect",children:"Select Tournament"}),o.jsxs(jr,{value:l,onValueChange:c,children:[o.jsx(dr,{id:"tournamentSelect",className:"w-64",children:o.jsx(Nr,{placeholder:"Choose a tournament"})}),o.jsx(fr,{children:a.map(k=>o.jsx(ot,{value:k.id,children:k.name},k.id))})]})]})})}),o.jsxs(He,{children:[o.jsx(qe,{children:o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(qo,{className:"h-5 w-5"}),"Tournament Finance Manager"]})}),o.jsx(Ge,{className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx(ge,{children:"Money Collected ($)"}),o.jsxs("div",{className:"p-2 bg-green-100 rounded border font-semibold text-green-700",children:["$",u.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx(ge,{children:"Money Owed ($)"}),o.jsxs("div",{className:"p-2 bg-red-100 rounded border font-semibold text-red-700",children:["$",f.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx(ge,{children:"Total Expected ($)"}),o.jsxs("div",{className:"p-2 bg-blue-100 rounded border font-semibold text-blue-700",children:["$",_.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"bostonPotCollected",children:"Boston Pot Collected ($)"}),o.jsxs("div",{className:"p-2 bg-yellow-100 rounded border font-semibold text-yellow-700",children:["$",e.toFixed(2)]})]})]})})]}),o.jsxs(He,{children:[o.jsx(qe,{children:o.jsxs(Qe,{className:"flex items-center gap-2",children:[o.jsx(TP,{className:"h-5 w-5"}),"Payout Distribution"]})}),o.jsxs(Ge,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ge,{htmlFor:"clubShare",className:"min-w-0 flex-1",children:"Club Share (%)"}),o.jsx(ye,{id:"clubShare",type:"number",value:p,onChange:k=>v(Number(k.target.value)),className:"w-20"}),o.jsxs("div",{className:"font-semibold text-green-600 min-w-0",children:["$",E.toFixed(2)]})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"font-semibold",children:["Prize Pool: $",B.toFixed(2)]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ge,{htmlFor:"first",className:"min-w-0 flex-1",children:"1st Place (%)"}),o.jsx(ye,{id:"first",type:"number",value:g,onChange:k=>b(Number(k.target.value)),className:"w-20"}),o.jsxs("div",{className:"font-semibold text-yellow-600 min-w-0",children:["$",I.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ge,{htmlFor:"second",className:"min-w-0 flex-1",children:"2nd Place (%)"}),o.jsx(ye,{id:"second",type:"number",value:y,onChange:k=>x(Number(k.target.value)),className:"w-20"}),o.jsxs("div",{className:"font-semibold text-gray-600 min-w-0",children:["$",F.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ge,{htmlFor:"third",className:"min-w-0 flex-1",children:"3rd Place (%)"}),o.jsx(ye,{id:"third",type:"number",value:w,onChange:k=>S(Number(k.target.value)),className:"w-20"}),o.jsxs("div",{className:"font-semibold text-orange-600 min-w-0",children:["$",A.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ge,{htmlFor:"fourth",className:"min-w-0 flex-1",children:"4th Place (%)"}),o.jsx(ye,{id:"fourth",type:"number",value:N,onChange:k=>j(Number(k.target.value)),className:"w-20"}),o.jsxs("div",{className:"font-semibold text-blue-600 min-w-0",children:["$",G.toFixed(2)]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 font-semibold mt-4",children:[o.jsxs("div",{children:["Boston Pot Split per Team: ",o.jsxs("span",{className:"text-green-700",children:["$",s.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ge,{htmlFor:"bostonWinners",children:"Number of Boston Winners"}),o.jsx(ye,{id:"bostonWinners",type:"number",min:1,value:r,onChange:k=>n(Number(k.target.value)),placeholder:"Enter number of winning teams",className:"w-32"})]})]})]})]})]})]})},S5=({player:e,isOpen:t,onClose:r,onSave:n})=>{console.log("PlayerEditor mounted. Props:",{player:e,isOpen:t});const[s,a]=m.useState({firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||"",city:e.city||""});J.useEffect(()=>{a({firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||"",city:e.city||""})},[e]);const i=()=>{n({...e,...s}),r()};return o.jsx(Er,{open:t,onOpenChange:r,children:o.jsxs(hr,{className:"sm:max-w-md",children:[o.jsx(pr,{children:o.jsx(mr,{children:"Edit Player"})}),o.jsxs("div",{style:{color:"red",fontWeight:"bold"},children:["[DEBUG] PlayerEditor rendered. Player: ",e&&e.playerId?e.playerId:"no id"," | ",e&&e.firstName?e.firstName:"no fname"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ge,{children:"First Name"}),o.jsx(ye,{value:s.firstName,onChange:l=>a(c=>({...c,firstName:l.target.value}))})]}),o.jsxs("div",{children:[o.jsx(ge,{children:"Last Name"}),o.jsx(ye,{value:s.lastName,onChange:l=>a(c=>({...c,lastName:l.target.value}))})]}),o.jsxs("div",{children:[o.jsx(ge,{children:"Phone"}),o.jsx(ye,{value:s.phone,onChange:l=>a(c=>({...c,phone:l.target.value}))})]}),o.jsxs("div",{children:[o.jsx(ge,{children:"City"}),o.jsx(ye,{value:s.city,onChange:l=>a(c=>({...c,city:l.target.value}))})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ne,{variant:"outline",onClick:r,children:"Cancel"}),o.jsx(ne,{onClick:i,children:"Save"})]})]})]})})},j5=()=>{var g,b,y,x,w,S,N;const{teams:e,tournaments:t,updateTeam:r}=_t(),[n,s]=m.useState(""),[a,i]=m.useState(null),[l,c]=m.useState(!1),[u,d]=m.useState(!1);J.useEffect(()=>{a&&(console.log("Selected Player:",a),console.log("PlayerEditor props:",{firstName:a.firstName,lastName:a.lastName,phone:a.phone,city:a.city,team:a.team,role:a.role}))},[a]);const h=m.useMemo(()=>{const j=[];return e.forEach(_=>{["player1","player2"].forEach(E=>{const B=_[E+"FirstName"]||_[E+"_first_name"]||"",I=_[E+"LastName"]||_[E+"_last_name"]||"",F=_[E+"Phone"]||_.phoneNumber||_.phone_number||"",A=_.city||"",G=`${B}|${I}|${F}`,k=E==="player1"?(_.player2FirstName||_.player2_first_name||"")+" "+(_.player2LastName||_.player2_last_name||""):(_.player1FirstName||_.player1_first_name||"")+" "+(_.player1LastName||_.player1_last_name||"");j.push({playerId:G,firstName:B,lastName:I,phone:F,city:A,team:_,role:E,tournaments:_.registeredTournaments||[],payments:_[E+"TournamentPayments"]||{},partner:k,teamName:_.name,teamNumber:_.id})})}),j},[e]).filter(j=>{const _=n.toLowerCase();return(j.firstName||"").toLowerCase().includes(_)||(j.lastName||"").toLowerCase().includes(_)||(j.phone||"").toLowerCase().includes(_)||(j.city||"").toLowerCase().includes(_)}),p=(j,_,E)=>{const B={...j.team};B[j.role+"TournamentPayments"]||(B[j.role+"TournamentPayments"]={}),B[j.role+"TournamentPayments"][_]=E,r(B),i({...j,payments:{...j.payments,[_]:E}})},v=j=>{const _={...a.team};a.role==="player1"?(_.player1FirstName=j.firstName,_.player1LastName=j.lastName,_.phoneNumber=j.phone,_.city=j.city):(_.player2FirstName=j.firstName,_.player2LastName=j.lastName,_.phoneNumber=j.phone,_.city=j.city),r(_),i({...a,...j})};return o.jsxs(He,{className:"mt-6",children:[o.jsx(qe,{children:o.jsx(Qe,{children:"Player Tracking"})}),o.jsxs(Ge,{children:[o.jsx("div",{className:"mb-4",children:o.jsx(ye,{placeholder:"Search by first name, last name, phone, or city...",value:n,onChange:j=>s(j.target.value)})}),a?o.jsxs("div",{children:[o.jsx(ne,{variant:"outline",className:"mb-2",onClick:()=>i(null),children:"Back to Search"}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"font-bold text-lg",children:[a.firstName," ",a.lastName]}),o.jsx(ne,{size:"sm",variant:"outline",onClick:()=>c(!0),children:"Edit Player"}),o.jsx(ne,{size:"sm",variant:"outline",onClick:()=>{console.log("Edit Team button clicked. Team:",a==null?void 0:a.team),d(!0)},children:"Edit Team"})]}),o.jsxs("div",{children:["Phone: ",a.phone]}),o.jsxs("div",{children:["City: ",a.city]}),o.jsxs("div",{children:["Partner: ",a.partner]}),o.jsxs("div",{children:["Team: ",a.teamName," (#",a.teamNumber,")"]})]}),o.jsx(S5,{player:{...a,firstName:(a==null?void 0:a.firstName)||((g=a==null?void 0:a.team)==null?void 0:g.player1FirstName)||((b=a==null?void 0:a.team)==null?void 0:b.player1_first_name)||"",lastName:(a==null?void 0:a.lastName)||((y=a==null?void 0:a.team)==null?void 0:y.player1LastName)||((x=a==null?void 0:a.team)==null?void 0:x.player1_last_name)||"",phone:(a==null?void 0:a.phone)||((w=a==null?void 0:a.team)==null?void 0:w.phoneNumber)||((S=a==null?void 0:a.team)==null?void 0:S.phone_number)||"",city:(a==null?void 0:a.city)||((N=a==null?void 0:a.team)==null?void 0:N.city)||"",team:(a==null?void 0:a.team)||{},role:(a==null?void 0:a.role)||""},isOpen:l,onClose:()=>c(!1),onSave:v}),(a==null?void 0:a.team)&&o.jsxs(o.Fragment,{children:[console.log("TeamEditor props:",a.team),o.jsx(Xj,{team:a.team,isOpen:u,onClose:()=>d(!1),onSave:r})]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold mb-1",children:"Tournaments:"}),a.tournaments.length===0&&o.jsx("div",{className:"text-gray-500",children:"Not registered in any tournaments."}),o.jsx("ul",{className:"space-y-1",children:a.tournaments.map(j=>{const _=t.find(B=>B.id===j),E=a.payments[j];return o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{children:_?_.name:j}),E?o.jsxs(o.Fragment,{children:[o.jsx(Te,{className:"bg-green-600",children:"Paid"}),o.jsx(ne,{size:"sm",variant:"destructive",onClick:()=>p(a,j,!1),children:"Reverse"})]}):o.jsx(ne,{size:"sm",onClick:()=>p(a,j,!0),children:"Mark Paid"})]},j)})})]})]}):o.jsxs("div",{className:"space-y-2",children:[h.slice(0,30).map((j,_)=>o.jsxs("div",{className:"p-2 border rounded cursor-pointer hover:bg-gray-50",onClick:()=>i(j),children:[o.jsxs("span",{className:"font-semibold",children:[j.firstName," ",j.lastName]}),"  ",j.phone,"  ",j.city," ",o.jsxs(Te,{variant:"outline",children:["Team ",j.teamNumber,": ",j.teamName]})]},j.playerId&&j.team&&j.team.id?`${j.playerId}|${j.team.id}`:_)),h.length>30&&o.jsx("div",{className:"text-xs text-gray-400",children:"Showing first 30 results..."})]})]})]})};class N5 extends J.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught error:",t,r)}render(){return this.state.hasError?o.jsxs("div",{style:{color:"red",padding:32},children:[o.jsx("h2",{children:"Something went wrong in AppLayout."}),o.jsx("pre",{children:String(this.state.error)})]}):this.props.children}}const _5=()=>{var g,b;const{currentUser:e,getActiveTournament:t,setActiveTournament:r,tournaments:n,setTournaments:s,refreshGamesFromSupabase:a,refreshSchedules:i,refreshTeams:l}=_t(),[c,u]=m.useState(!0),[d,f]=m.useState(!1),h=async()=>{try{f(!0),await Promise.all([a(),i(),l(),(async()=>{const{supabase:y}=await Ue(async()=>{const{supabase:S}=await Promise.resolve().then(()=>et);return{supabase:S}},void 0),{data:x,error:w}=await y.from("tournaments").select("*");!w&&x&&s(x)})()]),Q({title:"Data refreshed successfully",description:"All tournament data, teams, payments, and schedules have been updated",variant:"default"})}catch(y){console.error("Error refreshing data:",y),Q({title:"Refresh failed",description:"Some data may not have been updated",variant:"destructive"})}finally{f(!1)}},p=()=>u(!1),v=y=>{r(y)};return c||!e?o.jsx(uO,{onSetupComplete:p}):o.jsx(N5,{children:o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"w-20 h-20 bg-red-200 flex items-center justify-center shadow-md",children:o.jsx("img",{src:"/BidWhist/SetPlay_Logo.png",alt:"SetPlay Logo",className:"w-20 h-20"})}),o.jsxs("div",{className:"flex-1 bg-white shadow-md sticky top-0 z-10 px-6 py-3 flex items-center justify-between",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Panel"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Manage:"}),o.jsxs("select",{className:"border border-gray-300 rounded px-3 py-1 text-sm text-gray-800 bg-white",value:((g=t())==null?void 0:g.id)||"",onChange:y=>v(y.target.value),children:[o.jsx("option",{value:"",disabled:!0,children:"Select tournament..."}),n.map(y=>o.jsx("option",{value:y.id,children:y.name},y.id))]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Active:"}),o.jsxs("select",{className:"border border-gray-300 rounded px-3 py-1 text-sm text-gray-800 bg-white",value:((b=t())==null?void 0:b.id)||"",onChange:y=>v(y.target.value),children:[o.jsx("option",{value:"",disabled:!0,children:"Select tournament..."}),n.map(y=>o.jsx("option",{value:y.id,children:y.name},y.id))]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(ne,{variant:"ghost",size:"sm",onClick:h,disabled:d,className:"text-gray-600 hover:text-red-600",children:o.jsx(ru,{className:"w-5 h-5"})}),o.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>window.open("#/portal?admin=1","_blank"),className:"text-gray-600 hover:text-red-600",children:o.jsx(Hw,{className:"w-5 h-5"})})]})]})]}),o.jsx(SN,{defaultValue:"teams",className:"w-full h-full",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"w-20 flex-shrink-0 bg-white shadow-md pt-2 h-screen",children:o.jsx(rg,{className:"flex flex-col gap-1 w-full items-center p-2 mt-64",children:[["teams",o.jsx(Vu,{size:20})],["teams-by-tournament",o.jsx(Wn,{size:20})],["team-payments",o.jsx(qo,{size:20})],["player-tracking",o.jsx(pa,{size:20})],["registration",o.jsx(li,{size:20})],["schedule",o.jsx(xP,{size:20})],["results",o.jsx(bm,{size:20})],["bracket",o.jsx(Sm,{size:20})],["finance",o.jsx(qo,{size:20})],["history",o.jsx(EP,{size:20})],["admin",o.jsx(qw,{size:20})]].map(([y,x])=>o.jsx(Co,{value:y,className:"text-red-600 hover:text-red-600 hover:bg-gray-200 data-[state=active]:bg-gray-100 data-[state=active]:text-black w-full p-3 flex justify-center",children:x},y))})}),o.jsxs("div",{className:"flex-1 p-4",children:[o.jsx(tr,{value:"teams",children:o.jsx(eM,{})}),o.jsx(tr,{value:"teams-by-tournament",children:o.jsx(cM,{})}),o.jsx(tr,{value:"team-payments",children:o.jsx(uM,{})}),o.jsx(tr,{value:"registration",children:o.jsx(tM,{})}),o.jsx(tr,{value:"schedule",children:o.jsx(h5,{})}),o.jsx(tr,{value:"results",children:o.jsx(y5,{})}),o.jsx(tr,{value:"bracket",children:o.jsx(b5,{})}),o.jsx(tr,{value:"finance",children:o.jsx(w5,{})}),o.jsx(tr,{value:"player-tracking",children:o.jsx(j5,{})}),o.jsx(tr,{value:"history",children:o.jsx(dM,{})}),o.jsx(tr,{value:"admin",children:o.jsx(PM,{})})]})]})})]})})},E5=()=>o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"container mx-auto p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("div",{})," "]}),o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-full max-w-6xl",children:o.jsx(_5,{})})})]})}),C5=()=>{const e=XS();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"text-center p-8 rounded-lg border border-border bg-card shadow-md animate-slide-in",children:[o.jsx("h1",{className:"text-5xl font-bold mb-6 text-primary",children:"404"}),o.jsx("p",{className:"text-xl text-card-foreground mb-6",children:"Page not found"}),o.jsx("a",{href:"/",className:"text-primary hover:text-primary/80 underline transition-colors",children:"Return to Home"})]})})},qx=({message:e,type:t="info"})=>{if(console.log("MessageBanner render:",{message:e,type:t}),!e)return null;const r=()=>{switch(t){case"warning":return"bg-yellow-500 text-yellow-900";case"success":return"bg-green-500 text-green-900";case"error":return"bg-red-500 text-red-900";default:return"bg-blue-500 text-blue-900"}};return o.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 ${r()} py-2 overflow-hidden`,children:o.jsxs("div",{className:"animate-marquee whitespace-nowrap",children:[o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e})]})})},T5=({team:e,match:t,onComplete:r})=>{const[n,s]=m.useState(""),[a,i]=m.useState(""),[l,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState("0"),[p,v]=m.useState("0"),[g,b]=m.useState(0),[y,x]=m.useState(null),{teams:w,submitGame:S,getActiveTournament:N}=_t(),j=N(),_=(j==null?void 0:j.tracksHands)!==!1,E=F=>{if(!_)switch(F){case 0:return 2;case 2:return 3;case 3:return 5;case 5:return 6;default:return F+1}return F+1},B=F=>{if(!_)switch(F){case 2:return 0;case 3:return 2;case 5:return 3;case 6:return 5;default:return F-1}return F-1},I=async()=>{if(!t||!n||!a||_&&(!l||!u))return;const F=String(t.teamA)===String(e.id)?parseInt(n):parseInt(a),A=String(t.teamA)===String(e.id)?parseInt(a):parseInt(n);if(F===A&&!y)return;const G=parseInt(f)||0,k=parseInt(p)||0,C=Z=>Z.trim()===""?0:Number(Z),L=String(t.teamA)===String(e.id)?C(l):C(u),K=String(t.teamA)===String(e.id)?C(u):C(l),R=w.find(Z=>String(Z.id)===String(t.teamA)),O=w.find(Z=>String(Z.id)===String(t.teamB));if(!R||!O)return;const W={teamA:R.id,teamB:O.id,scoreA:F,scoreB:A,handsA:L,handsB:K,boston_a:G,boston_b:k,winner:F>A?"teamA":F<A?"teamB":y,matchId:t.id,round:t.round,submittedBy:e.id,status:"pending_confirmation",entered_by_team_id:e.id};await S(W),r()};return o.jsxs("div",{className:"space-y-4",children:[g===0&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many points did you have?"}),o.jsx(ye,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:n,onChange:F=>s(F.target.value),placeholder:"Enter your points",className:"text-center text-xl h-12",autoFocus:!0}),o.jsx(ne,{onClick:()=>b(E(0)),className:"w-full",disabled:!n,children:"Next"})]}),_&&g===1&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many hands did you win?"}),o.jsx(ye,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:l,onChange:F=>c(F.target.value),placeholder:"Enter hands won",className:"text-center text-xl h-12",autoFocus:!0}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{onClick:()=>b(B(1)),variant:"outline",className:"flex-1",children:"Back"}),o.jsx(ne,{onClick:()=>b(E(1)),className:"flex-1",disabled:!l,children:"Next"})]})]}),g===2&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many Bostons did you make?"}),o.jsx(ye,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:f,onChange:F=>h(F.target.value),placeholder:"Enter your Bostons",className:"text-center text-xl h-12",autoFocus:!0}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{onClick:()=>b(B(2)),variant:"outline",className:"flex-1",children:"Back"}),o.jsx(ne,{onClick:()=>b(E(2)),className:"flex-1",disabled:!f,children:"Next"})]})]}),g===3&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many points did your opponent have?"}),o.jsx(ye,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:a,onChange:F=>i(F.target.value),placeholder:"Enter opponent points",className:"text-center text-xl h-12",autoFocus:!0}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{onClick:()=>b(B(3)),variant:"outline",className:"flex-1",children:"Back"}),o.jsx(ne,{onClick:()=>b(E(3)),className:"flex-1",disabled:!a,children:"Next"})]})]}),_&&g===4&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many hands did your opponent win?"}),o.jsx(ye,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:u,onChange:F=>d(F.target.value),placeholder:"Enter opponent hands",className:"text-center text-xl h-12",autoFocus:!0}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{onClick:()=>b(B(4)),variant:"outline",className:"flex-1",children:"Back"}),o.jsx(ne,{onClick:()=>b(E(4)),className:"flex-1",disabled:!u,children:"Next"})]})]}),g===5&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many Bostons did your opponent make?"}),o.jsx(ye,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:p,onChange:F=>v(F.target.value),placeholder:"Enter opponent Bostons",className:"text-center text-xl h-12",autoFocus:!0}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{onClick:()=>b(B(5)),variant:"outline",className:"flex-1",children:"Back"}),o.jsx(ne,{onClick:()=>b(6),className:"flex-1",disabled:!p,children:"Next"})]})]}),g===6&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"Check for Tie"}),o.jsxs("div",{className:"text-lg",children:["Your Score: ",n," | Opponent Score: ",a]}),parseInt(n)===parseInt(a)?o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-lg text-orange-600",children:"Scores are tied! Who won the tiebreaker?"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{onClick:()=>x(String(t.teamA)===String(e.id)?"teamA":"teamB"),variant:y===(String(t.teamA)===String(e.id)?"teamA":"teamB")?"default":"outline",className:"flex-1",children:"You Won"}),o.jsx(ne,{onClick:()=>x(String(t.teamA)===String(e.id)?"teamB":"teamA"),variant:y===(String(t.teamA)===String(e.id)?"teamB":"teamA")?"default":"outline",className:"flex-1",children:"Opponent Won"})]})]}):o.jsx("p",{className:"text-lg text-green-600",children:"No tie - winner is clear!"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ne,{onClick:()=>b(B(6)),variant:"outline",className:"flex-1",children:"Back"}),o.jsxs(ne,{onClick:I,className:"flex-1",disabled:parseInt(n)===parseInt(a)&&!y,children:[o.jsx(ba,{className:"h-4 w-4 mr-2"}),"Submit Score"]})]})]})]})},P5=({team:e,match:t,onComplete:r})=>{const{games:n,confirmScore:s,refreshGamesFromSupabase:a}=_t(),i=n.find(x=>String(x.matchId)===String(t.id)&&x.status==="pending_confirmation");if(!i)return o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-gray-500",children:"No pending score found for this match."})});const l=String(i.teamA)===String(e.id),c=l?i.scoreA:i.scoreB,u=l?i.scoreB:i.scoreA,d=l?i.boston_a??0:i.boston_b??0,f=l?i.boston_b??0:i.boston_a??0,h=l?i.handsA??0:i.handsB??0,p=l?i.handsB??0:i.handsA??0,v=c===u,b=i.winner==="teamA"?l?"You":"Opponent":l?"Opponent":"You",y=async x=>{try{await s(i.id,x),Q({title:x?"Score confirmed":"Score disputed",variant:x?"default":"destructive"}),await a(),r()}catch{Q({title:"Action failed",description:"Please try again.",variant:"destructive"})}};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-center",children:o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Review the score entered by your opponent:"})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 border border-blue-200",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Your Score"}),o.jsx("div",{className:"text-3xl font-bold text-blue-700",children:c}),o.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Bostons: ",d,i.handsA!==void 0&&`  Hands: ${h}`]})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 border border-gray-200",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Opponent Score"}),o.jsx("div",{className:"text-3xl font-bold",children:u}),o.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Bostons: ",f,i.handsB!==void 0&&`  Hands: ${p}`]})]})]}),v&&o.jsxs("div",{className:"p-4 rounded-lg bg-orange-50 border border-orange-200 text-center",children:[o.jsx("div",{className:"text-sm text-orange-700 font-medium mb-1",children:"Tiebreaker Winner"}),o.jsxs("div",{className:"text-lg font-bold text-orange-800",children:[b," won the tiebreaker"]}),o.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"Please verify this tiebreaker winner is correct"})]}),o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:`Please review these scores. If they match what you recorded, click "Confirm". If there's a discrepancy, click "Dispute".`})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(ne,{variant:"destructive",className:"flex-1",onClick:()=>y(!1),children:"Dispute"}),o.jsxs(ne,{className:"flex-1",onClick:()=>y(!0),children:[o.jsx(ba,{className:"h-4 w-4 mr-2"}),"Confirm"]})]})]})},k5=()=>{var oe;const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,a]=m.useState(null),[i,l]=m.useState(""),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(""),[v,g]=m.useState(null),[b,y]=m.useState(null),[x,w]=m.useState(0),{teams:S,schedules:N,games:j,tournaments:_,getActiveTournament:E,submitGame:B,confirmScore:I,beginScoreEntry:F,releaseScoreEntryLock:A,refreshGamesFromSupabase:G,getActiveMessages:k}=_t(),C=q=>q.replace(/\D/g,""),L=()=>{l("");const q=C(e);if(q.length!==10){l("Please enter a valid 10-digit phone number");return}const se=S.find(je=>C(je.phoneNumber)===q);se?a(se):l("Team not found. Please check your phone number.")},K=q=>{const se=S.find(je=>je.id===q);se&&(a(se),f(!0))},R=()=>{if(!r.trim())return;const q=parseInt(r.trim()),se=S.find(je=>je.teamNumber===q||je.id===r.trim());se?(a(se),f(!0),n(""),l("")):l(`No team found with number ${r.trim()}`)};m.useEffect(()=>{w(q=>q+1)},[j]),m.useEffect(()=>{s&&window.scrollTo(0,0)},[s]),m.useEffect(()=>{const q=setInterval(()=>{w(se=>se+1)},1e3);return()=>clearInterval(q)},[]),m.useEffect(()=>{if(!s)return;const q=setInterval(()=>{G()},5e3);return()=>clearInterval(q)},[s,G]);const O=()=>{if(!s)return[];const q=E();if(!q)return[];const se=N.find(X=>X.tournamentId===q.id);if(!se)return[];const je=se.matches.filter(X=>X.teamA===s.id||X.teamB===s.id),T=new Set;j.forEach(X=>{if((X.teamA===s.id||X.teamB===s.id)&&(X.confirmed||X.status==="confirmed")&&X.matchId){const ie=se.matches.find(pe=>pe.id===X.matchId);ie&&T.add(ie.round)}}),je.forEach(X=>{X.isBye&&T.add(X.round)});const Y=Math.min(...Array.from({length:se.rounds},(X,ie)=>ie+1).filter(X=>!T.has(X)));return je.map(X=>{const ie=X.teamA===s.id?X.teamB:X.teamA,pe=S.find(Je=>Je.id===ie),re=j.find(Je=>Je.matchId===X.id);let we="future",xe="",Oe="";X.isBye?(we="completed",xe="BYE Round",Oe="No game this round"):re?re.status==="confirmed"||re.confirmed?we="completed":re.status==="pending_confirmation"?(re.entered_by_team_id===s.id?(xe="Opponent confirming score",Oe="Your score has been entered. Opponent is confirming."):(xe="Pending confirmation",Oe="Review and confirm the score entered by your opponent."),we="current"):re.status==="entering"?(re.entered_by_team_id===s.id?(xe="Entering score",Oe="You are currently entering the score."):(xe="Opponent entering score",Oe="Opponent is entering the score. Please wait."),we="current"):re.status==="disputed"&&(re.entered_by_team_id===s.id?(xe="Score disputed - re-enter",Oe="Your score was disputed. Please re-enter the correct score."):(xe="Score disputed",Oe="The score was disputed. Waiting for opponent to re-enter."),we="current"):X.round===Y&&(we="current",xe="Ready to Score",Oe="Click to enter your score");let Ie=null;if(we==="completed"&&re){const Je=X.teamA===s.id,Lt=Je?re.scoreA:re.scoreB,P=Je?re.scoreB:re.scoreA,U=Je&&re.winner==="teamA"||!Je&&re.winner==="teamB";Ie={myScore:Lt,opponentScore:P,isWin:U,boston:re.boston}}return{...X,tournamentName:q.name,opponentTeam:pe,gameResult:Ie,cardType:we,status:xe,statusMessage:Oe,existingGame:re}}).sort((X,ie)=>X.round-ie.round)},W=m.useMemo(()=>{const q=E();if(!s||!q)return{wins:0,totalGames:0,totalPoints:0,avgPoints:"0.0",results:[]};const se=N.find(re=>re.tournamentId===q.id);if(!se)return{wins:0,totalGames:0,totalPoints:0,avgPoints:"0.0",results:[]};const je=new Set(se.matches.map(re=>re.id)),T=j.filter(re=>(re.teamA===s.id||re.teamB===s.id)&&(re.confirmed||re.status==="confirmed")&&re.matchId&&je.has(re.matchId)).map(re=>{const we=re.teamA===s.id,xe=we?re.teamB:re.teamA,Oe=S.find(Ie=>Ie.id===xe)||null;return{...re,isWin:we&&re.winner==="teamA"||!we&&re.winner==="teamB",teamScore:we?re.scoreA:re.scoreB,opponentScore:we?re.scoreB:re.scoreA,opponent:Oe}}),Y=T.filter(re=>re.isWin).length,X=T.length,ie=T.reduce((re,we)=>re+we.teamScore,0),pe=X>0?(ie/X).toFixed(1):"0.0";return{wins:Y,totalGames:X,totalPoints:ie,avgPoints:pe,results:T}},[j,s,N,E,S]);if(!s){const q=k()[0];return console.log("Login screen - active message:",q),o.jsxs("div",{className:"min-h-screen flex flex-col justify-start items-center bg-gray-50 p-4 pt-8",children:[o.jsx(qx,{message:(q==null?void 0:q.text)||"",type:q==null?void 0:q.type},`login-${(q==null?void 0:q.id)||"none"}`),o.jsxs(He,{className:"w-full max-w-md shadow-lg border-2 border-red-500 mt-16",children:[o.jsxs(qe,{className:"text-center pb-2 space-y-4",children:[o.jsx("div",{className:"mx-auto w-61 h-61 flex items-center justify-center bg-red-600 rounded-lg shadow-sm relative mb-0",children:o.jsx("img",{src:"/BidWhist/SetPlay_Logo.png",alt:"SetPlay Logo",className:"w-61 h-61"})}),o.jsx("div",{className:"flex flex-col items-center -mt-28",children:o.jsx("img",{src:"/BidWhist/tp.png",alt:"Teams Portal",className:"w-75 h-25 object-contain"})})]}),o.jsxs(Ge,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3 mt-8",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ye,{placeholder:"Enter 10-digit phone number",value:e,onChange:se=>{t(se.target.value),l("")},className:"text-center text-lg border-2 border-black focus:border-red-500 focus:ring-red-500",maxLength:14,autoFocus:!0}),o.jsx(ne,{onClick:L,className:"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-md",children:"Enter Tournament Portal"})]}),i&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[o.jsx(jP,{className:"h-4 w-4 text-red-600 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-sm text-red-800",children:i})]})]}),typeof window<"u"&&window.location.hash.includes("admin=1")&&o.jsxs("div",{className:"border-t pt-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(_P,{className:"h-4 w-4 text-red-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Admin Access"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(jr,{onValueChange:K,children:[o.jsx(dr,{className:"border-2 border-black",children:o.jsx(Nr,{placeholder:"Select any team to view their portal"})}),o.jsx(fr,{children:S.map(se=>o.jsxs(ot,{value:se.id,children:["Team ",se.id,": ",se.name," (",se.city,")"]},se.id))})]}),o.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Select any team to view their portal as admin"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-white px-2 text-gray-500",children:"OR"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ye,{placeholder:"Enter team number",value:r,onChange:se=>n(se.target.value),className:"text-center text-lg border-2 border-black",type:"number",onKeyPress:se=>{se.key==="Enter"&&R()}}),o.jsxs(ne,{onClick:R,disabled:!r.trim(),className:"w-full bg-red-600 hover:bg-red-700 text-white",children:["Login as Team ",r||"#"]})]})]})]}),o.jsx("div",{className:"mt-6 text-xs text-center text-gray-500",children:"Built and Managed by Brian Welch"})]})]})]})}const Z=O(),V=k()[0];return console.log("Main portal - active message:",V),o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(qx,{message:(V==null?void 0:V.text)||"",type:V==null?void 0:V.type},`portal-${(V==null?void 0:V.id)||"none"}`),o.jsxs("div",{className:"relative w-full bg-white shadow-sm border-b-2 border-red-500 py-4 px-4 flex flex-col items-center justify-center mt-8",children:[o.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-1 md:gap-4",children:[o.jsxs("span",{className:"text-lg md:text-xl font-bold text-gray-700",children:["Team ",s.id,": ",s.name]}),o.jsxs("span",{className:"text-sm text-gray-600",children:[s.player1FirstName," ",s.player1LastName," & ",s.player2FirstName," ",s.player2LastName]}),o.jsxs("span",{className:"text-xs text-gray-500",children:["Phone: ",s.phoneNumber]}),c&&o.jsx(Te,{variant:"secondary",className:"mt-1 text-xs bg-yellow-100 text-yellow-800",children:"Test Mode"}),d&&o.jsx(Te,{variant:"default",className:"mt-1 text-xs bg-red-100 text-red-800",children:"Admin Mode"})]})}),o.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:o.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{a(null),u(!1),f(!1),p("")},className:"text-red-600 border-red-600 hover:bg-red-600 hover:text-white",children:"Logout"})})]}),o.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:(oe=E())==null?void 0:oe.name}),o.jsx("p",{className:"text-sm text-gray-600",children:"Schedule"})]}),o.jsxs("div",{className:"flex overflow-x-auto gap-4 pb-2 scrollbar-hide",children:[o.jsxs("div",{className:"flex-shrink-0 text-center p-4 bg-blue-50 rounded-lg min-w-[120px]",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:W.wins}),o.jsx("p",{className:"text-sm text-gray-600",children:"Wins"})]}),o.jsxs("div",{className:"flex-shrink-0 text-center p-4 bg-gray-50 rounded-lg min-w-[120px]",children:[o.jsx("p",{className:"text-2xl font-bold",children:W.totalGames}),o.jsx("p",{className:"text-sm text-gray-600",children:"Games Played"})]}),o.jsxs("div",{className:"flex-shrink-0 text-center p-4 bg-green-50 rounded-lg min-w-[120px]",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:W.avgPoints}),o.jsx("p",{className:"text-sm text-gray-600",children:"Avg Points/Game"})]}),o.jsxs("div",{className:"flex-shrink-0 text-center p-4 bg-purple-50 rounded-lg min-w-[120px]",children:[o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:W.totalPoints}),o.jsx("p",{className:"text-sm text-gray-600",children:"Total Points"})]})]})]}),o.jsxs(He,{children:[o.jsx(qe,{children:o.jsx(Qe,{})}),o.jsxs(Ge,{children:[Z.length===0?o.jsx("div",{className:"text-center text-gray-500 py-8",children:o.jsx("p",{children:"No scheduled matches found"})}):o.jsx("div",{className:"space-y-6",children:(()=>{const q=Math.max(...Z.map(se=>se.round));return Array.from({length:q},(se,je)=>je+1).map(se=>{const je=Z.filter(T=>T.round===se);return o.jsx("div",{className:"space-y-3",children:o.jsx("div",{className:"space-y-3",children:je.map((T,Y)=>{var ie,pe,re,we,xe,Oe,Ie,Je,Lt,P;let X="border rounded-lg p-4 ";return T.isBye?X+="bg-yellow-50 border-yellow-200":T.cardType==="completed"?X+=(ie=T.gameResult)!=null&&ie.isWin?"bg-green-50 border-green-200":"bg-red-50 border-red-200":T.cardType==="current"?X+="bg-blue-50 border-blue-200":X+="bg-white",o.jsx("div",{className:X,children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2",children:[o.jsx("div",{className:"flex-1",children:T.isBye?o.jsxs("div",{className:"text-center",children:[o.jsx(Te,{variant:"secondary",className:"text-sm",children:"BYE ROUND"}),o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"No game this round"})]}):o.jsxs("div",{children:[T.cardType==="future"&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs(Te,{variant:"outline",className:"text-xs",children:["Round ",T.round]})}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("span",{className:"text-xs text-gray-600",children:"Team"}),o.jsx("span",{className:"font-bold text-lg",children:((pe=T.opponentTeam)==null?void 0:pe.id)||T.opponentId}),o.jsxs("span",{className:"text-xs text-gray-600",children:[((re=T.opponentTeam)==null?void 0:re.player1FirstName)||"","/",((we=T.opponentTeam)==null?void 0:we.player2FirstName)||""]})]}),o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs(Te,{variant:"secondary",className:"text-xs",children:["Table ",T.table]})})]})}),T.cardType==="current"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs(Te,{variant:"outline",className:"text-xs",children:["Round ",T.round]})}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("span",{className:"text-xs text-gray-600",children:"Team"}),o.jsx("span",{className:"font-bold text-lg",children:((xe=T.opponentTeam)==null?void 0:xe.id)||T.opponentId}),o.jsxs("span",{className:"text-xs text-gray-600",children:[((Oe=T.opponentTeam)==null?void 0:Oe.player1FirstName)||"","/",((Ie=T.opponentTeam)==null?void 0:Ie.player2FirstName)||""]})]}),o.jsx("div",{className:"flex items-center justify-center",children:T.status==="Ready to Score"?o.jsx(ne,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium px-2 py-1 text-xs rounded-md shadow-sm animate-pulse",onClick:()=>{(async()=>(await F({matchId:T.id,teamId:String(s.id),teamA:String(T.teamA),teamB:String(T.teamB),round:T.round})).ok?(y(s.id),g(T)):(Q({title:"Opponent entering score",description:"Please wait and try again in a moment.",variant:"destructive"}),await G()))()},children:"Score"}):T.status==="Opponent entering score"?o.jsx(Te,{variant:"secondary",className:"text-xs bg-yellow-100 text-yellow-800 border-yellow-300",children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex space-x-1 mr-1",children:[o.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),o.jsx("span",{className:"text-xs",children:"Entering"})]})}):T.status==="Opponent confirming score"?o.jsx(Te,{variant:"secondary",className:"text-xs bg-green-100 text-green-800 border-green-300",children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex space-x-1 mr-1",children:[o.jsx("div",{className:"w-1 h-1 bg-green-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-1 h-1 bg-green-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-1 h-1 bg-green-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),o.jsx("span",{className:"text-xs",children:"Confirming"})]})}):T.status==="Score disputed - re-enter"?o.jsx(ne,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white font-medium px-2 py-1 text-xs rounded-md shadow-sm",onClick:()=>{(async()=>(await F({matchId:T.id,teamId:String(s.id),teamA:String(T.teamA),teamB:String(T.teamB),round:T.round})).ok?(y(s.id),g(T)):(Q({title:"Opponent entering score",description:"Please wait and try again in a moment.",variant:"destructive"}),await G()))()},children:"Re-enter"}):T.status==="Score disputed"?o.jsx(Te,{variant:"secondary",className:"text-xs bg-red-100 text-red-800 border-red-300",children:o.jsx("span",{className:"text-xs",children:"Disputed"})}):o.jsxs(Te,{variant:T.status==="Waiting for opponent confirmation"?"secondary":"default",className:"text-xs",onClick:()=>{T.status==="Pending confirmation"&&g(T)},children:[T.status==="Waiting for opponent"&&o.jsx(NP,{className:"h-3 w-3 mr-1"}),T.status==="Pending confirmation"?"Confirm Score":T.status]})})]}),o.jsx("div",{className:"flex justify-start -mt-3",children:o.jsx("span",{className:"text-xs italic text-blue-800",children:"in progress"})})]}),T.cardType==="completed"&&T.gameResult&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs(Te,{variant:"outline",className:"text-xs",children:["Round ",T.round]})}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("span",{className:"text-xs text-gray-600",children:"Team"}),o.jsx("span",{className:"font-bold text-lg",children:((Je=T.opponentTeam)==null?void 0:Je.id)||T.opponentId}),o.jsxs("span",{className:"text-xs text-gray-600",children:[((Lt=T.opponentTeam)==null?void 0:Lt.player1FirstName)||"","/",((P=T.opponentTeam)==null?void 0:P.player2FirstName)||""]})]}),o.jsx("div",{className:"flex items-center justify-center",children:o.jsx(Te,{variant:T.gameResult.isWin?"default":"destructive",className:"text-xs",style:{backgroundColor:T.gameResult.isWin?"#10b981":"#ef4444",color:"white"},children:T.gameResult.isWin?"WIN":"LOSS"})})]}),o.jsx("div",{className:"flex justify-end -mt-3",children:o.jsxs("span",{className:"text-xs italic text-red-600",children:[T.gameResult.isWin?"won":"loss"," ",T.gameResult.myScore,"-",T.gameResult.opponentScore]})})]})]})}),T.isSameCity&&o.jsx(Te,{variant:"destructive",className:"text-xs",children:"Same City"})]})},Y)})})},se)})})()}),v&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:[v.status==="Pending confirmation"?"Confirm Score":"Enter Score"," - Round ",v.round]}),o.jsx(ne,{variant:"ghost",size:"sm",onClick:async()=>{b&&v&&await A({matchId:v.id,teamId:b}),g(null),y(null)},children:""})]}),v.status==="Pending confirmation"?o.jsx(P5,{team:s,match:v,onComplete:()=>{g(null),y(null)}}):o.jsx(T5,{team:s,match:v,onComplete:()=>{g(null),y(null)}})]})})]})]})]})]})},A5=()=>o.jsx(k5,{}),R5=new ZA,I5=()=>o.jsx(z2,{defaultTheme:"light",children:o.jsx(tR,{client:R5,children:o.jsx(PA,{children:o.jsxs(_1,{children:[o.jsx(p2,{}),o.jsx(V2,{}),o.jsx(zR,{basename:"/",children:o.jsxs($R,{children:[o.jsx(Cc,{path:"/",element:o.jsx(E5,{})}),o.jsx(Cc,{path:"/portal",element:o.jsx(A5,{})}),o.jsx(Cc,{path:"*",element:o.jsx(C5,{})})]})})]})})})});pw(document.getElementById("root")).render(o.jsx(_1,{children:o.jsx(I5,{})}));export{J as R,_c as g,o as j,_t as u};
