var Kg=e=>{throw TypeError(e)};var qd=(e,t,r)=>t.has(e)||Kg("Cannot "+r);var re=(e,t,r)=>(qd(e,t,"read from private field"),r?r.call(e):t.get(e)),ct=(e,t,r)=>t.has(e)?Kg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ze=(e,t,r,n)=>(qd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),tr=(e,t,r)=>(qd(e,t,"access private method"),r);var Wl=(e,t,r,n)=>({set _(s){ze(e,t,s,r)},get _(){return re(e,t,n)}});function EC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var an=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function PC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var vb={exports:{}},Bu={},yb={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=Symbol.for("react.element"),TC=Symbol.for("react.portal"),kC=Symbol.for("react.fragment"),RC=Symbol.for("react.strict_mode"),AC=Symbol.for("react.profiler"),IC=Symbol.for("react.provider"),DC=Symbol.for("react.context"),OC=Symbol.for("react.forward_ref"),BC=Symbol.for("react.suspense"),MC=Symbol.for("react.memo"),LC=Symbol.for("react.lazy"),Yg=Symbol.iterator;function $C(e){return e===null||typeof e!="object"?null:(e=Yg&&e[Yg]||e["@@iterator"],typeof e=="function"?e:null)}var xb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bb=Object.assign,wb={};function Qo(e,t,r){this.props=e,this.context=t,this.refs=wb,this.updater=r||xb}Qo.prototype.isReactComponent={};Qo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sb(){}Sb.prototype=Qo.prototype;function Op(e,t,r){this.props=e,this.context=t,this.refs=wb,this.updater=r||xb}var Bp=Op.prototype=new Sb;Bp.constructor=Op;bb(Bp,Qo.prototype);Bp.isPureReactComponent=!0;var Qg=Array.isArray,_b=Object.prototype.hasOwnProperty,Mp={current:null},Nb={key:!0,ref:!0,__self:!0,__source:!0};function jb(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)_b.call(t,n)&&!Nb.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:bl,type:e,key:a,ref:i,props:s,_owner:Mp.current}}function FC(e,t){return{$$typeof:bl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lp(e){return typeof e=="object"&&e!==null&&e.$$typeof===bl}function UC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Jg=/\/+/g;function Kd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?UC(""+e.key):t.toString(36)}function _c(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case bl:case TC:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Kd(i,0):n,Qg(s)?(r="",e!=null&&(r=e.replace(Jg,"$&/")+"/"),_c(s,t,r,"",function(u){return u})):s!=null&&(Lp(s)&&(s=FC(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Jg,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Qg(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Kd(a,l);i+=_c(a,t,r,c,s)}else if(c=$C(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Kd(a,l++),i+=_c(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Vl(e,t,r){if(e==null)return e;var n=[],s=0;return _c(e,n,"","",function(a){return t.call(r,a,s++)}),n}function zC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var br={current:null},Nc={transition:null},WC={ReactCurrentDispatcher:br,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:Mp};function Cb(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:Vl,forEach:function(e,t,r){Vl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vl(e,function(){t++}),t},toArray:function(e){return Vl(e,function(t){return t})||[]},only:function(e){if(!Lp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qe.Component=Qo;Qe.Fragment=kC;Qe.Profiler=AC;Qe.PureComponent=Op;Qe.StrictMode=RC;Qe.Suspense=BC;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WC;Qe.act=Cb;Qe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=bb({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Mp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_b.call(t,c)&&!Nb.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:bl,type:e.type,key:s,ref:a,props:n,_owner:i}};Qe.createContext=function(e){return e={$$typeof:DC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:IC,_context:e},e.Consumer=e};Qe.createElement=jb;Qe.createFactory=function(e){var t=jb.bind(null,e);return t.type=e,t};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(e){return{$$typeof:OC,render:e}};Qe.isValidElement=Lp;Qe.lazy=function(e){return{$$typeof:LC,_payload:{_status:-1,_result:e},_init:zC}};Qe.memo=function(e,t){return{$$typeof:MC,type:e,compare:t===void 0?null:t}};Qe.startTransition=function(e){var t=Nc.transition;Nc.transition={};try{e()}finally{Nc.transition=t}};Qe.unstable_act=Cb;Qe.useCallback=function(e,t){return br.current.useCallback(e,t)};Qe.useContext=function(e){return br.current.useContext(e)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(e){return br.current.useDeferredValue(e)};Qe.useEffect=function(e,t){return br.current.useEffect(e,t)};Qe.useId=function(){return br.current.useId()};Qe.useImperativeHandle=function(e,t,r){return br.current.useImperativeHandle(e,t,r)};Qe.useInsertionEffect=function(e,t){return br.current.useInsertionEffect(e,t)};Qe.useLayoutEffect=function(e,t){return br.current.useLayoutEffect(e,t)};Qe.useMemo=function(e,t){return br.current.useMemo(e,t)};Qe.useReducer=function(e,t,r){return br.current.useReducer(e,t,r)};Qe.useRef=function(e){return br.current.useRef(e)};Qe.useState=function(e){return br.current.useState(e)};Qe.useSyncExternalStore=function(e,t,r){return br.current.useSyncExternalStore(e,t,r)};Qe.useTransition=function(){return br.current.useTransition()};Qe.version="18.3.1";yb.exports=Qe;var m=yb.exports;const Z=Dp(m),$p=EC({__proto__:null,default:Z},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC=m,HC=Symbol.for("react.element"),GC=Symbol.for("react.fragment"),qC=Object.prototype.hasOwnProperty,KC=VC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YC={key:!0,ref:!0,__self:!0,__source:!0};function Eb(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)qC.call(t,n)&&!YC.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:HC,type:e,key:a,ref:i,props:s,_owner:KC.current}}Bu.Fragment=GC;Bu.jsx=Eb;Bu.jsxs=Eb;vb.exports=Bu;var o=vb.exports,Pb={exports:{}},Gr={},Tb={exports:{}},kb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,M){var G=D.length;D.push(M);e:for(;0<G;){var ne=G-1>>>1,V=D[ne];if(0<s(V,M))D[ne]=M,D[G]=V,G=ne;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var M=D[0],G=D.pop();if(G!==M){D[0]=G;e:for(var ne=0,V=D.length,se=V>>>1;ne<se;){var ee=2*(ne+1)-1,ie=D[ee],le=ee+1,O=D[le];if(0>s(ie,G))le<V&&0>s(O,ie)?(D[ne]=O,D[le]=G,ne=le):(D[ne]=ie,D[ee]=G,ne=ee);else if(le<V&&0>s(O,G))D[ne]=O,D[le]=G,ne=le;else break e}}return M}function s(D,M){var G=D.sortIndex-M.sortIndex;return G!==0?G:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=D)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function S(D){if(v=!1,g(D),!y)if(r(c)!==null)y=!0,U(N);else{var M=r(u);M!==null&&Q(S,M.startTime-D)}}function N(D,M){y=!1,v&&(v=!1,w(C),C=-1),p=!0;var G=h;try{for(g(M),f=r(c);f!==null&&(!(f.expirationTime>M)||D&&!F());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var V=ne(f.expirationTime<=M);M=e.unstable_now(),typeof V=="function"?f.callback=V:f===r(c)&&n(c),g(M)}else n(c);f=r(c)}if(f!==null)var se=!0;else{var ee=r(u);ee!==null&&Q(S,ee.startTime-M),se=!1}return se}finally{f=null,h=G,p=!1}}var _=!1,j=null,C=-1,I=5,P=-1;function F(){return!(e.unstable_now()-P<I)}function A(){if(j!==null){var D=e.unstable_now();P=D;var M=!0;try{M=j(!0,D)}finally{M?H():(_=!1,j=null)}}else _=!1}var H;if(typeof b=="function")H=function(){b(A)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,R=T.port2;T.port1.onmessage=A,H=function(){R.postMessage(null)}}else H=function(){x(A,0)};function U(D){j=D,_||(_=!0,H())}function Q(D,M){C=x(function(){D(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,U(N))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var G=h;h=M;try{return D()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=h;h=D;try{return M()}finally{h=G}},e.unstable_scheduleCallback=function(D,M,G){var ne=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ne+G:ne):G=ne,D){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=G+V,D={id:d++,callback:M,priorityLevel:D,startTime:G,expirationTime:V,sortIndex:-1},G>ne?(D.sortIndex=G,t(u,D),r(c)===null&&D===r(u)&&(v?(w(C),C=-1):v=!0,Q(S,G-ne))):(D.sortIndex=V,t(c,D),y||p||(y=!0,U(N))),D},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(D){var M=h;return function(){var G=h;h=M;try{return D.apply(this,arguments)}finally{h=G}}}})(kb);Tb.exports=kb;var QC=Tb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC=m,Hr=QC;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rb=new Set,Vi={};function $a(e,t){Bo(e,t),Bo(e+"Capture",t)}function Bo(e,t){for(Vi[e]=t,e=0;e<t.length;e++)Rb.add(t[e])}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rh=Object.prototype.hasOwnProperty,XC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xg={},Zg={};function ZC(e){return rh.call(Zg,e)?!0:rh.call(Xg,e)?!1:XC.test(e)?Zg[e]=!0:(Xg[e]=!0,!1)}function eE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tE(e,t,r,n){if(t===null||typeof t>"u"||eE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wr(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var er={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){er[e]=new wr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];er[t]=new wr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){er[e]=new wr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){er[e]=new wr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){er[e]=new wr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){er[e]=new wr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){er[e]=new wr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){er[e]=new wr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){er[e]=new wr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fp=/[\-:]([a-z])/g;function Up(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fp,Up);er[t]=new wr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fp,Up);er[t]=new wr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fp,Up);er[t]=new wr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){er[e]=new wr(e,1,!1,e.toLowerCase(),null,!1,!1)});er.xlinkHref=new wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){er[e]=new wr(e,1,!1,e.toLowerCase(),null,!0,!0)});function zp(e,t,r,n){var s=er.hasOwnProperty(t)?er[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tE(t,r,s,n)&&(r=null),n||s===null?ZC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var cs=JC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hl=Symbol.for("react.element"),so=Symbol.for("react.portal"),ao=Symbol.for("react.fragment"),Wp=Symbol.for("react.strict_mode"),nh=Symbol.for("react.profiler"),Ab=Symbol.for("react.provider"),Ib=Symbol.for("react.context"),Vp=Symbol.for("react.forward_ref"),sh=Symbol.for("react.suspense"),ah=Symbol.for("react.suspense_list"),Hp=Symbol.for("react.memo"),ws=Symbol.for("react.lazy"),Db=Symbol.for("react.offscreen"),ev=Symbol.iterator;function ci(e){return e===null||typeof e!="object"?null:(e=ev&&e[ev]||e["@@iterator"],typeof e=="function"?e:null)}var kt=Object.assign,Yd;function _i(e){if(Yd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Yd=t&&t[1]||""}return`
`+Yd+e}var Qd=!1;function Jd(e,t){if(!e||Qd)return"";Qd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Qd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_i(e):""}function rE(e){switch(e.tag){case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 2:case 15:return e=Jd(e.type,!1),e;case 11:return e=Jd(e.type.render,!1),e;case 1:return e=Jd(e.type,!0),e;default:return""}}function oh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ao:return"Fragment";case so:return"Portal";case nh:return"Profiler";case Wp:return"StrictMode";case sh:return"Suspense";case ah:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ib:return(e.displayName||"Context")+".Consumer";case Ab:return(e._context.displayName||"Context")+".Provider";case Vp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hp:return t=e.displayName||null,t!==null?t:oh(e.type)||"Memo";case ws:t=e._payload,e=e._init;try{return oh(e(t))}catch{}}return null}function nE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oh(t);case 8:return t===Wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ob(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sE(e){var t=Ob(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gl(e){e._valueTracker||(e._valueTracker=sE(e))}function Bb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ob(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ih(e,t){var r=t.checked;return kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function tv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=qs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mb(e,t){t=t.checked,t!=null&&zp(e,"checked",t,!1)}function lh(e,t){Mb(e,t);var r=qs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ch(e,t.type,r):t.hasOwnProperty("defaultValue")&&ch(e,t.type,qs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ch(e,t,r){(t!=="number"||Hc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ni=Array.isArray;function yo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+qs(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function uh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ue(92));if(Ni(r)){if(1<r.length)throw Error(ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qs(r)}}function Lb(e,t){var r=qs(t.value),n=qs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function sv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $b(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$b(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ql,Fb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ql=ql||document.createElement("div"),ql.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ql.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ki={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aE=["Webkit","ms","Moz","O"];Object.keys(ki).forEach(function(e){aE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ki[t]=ki[e]})});function Ub(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ki.hasOwnProperty(e)&&ki[e]?(""+t).trim():t+"px"}function zb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ub(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var oE=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fh(e,t){if(t){if(oE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function hh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ph=null;function Gp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mh=null,xo=null,bo=null;function av(e){if(e=_l(e)){if(typeof mh!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=Uu(t),mh(e.stateNode,e.type,t))}}function Wb(e){xo?bo?bo.push(e):bo=[e]:xo=e}function Vb(){if(xo){var e=xo,t=bo;if(bo=xo=null,av(e),t)for(e=0;e<t.length;e++)av(t[e])}}function Hb(e,t){return e(t)}function Gb(){}var Xd=!1;function qb(e,t,r){if(Xd)return e(t,r);Xd=!0;try{return Hb(e,t,r)}finally{Xd=!1,(xo!==null||bo!==null)&&(Gb(),Vb())}}function Gi(e,t){var r=e.stateNode;if(r===null)return null;var n=Uu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,t,typeof r));return r}var gh=!1;if(ns)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){gh=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{gh=!1}function iE(e,t,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ri=!1,Gc=null,qc=!1,vh=null,lE={onError:function(e){Ri=!0,Gc=e}};function cE(e,t,r,n,s,a,i,l,c){Ri=!1,Gc=null,iE.apply(lE,arguments)}function uE(e,t,r,n,s,a,i,l,c){if(cE.apply(this,arguments),Ri){if(Ri){var u=Gc;Ri=!1,Gc=null}else throw Error(ue(198));qc||(qc=!0,vh=u)}}function Fa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Kb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ov(e){if(Fa(e)!==e)throw Error(ue(188))}function dE(e){var t=e.alternate;if(!t){if(t=Fa(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return ov(s),e;if(a===n)return ov(s),t;a=a.sibling}throw Error(ue(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(ue(189))}}if(r.alternate!==n)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:t}function Yb(e){return e=dE(e),e!==null?Qb(e):null}function Qb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qb(e);if(t!==null)return t;e=e.sibling}return null}var Jb=Hr.unstable_scheduleCallback,iv=Hr.unstable_cancelCallback,fE=Hr.unstable_shouldYield,hE=Hr.unstable_requestPaint,Ot=Hr.unstable_now,pE=Hr.unstable_getCurrentPriorityLevel,qp=Hr.unstable_ImmediatePriority,Xb=Hr.unstable_UserBlockingPriority,Kc=Hr.unstable_NormalPriority,mE=Hr.unstable_LowPriority,Zb=Hr.unstable_IdlePriority,Mu=null,Ln=null;function gE(e){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(Mu,e,void 0,(e.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:xE,vE=Math.log,yE=Math.LN2;function xE(e){return e>>>=0,e===0?32:31-(vE(e)/yE|0)|0}var Kl=64,Yl=4194304;function ji(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=ji(l):(a&=i,a!==0&&(n=ji(a)))}else i=r&~s,i!==0?n=ji(i):a!==0&&(n=ji(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_n(t),s=1<<r,n|=e[r],t&=~s;return n}function bE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-_n(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=bE(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function yh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function e0(){var e=Kl;return Kl<<=1,!(Kl&4194240)&&(Kl=64),e}function Zd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_n(t),e[t]=r}function SE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-_n(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Kp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_n(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var mt=0;function t0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var r0,Yp,n0,s0,a0,xh=!1,Ql=[],Os=null,Bs=null,Ms=null,qi=new Map,Ki=new Map,Ns=[],_E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lv(e,t){switch(e){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":qi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ki.delete(t.pointerId)}}function di(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=_l(t),t!==null&&Yp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function NE(e,t,r,n,s){switch(t){case"focusin":return Os=di(Os,e,t,r,n,s),!0;case"dragenter":return Bs=di(Bs,e,t,r,n,s),!0;case"mouseover":return Ms=di(Ms,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return qi.set(a,di(qi.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Ki.set(a,di(Ki.get(a)||null,e,t,r,n,s)),!0}return!1}function o0(e){var t=va(e.target);if(t!==null){var r=Fa(t);if(r!==null){if(t=r.tag,t===13){if(t=Kb(r),t!==null){e.blockedOn=t,a0(e.priority,function(){n0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=bh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ph=n,r.target.dispatchEvent(n),ph=null}else return t=_l(r),t!==null&&Yp(t),e.blockedOn=r,!1;t.shift()}return!0}function cv(e,t,r){jc(e)&&r.delete(t)}function jE(){xh=!1,Os!==null&&jc(Os)&&(Os=null),Bs!==null&&jc(Bs)&&(Bs=null),Ms!==null&&jc(Ms)&&(Ms=null),qi.forEach(cv),Ki.forEach(cv)}function fi(e,t){e.blockedOn===t&&(e.blockedOn=null,xh||(xh=!0,Hr.unstable_scheduleCallback(Hr.unstable_NormalPriority,jE)))}function Yi(e){function t(s){return fi(s,e)}if(0<Ql.length){fi(Ql[0],e);for(var r=1;r<Ql.length;r++){var n=Ql[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Os!==null&&fi(Os,e),Bs!==null&&fi(Bs,e),Ms!==null&&fi(Ms,e),qi.forEach(t),Ki.forEach(t),r=0;r<Ns.length;r++)n=Ns[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ns.length&&(r=Ns[0],r.blockedOn===null);)o0(r),r.blockedOn===null&&Ns.shift()}var wo=cs.ReactCurrentBatchConfig,Qc=!0;function CE(e,t,r,n){var s=mt,a=wo.transition;wo.transition=null;try{mt=1,Qp(e,t,r,n)}finally{mt=s,wo.transition=a}}function EE(e,t,r,n){var s=mt,a=wo.transition;wo.transition=null;try{mt=4,Qp(e,t,r,n)}finally{mt=s,wo.transition=a}}function Qp(e,t,r,n){if(Qc){var s=bh(e,t,r,n);if(s===null)uf(e,t,n,Jc,r),lv(e,n);else if(NE(s,e,t,r,n))n.stopPropagation();else if(lv(e,n),t&4&&-1<_E.indexOf(e)){for(;s!==null;){var a=_l(s);if(a!==null&&r0(a),a=bh(e,t,r,n),a===null&&uf(e,t,n,Jc,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else uf(e,t,n,null,r)}}var Jc=null;function bh(e,t,r,n){if(Jc=null,e=Gp(n),e=va(e),e!==null)if(t=Fa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Kb(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jc=e,null}function i0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pE()){case qp:return 1;case Xb:return 4;case Kc:case mE:return 16;case Zb:return 536870912;default:return 16}default:return 16}}var As=null,Jp=null,Cc=null;function l0(){if(Cc)return Cc;var e,t=Jp,r=t.length,n,s="value"in As?As.value:As.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return Cc=s.slice(e,1<n?1-n:void 0)}function Ec(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jl(){return!0}function uv(){return!1}function qr(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Jl:uv,this.isPropagationStopped=uv,this}return kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),t}var Jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xp=qr(Jo),Sl=kt({},Jo,{view:0,detail:0}),PE=qr(Sl),ef,tf,hi,Lu=kt({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(ef=e.screenX-hi.screenX,tf=e.screenY-hi.screenY):tf=ef=0,hi=e),ef)},movementY:function(e){return"movementY"in e?e.movementY:tf}}),dv=qr(Lu),TE=kt({},Lu,{dataTransfer:0}),kE=qr(TE),RE=kt({},Sl,{relatedTarget:0}),rf=qr(RE),AE=kt({},Jo,{animationName:0,elapsedTime:0,pseudoElement:0}),IE=qr(AE),DE=kt({},Jo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OE=qr(DE),BE=kt({},Jo,{data:0}),fv=qr(BE),ME={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$E={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$E[e])?!!t[e]:!1}function Zp(){return FE}var UE=kt({},Sl,{key:function(e){if(e.key){var t=ME[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ec(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zp,charCode:function(e){return e.type==="keypress"?Ec(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ec(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zE=qr(UE),WE=kt({},Lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hv=qr(WE),VE=kt({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zp}),HE=qr(VE),GE=kt({},Jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),qE=qr(GE),KE=kt({},Lu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YE=qr(KE),QE=[9,13,27,32],em=ns&&"CompositionEvent"in window,Ai=null;ns&&"documentMode"in document&&(Ai=document.documentMode);var JE=ns&&"TextEvent"in window&&!Ai,c0=ns&&(!em||Ai&&8<Ai&&11>=Ai),pv=" ",mv=!1;function u0(e,t){switch(e){case"keyup":return QE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oo=!1;function XE(e,t){switch(e){case"compositionend":return d0(t);case"keypress":return t.which!==32?null:(mv=!0,pv);case"textInput":return e=t.data,e===pv&&mv?null:e;default:return null}}function ZE(e,t){if(oo)return e==="compositionend"||!em&&u0(e,t)?(e=l0(),Cc=Jp=As=null,oo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return c0&&t.locale!=="ko"?null:t.data;default:return null}}var eP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eP[e.type]:t==="textarea"}function f0(e,t,r,n){Wb(n),t=Xc(t,"onChange"),0<t.length&&(r=new Xp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ii=null,Qi=null;function tP(e){_0(e,0)}function $u(e){var t=co(e);if(Bb(t))return e}function rP(e,t){if(e==="change")return t}var h0=!1;if(ns){var nf;if(ns){var sf="oninput"in document;if(!sf){var vv=document.createElement("div");vv.setAttribute("oninput","return;"),sf=typeof vv.oninput=="function"}nf=sf}else nf=!1;h0=nf&&(!document.documentMode||9<document.documentMode)}function yv(){Ii&&(Ii.detachEvent("onpropertychange",p0),Qi=Ii=null)}function p0(e){if(e.propertyName==="value"&&$u(Qi)){var t=[];f0(t,Qi,e,Gp(e)),qb(tP,t)}}function nP(e,t,r){e==="focusin"?(yv(),Ii=t,Qi=r,Ii.attachEvent("onpropertychange",p0)):e==="focusout"&&yv()}function sP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $u(Qi)}function aP(e,t){if(e==="click")return $u(t)}function oP(e,t){if(e==="input"||e==="change")return $u(t)}function iP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jn=typeof Object.is=="function"?Object.is:iP;function Ji(e,t){if(jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!rh.call(t,s)||!jn(e[s],t[s]))return!1}return!0}function xv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bv(e,t){var r=xv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xv(r)}}function m0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?m0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function g0(){for(var e=window,t=Hc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hc(e.document)}return t}function tm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lP(e){var t=g0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&m0(r.ownerDocument.documentElement,r)){if(n!==null&&tm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=bv(r,a);var i=bv(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cP=ns&&"documentMode"in document&&11>=document.documentMode,io=null,wh=null,Di=null,Sh=!1;function wv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sh||io==null||io!==Hc(n)||(n=io,"selectionStart"in n&&tm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Di&&Ji(Di,n)||(Di=n,n=Xc(wh,"onSelect"),0<n.length&&(t=new Xp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=io)))}function Xl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var lo={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionend:Xl("Transition","TransitionEnd")},af={},v0={};ns&&(v0=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function Fu(e){if(af[e])return af[e];if(!lo[e])return e;var t=lo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in v0)return af[e]=t[r];return e}var y0=Fu("animationend"),x0=Fu("animationiteration"),b0=Fu("animationstart"),w0=Fu("transitionend"),S0=new Map,Sv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ea(e,t){S0.set(e,t),$a(t,[e])}for(var of=0;of<Sv.length;of++){var lf=Sv[of],uP=lf.toLowerCase(),dP=lf[0].toUpperCase()+lf.slice(1);ea(uP,"on"+dP)}ea(y0,"onAnimationEnd");ea(x0,"onAnimationIteration");ea(b0,"onAnimationStart");ea("dblclick","onDoubleClick");ea("focusin","onFocus");ea("focusout","onBlur");ea(w0,"onTransitionEnd");Bo("onMouseEnter",["mouseout","mouseover"]);Bo("onMouseLeave",["mouseout","mouseover"]);Bo("onPointerEnter",["pointerout","pointerover"]);Bo("onPointerLeave",["pointerout","pointerover"]);$a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$a("onBeforeInput",["compositionend","keypress","textInput","paste"]);$a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ci));function _v(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,uE(n,t,void 0,e),e.currentTarget=null}function _0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;_v(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;_v(s,l,u),a=c}}}if(qc)throw e=vh,qc=!1,vh=null,e}function Nt(e,t){var r=t[Eh];r===void 0&&(r=t[Eh]=new Set);var n=e+"__bubble";r.has(n)||(N0(t,e,2,!1),r.add(n))}function cf(e,t,r){var n=0;t&&(n|=4),N0(r,e,n,t)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function Xi(e){if(!e[Zl]){e[Zl]=!0,Rb.forEach(function(r){r!=="selectionchange"&&(fP.has(r)||cf(r,!1,e),cf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zl]||(t[Zl]=!0,cf("selectionchange",!1,t))}}function N0(e,t,r,n){switch(i0(t)){case 1:var s=CE;break;case 4:s=EE;break;default:s=Qp}r=s.bind(null,t,r,e),s=void 0,!gh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function uf(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=va(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}qb(function(){var u=a,d=Gp(r),f=[];e:{var h=S0.get(e);if(h!==void 0){var p=Xp,y=e;switch(e){case"keypress":if(Ec(r)===0)break e;case"keydown":case"keyup":p=zE;break;case"focusin":y="focus",p=rf;break;case"focusout":y="blur",p=rf;break;case"beforeblur":case"afterblur":p=rf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=kE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=HE;break;case y0:case x0:case b0:p=IE;break;case w0:p=qE;break;case"scroll":p=PE;break;case"wheel":p=YE;break;case"copy":case"cut":case"paste":p=OE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=hv}var v=(t&4)!==0,x=!v&&e==="scroll",w=v?h!==null?h+"Capture":null:h;v=[];for(var b=u,g;b!==null;){g=b;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,w!==null&&(S=Gi(b,w),S!=null&&v.push(Zi(b,S,g)))),x)break;b=b.return}0<v.length&&(h=new p(h,y,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==ph&&(y=r.relatedTarget||r.fromElement)&&(va(y)||y[ss]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?va(y):null,y!==null&&(x=Fa(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(v=dv,S="onMouseLeave",w="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=hv,S="onPointerLeave",w="onPointerEnter",b="pointer"),x=p==null?h:co(p),g=y==null?h:co(y),h=new v(S,b+"leave",p,r,d),h.target=x,h.relatedTarget=g,S=null,va(d)===u&&(v=new v(w,b+"enter",y,r,d),v.target=g,v.relatedTarget=x,S=v),x=S,p&&y)t:{for(v=p,w=y,b=0,g=v;g;g=Ha(g))b++;for(g=0,S=w;S;S=Ha(S))g++;for(;0<b-g;)v=Ha(v),b--;for(;0<g-b;)w=Ha(w),g--;for(;b--;){if(v===w||w!==null&&v===w.alternate)break t;v=Ha(v),w=Ha(w)}v=null}else v=null;p!==null&&Nv(f,h,p,v,!1),y!==null&&x!==null&&Nv(f,x,y,v,!0)}}e:{if(h=u?co(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=rP;else if(gv(h))if(h0)N=oP;else{N=sP;var _=nP}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=aP);if(N&&(N=N(e,u))){f0(f,N,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&ch(h,"number",h.value)}switch(_=u?co(u):window,e){case"focusin":(gv(_)||_.contentEditable==="true")&&(io=_,wh=u,Di=null);break;case"focusout":Di=wh=io=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,wv(f,r,d);break;case"selectionchange":if(cP)break;case"keydown":case"keyup":wv(f,r,d)}var j;if(em)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else oo?u0(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(c0&&r.locale!=="ko"&&(oo||C!=="onCompositionStart"?C==="onCompositionEnd"&&oo&&(j=l0()):(As=d,Jp="value"in As?As.value:As.textContent,oo=!0)),_=Xc(u,C),0<_.length&&(C=new fv(C,e,null,r,d),f.push({event:C,listeners:_}),j?C.data=j:(j=d0(r),j!==null&&(C.data=j)))),(j=JE?XE(e,r):ZE(e,r))&&(u=Xc(u,"onBeforeInput"),0<u.length&&(d=new fv("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}_0(f,t)})}function Zi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Xc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Gi(e,r),a!=null&&n.unshift(Zi(e,a,s)),a=Gi(e,t),a!=null&&n.push(Zi(e,a,s))),e=e.return}return n}function Ha(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nv(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Gi(r,a),c!=null&&i.unshift(Zi(r,c,l))):s||(c=Gi(r,a),c!=null&&i.push(Zi(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var hP=/\r\n?/g,pP=/\u0000|\uFFFD/g;function jv(e){return(typeof e=="string"?e:""+e).replace(hP,`
`).replace(pP,"")}function ec(e,t,r){if(t=jv(t),jv(e)!==t&&r)throw Error(ue(425))}function Zc(){}var _h=null,Nh=null;function jh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ch=typeof setTimeout=="function"?setTimeout:void 0,mP=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,gP=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(e){return Cv.resolve(null).then(e).catch(vP)}:Ch;function vP(e){setTimeout(function(){throw e})}function df(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Yi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Yi(t)}function Ls(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ev(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),On="__reactFiber$"+Xo,el="__reactProps$"+Xo,ss="__reactContainer$"+Xo,Eh="__reactEvents$"+Xo,yP="__reactListeners$"+Xo,xP="__reactHandles$"+Xo;function va(e){var t=e[On];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ss]||r[On]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ev(e);e!==null;){if(r=e[On])return r;e=Ev(e)}return t}e=r,r=e.parentNode}return null}function _l(e){return e=e[On]||e[ss],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function co(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function Uu(e){return e[el]||null}var Ph=[],uo=-1;function ta(e){return{current:e}}function jt(e){0>uo||(e.current=Ph[uo],Ph[uo]=null,uo--)}function wt(e,t){uo++,Ph[uo]=e.current,e.current=t}var Ks={},ur=ta(Ks),kr=ta(!1),Ta=Ks;function Mo(e,t){var r=e.type.contextTypes;if(!r)return Ks;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Rr(e){return e=e.childContextTypes,e!=null}function eu(){jt(kr),jt(ur)}function Pv(e,t,r){if(ur.current!==Ks)throw Error(ue(168));wt(ur,t),wt(kr,r)}function j0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ue(108,nE(e)||"Unknown",s));return kt({},r,n)}function tu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ks,Ta=ur.current,wt(ur,e),wt(kr,kr.current),!0}function Tv(e,t,r){var n=e.stateNode;if(!n)throw Error(ue(169));r?(e=j0(e,t,Ta),n.__reactInternalMemoizedMergedChildContext=e,jt(kr),jt(ur),wt(ur,e)):jt(kr),wt(kr,r)}var Qn=null,zu=!1,ff=!1;function C0(e){Qn===null?Qn=[e]:Qn.push(e)}function bP(e){zu=!0,C0(e)}function ra(){if(!ff&&Qn!==null){ff=!0;var e=0,t=mt;try{var r=Qn;for(mt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Qn=null,zu=!1}catch(s){throw Qn!==null&&(Qn=Qn.slice(e+1)),Jb(qp,ra),s}finally{mt=t,ff=!1}}return null}var fo=[],ho=0,ru=null,nu=0,Zr=[],en=0,ka=null,Xn=1,Zn="";function fa(e,t){fo[ho++]=nu,fo[ho++]=ru,ru=e,nu=t}function E0(e,t,r){Zr[en++]=Xn,Zr[en++]=Zn,Zr[en++]=ka,ka=e;var n=Xn;e=Zn;var s=32-_n(n)-1;n&=~(1<<s),r+=1;var a=32-_n(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Xn=1<<32-_n(t)+s|r<<s|n,Zn=a+e}else Xn=1<<a|r<<s|n,Zn=e}function rm(e){e.return!==null&&(fa(e,1),E0(e,1,0))}function nm(e){for(;e===ru;)ru=fo[--ho],fo[ho]=null,nu=fo[--ho],fo[ho]=null;for(;e===ka;)ka=Zr[--en],Zr[en]=null,Zn=Zr[--en],Zr[en]=null,Xn=Zr[--en],Zr[en]=null}var Ur=null,$r=null,Et=!1,wn=null;function P0(e,t){var r=tn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function kv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ur=e,$r=Ls(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ur=e,$r=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ka!==null?{id:Xn,overflow:Zn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=tn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ur=e,$r=null,!0):!1;default:return!1}}function Th(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kh(e){if(Et){var t=$r;if(t){var r=t;if(!kv(e,t)){if(Th(e))throw Error(ue(418));t=Ls(r.nextSibling);var n=Ur;t&&kv(e,t)?P0(n,r):(e.flags=e.flags&-4097|2,Et=!1,Ur=e)}}else{if(Th(e))throw Error(ue(418));e.flags=e.flags&-4097|2,Et=!1,Ur=e}}}function Rv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ur=e}function tc(e){if(e!==Ur)return!1;if(!Et)return Rv(e),Et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jh(e.type,e.memoizedProps)),t&&(t=$r)){if(Th(e))throw T0(),Error(ue(418));for(;t;)P0(e,t),t=Ls(t.nextSibling)}if(Rv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){$r=Ls(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}$r=null}}else $r=Ur?Ls(e.stateNode.nextSibling):null;return!0}function T0(){for(var e=$r;e;)e=Ls(e.nextSibling)}function Lo(){$r=Ur=null,Et=!1}function sm(e){wn===null?wn=[e]:wn.push(e)}var wP=cs.ReactCurrentBatchConfig;function pi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var n=r.stateNode}if(!n)throw Error(ue(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function rc(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Av(e){var t=e._init;return t(e._payload)}function k0(e){function t(w,b){if(e){var g=w.deletions;g===null?(w.deletions=[b],w.flags|=16):g.push(b)}}function r(w,b){if(!e)return null;for(;b!==null;)t(w,b),b=b.sibling;return null}function n(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function s(w,b){return w=zs(w,b),w.index=0,w.sibling=null,w}function a(w,b,g){return w.index=g,e?(g=w.alternate,g!==null?(g=g.index,g<b?(w.flags|=2,b):g):(w.flags|=2,b)):(w.flags|=1048576,b)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,b,g,S){return b===null||b.tag!==6?(b=xf(g,w.mode,S),b.return=w,b):(b=s(b,g),b.return=w,b)}function c(w,b,g,S){var N=g.type;return N===ao?d(w,b,g.props.children,S,g.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ws&&Av(N)===b.type)?(S=s(b,g.props),S.ref=pi(w,b,g),S.return=w,S):(S=Dc(g.type,g.key,g.props,null,w.mode,S),S.ref=pi(w,b,g),S.return=w,S)}function u(w,b,g,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==g.containerInfo||b.stateNode.implementation!==g.implementation?(b=bf(g,w.mode,S),b.return=w,b):(b=s(b,g.children||[]),b.return=w,b)}function d(w,b,g,S,N){return b===null||b.tag!==7?(b=Ea(g,w.mode,S,N),b.return=w,b):(b=s(b,g),b.return=w,b)}function f(w,b,g){if(typeof b=="string"&&b!==""||typeof b=="number")return b=xf(""+b,w.mode,g),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hl:return g=Dc(b.type,b.key,b.props,null,w.mode,g),g.ref=pi(w,null,b),g.return=w,g;case so:return b=bf(b,w.mode,g),b.return=w,b;case ws:var S=b._init;return f(w,S(b._payload),g)}if(Ni(b)||ci(b))return b=Ea(b,w.mode,g,null),b.return=w,b;rc(w,b)}return null}function h(w,b,g,S){var N=b!==null?b.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:l(w,b,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Hl:return g.key===N?c(w,b,g,S):null;case so:return g.key===N?u(w,b,g,S):null;case ws:return N=g._init,h(w,b,N(g._payload),S)}if(Ni(g)||ci(g))return N!==null?null:d(w,b,g,S,null);rc(w,g)}return null}function p(w,b,g,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(g)||null,l(b,w,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hl:return w=w.get(S.key===null?g:S.key)||null,c(b,w,S,N);case so:return w=w.get(S.key===null?g:S.key)||null,u(b,w,S,N);case ws:var _=S._init;return p(w,b,g,_(S._payload),N)}if(Ni(S)||ci(S))return w=w.get(g)||null,d(b,w,S,N,null);rc(b,S)}return null}function y(w,b,g,S){for(var N=null,_=null,j=b,C=b=0,I=null;j!==null&&C<g.length;C++){j.index>C?(I=j,j=null):I=j.sibling;var P=h(w,j,g[C],S);if(P===null){j===null&&(j=I);break}e&&j&&P.alternate===null&&t(w,j),b=a(P,b,C),_===null?N=P:_.sibling=P,_=P,j=I}if(C===g.length)return r(w,j),Et&&fa(w,C),N;if(j===null){for(;C<g.length;C++)j=f(w,g[C],S),j!==null&&(b=a(j,b,C),_===null?N=j:_.sibling=j,_=j);return Et&&fa(w,C),N}for(j=n(w,j);C<g.length;C++)I=p(j,w,C,g[C],S),I!==null&&(e&&I.alternate!==null&&j.delete(I.key===null?C:I.key),b=a(I,b,C),_===null?N=I:_.sibling=I,_=I);return e&&j.forEach(function(F){return t(w,F)}),Et&&fa(w,C),N}function v(w,b,g,S){var N=ci(g);if(typeof N!="function")throw Error(ue(150));if(g=N.call(g),g==null)throw Error(ue(151));for(var _=N=null,j=b,C=b=0,I=null,P=g.next();j!==null&&!P.done;C++,P=g.next()){j.index>C?(I=j,j=null):I=j.sibling;var F=h(w,j,P.value,S);if(F===null){j===null&&(j=I);break}e&&j&&F.alternate===null&&t(w,j),b=a(F,b,C),_===null?N=F:_.sibling=F,_=F,j=I}if(P.done)return r(w,j),Et&&fa(w,C),N;if(j===null){for(;!P.done;C++,P=g.next())P=f(w,P.value,S),P!==null&&(b=a(P,b,C),_===null?N=P:_.sibling=P,_=P);return Et&&fa(w,C),N}for(j=n(w,j);!P.done;C++,P=g.next())P=p(j,w,C,P.value,S),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?C:P.key),b=a(P,b,C),_===null?N=P:_.sibling=P,_=P);return e&&j.forEach(function(A){return t(w,A)}),Et&&fa(w,C),N}function x(w,b,g,S){if(typeof g=="object"&&g!==null&&g.type===ao&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Hl:e:{for(var N=g.key,_=b;_!==null;){if(_.key===N){if(N=g.type,N===ao){if(_.tag===7){r(w,_.sibling),b=s(_,g.props.children),b.return=w,w=b;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ws&&Av(N)===_.type){r(w,_.sibling),b=s(_,g.props),b.ref=pi(w,_,g),b.return=w,w=b;break e}r(w,_);break}else t(w,_);_=_.sibling}g.type===ao?(b=Ea(g.props.children,w.mode,S,g.key),b.return=w,w=b):(S=Dc(g.type,g.key,g.props,null,w.mode,S),S.ref=pi(w,b,g),S.return=w,w=S)}return i(w);case so:e:{for(_=g.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===g.containerInfo&&b.stateNode.implementation===g.implementation){r(w,b.sibling),b=s(b,g.children||[]),b.return=w,w=b;break e}else{r(w,b);break}else t(w,b);b=b.sibling}b=bf(g,w.mode,S),b.return=w,w=b}return i(w);case ws:return _=g._init,x(w,b,_(g._payload),S)}if(Ni(g))return y(w,b,g,S);if(ci(g))return v(w,b,g,S);rc(w,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,b!==null&&b.tag===6?(r(w,b.sibling),b=s(b,g),b.return=w,w=b):(r(w,b),b=xf(g,w.mode,S),b.return=w,w=b),i(w)):r(w,b)}return x}var $o=k0(!0),R0=k0(!1),su=ta(null),au=null,po=null,am=null;function om(){am=po=au=null}function im(e){var t=su.current;jt(su),e._currentValue=t}function Rh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function So(e,t){au=e,am=po=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tr=!0),e.firstContext=null)}function on(e){var t=e._currentValue;if(am!==e)if(e={context:e,memoizedValue:t,next:null},po===null){if(au===null)throw Error(ue(308));po=e,au.dependencies={lanes:0,firstContext:e}}else po=po.next=e;return t}var ya=null;function lm(e){ya===null?ya=[e]:ya.push(e)}function A0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,lm(t)):(r.next=s.next,s.next=r),t.interleaved=r,as(e,n)}function as(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ss=!1;function cm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ts(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $s(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,as(e,r)}return s=n.interleaved,s===null?(t.next=t,lm(n)):(t.next=s.next,s.next=t),n.interleaved=t,as(e,r)}function Pc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kp(e,r)}}function Iv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ou(e,t,r,n){var s=e.updateQueue;Ss=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,d=u=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,v=l;switch(h=t,p=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=kt({},f,h);break e;case 2:Ss=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Aa|=i,e.lanes=i,e.memoizedState=f}}function Dv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ue(191,s));s.call(n)}}}var Nl={},$n=ta(Nl),tl=ta(Nl),rl=ta(Nl);function xa(e){if(e===Nl)throw Error(ue(174));return e}function um(e,t){switch(wt(rl,t),wt(tl,e),wt($n,Nl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dh(t,e)}jt($n),wt($n,t)}function Fo(){jt($n),jt(tl),jt(rl)}function D0(e){xa(rl.current);var t=xa($n.current),r=dh(t,e.type);t!==r&&(wt(tl,e),wt($n,r))}function dm(e){tl.current===e&&(jt($n),jt(tl))}var Pt=ta(0);function iu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hf=[];function fm(){for(var e=0;e<hf.length;e++)hf[e]._workInProgressVersionPrimary=null;hf.length=0}var Tc=cs.ReactCurrentDispatcher,pf=cs.ReactCurrentBatchConfig,Ra=0,Tt=null,Ft=null,Wt=null,lu=!1,Oi=!1,nl=0,SP=0;function rr(){throw Error(ue(321))}function hm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!jn(e[r],t[r]))return!1;return!0}function pm(e,t,r,n,s,a){if(Ra=a,Tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tc.current=e===null||e.memoizedState===null?CP:EP,e=r(n,s),Oi){a=0;do{if(Oi=!1,nl=0,25<=a)throw Error(ue(301));a+=1,Wt=Ft=null,t.updateQueue=null,Tc.current=PP,e=r(n,s)}while(Oi)}if(Tc.current=cu,t=Ft!==null&&Ft.next!==null,Ra=0,Wt=Ft=Tt=null,lu=!1,t)throw Error(ue(300));return e}function mm(){var e=nl!==0;return nl=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Tt.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function ln(){if(Ft===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var t=Wt===null?Tt.memoizedState:Wt.next;if(t!==null)Wt=t,Ft=e;else{if(e===null)throw Error(ue(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Wt===null?Tt.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function sl(e,t){return typeof t=="function"?t(e):t}function mf(e){var t=ln(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=Ft,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((Ra&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Tt.lanes|=d,Aa|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,jn(n,t.memoizedState)||(Tr=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Tt.lanes|=a,Aa|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function gf(e){var t=ln(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);jn(a,t.memoizedState)||(Tr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function O0(){}function B0(e,t){var r=Tt,n=ln(),s=t(),a=!jn(n.memoizedState,s);if(a&&(n.memoizedState=s,Tr=!0),n=n.queue,gm($0.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Wt!==null&&Wt.memoizedState.tag&1){if(r.flags|=2048,al(9,L0.bind(null,r,n,s,t),void 0,null),Vt===null)throw Error(ue(349));Ra&30||M0(r,t,s)}return s}function M0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Tt.updateQueue,t===null?(t={lastEffect:null,stores:null},Tt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function L0(e,t,r,n){t.value=r,t.getSnapshot=n,F0(t)&&U0(e)}function $0(e,t,r){return r(function(){F0(t)&&U0(e)})}function F0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!jn(e,r)}catch{return!0}}function U0(e){var t=as(e,1);t!==null&&Nn(t,e,1,-1)}function Ov(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:e},t.queue=e,e=e.dispatch=jP.bind(null,Tt,e),[t.memoizedState,e]}function al(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Tt.updateQueue,t===null?(t={lastEffect:null,stores:null},Tt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function z0(){return ln().memoizedState}function kc(e,t,r,n){var s=Rn();Tt.flags|=e,s.memoizedState=al(1|t,r,void 0,n===void 0?null:n)}function Wu(e,t,r,n){var s=ln();n=n===void 0?null:n;var a=void 0;if(Ft!==null){var i=Ft.memoizedState;if(a=i.destroy,n!==null&&hm(n,i.deps)){s.memoizedState=al(t,r,a,n);return}}Tt.flags|=e,s.memoizedState=al(1|t,r,a,n)}function Bv(e,t){return kc(8390656,8,e,t)}function gm(e,t){return Wu(2048,8,e,t)}function W0(e,t){return Wu(4,2,e,t)}function V0(e,t){return Wu(4,4,e,t)}function H0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function G0(e,t,r){return r=r!=null?r.concat([e]):null,Wu(4,4,H0.bind(null,t,e),r)}function vm(){}function q0(e,t){var r=ln();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function K0(e,t){var r=ln();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Y0(e,t,r){return Ra&21?(jn(r,t)||(r=e0(),Tt.lanes|=r,Aa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tr=!0),e.memoizedState=r)}function _P(e,t){var r=mt;mt=r!==0&&4>r?r:4,e(!0);var n=pf.transition;pf.transition={};try{e(!1),t()}finally{mt=r,pf.transition=n}}function Q0(){return ln().memoizedState}function NP(e,t,r){var n=Us(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},J0(e))X0(t,r);else if(r=A0(e,t,r,n),r!==null){var s=xr();Nn(r,e,n,s),Z0(r,t,n)}}function jP(e,t,r){var n=Us(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(J0(e))X0(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,jn(l,i)){var c=t.interleaved;c===null?(s.next=s,lm(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=A0(e,t,s,n),r!==null&&(s=xr(),Nn(r,e,n,s),Z0(r,t,n))}}function J0(e){var t=e.alternate;return e===Tt||t!==null&&t===Tt}function X0(e,t){Oi=lu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Z0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kp(e,r)}}var cu={readContext:on,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useInsertionEffect:rr,useLayoutEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useMutableSource:rr,useSyncExternalStore:rr,useId:rr,unstable_isNewReconciler:!1},CP={readContext:on,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:on,useEffect:Bv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,kc(4194308,4,H0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return kc(4194308,4,e,t)},useInsertionEffect:function(e,t){return kc(4,2,e,t)},useMemo:function(e,t){var r=Rn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=NP.bind(null,Tt,e),[n.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:Ov,useDebugValue:vm,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=Ov(!1),t=e[0];return e=_P.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Tt,s=Rn();if(Et){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=t(),Vt===null)throw Error(ue(349));Ra&30||M0(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Bv($0.bind(null,n,a,e),[e]),n.flags|=2048,al(9,L0.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Rn(),t=Vt.identifierPrefix;if(Et){var r=Zn,n=Xn;r=(n&~(1<<32-_n(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=nl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=SP++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},EP={readContext:on,useCallback:q0,useContext:on,useEffect:gm,useImperativeHandle:G0,useInsertionEffect:W0,useLayoutEffect:V0,useMemo:K0,useReducer:mf,useRef:z0,useState:function(){return mf(sl)},useDebugValue:vm,useDeferredValue:function(e){var t=ln();return Y0(t,Ft.memoizedState,e)},useTransition:function(){var e=mf(sl)[0],t=ln().memoizedState;return[e,t]},useMutableSource:O0,useSyncExternalStore:B0,useId:Q0,unstable_isNewReconciler:!1},PP={readContext:on,useCallback:q0,useContext:on,useEffect:gm,useImperativeHandle:G0,useInsertionEffect:W0,useLayoutEffect:V0,useMemo:K0,useReducer:gf,useRef:z0,useState:function(){return gf(sl)},useDebugValue:vm,useDeferredValue:function(e){var t=ln();return Ft===null?t.memoizedState=e:Y0(t,Ft.memoizedState,e)},useTransition:function(){var e=gf(sl)[0],t=ln().memoizedState;return[e,t]},useMutableSource:O0,useSyncExternalStore:B0,useId:Q0,unstable_isNewReconciler:!1};function mn(e,t){if(e&&e.defaultProps){t=kt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ah(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:kt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Vu={isMounted:function(e){return(e=e._reactInternals)?Fa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=xr(),s=Us(e),a=ts(n,s);a.payload=t,r!=null&&(a.callback=r),t=$s(e,a,s),t!==null&&(Nn(t,e,s,n),Pc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=xr(),s=Us(e),a=ts(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=$s(e,a,s),t!==null&&(Nn(t,e,s,n),Pc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xr(),n=Us(e),s=ts(r,n);s.tag=2,t!=null&&(s.callback=t),t=$s(e,s,n),t!==null&&(Nn(t,e,n,r),Pc(t,e,n))}};function Mv(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Ji(r,n)||!Ji(s,a):!0}function ew(e,t,r){var n=!1,s=Ks,a=t.contextType;return typeof a=="object"&&a!==null?a=on(a):(s=Rr(t)?Ta:ur.current,n=t.contextTypes,a=(n=n!=null)?Mo(e,s):Ks),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Lv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Vu.enqueueReplaceState(t,t.state,null)}function Ih(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},cm(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=on(a):(a=Rr(t)?Ta:ur.current,s.context=Mo(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ah(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Vu.enqueueReplaceState(s,s.state,null),ou(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Uo(e,t){try{var r="",n=t;do r+=rE(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function vf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Dh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var TP=typeof WeakMap=="function"?WeakMap:Map;function tw(e,t,r){r=ts(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){du||(du=!0,Vh=n),Dh(e,t)},r}function rw(e,t,r){r=ts(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Dh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Dh(e,t),typeof n!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function $v(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new TP;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=WP.bind(null,e,t,r),t.then(e,e))}function Fv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uv(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ts(-1,1),t.tag=2,$s(r,t,1))),r.lanes|=1),e)}var kP=cs.ReactCurrentOwner,Tr=!1;function gr(e,t,r,n){t.child=e===null?R0(t,null,r,n):$o(t,e.child,r,n)}function zv(e,t,r,n,s){r=r.render;var a=t.ref;return So(t,s),n=pm(e,t,r,n,a,s),r=mm(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,os(e,t,s)):(Et&&r&&rm(t),t.flags|=1,gr(e,t,n,s),t.child)}function Wv(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!jm(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,nw(e,t,a,n,s)):(e=Dc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ji,r(i,n)&&e.ref===t.ref)return os(e,t,s)}return t.flags|=1,e=zs(a,n),e.ref=t.ref,e.return=t,t.child=e}function nw(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Ji(a,n)&&e.ref===t.ref)if(Tr=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Tr=!0);else return t.lanes=e.lanes,os(e,t,s)}return Oh(e,t,r,n,s)}function sw(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(go,Mr),Mr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,wt(go,Mr),Mr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,wt(go,Mr),Mr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,wt(go,Mr),Mr|=n;return gr(e,t,s,r),t.child}function aw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Oh(e,t,r,n,s){var a=Rr(r)?Ta:ur.current;return a=Mo(t,a),So(t,s),r=pm(e,t,r,n,a,s),n=mm(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,os(e,t,s)):(Et&&n&&rm(t),t.flags|=1,gr(e,t,r,s),t.child)}function Vv(e,t,r,n,s){if(Rr(r)){var a=!0;tu(t)}else a=!1;if(So(t,s),t.stateNode===null)Rc(e,t),ew(t,r,n),Ih(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=on(u):(u=Rr(r)?Ta:ur.current,u=Mo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Lv(t,i,n,u),Ss=!1;var h=t.memoizedState;i.state=h,ou(t,n,i,s),c=t.memoizedState,l!==n||h!==c||kr.current||Ss?(typeof d=="function"&&(Ah(t,r,d,n),c=t.memoizedState),(l=Ss||Mv(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,I0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:mn(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=on(c):(c=Rr(r)?Ta:ur.current,c=Mo(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Lv(t,i,n,c),Ss=!1,h=t.memoizedState,i.state=h,ou(t,n,i,s);var y=t.memoizedState;l!==f||h!==y||kr.current||Ss?(typeof p=="function"&&(Ah(t,r,p,n),y=t.memoizedState),(u=Ss||Mv(t,r,u,n,h,y,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),i.props=n,i.state=y,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Bh(e,t,r,n,a,s)}function Bh(e,t,r,n,s,a){aw(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Tv(t,r,!1),os(e,t,a);n=t.stateNode,kP.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=$o(t,e.child,null,a),t.child=$o(t,null,l,a)):gr(e,t,l,a),t.memoizedState=n.state,s&&Tv(t,r,!0),t.child}function ow(e){var t=e.stateNode;t.pendingContext?Pv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pv(e,t.context,!1),um(e,t.containerInfo)}function Hv(e,t,r,n,s){return Lo(),sm(s),t.flags|=256,gr(e,t,r,n),t.child}var Mh={dehydrated:null,treeContext:null,retryLane:0};function Lh(e){return{baseLanes:e,cachePool:null,transitions:null}}function iw(e,t,r){var n=t.pendingProps,s=Pt.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),wt(Pt,s&1),e===null)return kh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=qu(i,n,0,null),e=Ea(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Lh(r),t.memoizedState=Mh,e):ym(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return RP(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=zs(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=zs(l,a):(a=Ea(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Lh(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Mh,n}return a=e.child,e=a.sibling,n=zs(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ym(e,t){return t=qu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nc(e,t,r,n){return n!==null&&sm(n),$o(t,e.child,null,r),e=ym(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function RP(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=vf(Error(ue(422))),nc(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=qu({mode:"visible",children:n.children},s,0,null),a=Ea(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&$o(t,e.child,null,i),t.child.memoizedState=Lh(i),t.memoizedState=Mh,a);if(!(t.mode&1))return nc(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(ue(419)),n=vf(a,n,void 0),nc(e,t,i,n)}if(l=(i&e.childLanes)!==0,Tr||l){if(n=Vt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,as(e,s),Nn(n,e,s,-1))}return Nm(),n=vf(Error(ue(421))),nc(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=VP.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,$r=Ls(s.nextSibling),Ur=t,Et=!0,wn=null,e!==null&&(Zr[en++]=Xn,Zr[en++]=Zn,Zr[en++]=ka,Xn=e.id,Zn=e.overflow,ka=t),t=ym(t,n.children),t.flags|=4096,t)}function Gv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Rh(e.return,t,r)}function yf(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function lw(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(gr(e,t,n.children,r),n=Pt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gv(e,r,t);else if(e.tag===19)Gv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(wt(Pt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&iu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),yf(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&iu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}yf(t,!0,r,null,a);break;case"together":yf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function os(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Aa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,r=zs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=zs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function AP(e,t,r){switch(t.tag){case 3:ow(t),Lo();break;case 5:D0(t);break;case 1:Rr(t.type)&&tu(t);break;case 4:um(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;wt(su,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(wt(Pt,Pt.current&1),t.flags|=128,null):r&t.child.childLanes?iw(e,t,r):(wt(Pt,Pt.current&1),e=os(e,t,r),e!==null?e.sibling:null);wt(Pt,Pt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return lw(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),wt(Pt,Pt.current),n)break;return null;case 22:case 23:return t.lanes=0,sw(e,t,r)}return os(e,t,r)}var cw,$h,uw,dw;cw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};$h=function(){};uw=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,xa($n.current);var a=null;switch(r){case"input":s=ih(e,s),n=ih(e,n),a=[];break;case"select":s=kt({},s,{value:void 0}),n=kt({},n,{value:void 0}),a=[];break;case"textarea":s=uh(e,s),n=uh(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Zc)}fh(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vi.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Nt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};dw=function(e,t,r,n){r!==n&&(t.flags|=4)};function mi(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function nr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function IP(e,t,r){var n=t.pendingProps;switch(nm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(t),null;case 1:return Rr(t.type)&&eu(),nr(t),null;case 3:return n=t.stateNode,Fo(),jt(kr),jt(ur),fm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(tc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wn!==null&&(qh(wn),wn=null))),$h(e,t),nr(t),null;case 5:dm(t);var s=xa(rl.current);if(r=t.type,e!==null&&t.stateNode!=null)uw(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ue(166));return nr(t),null}if(e=xa($n.current),tc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[On]=t,n[el]=a,e=(t.mode&1)!==0,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<Ci.length;s++)Nt(Ci[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":tv(n,a),Nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Nt("invalid",n);break;case"textarea":nv(n,a),Nt("invalid",n)}fh(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&ec(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ec(n.textContent,l,e),s=["children",""+l]):Vi.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Nt("scroll",n)}switch(r){case"input":Gl(n),rv(n,a,!0);break;case"textarea":Gl(n),sv(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Zc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$b(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[On]=t,e[el]=n,cw(e,t,!1,!1),t.stateNode=e;e:{switch(i=hh(r,n),r){case"dialog":Nt("cancel",e),Nt("close",e),s=n;break;case"iframe":case"object":case"embed":Nt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ci.length;s++)Nt(Ci[s],e);s=n;break;case"source":Nt("error",e),s=n;break;case"img":case"image":case"link":Nt("error",e),Nt("load",e),s=n;break;case"details":Nt("toggle",e),s=n;break;case"input":tv(e,n),s=ih(e,n),Nt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=kt({},n,{value:void 0}),Nt("invalid",e);break;case"textarea":nv(e,n),s=uh(e,n),Nt("invalid",e);break;default:s=n}fh(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?zb(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Fb(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Hi(e,c):typeof c=="number"&&Hi(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Vi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Nt("scroll",e):c!=null&&zp(e,a,c,i))}switch(r){case"input":Gl(e),rv(e,n,!1);break;case"textarea":Gl(e),sv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+qs(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?yo(e,!!n.multiple,a,!1):n.defaultValue!=null&&yo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Zc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nr(t),null;case 6:if(e&&t.stateNode!=null)dw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ue(166));if(r=xa(rl.current),xa($n.current),tc(t)){if(n=t.stateNode,r=t.memoizedProps,n[On]=t,(a=n.nodeValue!==r)&&(e=Ur,e!==null))switch(e.tag){case 3:ec(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ec(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[On]=t,t.stateNode=n}return nr(t),null;case 13:if(jt(Pt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Et&&$r!==null&&t.mode&1&&!(t.flags&128))T0(),Lo(),t.flags|=98560,a=!1;else if(a=tc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ue(317));a[On]=t}else Lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nr(t),a=!1}else wn!==null&&(qh(wn),wn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Pt.current&1?Ut===0&&(Ut=3):Nm())),t.updateQueue!==null&&(t.flags|=4),nr(t),null);case 4:return Fo(),$h(e,t),e===null&&Xi(t.stateNode.containerInfo),nr(t),null;case 10:return im(t.type._context),nr(t),null;case 17:return Rr(t.type)&&eu(),nr(t),null;case 19:if(jt(Pt),a=t.memoizedState,a===null)return nr(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)mi(a,!1);else{if(Ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=iu(e),i!==null){for(t.flags|=128,mi(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return wt(Pt,Pt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ot()>zo&&(t.flags|=128,n=!0,mi(a,!1),t.lanes=4194304)}else{if(!n)if(e=iu(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),mi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Et)return nr(t),null}else 2*Ot()-a.renderingStartTime>zo&&r!==1073741824&&(t.flags|=128,n=!0,mi(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ot(),t.sibling=null,r=Pt.current,wt(Pt,n?r&1|2:r&1),t):(nr(t),null);case 22:case 23:return _m(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Mr&1073741824&&(nr(t),t.subtreeFlags&6&&(t.flags|=8192)):nr(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function DP(e,t){switch(nm(t),t.tag){case 1:return Rr(t.type)&&eu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fo(),jt(kr),jt(ur),fm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dm(t),null;case 13:if(jt(Pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));Lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jt(Pt),null;case 4:return Fo(),null;case 10:return im(t.type._context),null;case 22:case 23:return _m(),null;case 24:return null;default:return null}}var sc=!1,cr=!1,OP=typeof WeakSet=="function"?WeakSet:Set,we=null;function mo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){It(e,t,n)}else r.current=null}function Fh(e,t,r){try{r()}catch(n){It(e,t,n)}}var qv=!1;function BP(e,t){if(_h=Qc,e=g0(),tm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===a&&++d===n&&(c=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Nh={focusedElem:e,selectionRange:r},Qc=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,x=y.memoizedState,w=t.stateNode,b=w.getSnapshotBeforeUpdate(t.elementType===t.type?v:mn(t.type,v),x);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(S){It(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return y=qv,qv=!1,y}function Bi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Fh(t,r,a)}s=s.next}while(s!==n)}}function Hu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Uh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function fw(e){var t=e.alternate;t!==null&&(e.alternate=null,fw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[On],delete t[el],delete t[Eh],delete t[yP],delete t[xP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hw(e){return e.tag===5||e.tag===3||e.tag===4}function Kv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Zc));else if(n!==4&&(e=e.child,e!==null))for(zh(e,t,r),e=e.sibling;e!==null;)zh(e,t,r),e=e.sibling}function Wh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Wh(e,t,r),e=e.sibling;e!==null;)Wh(e,t,r),e=e.sibling}var Jt=null,xn=!1;function fs(e,t,r){for(r=r.child;r!==null;)pw(e,t,r),r=r.sibling}function pw(e,t,r){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(Mu,r)}catch{}switch(r.tag){case 5:cr||mo(r,t);case 6:var n=Jt,s=xn;Jt=null,fs(e,t,r),Jt=n,xn=s,Jt!==null&&(xn?(e=Jt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Jt.removeChild(r.stateNode));break;case 18:Jt!==null&&(xn?(e=Jt,r=r.stateNode,e.nodeType===8?df(e.parentNode,r):e.nodeType===1&&df(e,r),Yi(e)):df(Jt,r.stateNode));break;case 4:n=Jt,s=xn,Jt=r.stateNode.containerInfo,xn=!0,fs(e,t,r),Jt=n,xn=s;break;case 0:case 11:case 14:case 15:if(!cr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Fh(r,t,i),s=s.next}while(s!==n)}fs(e,t,r);break;case 1:if(!cr&&(mo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){It(r,t,l)}fs(e,t,r);break;case 21:fs(e,t,r);break;case 22:r.mode&1?(cr=(n=cr)||r.memoizedState!==null,fs(e,t,r),cr=n):fs(e,t,r);break;default:fs(e,t,r)}}function Yv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new OP),t.forEach(function(n){var s=HP.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function un(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Jt=l.stateNode,xn=!1;break e;case 3:Jt=l.stateNode.containerInfo,xn=!0;break e;case 4:Jt=l.stateNode.containerInfo,xn=!0;break e}l=l.return}if(Jt===null)throw Error(ue(160));pw(a,i,s),Jt=null,xn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){It(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mw(t,e),t=t.sibling}function mw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(un(t,e),kn(e),n&4){try{Bi(3,e,e.return),Hu(3,e)}catch(v){It(e,e.return,v)}try{Bi(5,e,e.return)}catch(v){It(e,e.return,v)}}break;case 1:un(t,e),kn(e),n&512&&r!==null&&mo(r,r.return);break;case 5:if(un(t,e),kn(e),n&512&&r!==null&&mo(r,r.return),e.flags&32){var s=e.stateNode;try{Hi(s,"")}catch(v){It(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Mb(s,a),hh(l,i);var u=hh(l,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?zb(s,f):d==="dangerouslySetInnerHTML"?Fb(s,f):d==="children"?Hi(s,f):zp(s,d,f,u)}switch(l){case"input":lh(s,a);break;case"textarea":Lb(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?yo(s,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?yo(s,!!a.multiple,a.defaultValue,!0):yo(s,!!a.multiple,a.multiple?[]:"",!1))}s[el]=a}catch(v){It(e,e.return,v)}}break;case 6:if(un(t,e),kn(e),n&4){if(e.stateNode===null)throw Error(ue(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(v){It(e,e.return,v)}}break;case 3:if(un(t,e),kn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yi(t.containerInfo)}catch(v){It(e,e.return,v)}break;case 4:un(t,e),kn(e);break;case 13:un(t,e),kn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(wm=Ot())),n&4&&Yv(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(cr=(u=cr)||d,un(t,e),cr=u):un(t,e),kn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(we=e,d=e.child;d!==null;){for(f=we=d;we!==null;){switch(h=we,p=h.child,h.tag){case 0:case 11:case 14:case 15:Bi(4,h,h.return);break;case 1:mo(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){It(n,r,v)}}break;case 5:mo(h,h.return);break;case 22:if(h.memoizedState!==null){Jv(f);continue}}p!==null?(p.return=h,we=p):Jv(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ub("display",i))}catch(v){It(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){It(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:un(t,e),kn(e),n&4&&Yv(e);break;case 21:break;default:un(t,e),kn(e)}}function kn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(hw(r)){var n=r;break e}r=r.return}throw Error(ue(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Hi(s,""),n.flags&=-33);var a=Kv(e);Wh(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Kv(e);zh(e,l,i);break;default:throw Error(ue(161))}}catch(c){It(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MP(e,t,r){we=e,gw(e)}function gw(e,t,r){for(var n=(e.mode&1)!==0;we!==null;){var s=we,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||sc;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||cr;l=sc;var u=cr;if(sc=i,(cr=c)&&!u)for(we=s;we!==null;)i=we,c=i.child,i.tag===22&&i.memoizedState!==null?Xv(s):c!==null?(c.return=i,we=c):Xv(s);for(;a!==null;)we=a,gw(a),a=a.sibling;we=s,sc=l,cr=u}Qv(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,we=a):Qv(e)}}function Qv(e){for(;we!==null;){var t=we;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cr||Hu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!cr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:mn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Dv(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Dv(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Yi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}cr||t.flags&512&&Uh(t)}catch(h){It(t,t.return,h)}}if(t===e){we=null;break}if(r=t.sibling,r!==null){r.return=t.return,we=r;break}we=t.return}}function Jv(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var r=t.sibling;if(r!==null){r.return=t.return,we=r;break}we=t.return}}function Xv(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Hu(4,t)}catch(c){It(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){It(t,s,c)}}var a=t.return;try{Uh(t)}catch(c){It(t,a,c)}break;case 5:var i=t.return;try{Uh(t)}catch(c){It(t,i,c)}}}catch(c){It(t,t.return,c)}if(t===e){we=null;break}var l=t.sibling;if(l!==null){l.return=t.return,we=l;break}we=t.return}}var LP=Math.ceil,uu=cs.ReactCurrentDispatcher,xm=cs.ReactCurrentOwner,nn=cs.ReactCurrentBatchConfig,st=0,Vt=null,Mt=null,Zt=0,Mr=0,go=ta(0),Ut=0,ol=null,Aa=0,Gu=0,bm=0,Mi=null,Er=null,wm=0,zo=1/0,Kn=null,du=!1,Vh=null,Fs=null,ac=!1,Is=null,fu=0,Li=0,Hh=null,Ac=-1,Ic=0;function xr(){return st&6?Ot():Ac!==-1?Ac:Ac=Ot()}function Us(e){return e.mode&1?st&2&&Zt!==0?Zt&-Zt:wP.transition!==null?(Ic===0&&(Ic=e0()),Ic):(e=mt,e!==0||(e=window.event,e=e===void 0?16:i0(e.type)),e):1}function Nn(e,t,r,n){if(50<Li)throw Li=0,Hh=null,Error(ue(185));wl(e,r,n),(!(st&2)||e!==Vt)&&(e===Vt&&(!(st&2)&&(Gu|=r),Ut===4&&js(e,Zt)),Ar(e,n),r===1&&st===0&&!(t.mode&1)&&(zo=Ot()+500,zu&&ra()))}function Ar(e,t){var r=e.callbackNode;wE(e,t);var n=Yc(e,e===Vt?Zt:0);if(n===0)r!==null&&iv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&iv(r),t===1)e.tag===0?bP(Zv.bind(null,e)):C0(Zv.bind(null,e)),gP(function(){!(st&6)&&ra()}),r=null;else{switch(t0(n)){case 1:r=qp;break;case 4:r=Xb;break;case 16:r=Kc;break;case 536870912:r=Zb;break;default:r=Kc}r=Nw(r,vw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function vw(e,t){if(Ac=-1,Ic=0,st&6)throw Error(ue(327));var r=e.callbackNode;if(_o()&&e.callbackNode!==r)return null;var n=Yc(e,e===Vt?Zt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=hu(e,n);else{t=n;var s=st;st|=2;var a=xw();(Vt!==e||Zt!==t)&&(Kn=null,zo=Ot()+500,Ca(e,t));do try{UP();break}catch(l){yw(e,l)}while(!0);om(),uu.current=a,st=s,Mt!==null?t=0:(Vt=null,Zt=0,t=Ut)}if(t!==0){if(t===2&&(s=yh(e),s!==0&&(n=s,t=Gh(e,s))),t===1)throw r=ol,Ca(e,0),js(e,n),Ar(e,Ot()),r;if(t===6)js(e,n);else{if(s=e.current.alternate,!(n&30)&&!$P(s)&&(t=hu(e,n),t===2&&(a=yh(e),a!==0&&(n=a,t=Gh(e,a))),t===1))throw r=ol,Ca(e,0),js(e,n),Ar(e,Ot()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ue(345));case 2:ha(e,Er,Kn);break;case 3:if(js(e,n),(n&130023424)===n&&(t=wm+500-Ot(),10<t)){if(Yc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){xr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ch(ha.bind(null,e,Er,Kn),t);break}ha(e,Er,Kn);break;case 4:if(js(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-_n(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=Ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*LP(n/1960))-n,10<n){e.timeoutHandle=Ch(ha.bind(null,e,Er,Kn),n);break}ha(e,Er,Kn);break;case 5:ha(e,Er,Kn);break;default:throw Error(ue(329))}}}return Ar(e,Ot()),e.callbackNode===r?vw.bind(null,e):null}function Gh(e,t){var r=Mi;return e.current.memoizedState.isDehydrated&&(Ca(e,t).flags|=256),e=hu(e,t),e!==2&&(t=Er,Er=r,t!==null&&qh(t)),e}function qh(e){Er===null?Er=e:Er.push.apply(Er,e)}function $P(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!jn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function js(e,t){for(t&=~bm,t&=~Gu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_n(t),n=1<<r;e[r]=-1,t&=~n}}function Zv(e){if(st&6)throw Error(ue(327));_o();var t=Yc(e,0);if(!(t&1))return Ar(e,Ot()),null;var r=hu(e,t);if(e.tag!==0&&r===2){var n=yh(e);n!==0&&(t=n,r=Gh(e,n))}if(r===1)throw r=ol,Ca(e,0),js(e,t),Ar(e,Ot()),r;if(r===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ha(e,Er,Kn),Ar(e,Ot()),null}function Sm(e,t){var r=st;st|=1;try{return e(t)}finally{st=r,st===0&&(zo=Ot()+500,zu&&ra())}}function Ia(e){Is!==null&&Is.tag===0&&!(st&6)&&_o();var t=st;st|=1;var r=nn.transition,n=mt;try{if(nn.transition=null,mt=1,e)return e()}finally{mt=n,nn.transition=r,st=t,!(st&6)&&ra()}}function _m(){Mr=go.current,jt(go)}function Ca(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mP(r)),Mt!==null)for(r=Mt.return;r!==null;){var n=r;switch(nm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&eu();break;case 3:Fo(),jt(kr),jt(ur),fm();break;case 5:dm(n);break;case 4:Fo();break;case 13:jt(Pt);break;case 19:jt(Pt);break;case 10:im(n.type._context);break;case 22:case 23:_m()}r=r.return}if(Vt=e,Mt=e=zs(e.current,null),Zt=Mr=t,Ut=0,ol=null,bm=Gu=Aa=0,Er=Mi=null,ya!==null){for(t=0;t<ya.length;t++)if(r=ya[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}ya=null}return e}function yw(e,t){do{var r=Mt;try{if(om(),Tc.current=cu,lu){for(var n=Tt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}lu=!1}if(Ra=0,Wt=Ft=Tt=null,Oi=!1,nl=0,xm.current=null,r===null||r.return===null){Ut=1,ol=t,Mt=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=Zt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Fv(i);if(p!==null){p.flags&=-257,Uv(p,i,l,a,t),p.mode&1&&$v(a,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break e}else{if(!(t&1)){$v(a,u,t),Nm();break e}c=Error(ue(426))}}else if(Et&&l.mode&1){var x=Fv(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Uv(x,i,l,a,t),sm(Uo(c,l));break e}}a=c=Uo(c,l),Ut!==4&&(Ut=2),Mi===null?Mi=[a]:Mi.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var w=tw(a,c,t);Iv(a,w);break e;case 1:l=c;var b=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Fs===null||!Fs.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=rw(a,l,t);Iv(a,S);break e}}a=a.return}while(a!==null)}ww(r)}catch(N){t=N,Mt===r&&r!==null&&(Mt=r=r.return);continue}break}while(!0)}function xw(){var e=uu.current;return uu.current=cu,e===null?cu:e}function Nm(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Vt===null||!(Aa&268435455)&&!(Gu&268435455)||js(Vt,Zt)}function hu(e,t){var r=st;st|=2;var n=xw();(Vt!==e||Zt!==t)&&(Kn=null,Ca(e,t));do try{FP();break}catch(s){yw(e,s)}while(!0);if(om(),st=r,uu.current=n,Mt!==null)throw Error(ue(261));return Vt=null,Zt=0,Ut}function FP(){for(;Mt!==null;)bw(Mt)}function UP(){for(;Mt!==null&&!fE();)bw(Mt)}function bw(e){var t=_w(e.alternate,e,Mr);e.memoizedProps=e.pendingProps,t===null?ww(e):Mt=t,xm.current=null}function ww(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=DP(r,t),r!==null){r.flags&=32767,Mt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ut=6,Mt=null;return}}else if(r=IP(r,t,Mr),r!==null){Mt=r;return}if(t=t.sibling,t!==null){Mt=t;return}Mt=t=e}while(t!==null);Ut===0&&(Ut=5)}function ha(e,t,r){var n=mt,s=nn.transition;try{nn.transition=null,mt=1,zP(e,t,r,n)}finally{nn.transition=s,mt=n}return null}function zP(e,t,r,n){do _o();while(Is!==null);if(st&6)throw Error(ue(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(SE(e,a),e===Vt&&(Mt=Vt=null,Zt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ac||(ac=!0,Nw(Kc,function(){return _o(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=nn.transition,nn.transition=null;var i=mt;mt=1;var l=st;st|=4,xm.current=null,BP(e,r),mw(r,e),lP(Nh),Qc=!!_h,Nh=_h=null,e.current=r,MP(r),hE(),st=l,mt=i,nn.transition=a}else e.current=r;if(ac&&(ac=!1,Is=e,fu=s),a=e.pendingLanes,a===0&&(Fs=null),gE(r.stateNode),Ar(e,Ot()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(du)throw du=!1,e=Vh,Vh=null,e;return fu&1&&e.tag!==0&&_o(),a=e.pendingLanes,a&1?e===Hh?Li++:(Li=0,Hh=e):Li=0,ra(),null}function _o(){if(Is!==null){var e=t0(fu),t=nn.transition,r=mt;try{if(nn.transition=null,mt=16>e?16:e,Is===null)var n=!1;else{if(e=Is,Is=null,fu=0,st&6)throw Error(ue(331));var s=st;for(st|=4,we=e.current;we!==null;){var a=we,i=a.child;if(we.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(we=u;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:Bi(8,d,a)}var f=d.child;if(f!==null)f.return=d,we=f;else for(;we!==null;){d=we;var h=d.sibling,p=d.return;if(fw(d),d===u){we=null;break}if(h!==null){h.return=p,we=h;break}we=p}}}var y=a.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}we=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,we=i;else e:for(;we!==null;){if(a=we,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Bi(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,we=w;break e}we=a.return}}var b=e.current;for(we=b;we!==null;){i=we;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,we=g;else e:for(i=b;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Hu(9,l)}}catch(N){It(l,l.return,N)}if(l===i){we=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,we=S;break e}we=l.return}}if(st=s,ra(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(Mu,e)}catch{}n=!0}return n}finally{mt=r,nn.transition=t}}return!1}function ey(e,t,r){t=Uo(r,t),t=tw(e,t,1),e=$s(e,t,1),t=xr(),e!==null&&(wl(e,1,t),Ar(e,t))}function It(e,t,r){if(e.tag===3)ey(e,e,r);else for(;t!==null;){if(t.tag===3){ey(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fs===null||!Fs.has(n))){e=Uo(r,e),e=rw(t,e,1),t=$s(t,e,1),e=xr(),t!==null&&(wl(t,1,e),Ar(t,e));break}}t=t.return}}function WP(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=xr(),e.pingedLanes|=e.suspendedLanes&r,Vt===e&&(Zt&r)===r&&(Ut===4||Ut===3&&(Zt&130023424)===Zt&&500>Ot()-wm?Ca(e,0):bm|=r),Ar(e,t)}function Sw(e,t){t===0&&(e.mode&1?(t=Yl,Yl<<=1,!(Yl&130023424)&&(Yl=4194304)):t=1);var r=xr();e=as(e,t),e!==null&&(wl(e,t,r),Ar(e,r))}function VP(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Sw(e,r)}function HP(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ue(314))}n!==null&&n.delete(t),Sw(e,r)}var _w;_w=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||kr.current)Tr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Tr=!1,AP(e,t,r);Tr=!!(e.flags&131072)}else Tr=!1,Et&&t.flags&1048576&&E0(t,nu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Rc(e,t),e=t.pendingProps;var s=Mo(t,ur.current);So(t,r),s=pm(null,t,n,e,s,r);var a=mm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(n)?(a=!0,tu(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cm(t),s.updater=Vu,t.stateNode=s,s._reactInternals=t,Ih(t,n,e,r),t=Bh(null,t,n,!0,a,r)):(t.tag=0,Et&&a&&rm(t),gr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Rc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=qP(n),e=mn(n,e),s){case 0:t=Oh(null,t,n,e,r);break e;case 1:t=Vv(null,t,n,e,r);break e;case 11:t=zv(null,t,n,e,r);break e;case 14:t=Wv(null,t,n,mn(n.type,e),r);break e}throw Error(ue(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:mn(n,s),Oh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:mn(n,s),Vv(e,t,n,s,r);case 3:e:{if(ow(t),e===null)throw Error(ue(387));n=t.pendingProps,a=t.memoizedState,s=a.element,I0(e,t),ou(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Uo(Error(ue(423)),t),t=Hv(e,t,n,r,s);break e}else if(n!==s){s=Uo(Error(ue(424)),t),t=Hv(e,t,n,r,s);break e}else for($r=Ls(t.stateNode.containerInfo.firstChild),Ur=t,Et=!0,wn=null,r=R0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lo(),n===s){t=os(e,t,r);break e}gr(e,t,n,r)}t=t.child}return t;case 5:return D0(t),e===null&&kh(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,jh(n,s)?i=null:a!==null&&jh(n,a)&&(t.flags|=32),aw(e,t),gr(e,t,i,r),t.child;case 6:return e===null&&kh(t),null;case 13:return iw(e,t,r);case 4:return um(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$o(t,null,n,r):gr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:mn(n,s),zv(e,t,n,s,r);case 7:return gr(e,t,t.pendingProps,r),t.child;case 8:return gr(e,t,t.pendingProps.children,r),t.child;case 12:return gr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,wt(su,n._currentValue),n._currentValue=i,a!==null)if(jn(a.value,i)){if(a.children===s.children&&!kr.current){t=os(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ts(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Rh(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(ue(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Rh(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}gr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,So(t,r),s=on(s),n=n(s),t.flags|=1,gr(e,t,n,r),t.child;case 14:return n=t.type,s=mn(n,t.pendingProps),s=mn(n.type,s),Wv(e,t,n,s,r);case 15:return nw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:mn(n,s),Rc(e,t),t.tag=1,Rr(n)?(e=!0,tu(t)):e=!1,So(t,r),ew(t,n,s),Ih(t,n,s,r),Bh(null,t,n,!0,e,r);case 19:return lw(e,t,r);case 22:return sw(e,t,r)}throw Error(ue(156,t.tag))};function Nw(e,t){return Jb(e,t)}function GP(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,t,r,n){return new GP(e,t,r,n)}function jm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qP(e){if(typeof e=="function")return jm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vp)return 11;if(e===Hp)return 14}return 2}function zs(e,t){var r=e.alternate;return r===null?(r=tn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Dc(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")jm(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ao:return Ea(r.children,s,a,t);case Wp:i=8,s|=8;break;case nh:return e=tn(12,r,t,s|2),e.elementType=nh,e.lanes=a,e;case sh:return e=tn(13,r,t,s),e.elementType=sh,e.lanes=a,e;case ah:return e=tn(19,r,t,s),e.elementType=ah,e.lanes=a,e;case Db:return qu(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ab:i=10;break e;case Ib:i=9;break e;case Vp:i=11;break e;case Hp:i=14;break e;case ws:i=16,n=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=tn(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Ea(e,t,r,n){return e=tn(7,e,n,t),e.lanes=r,e}function qu(e,t,r,n){return e=tn(22,e,n,t),e.elementType=Db,e.lanes=r,e.stateNode={isHidden:!1},e}function xf(e,t,r){return e=tn(6,e,null,t),e.lanes=r,e}function bf(e,t,r){return t=tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KP(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zd(0),this.expirationTimes=Zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cm(e,t,r,n,s,a,i,l,c){return e=new KP(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=tn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cm(a),e}function YP(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function jw(e){if(!e)return Ks;e=e._reactInternals;e:{if(Fa(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var r=e.type;if(Rr(r))return j0(e,r,t)}return t}function Cw(e,t,r,n,s,a,i,l,c){return e=Cm(r,n,!0,e,s,a,i,l,c),e.context=jw(null),r=e.current,n=xr(),s=Us(r),a=ts(n,s),a.callback=t??null,$s(r,a,s),e.current.lanes=s,wl(e,s,n),Ar(e,n),e}function Ku(e,t,r,n){var s=t.current,a=xr(),i=Us(s);return r=jw(r),t.context===null?t.context=r:t.pendingContext=r,t=ts(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=$s(s,t,i),e!==null&&(Nn(e,s,i,a),Pc(e,s,i)),i}function pu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ty(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Em(e,t){ty(e,t),(e=e.alternate)&&ty(e,t)}function QP(){return null}var Ew=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pm(e){this._internalRoot=e}Yu.prototype.render=Pm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));Ku(e,t,null,null)};Yu.prototype.unmount=Pm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ia(function(){Ku(null,e,null,null)}),t[ss]=null}};function Yu(e){this._internalRoot=e}Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=s0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ns.length&&t!==0&&t<Ns[r].priority;r++);Ns.splice(r,0,e),r===0&&o0(e)}};function Tm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ry(){}function JP(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=pu(i);a.call(u)}}var i=Cw(t,n,e,0,null,!1,!1,"",ry);return e._reactRootContainer=i,e[ss]=i.current,Xi(e.nodeType===8?e.parentNode:e),Ia(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=pu(c);l.call(u)}}var c=Cm(e,0,!1,null,null,!1,!1,"",ry);return e._reactRootContainer=c,e[ss]=c.current,Xi(e.nodeType===8?e.parentNode:e),Ia(function(){Ku(t,c,r,n)}),c}function Ju(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=pu(i);l.call(c)}}Ku(t,i,e,s)}else i=JP(r,t,e,s,n);return pu(i)}r0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ji(t.pendingLanes);r!==0&&(Kp(t,r|1),Ar(t,Ot()),!(st&6)&&(zo=Ot()+500,ra()))}break;case 13:Ia(function(){var n=as(e,1);if(n!==null){var s=xr();Nn(n,e,1,s)}}),Em(e,1)}};Yp=function(e){if(e.tag===13){var t=as(e,134217728);if(t!==null){var r=xr();Nn(t,e,134217728,r)}Em(e,134217728)}};n0=function(e){if(e.tag===13){var t=Us(e),r=as(e,t);if(r!==null){var n=xr();Nn(r,e,t,n)}Em(e,t)}};s0=function(){return mt};a0=function(e,t){var r=mt;try{return mt=e,t()}finally{mt=r}};mh=function(e,t,r){switch(t){case"input":if(lh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Uu(n);if(!s)throw Error(ue(90));Bb(n),lh(n,s)}}}break;case"textarea":Lb(e,r);break;case"select":t=r.value,t!=null&&yo(e,!!r.multiple,t,!1)}};Hb=Sm;Gb=Ia;var XP={usingClientEntryPoint:!1,Events:[_l,co,Uu,Wb,Vb,Sm]},gi={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZP={bundleType:gi.bundleType,version:gi.version,rendererPackageName:gi.rendererPackageName,rendererConfig:gi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yb(e),e===null?null:e.stateNode},findFiberByHostInstance:gi.findFiberByHostInstance||QP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{Mu=oc.inject(ZP),Ln=oc}catch{}}Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XP;Gr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tm(t))throw Error(ue(200));return YP(e,t,null,r)};Gr.createRoot=function(e,t){if(!Tm(e))throw Error(ue(299));var r=!1,n="",s=Ew;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cm(e,1,!1,null,null,r,!1,n,s),e[ss]=t.current,Xi(e.nodeType===8?e.parentNode:e),new Pm(t)};Gr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=Yb(t),e=e===null?null:e.stateNode,e};Gr.flushSync=function(e){return Ia(e)};Gr.hydrate=function(e,t,r){if(!Qu(t))throw Error(ue(200));return Ju(null,e,t,!0,r)};Gr.hydrateRoot=function(e,t,r){if(!Tm(e))throw Error(ue(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=Ew;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Cw(t,null,e,1,r??null,s,!1,a,i),e[ss]=t.current,Xi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Yu(t)};Gr.render=function(e,t,r){if(!Qu(t))throw Error(ue(200));return Ju(null,e,t,!1,r)};Gr.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(ue(40));return e._reactRootContainer?(Ia(function(){Ju(null,null,e,!1,function(){e._reactRootContainer=null,e[ss]=null})}),!0):!1};Gr.unstable_batchedUpdates=Sm;Gr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qu(r))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return Ju(e,t,r,!1,n)};Gr.version="18.3.1-next-f1338f8080-20240426";function Pw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pw)}catch(e){console.error(e)}}Pw(),Pb.exports=Gr;var na=Pb.exports;const km=Dp(na);var Tw,ny=na;Tw=ny.createRoot,ny.hydrateRoot;const eT=1,tT=1e6;let wf=0;function rT(){return wf=(wf+1)%Number.MAX_SAFE_INTEGER,wf.toString()}const Sf=new Map,sy=e=>{if(Sf.has(e))return;const t=setTimeout(()=>{Sf.delete(e),$i({type:"REMOVE_TOAST",toastId:e})},tT);Sf.set(e,t)},nT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,eT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?sy(r):e.toasts.forEach(n=>{sy(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Oc=[];let Bc={toasts:[]};function $i(e){Bc=nT(Bc,e),Oc.forEach(t=>{t(Bc)})}function Y({...e}){const t=rT(),r=s=>$i({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>$i({type:"DISMISS_TOAST",toastId:t});return $i({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function sT(){const[e,t]=m.useState(Bc);return m.useEffect(()=>(Oc.push(t),()=>{const r=Oc.indexOf(t);r>-1&&Oc.splice(r,1)}),[e]),{...e,toast:Y,dismiss:r=>$i({type:"DISMISS_TOAST",toastId:r})}}function Te(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function ay(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function kw(...e){return t=>{let r=!1;const n=e.map(s=>{const a=ay(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():ay(e[s],null)}}}}function gt(...e){return m.useCallback(kw(...e),e)}function aT(e,t){const r=m.createContext(t),n=a=>{const{children:i,...l}=a,c=m.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(a){const i=m.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function zn(e,t=[]){let r=[];function n(a,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=f=>{var w;const{scope:h,children:p,...y}=f,v=((w=h==null?void 0:h[e])==null?void 0:w[c])||l,x=m.useMemo(()=>y,Object.values(y));return o.jsx(v.Provider,{value:x,children:p})};u.displayName=a+"Provider";function d(f,h){var v;const p=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,y=m.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,oT(s,...t)]}function oT(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Wo(e){const t=lT(e),r=m.forwardRef((n,s)=>{const{children:a,...i}=n,l=m.Children.toArray(a),c=l.find(uT);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var iT=Wo("Slot");function lT(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const i=fT(s),l=dT(a,s.props);return s.type!==m.Fragment&&(l.ref=n?kw(n,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Rw=Symbol("radix.slottable");function cT(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Rw,t}function uT(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Rw}function dT(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function fT(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Rm(e){const t=e+"CollectionProvider",[r,n]=zn(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:x,children:w}=v,b=Z.useRef(null),g=Z.useRef(new Map).current;return o.jsx(s,{scope:x,itemMap:g,collectionRef:b,children:w})};i.displayName=t;const l=e+"CollectionSlot",c=Wo(l),u=Z.forwardRef((v,x)=>{const{scope:w,children:b}=v,g=a(l,w),S=gt(x,g.collectionRef);return o.jsx(c,{ref:S,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Wo(d),p=Z.forwardRef((v,x)=>{const{scope:w,children:b,...g}=v,S=Z.useRef(null),N=gt(x,S),_=a(d,w);return Z.useEffect(()=>(_.itemMap.set(S,{ref:S,...g}),()=>void _.itemMap.delete(S))),o.jsx(h,{[f]:"",ref:N,children:b})});p.displayName=d;function y(v){const x=a(e+"CollectionConsumer",v);return Z.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const g=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((_,j)=>g.indexOf(_.ref.current)-g.indexOf(j.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},y,n]}var hT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=hT.reduce((e,t)=>{const r=Wo(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Aw(e,t){e&&na.flushSync(()=>e.dispatchEvent(t))}function cn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function pT(e,t=globalThis==null?void 0:globalThis.document){const r=cn(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var mT="DismissableLayer",Kh="dismissableLayer.update",gT="dismissableLayer.pointerDownOutside",vT="dismissableLayer.focusOutside",oy,Iw=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jl=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(Iw),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),y=gt(t,j=>f(j)),v=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(x),b=d?v.indexOf(d):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=w,N=xT(j=>{const C=j.target,I=[...u.branches].some(P=>P.contains(C));!S||I||(s==null||s(j),i==null||i(j),j.defaultPrevented||l==null||l())},h),_=bT(j=>{const C=j.target;[...u.branches].some(P=>P.contains(C))||(a==null||a(j),i==null||i(j),j.defaultPrevented||l==null||l())},h);return pT(j=>{b===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(oy=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),iy(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=oy)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),iy())},[d,u]),m.useEffect(()=>{const j=()=>p({});return document.addEventListener(Kh,j),()=>document.removeEventListener(Kh,j)},[]),o.jsx(Be.div,{...c,ref:y,style:{pointerEvents:g?S?"auto":"none":void 0,...e.style},onFocusCapture:Te(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Te(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Te(e.onPointerDownCapture,N.onPointerDownCapture)})});jl.displayName=mT;var yT="DismissableLayerBranch",Dw=m.forwardRef((e,t)=>{const r=m.useContext(Iw),n=m.useRef(null),s=gt(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(Be.div,{...e,ref:s})});Dw.displayName=yT;function xT(e,t=globalThis==null?void 0:globalThis.document){const r=cn(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){Ow(gT,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function bT(e,t=globalThis==null?void 0:globalThis.document){const r=cn(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&Ow(vT,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function iy(){const e=new CustomEvent(Kh);document.dispatchEvent(e)}function Ow(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Aw(s,a):s.dispatchEvent(a)}var wT=jl,ST=Dw,Gt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},_T="Portal",Xu=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=m.useState(!1);Gt(()=>a(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?km.createPortal(o.jsx(Be.div,{...n,ref:t}),i):null});Xu.displayName=_T;function NT(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var us=e=>{const{present:t,children:r}=e,n=jT(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),a=gt(n.ref,CT(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:a}):null};us.displayName="Presence";function jT(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),a=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=NT(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=ic(n.current);a.current=l==="mounted"?u:"none"},[l]),Gt(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,p=ic(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Gt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const v=ic(n.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(a.current=ic(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function ic(e){return(e==null?void 0:e.animationName)||"none"}function CT(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ET=$p[" useInsertionEffect ".trim().toString()]||Gt;function Ys({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=PT({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=m.useCallback(d=>{var f;if(l){const h=TT(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else a(d)},[l,e,a,i]);return[c,u]}function PT({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),a=m.useRef(t);return ET(()=>{a.current=t},[t]),m.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function TT(e){return typeof e=="function"}var Bw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kT="VisuallyHidden",Zu=m.forwardRef((e,t)=>o.jsx(Be.span,{...e,ref:t,style:{...Bw,...e.style}}));Zu.displayName=kT;var RT=Zu,Am="ToastProvider",[Im,AT,IT]=Rm("Toast"),[Mw,_6]=zn("Toast",[IT]),[DT,ed]=Mw(Am),Lw=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Am}\`. Expected non-empty \`string\`.`),o.jsx(Im.Provider,{scope:t,children:o.jsx(DT,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};Lw.displayName=Am;var $w="ToastViewport",OT=["F8"],Yh="toast.viewportPause",Qh="toast.viewportResume",Fw=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=OT,label:s="Notifications ({hotkey})",...a}=e,i=ed($w,r),l=AT(r),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=gt(t,f,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;m.useEffect(()=>{const x=w=>{var g;n.length!==0&&n.every(S=>w[S]||w.code===S)&&((g=f.current)==null||g.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),m.useEffect(()=>{const x=c.current,w=f.current;if(y&&x&&w){const b=()=>{if(!i.isClosePausedRef.current){const _=new CustomEvent(Yh);w.dispatchEvent(_),i.isClosePausedRef.current=!0}},g=()=>{if(i.isClosePausedRef.current){const _=new CustomEvent(Qh);w.dispatchEvent(_),i.isClosePausedRef.current=!1}},S=_=>{!x.contains(_.relatedTarget)&&g()},N=()=>{x.contains(document.activeElement)||g()};return x.addEventListener("focusin",b),x.addEventListener("focusout",S),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",g),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",g)}}},[y,i.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:x})=>{const b=l().map(g=>{const S=g.ref.current,N=[S,...KT(S)];return x==="forwards"?N:N.reverse()});return(x==="forwards"?b.reverse():b).flat()},[l]);return m.useEffect(()=>{const x=f.current;if(x){const w=b=>{var N,_,j;const g=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!g){const C=document.activeElement,I=b.shiftKey;if(b.target===x&&I){(N=u.current)==null||N.focus();return}const A=v({tabbingDirection:I?"backwards":"forwards"}),H=A.findIndex(T=>T===C);_f(A.slice(H+1))?b.preventDefault():I?(_=u.current)==null||_.focus():(j=d.current)==null||j.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[l,v]),o.jsxs(ST,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&o.jsx(Jh,{ref:u,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});_f(x)}}),o.jsx(Im.Slot,{scope:r,children:o.jsx(Be.ol,{tabIndex:-1,...a,ref:h})}),y&&o.jsx(Jh,{ref:d,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});_f(x)}})]})});Fw.displayName=$w;var Uw="ToastFocusProxy",Jh=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=ed(Uw,r);return o.jsx(Zu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});Jh.displayName=Uw;var Cl="Toast",BT="toast.swipeStart",MT="toast.swipeMove",LT="toast.swipeCancel",$T="toast.swipeEnd",zw=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...i}=e,[l,c]=Ys({prop:n,defaultProp:s??!0,onChange:a,caller:Cl});return o.jsx(us,{present:r||l,children:o.jsx(zT,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:cn(e.onPause),onResume:cn(e.onResume),onSwipeStart:Te(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Te(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Te(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Te(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});zw.displayName=Cl;var[FT,UT]=Mw(Cl,{onClose(){}}),zT=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...y}=e,v=ed(Cl,r),[x,w]=m.useState(null),b=gt(t,T=>w(T)),g=m.useRef(null),S=m.useRef(null),N=s||v.duration,_=m.useRef(0),j=m.useRef(N),C=m.useRef(0),{onToastAdd:I,onToastRemove:P}=v,F=cn(()=>{var R;(x==null?void 0:x.contains(document.activeElement))&&((R=v.viewport)==null||R.focus()),i()}),A=m.useCallback(T=>{!T||T===1/0||(window.clearTimeout(C.current),_.current=new Date().getTime(),C.current=window.setTimeout(F,T))},[F]);m.useEffect(()=>{const T=v.viewport;if(T){const R=()=>{A(j.current),u==null||u()},U=()=>{const Q=new Date().getTime()-_.current;j.current=j.current-Q,window.clearTimeout(C.current),c==null||c()};return T.addEventListener(Yh,U),T.addEventListener(Qh,R),()=>{T.removeEventListener(Yh,U),T.removeEventListener(Qh,R)}}},[v.viewport,N,c,u,A]),m.useEffect(()=>{a&&!v.isClosePausedRef.current&&A(N)},[a,N,v.isClosePausedRef,A]),m.useEffect(()=>(I(),()=>P()),[I,P]);const H=m.useMemo(()=>x?Yw(x):null,[x]);return v.viewport?o.jsxs(o.Fragment,{children:[H&&o.jsx(WT,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),o.jsx(FT,{scope:r,onClose:F,children:na.createPortal(o.jsx(Im.ItemSlot,{scope:r,children:o.jsx(wT,{asChild:!0,onEscapeKeyDown:Te(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||F(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Te(e.onKeyDown,T=>{T.key==="Escape"&&(l==null||l(T.nativeEvent),T.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:Te(e.onPointerDown,T=>{T.button===0&&(g.current={x:T.clientX,y:T.clientY})}),onPointerMove:Te(e.onPointerMove,T=>{if(!g.current)return;const R=T.clientX-g.current.x,U=T.clientY-g.current.y,Q=!!S.current,D=["left","right"].includes(v.swipeDirection),M=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,G=D?M(0,R):0,ne=D?0:M(0,U),V=T.pointerType==="touch"?10:2,se={x:G,y:ne},ee={originalEvent:T,delta:se};Q?(S.current=se,lc(MT,f,ee,{discrete:!1})):ly(se,v.swipeDirection,V)?(S.current=se,lc(BT,d,ee,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(R)>V||Math.abs(U)>V)&&(g.current=null)}),onPointerUp:Te(e.onPointerUp,T=>{const R=S.current,U=T.target;if(U.hasPointerCapture(T.pointerId)&&U.releasePointerCapture(T.pointerId),S.current=null,g.current=null,R){const Q=T.currentTarget,D={originalEvent:T,delta:R};ly(R,v.swipeDirection,v.swipeThreshold)?lc($T,p,D,{discrete:!0}):lc(LT,h,D,{discrete:!0}),Q.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),WT=e=>{const{__scopeToast:t,children:r,...n}=e,s=ed(Cl,t),[a,i]=m.useState(!1),[l,c]=m.useState(!1);return GT(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Xu,{asChild:!0,children:o.jsx(Zu,{...n,children:a&&o.jsxs(o.Fragment,{children:[s.label," ",r]})})})},VT="ToastTitle",Ww=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Be.div,{...n,ref:t})});Ww.displayName=VT;var HT="ToastDescription",Vw=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Be.div,{...n,ref:t})});Vw.displayName=HT;var Hw="ToastAction",Gw=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(Kw,{altText:r,asChild:!0,children:o.jsx(Dm,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Hw}\`. Expected non-empty \`string\`.`),null)});Gw.displayName=Hw;var qw="ToastClose",Dm=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=UT(qw,r);return o.jsx(Kw,{asChild:!0,children:o.jsx(Be.button,{type:"button",...n,ref:t,onClick:Te(e.onClick,s.onClose)})})});Dm.displayName=qw;var Kw=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return o.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function Yw(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),qT(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Yw(n))}}),t}function lc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Aw(s,a):s.dispatchEvent(a)}var ly=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function GT(e=()=>{}){const t=cn(e);Gt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function qT(e){return e.nodeType===e.ELEMENT_NODE}function KT(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function _f(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var YT=Lw,Qw=Fw,Jw=zw,Xw=Ww,Zw=Vw,eS=Gw,tS=Dm;function rS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=rS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function nS(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=rS(e))&&(n&&(n+=" "),n+=t);return n}const cy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,uy=nS,td=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return uy(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=cy(d)||cy(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[v,x]=y;return Array.isArray(x)?x.includes({...a,...l}[v]):{...a,...l}[v]===x})?[...u,f,h]:u},[]);return uy(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sS=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...JT,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:sS("lucide",s),...l},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(e,t)=>{const r=m.forwardRef(({className:n,...s},a)=>m.createElement(XT,{ref:a,iconNode:t,className:sS(`lucide-${QT(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=Ze("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=Ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=Ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=Ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=Ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=Ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=Ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=Ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=Ze("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Ze("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Ze("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=Ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=Ze("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=Ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=Ze("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=Ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=Ze("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=Ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Ze("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=Ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=Ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=Ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=Ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=Ze("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=Ze("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=Ze("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=Ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Ze("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=Ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Bm="-",h2=e=>{const t=m2(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Bm);return l[0]===""&&l.length!==1&&l.shift(),cS(l,t)||p2(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},cS=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?cS(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Bm);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},hy=/^\[(.+)\]$/,p2=e=>{if(hy.test(e)){const t=hy.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},m2=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return v2(Object.entries(e.classGroups),r).forEach(([a,i])=>{tp(i,n,a,t)}),n},tp=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:py(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(g2(s)){tp(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{tp(i,py(t,a),r,n)})})},py=(e,t)=>{let r=e;return t.split(Bm).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},g2=e=>e.isThemeGetter,v2=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[r,s]}):e,y2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},uS="!",x2=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let w=l[x];if(u===0){if(w===s&&(n||l.slice(x,x+a)===t)){c.push(l.slice(d,x)),d=x+a;continue}if(w==="/"){f=x;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(uS),y=p?h.substring(1):h,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:i}):i},b2=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},w2=e=>({cache:y2(e.cacheSize),parseClassName:x2(e),...h2(e)}),S2=/\s+/,_2=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(S2);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let y=!!p,v=n(y?h.substring(0,p):h);if(!v){if(!y){l=u+(l.length>0?" "+l:l);continue}if(v=n(h),!v){l=u+(l.length>0?" "+l:l);continue}y=!1}const x=b2(d).join(":"),w=f?x+uS:x,b=w+v;if(a.includes(b))continue;a.push(b);const g=s(v,y);for(let S=0;S<g.length;++S){const N=g[S];a.push(w+N)}l=u+(l.length>0?" "+l:l)}return l};function N2(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=dS(t))&&(n&&(n+=" "),n+=r);return n}const dS=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=dS(e[n]))&&(r&&(r+=" "),r+=t);return r};function j2(e,...t){let r,n,s,a=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=w2(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=_2(c,r);return s(c,d),d}return function(){return a(N2.apply(null,arguments))}}const St=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},fS=/^\[(?:([a-z-]+):)?(.+)\]$/i,C2=/^\d+\/\d+$/,E2=new Set(["px","full","screen"]),P2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,T2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,R2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,A2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hn=e=>No(e)||E2.has(e)||C2.test(e),ps=e=>Zo(e,"length",F2),No=e=>!!e&&!Number.isNaN(Number(e)),Cf=e=>Zo(e,"number",No),vi=e=>!!e&&Number.isInteger(Number(e)),I2=e=>e.endsWith("%")&&No(e.slice(0,-1)),He=e=>fS.test(e),ms=e=>P2.test(e),D2=new Set(["length","size","percentage"]),O2=e=>Zo(e,D2,hS),B2=e=>Zo(e,"position",hS),M2=new Set(["image","url"]),L2=e=>Zo(e,M2,z2),$2=e=>Zo(e,"",U2),yi=()=>!0,Zo=(e,t,r)=>{const n=fS.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},F2=e=>T2.test(e)&&!k2.test(e),hS=()=>!1,U2=e=>R2.test(e),z2=e=>A2.test(e),W2=()=>{const e=St("colors"),t=St("spacing"),r=St("blur"),n=St("brightness"),s=St("borderColor"),a=St("borderRadius"),i=St("borderSpacing"),l=St("borderWidth"),c=St("contrast"),u=St("grayscale"),d=St("hueRotate"),f=St("invert"),h=St("gap"),p=St("gradientColorStops"),y=St("gradientColorStopPositions"),v=St("inset"),x=St("margin"),w=St("opacity"),b=St("padding"),g=St("saturate"),S=St("scale"),N=St("sepia"),_=St("skew"),j=St("space"),C=St("translate"),I=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",He,t],A=()=>[He,t],H=()=>["",Hn,ps],T=()=>["auto",No,He],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",He],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[No,He];return{cacheSize:500,separator:":",theme:{colors:[yi],spacing:[Hn,ps],blur:["none","",ms,He],brightness:ne(),borderColor:[e],borderRadius:["none","","full",ms,He],borderSpacing:A(),borderWidth:H(),contrast:ne(),grayscale:M(),hueRotate:ne(),invert:M(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[I2,ps],inset:F(),margin:F(),opacity:ne(),padding:A(),saturate:ne(),scale:ne(),sepia:M(),skew:ne(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",He]}],container:["container"],columns:[{columns:[ms]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),He]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vi,He]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",He]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",vi,He]}],"grid-cols":[{"grid-cols":[yi]}],"col-start-end":[{col:["auto",{span:["full",vi,He]},He]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[yi]}],"row-start-end":[{row:["auto",{span:[vi,He]},He]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",He]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",He]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",He,t]}],"min-w":[{"min-w":[He,t,"min","max","fit"]}],"max-w":[{"max-w":[He,t,"none","full","min","max","fit","prose",{screen:[ms]},ms]}],h:[{h:[He,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[He,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[He,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[He,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ms,ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cf]}],"font-family":[{font:[yi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",He]}],"line-clamp":[{"line-clamp":["none",No,Cf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hn,He]}],"list-image":[{"list-image":["none",He]}],"list-style-type":[{list:["none","disc","decimal",He]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hn,ps]}],"underline-offset":[{"underline-offset":["auto",Hn,He]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),B2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",O2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},L2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Hn,He]}],"outline-w":[{outline:[Hn,ps]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Hn,ps]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ms,$2]}],"shadow-color":[{shadow:[yi]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ms,He]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",He]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",He]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",He]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[vi,He]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Hn,ps,Cf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},V2=j2(W2);function $e(...e){return V2(nS(e))}function $c(e,t,r,n,s){const i=(r?Array.from(new Set(r.matches.flatMap(u=>[String(u.teamA),String(u.teamB)]).filter(u=>u!=="BYE"&&u!=="TBD"))):[]).map(u=>e.find(d=>String(d.id)===u)).filter(Boolean),l={};for(const u of i){const d=String(u.id);l[d]||(l[d]={});for(let h=1;h<=s;h++){const p=r==null?void 0:r.matches.find(v=>v.round===h&&(String(v.teamA)===d||String(v.teamB)===d));if(!p){l[d][h]={wl:"",points:0,hands:0,boston:0,isTie:!1};continue}const y=t.find(v=>v.matchId===p.id&&v.confirmed);if(y){const v=String(y.teamA);String(y.teamB);const x=d===v,w=x?y.scoreA:y.scoreB;x?y.scoreB:y.scoreA;const b=x?y.handsA:y.handsB,g=x?y.boston_a??0:y.boston_b??0,S=x&&y.winner==="teamA"||!x&&y.winner==="teamB"?"W":"L";l[d][h]={wl:S,points:w,hands:b??0,boston:g,isTie:!1}}else l[d][h]={wl:"",points:0,hands:0,boston:0,isTie:!1}}let f=0;for(let h=1;h<=s;h++){const p=l[d][h];p&&p.wl==="W"&&(f+=1)}l[d].totalPoints={wl:"",points:Object.entries(l[d]).filter(([h])=>h!=="totalPoints").reduce((h,[,p])=>h+(p.points||0),0),boston:Object.entries(l[d]).filter(([h])=>h!=="totalPoints").reduce((h,[,p])=>h+(p.boston||0),0),hands:Object.entries(l[d]).filter(([h])=>h!=="totalPoints").reduce((h,[,p])=>h+(p.hands||0),0),wins:f}}return{sortedTeams:i.slice().sort((u,d)=>{var j,C,I,P;const f=l[u.id].totalPoints.wins,h=l[d.id].totalPoints.wins;if(h!==f)return h-f;const p=l[u.id].totalPoints.hands||0,y=l[d.id].totalPoints.hands||0;if(y!==p)return y-p;const v=l[u.id].totalPoints.points,x=l[d.id].totalPoints.points;if(x!==v)return x-v;const w=((j=l[u.id][1])==null?void 0:j.points)||0,b=((C=l[d.id][1])==null?void 0:C.points)||0;if(b!==w)return b-w;const g=((I=l[u.id][2])==null?void 0:I.points)||0,S=((P=l[d.id][2])==null?void 0:P.points)||0;if(S!==g)return S-g;const N=typeof u.teamNumber=="number"?u.teamNumber:Number(u.teamNumber)||Number(u.id),_=typeof d.teamNumber=="number"?d.teamNumber:Number(d.teamNumber)||Number(d.id);return N-_}),resultsMatrix:l}}const H2=YT,pS=m.forwardRef(({className:e,...t},r)=>o.jsx(Qw,{ref:r,className:$e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pS.displayName=Qw.displayName;const G2=td("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mS=m.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(Jw,{ref:n,className:$e(G2({variant:t}),e),...r}));mS.displayName=Jw.displayName;const q2=m.forwardRef(({className:e,...t},r)=>o.jsx(eS,{ref:r,className:$e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));q2.displayName=eS.displayName;const gS=m.forwardRef(({className:e,...t},r)=>o.jsx(tS,{ref:r,className:$e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(es,{className:"h-4 w-4"})}));gS.displayName=tS.displayName;const vS=m.forwardRef(({className:e,...t},r)=>o.jsx(Xw,{ref:r,className:$e("text-sm font-semibold",e),...t}));vS.displayName=Xw.displayName;const yS=m.forwardRef(({className:e,...t},r)=>o.jsx(Zw,{ref:r,className:$e("text-sm opacity-90",e),...t}));yS.displayName=Zw.displayName;function K2(){const{toasts:e}=sT();return o.jsxs(H2,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return o.jsxs(mS,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(vS,{children:r}),n&&o.jsx(yS,{children:n})]}),s,o.jsx(gS,{})]},t)}),o.jsx(pS,{})]})}var Y2=e=>{switch(e){case"success":return X2;case"info":return ek;case"warning":return Z2;case"error":return tk;default:return null}},Q2=Array(12).fill(0),J2=({visible:e,className:t})=>Z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Z.createElement("div",{className:"sonner-spinner"},Q2.map((r,n)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),X2=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Z2=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ek=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tk=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rk=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nk=()=>{let[e,t]=Z.useState(document.hidden);return Z.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},rp=1,sk=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:rp++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,i=n.then(async c=>{if(a=["resolve",c],Z.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(ok(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||rp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Nr=new sk,ak=(e,t)=>{let r=(t==null?void 0:t.id)||rp++;return Nr.addToast({title:e,...t,id:r}),r},ok=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",ik=ak,lk=()=>Nr.toasts,ck=()=>Nr.getActiveToasts();Object.assign(ik,{success:Nr.success,info:Nr.info,warning:Nr.warning,error:Nr.error,custom:Nr.custom,message:Nr.message,promise:Nr.promise,dismiss:Nr.dismiss,loading:Nr.loading},{getHistory:lk,getToasts:ck});function uk(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}uk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function cc(e){return e.label!==void 0}var dk=3,fk="32px",hk="16px",my=4e3,pk=356,mk=14,gk=20,vk=200;function dn(...e){return e.filter(Boolean).join(" ")}function yk(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var xk=e=>{var t,r,n,s,a,i,l,c,u,d,f;let{invert:h,toast:p,unstyled:y,interacting:v,setHeights:x,visibleToasts:w,heights:b,index:g,toasts:S,expanded:N,removeToast:_,defaultRichColors:j,closeButton:C,style:I,cancelButtonStyle:P,actionButtonStyle:F,className:A="",descriptionClassName:H="",duration:T,position:R,gap:U,loadingIcon:Q,expandByDefault:D,classNames:M,icons:G,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:V}=e,[se,ee]=Z.useState(null),[ie,le]=Z.useState(null),[O,W]=Z.useState(!1),[he,J]=Z.useState(!1),[ve,Se]=Z.useState(!1),[fe,_e]=Z.useState(!1),[Fe,Ae]=Z.useState(!1),[ut,et]=Z.useState(0),[Ct,Rt]=Z.useState(0),Lt=Z.useRef(p.duration||T||my),za=Z.useRef(null),Dr=Z.useRef(null),k=g===0,L=g+1<=w,$=p.type,B=p.dismissible!==!1,q=p.className||"",z=p.descriptionClassName||"",X=Z.useMemo(()=>b.findIndex(ye=>ye.toastId===p.id)||0,[b,p.id]),me=Z.useMemo(()=>{var ye;return(ye=p.closeButton)!=null?ye:C},[p.closeButton,C]),oe=Z.useMemo(()=>p.duration||T||my,[p.duration,T]),je=Z.useRef(0),ce=Z.useRef(0),De=Z.useRef(0),xe=Z.useRef(null),[Ce,Ie]=R.split("-"),rt=Z.useMemo(()=>b.reduce((ye,Oe,ge)=>ge>=X?ye:ye+Oe.height,0),[b,X]),Me=nk(),Ue=p.invert||h,Ge=$==="loading";ce.current=Z.useMemo(()=>X*U+rt,[X,rt]),Z.useEffect(()=>{Lt.current=oe},[oe]),Z.useEffect(()=>{W(!0)},[]),Z.useEffect(()=>{let ye=Dr.current;if(ye){let Oe=ye.getBoundingClientRect().height;return Rt(Oe),x(ge=>[{toastId:p.id,height:Oe,position:p.position},...ge]),()=>x(ge=>ge.filter(it=>it.toastId!==p.id))}},[x,p.id]),Z.useLayoutEffect(()=>{if(!O)return;let ye=Dr.current,Oe=ye.style.height;ye.style.height="auto";let ge=ye.getBoundingClientRect().height;ye.style.height=Oe,Rt(ge),x(it=>it.find(Ke=>Ke.toastId===p.id)?it.map(Ke=>Ke.toastId===p.id?{...Ke,height:ge}:Ke):[{toastId:p.id,height:ge,position:p.position},...it])},[O,p.title,p.description,x,p.id]);let ot=Z.useCallback(()=>{J(!0),et(ce.current),x(ye=>ye.filter(Oe=>Oe.toastId!==p.id)),setTimeout(()=>{_(p)},vk)},[p,_,x,ce]);Z.useEffect(()=>{if(p.promise&&$==="loading"||p.duration===1/0||p.type==="loading")return;let ye;return N||v||V&&Me?(()=>{if(De.current<je.current){let Oe=new Date().getTime()-je.current;Lt.current=Lt.current-Oe}De.current=new Date().getTime()})():Lt.current!==1/0&&(je.current=new Date().getTime(),ye=setTimeout(()=>{var Oe;(Oe=p.onAutoClose)==null||Oe.call(p,p),ot()},Lt.current)),()=>clearTimeout(ye)},[N,v,p,$,V,Me,ot]),Z.useEffect(()=>{p.delete&&ot()},[ot,p.delete]);function dt(){var ye,Oe,ge;return G!=null&&G.loading?Z.createElement("div",{className:dn(M==null?void 0:M.loader,(ye=p==null?void 0:p.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":$==="loading"},G.loading):Q?Z.createElement("div",{className:dn(M==null?void 0:M.loader,(Oe=p==null?void 0:p.classNames)==null?void 0:Oe.loader,"sonner-loader"),"data-visible":$==="loading"},Q):Z.createElement(J2,{className:dn(M==null?void 0:M.loader,(ge=p==null?void 0:p.classNames)==null?void 0:ge.loader),visible:$==="loading"})}return Z.createElement("li",{tabIndex:0,ref:Dr,className:dn(A,q,M==null?void 0:M.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[$],(r=p==null?void 0:p.classNames)==null?void 0:r[$]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:j,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":O,"data-promise":!!p.promise,"data-swiped":Fe,"data-removed":he,"data-visible":L,"data-y-position":Ce,"data-x-position":Ie,"data-index":g,"data-front":k,"data-swiping":ve,"data-dismissible":B,"data-type":$,"data-invert":Ue,"data-swipe-out":fe,"data-swipe-direction":ie,"data-expanded":!!(N||D&&O),style:{"--index":g,"--toasts-before":g,"--z-index":S.length-g,"--offset":`${he?ut:ce.current}px`,"--initial-height":D?"auto":`${Ct}px`,...I,...p.style},onDragEnd:()=>{Se(!1),ee(null),xe.current=null},onPointerDown:ye=>{Ge||!B||(za.current=new Date,et(ce.current),ye.target.setPointerCapture(ye.pointerId),ye.target.tagName!=="BUTTON"&&(Se(!0),xe.current={x:ye.clientX,y:ye.clientY}))},onPointerUp:()=>{var ye,Oe,ge,it;if(fe||!B)return;xe.current=null;let Ke=Number(((ye=Dr.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),pt=Number(((Oe=Dr.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$t=new Date().getTime()-((ge=za.current)==null?void 0:ge.getTime()),We=se==="x"?Ke:pt,ht=Math.abs(We)/$t;if(Math.abs(We)>=gk||ht>.11){et(ce.current),(it=p.onDismiss)==null||it.call(p,p),le(se==="x"?Ke>0?"right":"left":pt>0?"down":"up"),ot(),_e(!0),Ae(!1);return}Se(!1),ee(null)},onPointerMove:ye=>{var Oe,ge,it,Ke;if(!xe.current||!B||((Oe=window.getSelection())==null?void 0:Oe.toString().length)>0)return;let pt=ye.clientY-xe.current.y,$t=ye.clientX-xe.current.x,We=(ge=e.swipeDirections)!=null?ge:yk(R);!se&&(Math.abs($t)>1||Math.abs(pt)>1)&&ee(Math.abs($t)>Math.abs(pt)?"x":"y");let ht={x:0,y:0};se==="y"?(We.includes("top")||We.includes("bottom"))&&(We.includes("top")&&pt<0||We.includes("bottom")&&pt>0)&&(ht.y=pt):se==="x"&&(We.includes("left")||We.includes("right"))&&(We.includes("left")&&$t<0||We.includes("right")&&$t>0)&&(ht.x=$t),(Math.abs(ht.x)>0||Math.abs(ht.y)>0)&&Ae(!0),(it=Dr.current)==null||it.style.setProperty("--swipe-amount-x",`${ht.x}px`),(Ke=Dr.current)==null||Ke.style.setProperty("--swipe-amount-y",`${ht.y}px`)}},me&&!p.jsx?Z.createElement("button",{"aria-label":ne,"data-disabled":Ge,"data-close-button":!0,onClick:Ge||!B?()=>{}:()=>{var ye;ot(),(ye=p.onDismiss)==null||ye.call(p,p)},className:dn(M==null?void 0:M.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(a=G==null?void 0:G.close)!=null?a:rk):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:Z.createElement(Z.Fragment,null,$||p.icon||p.promise?Z.createElement("div",{"data-icon":"",className:dn(M==null?void 0:M.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||dt():null,p.type!=="loading"?p.icon||(G==null?void 0:G[$])||Y2($):null):null,Z.createElement("div",{"data-content":"",className:dn(M==null?void 0:M.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},Z.createElement("div",{"data-title":"",className:dn(M==null?void 0:M.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?Z.createElement("div",{"data-description":"",className:dn(H,z,M==null?void 0:M.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&cc(p.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||P,onClick:ye=>{var Oe,ge;cc(p.cancel)&&B&&((ge=(Oe=p.cancel).onClick)==null||ge.call(Oe,ye),ot())},className:dn(M==null?void 0:M.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&cc(p.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||F,onClick:ye=>{var Oe,ge;cc(p.action)&&((ge=(Oe=p.action).onClick)==null||ge.call(Oe,ye),!ye.defaultPrevented&&ot())},className:dn(M==null?void 0:M.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function gy(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function bk(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,i=a?"--mobile-offset":"--offset",l=a?hk:fk;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var wk=m.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:y=dk,toastOptions:v,dir:x=gy(),gap:w=mk,loadingIcon:b,icons:g,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:N}=e,[_,j]=Z.useState([]),C=Z.useMemo(()=>Array.from(new Set([n].concat(_.filter(V=>V.position).map(V=>V.position)))),[_,n]),[I,P]=Z.useState([]),[F,A]=Z.useState(!1),[H,T]=Z.useState(!1),[R,U]=Z.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=Z.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=Z.useRef(null),G=Z.useRef(!1),ne=Z.useCallback(V=>{j(se=>{var ee;return(ee=se.find(ie=>ie.id===V.id))!=null&&ee.delete||Nr.dismiss(V.id),se.filter(({id:ie})=>ie!==V.id)})},[]);return Z.useEffect(()=>Nr.subscribe(V=>{if(V.dismiss){j(se=>se.map(ee=>ee.id===V.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{km.flushSync(()=>{j(se=>{let ee=se.findIndex(ie=>ie.id===V.id);return ee!==-1?[...se.slice(0,ee),{...se[ee],...V},...se.slice(ee+1)]:[V,...se]})})})}),[]),Z.useEffect(()=>{if(d!=="system"){U(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:se})=>{U(se?"dark":"light")})}catch{V.addListener(({matches:ee})=>{try{U(ee?"dark":"light")}catch(ie){console.error(ie)}})}},[d]),Z.useEffect(()=>{_.length<=1&&A(!1)},[_]),Z.useEffect(()=>{let V=se=>{var ee,ie;s.every(le=>se[le]||se.code===le)&&(A(!0),(ee=Q.current)==null||ee.focus()),se.code==="Escape"&&(document.activeElement===Q.current||(ie=Q.current)!=null&&ie.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[s]),Z.useEffect(()=>{if(Q.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,G.current=!1)}},[Q.current]),Z.createElement("section",{ref:t,"aria-label":`${S} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((V,se)=>{var ee;let[ie,le]=V.split("-");return _.length?Z.createElement("ol",{key:V,dir:x==="auto"?gy():x,tabIndex:-1,ref:Q,className:l,"data-sonner-toaster":!0,"data-theme":R,"data-y-position":ie,"data-lifted":F&&_.length>1&&!a,"data-x-position":le,style:{"--front-toast-height":`${((ee=I[0])==null?void 0:ee.height)||0}px`,"--width":`${pk}px`,"--gap":`${w}px`,...p,...bk(c,u)},onBlur:O=>{G.current&&!O.currentTarget.contains(O.relatedTarget)&&(G.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:O=>{O.target instanceof HTMLElement&&O.target.dataset.dismissible==="false"||G.current||(G.current=!0,M.current=O.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{H||A(!1)},onDragEnd:()=>A(!1),onPointerDown:O=>{O.target instanceof HTMLElement&&O.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},_.filter(O=>!O.position&&se===0||O.position===V).map((O,W)=>{var he,J;return Z.createElement(xk,{key:O.id,icons:g,index:W,toast:O,defaultRichColors:f,duration:(he=v==null?void 0:v.duration)!=null?he:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:y,closeButton:(J=v==null?void 0:v.closeButton)!=null?J:i,interacting:H,position:V,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ne,toasts:_.filter(ve=>ve.position==O.position),heights:I.filter(ve=>ve.position==O.position),setHeights:P,expandByDefault:a,gap:w,loadingIcon:b,expanded:F,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const xS=m.createContext(null);function Sk({children:e,defaultTheme:t="system",value:r,...n}){const[s,a]=m.useState(()=>{if(typeof window<"u"){const l=localStorage.getItem("theme");return l&&(l==="dark"||l==="light"||l==="system")?l:t}return t});m.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(s)},[s]);const i={theme:s,setTheme:l=>{localStorage.setItem("theme",l),a(l)}};return o.jsx(xS.Provider,{value:i,...n,children:e})}const _k=()=>{const e=m.useContext(xS);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Nk=({...e})=>{const{theme:t}=_k();return o.jsx(wk,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var jk=$p[" useId ".trim().toString()]||(()=>{}),Ck=0;function rs(e){const[t,r]=m.useState(jk());return Gt(()=>{r(n=>n??String(Ck++))},[e]),t?`radix-${t}`:""}const Ek=["top","right","bottom","left"],Js=Math.min,Lr=Math.max,gu=Math.round,uc=Math.floor,Fn=e=>({x:e,y:e}),Pk={left:"right",right:"left",bottom:"top",top:"bottom"},Tk={start:"end",end:"start"};function np(e,t,r){return Lr(e,Js(t,r))}function is(e,t){return typeof e=="function"?e(t):e}function ls(e){return e.split("-")[0]}function ei(e){return e.split("-")[1]}function Mm(e){return e==="x"?"y":"x"}function Lm(e){return e==="y"?"height":"width"}const kk=new Set(["top","bottom"]);function Mn(e){return kk.has(ls(e))?"y":"x"}function $m(e){return Mm(Mn(e))}function Rk(e,t,r){r===void 0&&(r=!1);const n=ei(e),s=$m(e),a=Lm(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=vu(i)),[i,vu(i)]}function Ak(e){const t=vu(e);return[sp(e),t,sp(t)]}function sp(e){return e.replace(/start|end/g,t=>Tk[t])}const vy=["left","right"],yy=["right","left"],Ik=["top","bottom"],Dk=["bottom","top"];function Ok(e,t,r){switch(e){case"top":case"bottom":return r?t?yy:vy:t?vy:yy;case"left":case"right":return t?Ik:Dk;default:return[]}}function Bk(e,t,r,n){const s=ei(e);let a=Ok(ls(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(sp)))),a}function vu(e){return e.replace(/left|right|bottom|top/g,t=>Pk[t])}function Mk(e){return{top:0,right:0,bottom:0,left:0,...e}}function bS(e){return typeof e!="number"?Mk(e):{top:e,right:e,bottom:e,left:e}}function yu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function xy(e,t,r){let{reference:n,floating:s}=e;const a=Mn(t),i=$m(t),l=Lm(i),c=ls(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(ei(t)){case"start":p[i]-=h*(r&&u?-1:1);break;case"end":p[i]+=h*(r&&u?-1:1);break}return p}const Lk=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=xy(u,n,c),h=n,p={},y=0;for(let v=0;v<l.length;v++){const{name:x,fn:w}=l[v],{x:b,y:g,data:S,reset:N}=await w({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=b??d,f=g??f,p={...p,[x]:{...p[x],...S}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:d,y:f}=xy(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function il(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=is(t,e),y=bS(p),x=l[h?f==="floating"?"reference":"floating":f],w=yu(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(x)))==null||r?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,g=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(g))?await(a.getScale==null?void 0:a.getScale(g))||{x:1,y:1}:{x:1,y:1},N=yu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:g,strategy:c}):b);return{top:(w.top-N.top+y.top)/S.y,bottom:(N.bottom-w.bottom+y.bottom)/S.y,left:(w.left-N.left+y.left)/S.x,right:(N.right-w.right+y.right)/S.x}}const $k=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=is(e,t)||{};if(u==null)return{};const f=bS(d),h={x:r,y:n},p=$m(s),y=Lm(p),v=await i.getDimensions(u),x=p==="y",w=x?"top":"left",b=x?"bottom":"right",g=x?"clientHeight":"clientWidth",S=a.reference[y]+a.reference[p]-h[p]-a.floating[y],N=h[p]-a.reference[p],_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=_?_[g]:0;(!j||!await(i.isElement==null?void 0:i.isElement(_)))&&(j=l.floating[g]||a.floating[y]);const C=S/2-N/2,I=j/2-v[y]/2-1,P=Js(f[w],I),F=Js(f[b],I),A=P,H=j-v[y]-F,T=j/2-v[y]/2+C,R=np(A,T,H),U=!c.arrow&&ei(s)!=null&&T!==R&&a.reference[y]/2-(T<A?P:F)-v[y]/2<0,Q=U?T<A?T-A:T-H:0;return{[p]:h[p]+Q,data:{[p]:R,centerOffset:T-R-Q,...U&&{alignmentOffset:Q}},reset:U}}}),Fk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...x}=is(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const w=ls(s),b=Mn(l),g=ls(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(g||!v?[vu(l)]:Ak(l)),_=y!=="none";!h&&_&&N.push(...Bk(l,v,y,S));const j=[l,...N],C=await il(t,x),I=[];let P=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&I.push(C[w]),f){const T=Rk(s,i,S);I.push(C[T[0]],C[T[1]])}if(P=[...P,{placement:s,overflows:I}],!I.every(T=>T<=0)){var F,A;const T=(((F=a.flip)==null?void 0:F.index)||0)+1,R=j[T];if(R&&(!(f==="alignment"?b!==Mn(R):!1)||P.every(D=>D.overflows[0]>0&&Mn(D.placement)===b)))return{data:{index:T,overflows:P},reset:{placement:R}};let U=(A=P.filter(Q=>Q.overflows[0]<=0).sort((Q,D)=>Q.overflows[1]-D.overflows[1])[0])==null?void 0:A.placement;if(!U)switch(p){case"bestFit":{var H;const Q=(H=P.filter(D=>{if(_){const M=Mn(D.placement);return M===b||M==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(M=>M>0).reduce((M,G)=>M+G,0)]).sort((D,M)=>D[1]-M[1])[0])==null?void 0:H[0];Q&&(U=Q);break}case"initialPlacement":U=l;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function by(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function wy(e){return Ek.some(t=>e[t]>=0)}const Uk=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=is(e,t);switch(n){case"referenceHidden":{const a=await il(t,{...s,elementContext:"reference"}),i=by(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:wy(i)}}}case"escaped":{const a=await il(t,{...s,altBoundary:!0}),i=by(a,r.floating);return{data:{escapedOffsets:i,escaped:wy(i)}}}default:return{}}}}},wS=new Set(["left","top"]);async function zk(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=ls(r),l=ei(r),c=Mn(r)==="y",u=wS.has(i)?-1:1,d=a&&c?-1:1,f=is(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const Wk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await zk(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},Vk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:x=>{let{x:w,y:b}=x;return{x:w,y:b}}},...c}=is(e,t),u={x:r,y:n},d=await il(t,c),f=Mn(ls(s)),h=Mm(f);let p=u[h],y=u[f];if(a){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",b=p+d[x],g=p-d[w];p=np(b,p,g)}if(i){const x=f==="y"?"top":"left",w=f==="y"?"bottom":"right",b=y+d[x],g=y-d[w];y=np(b,y,g)}const v=l.fn({...t,[h]:p,[f]:y});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[h]:a,[f]:i}}}}}},Hk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=is(e,t),d={x:r,y:n},f=Mn(s),h=Mm(f);let p=d[h],y=d[f];const v=is(l,t),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const g=h==="y"?"height":"width",S=a.reference[h]-a.floating[g]+x.mainAxis,N=a.reference[h]+a.reference[g]-x.mainAxis;p<S?p=S:p>N&&(p=N)}if(u){var w,b;const g=h==="y"?"width":"height",S=wS.has(ls(s)),N=a.reference[f]-a.floating[g]+(S&&((w=i.offset)==null?void 0:w[f])||0)+(S?0:x.crossAxis),_=a.reference[f]+a.reference[g]+(S?0:((b=i.offset)==null?void 0:b[f])||0)-(S?x.crossAxis:0);y<N?y=N:y>_&&(y=_)}return{[h]:p,[f]:y}}}},Gk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=is(e,t),d=await il(t,u),f=ls(s),h=ei(s),p=Mn(s)==="y",{width:y,height:v}=a.floating;let x,w;f==="top"||f==="bottom"?(x=f,w=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,x=h==="end"?"top":"bottom");const b=v-d.top-d.bottom,g=y-d.left-d.right,S=Js(v-d[x],b),N=Js(y-d[w],g),_=!t.middlewareData.shift;let j=S,C=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=g),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=b),_&&!h){const P=Lr(d.left,0),F=Lr(d.right,0),A=Lr(d.top,0),H=Lr(d.bottom,0);p?C=y-2*(P!==0||F!==0?P+F:Lr(d.left,d.right)):j=v-2*(A!==0||H!==0?A+H:Lr(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:j});const I=await i.getDimensions(l.floating);return y!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function nd(){return typeof window<"u"}function ti(e){return SS(e)?(e.nodeName||"").toLowerCase():"#document"}function zr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Wn(e){var t;return(t=(SS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function SS(e){return nd()?e instanceof Node||e instanceof zr(e).Node:!1}function Cn(e){return nd()?e instanceof Element||e instanceof zr(e).Element:!1}function Un(e){return nd()?e instanceof HTMLElement||e instanceof zr(e).HTMLElement:!1}function Sy(e){return!nd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zr(e).ShadowRoot}const qk=new Set(["inline","contents"]);function El(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=En(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!qk.has(s)}const Kk=new Set(["table","td","th"]);function Yk(e){return Kk.has(ti(e))}const Qk=[":popover-open",":modal"];function sd(e){return Qk.some(t=>{try{return e.matches(t)}catch{return!1}})}const Jk=["transform","translate","scale","rotate","perspective"],Xk=["transform","translate","scale","rotate","perspective","filter"],Zk=["paint","layout","strict","content"];function Fm(e){const t=Um(),r=Cn(e)?En(e):e;return Jk.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Xk.some(n=>(r.willChange||"").includes(n))||Zk.some(n=>(r.contain||"").includes(n))}function eR(e){let t=Xs(e);for(;Un(t)&&!Vo(t);){if(Fm(t))return t;if(sd(t))return null;t=Xs(t)}return null}function Um(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tR=new Set(["html","body","#document"]);function Vo(e){return tR.has(ti(e))}function En(e){return zr(e).getComputedStyle(e)}function ad(e){return Cn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xs(e){if(ti(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Sy(e)&&e.host||Wn(e);return Sy(t)?t.host:t}function _S(e){const t=Xs(e);return Vo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Un(t)&&El(t)?t:_S(t)}function ll(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=_S(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=zr(s);if(a){const l=ap(i);return t.concat(i,i.visualViewport||[],El(s)?s:[],l&&r?ll(l):[])}return t.concat(s,ll(s,[],r))}function ap(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function NS(e){const t=En(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Un(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=gu(r)!==a||gu(n)!==i;return l&&(r=a,n=i),{width:r,height:n,$:l}}function zm(e){return Cn(e)?e:e.contextElement}function jo(e){const t=zm(e);if(!Un(t))return Fn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=NS(t);let i=(a?gu(r.width):r.width)/n,l=(a?gu(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const rR=Fn(0);function jS(e){const t=zr(e);return!Um()||!t.visualViewport?rR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function nR(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==zr(e)?!1:t}function Da(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=zm(e);let i=Fn(1);t&&(n?Cn(n)&&(i=jo(n)):i=jo(e));const l=nR(a,r,n)?jS(a):Fn(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(a){const h=zr(a),p=n&&Cn(n)?zr(n):n;let y=h,v=ap(y);for(;v&&n&&p!==y;){const x=jo(v),w=v.getBoundingClientRect(),b=En(v),g=w.left+(v.clientLeft+parseFloat(b.paddingLeft))*x.x,S=w.top+(v.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=g,u+=S,y=zr(v),v=ap(y)}}return yu({width:d,height:f,x:c,y:u})}function Wm(e,t){const r=ad(e).scrollLeft;return t?t.left+r:Da(Wn(e)).left+r}function CS(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Wm(e,n)),a=n.top+t.scrollTop;return{x:s,y:a}}function sR(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=Wn(n),l=t?sd(t.floating):!1;if(n===i||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Fn(1);const d=Fn(0),f=Un(n);if((f||!f&&!a)&&((ti(n)!=="body"||El(i))&&(c=ad(n)),Un(n))){const p=Da(n);u=jo(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=i&&!f&&!a?CS(i,c,!0):Fn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function aR(e){return Array.from(e.getClientRects())}function oR(e){const t=Wn(e),r=ad(e),n=e.ownerDocument.body,s=Lr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Lr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Wm(e);const l=-r.scrollTop;return En(n).direction==="rtl"&&(i+=Lr(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:l}}function iR(e,t){const r=zr(e),n=Wn(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const u=Um();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}const lR=new Set(["absolute","fixed"]);function cR(e,t){const r=Da(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Un(e)?jo(e):Fn(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:i,height:l,x:c,y:u}}function _y(e,t,r){let n;if(t==="viewport")n=iR(e,r);else if(t==="document")n=oR(Wn(e));else if(Cn(t))n=cR(t,r);else{const s=jS(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return yu(n)}function ES(e,t){const r=Xs(e);return r===t||!Cn(r)||Vo(r)?!1:En(r).position==="fixed"||ES(r,t)}function uR(e,t){const r=t.get(e);if(r)return r;let n=ll(e,[],!1).filter(l=>Cn(l)&&ti(l)!=="body"),s=null;const a=En(e).position==="fixed";let i=a?Xs(e):e;for(;Cn(i)&&!Vo(i);){const l=En(i),c=Fm(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&lR.has(s.position)||El(i)&&!c&&ES(e,i))?n=n.filter(d=>d!==i):s=l,i=Xs(i)}return t.set(e,n),n}function dR(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?sd(t)?[]:uR(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=_y(t,d,s);return u.top=Lr(f.top,u.top),u.right=Js(f.right,u.right),u.bottom=Js(f.bottom,u.bottom),u.left=Lr(f.left,u.left),u},_y(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fR(e){const{width:t,height:r}=NS(e);return{width:t,height:r}}function hR(e,t,r){const n=Un(t),s=Wn(t),a=r==="fixed",i=Da(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Fn(0);function u(){c.x=Wm(s)}if(n||!n&&!a)if((ti(t)!=="body"||El(s))&&(l=ad(t)),n){const p=Da(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?CS(s,l):Fn(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function Ef(e){return En(e).position==="static"}function Ny(e,t){if(!Un(e)||En(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Wn(e)===r&&(r=r.ownerDocument.body),r}function PS(e,t){const r=zr(e);if(sd(e))return r;if(!Un(e)){let s=Xs(e);for(;s&&!Vo(s);){if(Cn(s)&&!Ef(s))return s;s=Xs(s)}return r}let n=Ny(e,t);for(;n&&Yk(n)&&Ef(n);)n=Ny(n,t);return n&&Vo(n)&&Ef(n)&&!Fm(n)?r:n||eR(e)||r}const pR=async function(e){const t=this.getOffsetParent||PS,r=this.getDimensions,n=await r(e.floating);return{reference:hR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function mR(e){return En(e).direction==="rtl"}const gR={convertOffsetParentRelativeRectToViewportRelativeRect:sR,getDocumentElement:Wn,getClippingRect:dR,getOffsetParent:PS,getElementRects:pR,getClientRects:aR,getDimensions:fR,getScale:jo,isElement:Cn,isRTL:mR};function TS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vR(e,t){let r=null,n;const s=Wn(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const y=uc(f),v=uc(s.clientWidth-(d+h)),x=uc(s.clientHeight-(f+p)),w=uc(d),g={rootMargin:-y+"px "+-v+"px "+-x+"px "+-w+"px",threshold:Lr(0,Js(1,c))||1};let S=!0;function N(_){const j=_[0].intersectionRatio;if(j!==c){if(!S)return i();j?i(!1,j):n=setTimeout(()=>{i(!1,1e-7)},1e3)}j===1&&!TS(u,e.getBoundingClientRect())&&i(),S=!1}try{r=new IntersectionObserver(N,{...g,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,g)}r.observe(e)}return i(!0),a}function yR(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=zm(e),d=s||a?[...u?ll(u):[],...ll(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),a&&w.addEventListener("resize",r)});const f=u&&l?vR(u,r):null;let h=-1,p=null;i&&(p=new ResizeObserver(w=>{let[b]=w;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var g;(g=p)==null||g.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let y,v=c?Da(e):null;c&&x();function x(){const w=Da(e);v&&!TS(v,w)&&r(),v=w,y=requestAnimationFrame(x)}return r(),()=>{var w;d.forEach(b=>{s&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const xR=Wk,bR=Vk,wR=Fk,SR=Gk,_R=Uk,jy=$k,NR=Hk,jR=(e,t,r)=>{const n=new Map,s={platform:gR,...r},a={...s.platform,_c:n};return Lk(e,t,{...s,platform:a})};var CR=typeof document<"u",ER=function(){},Fc=CR?m.useLayoutEffect:ER;function xu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!xu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!xu(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function kS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Cy(e,t){const r=kS(e);return Math.round(t*r)/r}function Pf(e){const t=m.useRef(e);return Fc(()=>{t.current=e}),t}function PR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(n);xu(h,n)||p(n);const[y,v]=m.useState(null),[x,w]=m.useState(null),b=m.useCallback(D=>{D!==_.current&&(_.current=D,v(D))},[]),g=m.useCallback(D=>{D!==j.current&&(j.current=D,w(D))},[]),S=a||y,N=i||x,_=m.useRef(null),j=m.useRef(null),C=m.useRef(d),I=c!=null,P=Pf(c),F=Pf(s),A=Pf(u),H=m.useCallback(()=>{if(!_.current||!j.current)return;const D={placement:t,strategy:r,middleware:h};F.current&&(D.platform=F.current),jR(_.current,j.current,D).then(M=>{const G={...M,isPositioned:A.current!==!1};T.current&&!xu(C.current,G)&&(C.current=G,na.flushSync(()=>{f(G)}))})},[h,t,r,F,A]);Fc(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const T=m.useRef(!1);Fc(()=>(T.current=!0,()=>{T.current=!1}),[]),Fc(()=>{if(S&&(_.current=S),N&&(j.current=N),S&&N){if(P.current)return P.current(S,N,H);H()}},[S,N,H,P,I]);const R=m.useMemo(()=>({reference:_,floating:j,setReference:b,setFloating:g}),[b,g]),U=m.useMemo(()=>({reference:S,floating:N}),[S,N]),Q=m.useMemo(()=>{const D={position:r,left:0,top:0};if(!U.floating)return D;const M=Cy(U.floating,d.x),G=Cy(U.floating,d.y);return l?{...D,transform:"translate("+M+"px, "+G+"px)",...kS(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:G}},[r,l,U.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:H,refs:R,elements:U,floatingStyles:Q}),[d,H,R,U,Q])}const TR=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?jy({element:n.current,padding:s}).fn(r):{}:n?jy({element:n,padding:s}).fn(r):{}}}},kR=(e,t)=>({...xR(e),options:[e,t]}),RR=(e,t)=>({...bR(e),options:[e,t]}),AR=(e,t)=>({...NR(e),options:[e,t]}),IR=(e,t)=>({...wR(e),options:[e,t]}),DR=(e,t)=>({...SR(e),options:[e,t]}),OR=(e,t)=>({..._R(e),options:[e,t]}),BR=(e,t)=>({...TR(e),options:[e,t]});var MR="Arrow",RS=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return o.jsx(Be.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});RS.displayName=MR;var LR=RS;function AS(e){const[t,r]=m.useState(void 0);return Gt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Vm="Popper",[IS,od]=zn(Vm),[$R,DS]=IS(Vm),OS=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return o.jsx($R,{scope:t,anchor:n,onAnchorChange:s,children:r})};OS.displayName=Vm;var BS="PopperAnchor",MS=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=DS(BS,r),i=m.useRef(null),l=gt(t,i);return m.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(Be.div,{...s,ref:l})});MS.displayName=BS;var Hm="PopperContent",[FR,UR]=IS(Hm),LS=m.forwardRef((e,t)=>{var O,W,he,J,ve,Se;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...v}=e,x=DS(Hm,r),[w,b]=m.useState(null),g=gt(t,fe=>b(fe)),[S,N]=m.useState(null),_=AS(S),j=(_==null?void 0:_.width)??0,C=(_==null?void 0:_.height)??0,I=n+(a!=="center"?"-"+a:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],A=F.length>0,H={padding:P,boundary:F.filter(WR),altBoundary:A},{refs:T,floatingStyles:R,placement:U,isPositioned:Q,middlewareData:D}=PR({strategy:"fixed",placement:I,whileElementsMounted:(...fe)=>yR(...fe,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[kR({mainAxis:s+C,alignmentAxis:i}),c&&RR({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?AR():void 0,...H}),c&&IR({...H}),DR({...H,apply:({elements:fe,rects:_e,availableWidth:Fe,availableHeight:Ae})=>{const{width:ut,height:et}=_e.reference,Ct=fe.floating.style;Ct.setProperty("--radix-popper-available-width",`${Fe}px`),Ct.setProperty("--radix-popper-available-height",`${Ae}px`),Ct.setProperty("--radix-popper-anchor-width",`${ut}px`),Ct.setProperty("--radix-popper-anchor-height",`${et}px`)}}),S&&BR({element:S,padding:l}),VR({arrowWidth:j,arrowHeight:C}),h&&OR({strategy:"referenceHidden",...H})]}),[M,G]=US(U),ne=cn(y);Gt(()=>{Q&&(ne==null||ne())},[Q,ne]);const V=(O=D.arrow)==null?void 0:O.x,se=(W=D.arrow)==null?void 0:W.y,ee=((he=D.arrow)==null?void 0:he.centerOffset)!==0,[ie,le]=m.useState();return Gt(()=>{w&&le(window.getComputedStyle(w).zIndex)},[w]),o.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:Q?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(J=D.transformOrigin)==null?void 0:J.x,(ve=D.transformOrigin)==null?void 0:ve.y].join(" "),...((Se=D.hide)==null?void 0:Se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(FR,{scope:r,placedSide:M,onArrowChange:N,arrowX:V,arrowY:se,shouldHideArrow:ee,children:o.jsx(Be.div,{"data-side":M,"data-align":G,...v,ref:g,style:{...v.style,animation:Q?void 0:"none"}})})})});LS.displayName=Hm;var $S="PopperArrow",zR={top:"bottom",right:"left",bottom:"top",left:"right"},FS=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=UR($S,n),i=zR[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(LR,{...s,ref:r,style:{...s.style,display:"block"}})})});FS.displayName=$S;function WR(e){return e!==null}var VR=e=>({name:"transformOrigin",options:e,fn(t){var x,w,b;const{placement:r,rects:n,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=US(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,p=(((b=s.arrow)==null?void 0:b.y)??0)+c/2;let y="",v="";return u==="bottom"?(y=i?f:`${h}px`,v=`${-c}px`):u==="top"?(y=i?f:`${h}px`,v=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,v=i?f:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,v=i?f:`${p}px`),{data:{x:y,y:v}}}});function US(e){const[t,r="center"]=e.split("-");return[t,r]}var HR=OS,zS=MS,WS=LS,VS=FS,[id,N6]=zn("Tooltip",[od]),Gm=od(),HS="TooltipProvider",GR=700,Ey="tooltip.open",[qR,GS]=id(HS),qS=e=>{const{__scopeTooltip:t,delayDuration:r=GR,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,i=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(qR,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};qS.displayName=HS;var KS="Tooltip",[j6,ld]=id(KS),op="TooltipTrigger",KR=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=ld(op,r),a=GS(op,r),i=Gm(r),l=m.useRef(null),c=gt(t,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(zS,{asChild:!0,...i,children:o.jsx(Be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Te(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Te(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Te(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Te(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Te(e.onBlur,s.onClose),onClick:Te(e.onClick,s.onClose)})})});KR.displayName=op;var YR="TooltipPortal",[C6,QR]=id(YR,{forceMount:void 0}),Ho="TooltipContent",YS=m.forwardRef((e,t)=>{const r=QR(Ho,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,i=ld(Ho,e.__scopeTooltip);return o.jsx(us,{present:n||i.open,children:i.disableHoverableContent?o.jsx(QS,{side:s,...a,ref:t}):o.jsx(JR,{side:s,...a,ref:t})})}),JR=m.forwardRef((e,t)=>{const r=ld(Ho,e.__scopeTooltip),n=GS(Ho,e.__scopeTooltip),s=m.useRef(null),a=gt(t,s),[i,l]=m.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=m.useCallback(()=>{l(null),f(!1)},[f]),p=m.useCallback((y,v)=>{const x=y.currentTarget,w={x:y.clientX,y:y.clientY},b=rA(w,x.getBoundingClientRect()),g=nA(w,b),S=sA(v.getBoundingClientRect()),N=oA([...g,...S]);l(N),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const y=x=>p(x,d),v=x=>p(x,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",v)}}},[c,d,p,h]),m.useEffect(()=>{if(i){const y=v=>{const x=v.target,w={x:v.clientX,y:v.clientY},b=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),g=!aA(w,i);b?h():g&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,i,u,h]),o.jsx(QS,{...e,ref:a})}),[XR,ZR]=id(KS,{isInside:!1}),eA=cT("TooltipContent"),QS=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=ld(Ho,r),u=Gm(r),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(Ey,d),()=>document.removeEventListener(Ey,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(jl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(WS,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(eA,{children:n}),o.jsx(XR,{scope:r,isInside:!0,children:o.jsx(RT,{id:c.contentId,role:"tooltip",children:s||n})})]})})});YS.displayName=Ho;var JS="TooltipArrow",tA=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Gm(r);return ZR(JS,r).isInside?null:o.jsx(VS,{...s,...n,ref:t})});tA.displayName=JS;function rA(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function nA(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function sA(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function aA(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a],c=t[i],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function oA(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),iA(t)}function iA(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],i=r[r.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var lA=qS,XS=YS;const cA=lA,uA=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(XS,{ref:n,sideOffset:t,className:$e("z-50 overflow-hidden rounded-md border border-border/40 bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-lg animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));uA.displayName=XS.displayName;var cd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ud=typeof window>"u"||"Deno"in globalThis;function gn(){}function dA(e,t){return typeof e=="function"?e(t):e}function fA(e){return typeof e=="number"&&e>=0&&e!==1/0}function hA(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ip(e,t){return typeof e=="function"?e(t):e}function pA(e,t){return typeof e=="function"?e(t):e}function Py(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==qm(i,t.options))return!1}else if(!ul(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function Ty(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(cl(t.options.mutationKey)!==cl(a))return!1}else if(!ul(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function qm(e,t){return((t==null?void 0:t.queryKeyHashFn)||cl)(e)}function cl(e){return JSON.stringify(e,(t,r)=>lp(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function ul(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ul(e[r],t[r])):!1}function ZS(e,t){if(e===t)return e;const r=ky(e)&&ky(t);if(r||lp(e)&&lp(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),i=a.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:a[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=ZS(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===i&&u===s?e:l}return t}function ky(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function lp(e){if(!Ry(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Ry(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ry(e){return Object.prototype.toString.call(e)==="[object Object]"}function mA(e){return new Promise(t=>{setTimeout(t,e)})}function gA(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ZS(e,t):t}function vA(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function yA(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Km=Symbol();function e1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Km?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ba,Es,Po,cb,xA=(cb=class extends cd{constructor(){super();ct(this,ba);ct(this,Es);ct(this,Po);ze(this,Po,t=>{if(!ud&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){re(this,Es)||this.setEventListener(re(this,Po))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,Es))==null||t.call(this),ze(this,Es,void 0))}setEventListener(t){var r;ze(this,Po,t),(r=re(this,Es))==null||r.call(this),ze(this,Es,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){re(this,ba)!==t&&(ze(this,ba,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof re(this,ba)=="boolean"?re(this,ba):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ba=new WeakMap,Es=new WeakMap,Po=new WeakMap,cb),t1=new xA,To,Ps,ko,ub,bA=(ub=class extends cd{constructor(){super();ct(this,To,!0);ct(this,Ps);ct(this,ko);ze(this,ko,t=>{if(!ud&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){re(this,Ps)||this.setEventListener(re(this,ko))}onUnsubscribe(){var t;this.hasListeners()||((t=re(this,Ps))==null||t.call(this),ze(this,Ps,void 0))}setEventListener(t){var r;ze(this,ko,t),(r=re(this,Ps))==null||r.call(this),ze(this,Ps,t(this.setOnline.bind(this)))}setOnline(t){re(this,To)!==t&&(ze(this,To,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return re(this,To)}},To=new WeakMap,Ps=new WeakMap,ko=new WeakMap,ub),bu=new bA;function wA(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function SA(e){return Math.min(1e3*2**e,3e4)}function r1(e){return(e??"online")==="online"?bu.isOnline():!0}var n1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Tf(e){return e instanceof n1}function s1(e){let t=!1,r=0,n=!1,s;const a=wA(),i=v=>{var x;n||(h(new n1(v)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>t1.isFocused()&&(e.networkMode==="always"||bu.isOnline())&&e.canRun(),d=()=>r1(e.networkMode)&&e.canRun(),f=v=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,v),s==null||s(),a.resolve(v))},h=v=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,v),s==null||s(),a.reject(v))},p=()=>new Promise(v=>{var x;s=w=>{(n||u())&&v(w)},(x=e.onPause)==null||x.call(e)}).then(()=>{var v;s=void 0,n||(v=e.onContinue)==null||v.call(e)}),y=()=>{if(n)return;let v;const x=r===0?e.initialPromise:void 0;try{v=x??e.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{var _;if(n)return;const b=e.retry??(ud?0:3),g=e.retryDelay??SA,S=typeof g=="function"?g(r,w):g,N=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,w);if(t||!N){h(w);return}r++,(_=e.onFail)==null||_.call(e,r,w),mA(S).then(()=>u()?void 0:p()).then(()=>{t?h(w):y()})})};return{promise:a,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),a)}}var _A=e=>setTimeout(e,0);function NA(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=_A;const a=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var yr=NA(),wa,db,a1=(db=class{constructor(){ct(this,wa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fA(this.gcTime)&&ze(this,wa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ud?1/0:5*60*1e3))}clearGcTimeout(){re(this,wa)&&(clearTimeout(re(this,wa)),ze(this,wa,void 0))}},wa=new WeakMap,db),Ro,Sa,Jr,_a,ar,yl,Na,vn,Gn,fb,jA=(fb=class extends a1{constructor(t){super();ct(this,vn);ct(this,Ro);ct(this,Sa);ct(this,Jr);ct(this,_a);ct(this,ar);ct(this,yl);ct(this,Na);ze(this,Na,!1),ze(this,yl,t.defaultOptions),this.setOptions(t.options),this.observers=[],ze(this,_a,t.client),ze(this,Jr,re(this,_a).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ze(this,Ro,EA(this.options)),this.state=t.state??re(this,Ro),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=re(this,ar))==null?void 0:t.promise}setOptions(t){this.options={...re(this,yl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&re(this,Jr).remove(this)}setData(t,r){const n=gA(this.state.data,t,this.options);return tr(this,vn,Gn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){tr(this,vn,Gn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=re(this,ar))==null?void 0:n.promise;return(s=re(this,ar))==null||s.cancel(t),r?r.then(gn).catch(gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(re(this,Ro))}isActive(){return this.observers.some(t=>pA(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Km||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ip(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!hA(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=re(this,ar))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=re(this,ar))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),re(this,Jr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(re(this,ar)&&(re(this,Na)?re(this,ar).cancel({revert:!0}):re(this,ar).cancelRetry()),this.scheduleGc()),re(this,Jr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||tr(this,vn,Gn).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(re(this,ar))return re(this,ar).continueRetry(),re(this,ar).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ze(this,Na,!0),n.signal)})},a=()=>{const h=e1(this.options,r),y=(()=>{const v={client:re(this,_a),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return ze(this,Na,!1),this.options.persister?this.options.persister(h,y,this):h(y)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:re(this,_a),state:this.state,fetchFn:a};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),ze(this,Sa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&tr(this,vn,Gn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var p,y,v,x;Tf(h)&&h.silent||tr(this,vn,Gn).call(this,{type:"error",error:h}),Tf(h)||((y=(p=re(this,Jr).config).onError)==null||y.call(p,h,this),(x=(v=re(this,Jr).config).onSettled)==null||x.call(v,this.state.data,h,this)),this.scheduleGc()};return ze(this,ar,s1({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,y,v,x;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){c(w);return}(y=(p=re(this,Jr).config).onSuccess)==null||y.call(p,h,this),(x=(v=re(this,Jr).config).onSettled)==null||x.call(v,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{tr(this,vn,Gn).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{tr(this,vn,Gn).call(this,{type:"pause"})},onContinue:()=>{tr(this,vn,Gn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),re(this,ar).start()}},Ro=new WeakMap,Sa=new WeakMap,Jr=new WeakMap,_a=new WeakMap,ar=new WeakMap,yl=new WeakMap,Na=new WeakMap,vn=new WeakSet,Gn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...CA(n.data,this.options),fetchMeta:t.meta??null};case"success":return ze(this,Sa,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Tf(s)&&s.revert&&re(this,Sa)?{...re(this,Sa),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),yr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),re(this,Jr).notify({query:this,type:"updated",action:t})})},fb);function CA(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:r1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function EA(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var An,hb,PA=(hb=class extends cd{constructor(t={}){super();ct(this,An);this.config=t,ze(this,An,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??qm(s,r);let i=this.get(a);return i||(i=new jA({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){re(this,An).has(t.queryHash)||(re(this,An).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=re(this,An).get(t.queryHash);r&&(t.destroy(),r===t&&re(this,An).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){yr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return re(this,An).get(t)}getAll(){return[...re(this,An).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Py(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Py(t,n)):r}notify(t){yr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){yr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){yr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},An=new WeakMap,hb),In,mr,ja,Dn,ys,pb,TA=(pb=class extends a1{constructor(t){super();ct(this,Dn);ct(this,In);ct(this,mr);ct(this,ja);this.mutationId=t.mutationId,ze(this,mr,t.mutationCache),ze(this,In,[]),this.state=t.state||kA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){re(this,In).includes(t)||(re(this,In).push(t),this.clearGcTimeout(),re(this,mr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ze(this,In,re(this,In).filter(r=>r!==t)),this.scheduleGc(),re(this,mr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){re(this,In).length||(this.state.status==="pending"?this.scheduleGc():re(this,mr).remove(this))}continue(){var t;return((t=re(this,ja))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,l,c,u,d,f,h,p,y,v,x,w,b,g,S,N,_,j,C;const r=()=>{tr(this,Dn,ys).call(this,{type:"continue"})};ze(this,ja,s1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,P)=>{tr(this,Dn,ys).call(this,{type:"failed",failureCount:I,error:P})},onPause:()=>{tr(this,Dn,ys).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>re(this,mr).canRun(this)}));const n=this.state.status==="pending",s=!re(this,ja).canStart();try{if(n)r();else{tr(this,Dn,ys).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=re(this,mr).config).onMutate)==null?void 0:i.call(a,t,this));const P=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));P!==this.state.context&&tr(this,Dn,ys).call(this,{type:"pending",context:P,variables:t,isPaused:s})}const I=await re(this,ja).start();return await((d=(u=re(this,mr).config).onSuccess)==null?void 0:d.call(u,I,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,I,t,this.state.context)),await((y=(p=re(this,mr).config).onSettled)==null?void 0:y.call(p,I,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,I,null,t,this.state.context)),tr(this,Dn,ys).call(this,{type:"success",data:I}),I}catch(I){try{throw await((b=(w=re(this,mr).config).onError)==null?void 0:b.call(w,I,t,this.state.context,this)),await((S=(g=this.options).onError)==null?void 0:S.call(g,I,t,this.state.context)),await((_=(N=re(this,mr).config).onSettled)==null?void 0:_.call(N,void 0,I,this.state.variables,this.state.context,this)),await((C=(j=this.options).onSettled)==null?void 0:C.call(j,void 0,I,t,this.state.context)),I}finally{tr(this,Dn,ys).call(this,{type:"error",error:I})}}finally{re(this,mr).runNext(this)}}},In=new WeakMap,mr=new WeakMap,ja=new WeakMap,Dn=new WeakSet,ys=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),yr.batch(()=>{re(this,In).forEach(n=>{n.onMutationUpdate(t)}),re(this,mr).notify({mutation:this,type:"updated",action:t})})},pb);function kA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jn,yn,xl,mb,RA=(mb=class extends cd{constructor(t={}){super();ct(this,Jn);ct(this,yn);ct(this,xl);this.config=t,ze(this,Jn,new Set),ze(this,yn,new Map),ze(this,xl,0)}build(t,r,n){const s=new TA({mutationCache:this,mutationId:++Wl(this,xl)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){re(this,Jn).add(t);const r=dc(t);if(typeof r=="string"){const n=re(this,yn).get(r);n?n.push(t):re(this,yn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(re(this,Jn).delete(t)){const r=dc(t);if(typeof r=="string"){const n=re(this,yn).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&re(this,yn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=dc(t);if(typeof r=="string"){const n=re(this,yn).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=dc(t);if(typeof r=="string"){const s=(n=re(this,yn).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){yr.batch(()=>{re(this,Jn).forEach(t=>{this.notify({type:"removed",mutation:t})}),re(this,Jn).clear(),re(this,yn).clear()})}getAll(){return Array.from(re(this,Jn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ty(r,n))}findAll(t={}){return this.getAll().filter(r=>Ty(t,r))}notify(t){yr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return yr.batch(()=>Promise.all(t.map(r=>r.continue().catch(gn))))}},Jn=new WeakMap,yn=new WeakMap,xl=new WeakMap,mb);function dc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Ay(e){return{onFetch:(t,r)=>{var d,f,h,p,y;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],i=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const x=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},w=e1(t.options,t.fetchOptions),b=async(g,S,N)=>{if(v)return Promise.reject();if(S==null&&g.pages.length)return Promise.resolve(g);const j=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:S,direction:N?"backward":"forward",meta:t.options.meta};return x(F),F})(),C=await w(j),{maxPages:I}=t.options,P=N?yA:vA;return{pages:P(g.pages,C,I),pageParams:P(g.pageParams,S,I)}};if(s&&a.length){const g=s==="backward",S=g?AA:Iy,N={pages:a,pageParams:i},_=S(n,N);l=await b(N,_,g)}else{const g=e??a.length;do{const S=c===0?i[0]??n.initialPageParam:Iy(n,l);if(c>0&&S==null)break;l=await b(l,S),c++}while(c<g)}return l};t.options.persister?t.fetchFn=()=>{var v,x;return(x=(v=t.options).persister)==null?void 0:x.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Iy(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function AA(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var At,Ts,ks,Ao,Io,Rs,Do,Oo,gb,IA=(gb=class{constructor(e={}){ct(this,At);ct(this,Ts);ct(this,ks);ct(this,Ao);ct(this,Io);ct(this,Rs);ct(this,Do);ct(this,Oo);ze(this,At,e.queryCache||new PA),ze(this,Ts,e.mutationCache||new RA),ze(this,ks,e.defaultOptions||{}),ze(this,Ao,new Map),ze(this,Io,new Map),ze(this,Rs,0)}mount(){Wl(this,Rs)._++,re(this,Rs)===1&&(ze(this,Do,t1.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,At).onFocus())})),ze(this,Oo,bu.subscribe(async e=>{e&&(await this.resumePausedMutations(),re(this,At).onOnline())})))}unmount(){var e,t;Wl(this,Rs)._--,re(this,Rs)===0&&((e=re(this,Do))==null||e.call(this),ze(this,Do,void 0),(t=re(this,Oo))==null||t.call(this),ze(this,Oo,void 0))}isFetching(e){return re(this,At).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return re(this,Ts).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=re(this,At).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=re(this,At).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ip(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return re(this,At).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=re(this,At).get(n.queryHash),a=s==null?void 0:s.state.data,i=dA(t,a);if(i!==void 0)return re(this,At).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return yr.batch(()=>re(this,At).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=re(this,At).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=re(this,At);yr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=re(this,At);return yr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=yr.batch(()=>re(this,At).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(gn).catch(gn)}invalidateQueries(e,t={}){return yr.batch(()=>(re(this,At).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=yr.batch(()=>re(this,At).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(gn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(gn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=re(this,At).build(this,t);return r.isStaleByTime(ip(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(gn).catch(gn)}fetchInfiniteQuery(e){return e.behavior=Ay(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(gn).catch(gn)}ensureInfiniteQueryData(e){return e.behavior=Ay(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bu.isOnline()?re(this,Ts).resumePausedMutations():Promise.resolve()}getQueryCache(){return re(this,At)}getMutationCache(){return re(this,Ts)}getDefaultOptions(){return re(this,ks)}setDefaultOptions(e){ze(this,ks,e)}setQueryDefaults(e,t){re(this,Ao).set(cl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...re(this,Ao).values()],r={};return t.forEach(n=>{ul(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){re(this,Io).set(cl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...re(this,Io).values()],r={};return t.forEach(n=>{ul(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...re(this,ks).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Km&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...re(this,ks).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){re(this,At).clear(),re(this,Ts).clear()}},At=new WeakMap,Ts=new WeakMap,ks=new WeakMap,Ao=new WeakMap,Io=new WeakMap,Rs=new WeakMap,Do=new WeakMap,Oo=new WeakMap,gb),DA=m.createContext(void 0),OA=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(DA.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wu(){return wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wu.apply(this,arguments)}var Ds;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ds||(Ds={}));const Dy="popstate";function BA(e){e===void 0&&(e={});function t(s,a){let{pathname:i="/",search:l="",hash:c=""}=Pl(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),cp("",{pathname:i,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){let i=s.document.querySelector("base"),l="";if(i&&i.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof a=="string"?a:o1(a))}function n(s,a){Ym(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return LA(t,r,n,e)}function Ir(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ym(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MA(){return Math.random().toString(36).substr(2,8)}function Oy(e,t){return{usr:e.state,key:e.key,idx:t}}function cp(e,t,r,n){return r===void 0&&(r=null),wu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pl(t):t,{state:r,key:t&&t.key||n||MA()})}function o1(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function LA(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,l=Ds.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(wu({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Ds.Pop;let x=d(),w=x==null?null:x-u;u=x,c&&c({action:l,location:v.location,delta:w})}function h(x,w){l=Ds.Push;let b=cp(v.location,x,w);r&&r(b,x),u=d()+1;let g=Oy(b,u),S=v.createHref(b);try{i.pushState(g,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(S)}a&&c&&c({action:l,location:v.location,delta:1})}function p(x,w){l=Ds.Replace;let b=cp(v.location,x,w);r&&r(b,x),u=d();let g=Oy(b,u),S=v.createHref(b);i.replaceState(g,"",S),a&&c&&c({action:l,location:v.location,delta:0})}function y(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof x=="string"?x:o1(x);return b=b.replace(/ $/,"%20"),Ir(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let v={get action(){return l},get location(){return e(s,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Dy,f),c=x,()=>{s.removeEventListener(Dy,f),c=null}},createHref(x){return t(s,x)},createURL:y,encodeLocation(x){let w=y(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(x){return i.go(x)}};return v}var By;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(By||(By={}));function $A(e,t,r){return r===void 0&&(r="/"),FA(e,t,r)}function FA(e,t,r,n){let s=typeof t=="string"?Pl(t):t,a=c1(s.pathname||"/",r);if(a==null)return null;let i=i1(e);UA(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=ZA(a);l=QA(i[c],u)}return l}function i1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(Ir(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Co([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Ir(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),i1(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:KA(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of l1(a.path))s(a,i,c)}),t}function l1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let i=l1(n.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function UA(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:YA(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const zA=/^:[\w-]+$/,WA=3,VA=2,HA=1,GA=10,qA=-2,My=e=>e==="*";function KA(e,t){let r=e.split("/"),n=r.length;return r.some(My)&&(n+=qA),t&&(n+=VA),r.filter(s=>!My(s)).reduce((s,a)=>s+(zA.test(a)?WA:a===""?HA:GA),n)}function YA(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function QA(e,t,r){let{routesMeta:n}=e,s={},a="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=JA({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Co([a,f.pathname]),pathnameBase:eI(Co([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Co([a,f.pathnameBase]))}return i}function JA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=XA(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let v=l[f]||"";i=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function XA(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ym(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function ZA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ym(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function c1(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Co=e=>e.join("/").replace(/\/\/+/g,"/"),eI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function tI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const u1=["post","put","patch","delete"];new Set(u1);const rI=["get",...u1];new Set(rI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Su.apply(this,arguments)}const nI=m.createContext(null),sI=m.createContext(null),d1=m.createContext(null),dd=m.createContext(null),fd=m.createContext({outlet:null,matches:[],isDataRoute:!1}),f1=m.createContext(null);function Qm(){return m.useContext(dd)!=null}function h1(){return Qm()||Ir(!1),m.useContext(dd).location}function aI(e,t){return oI(e,t)}function oI(e,t,r,n){Qm()||Ir(!1);let{navigator:s}=m.useContext(d1),{matches:a}=m.useContext(fd),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=h1(),d;if(t){var f;let x=typeof t=="string"?Pl(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Ir(!1),d=x}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=$A(e,{pathname:p}),v=dI(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Co([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Co([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return t&&v?m.createElement(dd.Provider,{value:{location:Su({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ds.Pop}},v):v}function iI(){let e=mI(),t=tI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const lI=m.createElement(iI,null);class cI extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(fd.Provider,{value:this.props.routeContext},m.createElement(f1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uI(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(nI);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(fd.Provider,{value:t},n)}function dI(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ir(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let p,y=!1,v=null,x=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||lI,c&&(u<0&&h===0?(gI("route-fallback"),y=!0,x=null):u===h&&(y=!0,x=f.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,h+1)),b=()=>{let g;return p?g=v:y?g=x:f.route.Component?g=m.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,m.createElement(uI,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:g})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(cI,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var p1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(p1||{});function fI(e){let t=m.useContext(sI);return t||Ir(!1),t}function hI(e){let t=m.useContext(fd);return t||Ir(!1),t}function pI(e){let t=hI(),r=t.matches[t.matches.length-1];return r.route.id||Ir(!1),r.route.id}function mI(){var e;let t=m.useContext(f1),r=fI(p1.UseRouteError),n=pI();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}const Ly={};function gI(e,t,r){Ly[e]||(Ly[e]=!0)}function vI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Uc(e){Ir(!1)}function yI(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ds.Pop,navigator:a,static:i=!1,future:l}=e;Qm()&&Ir(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:i,future:Su({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof n=="string"&&(n=Pl(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:y="default"}=n,v=m.useMemo(()=>{let x=c1(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:y},navigationType:s}},[c,d,f,h,p,y,s]);return v==null?null:m.createElement(d1.Provider,{value:u},m.createElement(dd.Provider,{children:r,value:v}))}function xI(e){let{children:t,location:r}=e;return aI(up(t),r)}new Promise(()=>{});function up(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let a=[...t,s];if(n.type===m.Fragment){r.push.apply(r,up(n.props.children,a));return}n.type!==Uc&&Ir(!1),!n.props.index||!n.props.children||Ir(!1);let i={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=up(n.props.children,a)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const bI="6";try{window.__reactRouterVersion=bI}catch{}const wI="startTransition",$y=$p[wI];function SI(e){let{basename:t,children:r,future:n,window:s}=e,a=m.useRef();a.current==null&&(a.current=BA({window:s,v5Compat:!0}));let i=a.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=m.useCallback(f=>{u&&$y?$y(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.useEffect(()=>vI(n),[n]),m.createElement(yI,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}var Fy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fy||(Fy={}));var Uy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Uy||(Uy={}));const _I="modulepreload",NI=function(e){return"/BidWhist/"+e},zy={},Le=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=NI(c),c in zy)return;zy[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":_I,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},jI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Le(async()=>{const{default:n}=await Promise.resolve().then(()=>ri);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Jm extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class CI extends Jm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Wy extends Jm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Vy extends Jm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var dp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(dp||(dp={}));var EI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class PI{constructor(t,{headers:r={},customFetch:n,region:s=dp.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=jI(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return EI(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:i}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(v=>{throw new CI(v)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Wy(f);if(!f.ok)throw new Vy(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield f.json():p==="application/octet-stream"?y=yield f.blob():p==="text/event-stream"?y=f:p==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Vy||s instanceof Wy?s.context:void 0}}})}}var Pr={},Xm={},hd={},Tl={},pd={},md={},TI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Go=TI();const kI=Go.fetch,m1=Go.fetch.bind(Go),g1=Go.Headers,RI=Go.Request,AI=Go.Response,ri=Object.freeze(Object.defineProperty({__proto__:null,Headers:g1,Request:RI,Response:AI,default:m1,fetch:kI},Symbol.toStringTag,{value:"Module"})),II=PC(ri);var gd={};Object.defineProperty(gd,"__esModule",{value:!0});let DI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};gd.default=DI;var v1=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(md,"__esModule",{value:!0});const OI=v1(II),BI=v1(gd);let MI=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=OI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c;let u=null,d=null,f=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const w=await a.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}const v=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),x=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await a.text();try{u=JSON.parse(v),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,p="OK")}catch{a.status===404&&v===""?(h=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new BI.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};md.default=MI;var LI=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pd,"__esModule",{value:!0});const $I=LI(md);let FI=class extends $I.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};pd.default=FI;var UI=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tl,"__esModule",{value:!0});const zI=UI(pd);let WI=class extends zI.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Tl.default=WI;var VI=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hd,"__esModule",{value:!0});const xi=VI(Tl);let HI=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new xi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new xi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new xi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new xi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new xi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};hd.default=HI;var vd={},yd={};Object.defineProperty(yd,"__esModule",{value:!0});yd.version=void 0;yd.version="0.0.0-automated";Object.defineProperty(vd,"__esModule",{value:!0});vd.DEFAULT_HEADERS=void 0;const GI=yd;vd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${GI.version}`};var y1=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xm,"__esModule",{value:!0});const qI=y1(hd),KI=y1(Tl),YI=vd;let QI=class x1{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},YI.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new qI.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new x1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new KI.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Xm.default=QI;var ni=an&&an.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.PostgrestError=Pr.PostgrestBuilder=Pr.PostgrestTransformBuilder=Pr.PostgrestFilterBuilder=Pr.PostgrestQueryBuilder=Pr.PostgrestClient=void 0;const b1=ni(Xm);Pr.PostgrestClient=b1.default;const w1=ni(hd);Pr.PostgrestQueryBuilder=w1.default;const S1=ni(Tl);Pr.PostgrestFilterBuilder=S1.default;const _1=ni(pd);Pr.PostgrestTransformBuilder=_1.default;const N1=ni(md);Pr.PostgrestBuilder=N1.default;const j1=ni(gd);Pr.PostgrestError=j1.default;var JI=Pr.default={PostgrestClient:b1.default,PostgrestQueryBuilder:w1.default,PostgrestFilterBuilder:S1.default,PostgrestTransformBuilder:_1.default,PostgrestBuilder:N1.default,PostgrestError:j1.default};const{PostgrestClient:XI,PostgrestQueryBuilder:A6,PostgrestFilterBuilder:I6,PostgrestTransformBuilder:D6,PostgrestBuilder:O6,PostgrestError:B6}=JI;function ZI(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const eD=ZI(),tD="2.11.15",rD=`realtime-js/${tD}`,nD="1.0.0",C1=1e4,sD=1e3;var Fi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fi||(Fi={}));var sr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(sr||(sr={}));var bn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(bn||(bn={}));var fp;(function(e){e.websocket="websocket"})(fp||(fp={}));var ga;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ga||(ga={}));class aD{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class E1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(bt||(bt={}));const Hy=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,i)=>(a[i]=oD(i,e,t,s),a),{})},oD=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?P1(a,i):hp(i)},P1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return uD(t,r)}switch(e){case bt.bool:return iD(t);case bt.float4:case bt.float8:case bt.int2:case bt.int4:case bt.int8:case bt.numeric:case bt.oid:return lD(t);case bt.json:case bt.jsonb:return cD(t);case bt.timestamp:return dD(t);case bt.abstime:case bt.date:case bt.daterange:case bt.int4range:case bt.int8range:case bt.money:case bt.reltime:case bt.text:case bt.time:case bt.timestamptz:case bt.timetz:case bt.tsrange:case bt.tstzrange:return hp(t);default:return hp(t)}},hp=e=>e,iD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},cD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},uD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>P1(t,l))}return e},dD=e=>typeof e=="string"?e.replace(" ","T"):e,T1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class kf{constructor(t,r,n={},s=C1){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Gy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Gy||(Gy={}));class Ui{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ui.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=Ui.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ui.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=a[u];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),y=d.filter(x=>p.indexOf(x.presence_ref)<0),v=f.filter(x=>h.indexOf(x.presence_ref)<0);y.length>0&&(l[u]=y),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qy||(qy={}));var Ky;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ky||(Ky={}));var Yn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yn||(Yn={}));class Zm{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new kf(this,bn.join,this.params,this.timeout),this.rejoinTimer=new E1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ui(this),this.broadcastEndpointURL=T1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==sr.closed){const{config:{broadcast:a,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Yn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Yn.CLOSED));const c={},u={broadcast:a,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Yn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let v=0;v<p;v++){const x=h[v],{filter:{event:w,schema:b,table:g,filter:S}}=x,N=d&&d[v];if(N&&N.event===w&&N.schema===b&&N.table===g&&N.filter===S)y.push(Object.assign(Object.assign({},x),{id:N.id}));else{this.unsubscribe(),this.state=sr.errored,t==null||t(Yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Yn.SUBSCRIBED);return}}).receive("error",d=>{this.state=sr.errored,t==null||t(Yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=sr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new kf(this,bn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new kf(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=bn;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,v,x;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(v=p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(p=>p.callback(h,n)):(a=this.bindings[i])===null||a===void 0||a.filter(p=>{var y,v,x,w,b,g;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const S=p.id,N=(y=p.filter)===null||y===void 0?void 0:y.event;return S&&((v=r.ids)===null||v===void 0?void 0:v.includes(S))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(b=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:v,table:x,commit_timestamp:w,type:b,errors:g}=y;h=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:w,eventType:b,new:{},old:{},errors:g}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===sr.closed}_isJoined(){return this.state===sr.joined}_isJoining(){return this.state===sr.joining}_isLeaving(){return this.state===sr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Zm.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bn.close,{},t)}_onError(t){this._on(bn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Hy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Hy(t.columns,t.old_record)),r}}const Yy=()=>{},fD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hD{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=C1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yy,this.ref=0,this.logger=Yy,this.conn=null,this.sendBuffer=[],this.serializer=new aD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...l)=>Le(async()=>{const{default:c}=await Promise.resolve().then(()=>ri);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${fp.websocket}`,this.httpEndpoint=T1(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,i)=>i(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new E1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=eD),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nD}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Fi.connecting:return ga.Connecting;case Fi.open:return ga.Open;case Fi.closing:return ga.Closing;default:return ga.Closed}}isConnected(){return this.connectionState()===ga.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Zm(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:rD};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(bn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(sD,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:i}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,a,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(bn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([fD],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class eg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function zt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class pD extends eg{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pp extends eg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var mD=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const k1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Le(async()=>{const{default:n}=await Promise.resolve().then(()=>ri);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},gD=()=>mD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Le(()=>Promise.resolve().then(()=>ri),void 0)).Response:Response}),mp=e=>{if(Array.isArray(e))return e.map(r=>mp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=mp(n)}),t};var Ua=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Rf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vD=(e,t,r)=>Ua(void 0,void 0,void 0,function*(){const n=yield gD();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new pD(Rf(s),e.status||500))}).catch(s=>{t(new pp(Rf(s),s))}):t(new pp(Rf(e),e))}),yD=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function kl(e,t,r,n,s,a){return Ua(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,yD(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>vD(c,l,n))})})}function _u(e,t,r,n){return Ua(this,void 0,void 0,function*(){return kl(e,"GET",t,r,n)})}function _s(e,t,r,n,s){return Ua(this,void 0,void 0,function*(){return kl(e,"POST",t,n,s,r)})}function xD(e,t,r,n,s){return Ua(this,void 0,void 0,function*(){return kl(e,"PUT",t,n,s,r)})}function bD(e,t,r,n){return Ua(this,void 0,void 0,function*(){return kl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function R1(e,t,r,n,s){return Ua(this,void 0,void 0,function*(){return kl(e,"DELETE",t,n,s,r)})}var Sr=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const wD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class SD{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=k1(s)}uploadOrUpdate(t,r,n,s){return Sr(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},Qy),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(zt(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Sr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Sr(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Qy.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(zt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Sr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield _s(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new eg("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Sr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Sr(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Sr(this,void 0,void 0,function*(){try{return{data:{path:(yield _s(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Sr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield _s(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Sr(this,void 0,void 0,function*(){try{const s=yield _s(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}download(t,r){return Sr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield _u(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(zt(l))return{data:null,error:l};throw l}})}info(t){return Sr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield _u(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:mp(n),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}exists(t){return Sr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield bD(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(zt(n)&&n instanceof pp){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Sr(this,void 0,void 0,function*(){try{return{data:yield R1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Sr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},wD),r),{prefix:t||""});return{data:yield _s(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const _D="2.7.1",ND={"X-Client-Info":`storage-js/${_D}`};var Ga=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class jD{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},ND),r),this.fetch=k1(n)}listBuckets(){return Ga(this,void 0,void 0,function*(){try{return{data:yield _u(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(zt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ga(this,void 0,void 0,function*(){try{return{data:yield _u(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ga(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ga(this,void 0,void 0,function*(){try{return{data:yield xD(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ga(this,void 0,void 0,function*(){try{return{data:yield _s(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ga(this,void 0,void 0,function*(){try{return{data:yield R1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}}class CD extends jD{constructor(t,r={},n){super(t,r,n)}from(t){return new SD(this.url,this.headers,t,this.fetch)}}const ED="2.52.0";let Ei="";typeof Deno<"u"?Ei="deno":typeof document<"u"?Ei="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ei="react-native":Ei="node";const PD={"X-Client-Info":`supabase-js-${Ei}/${ED}`},TD={headers:PD},kD={schema:"public"},RD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AD={};var ID=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const DD=e=>{let t;return e?t=e:typeof fetch>"u"?t=m1:t=fetch,(...r)=>t(...r)},OD=()=>typeof Headers>"u"?g1:Headers,BD=(e,t,r)=>{const n=DD(r),s=OD();return(a,i)=>ID(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))})};var MD=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function LD(e){return e.endsWith("/")?e:e+"/"}function $D(e,t){var r,n;const{db:s,auth:a,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>MD(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const A1="2.71.1",to=30*1e3,gp=3,Af=gp*to,FD="http://localhost:9999",UD="supabase.auth.token",zD={"X-Client-Info":`gotrue-js/${A1}`},vp="X-Supabase-Api-Version",I1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,VD=10*60*1e3;class tg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class HD extends tg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function GD(e){return Ve(e)&&e.name==="AuthApiError"}class D1 extends tg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class sa extends tg{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class xs extends sa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qD(e){return Ve(e)&&e.name==="AuthSessionMissingError"}class fc extends sa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hc extends sa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class pc extends sa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function KD(e){return Ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class Jy extends sa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yp extends sa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function If(e){return Ve(e)&&e.name==="AuthRetryableFetchError"}class Xy extends sa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class xp extends sa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zy=` 	
\r=`.split(""),YD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zy.length;t+=1)e[Zy[t].charCodeAt(0)]=-2;for(let t=0;t<Nu.length;t+=1)e[Nu[t].charCodeAt(0)]=t;return e})();function ex(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Nu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Nu[n]),t.queuedBits-=6}}function O1(e,t,r){const n=YD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function tx(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{XD(i,n,r)};for(let i=0;i<e.length;i+=1)O1(e.charCodeAt(i),s,a);return t.join("")}function QD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function JD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}QD(n,t)}}function XD(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ZD(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)O1(e.charCodeAt(s),r,n);return new Uint8Array(t)}function eO(e){const t=[];return JD(e,r=>t.push(r)),new Uint8Array(t)}function tO(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>ex(s,r,n)),ex(null,r,n),t.join("")}function rO(e){return Math.round(Date.now()/1e3)+e}function nO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const fn=()=>typeof window<"u"&&typeof document<"u",ca={tested:!1,writable:!1},B1=()=>{if(!fn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ca.tested)return ca.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ca.tested=!0,ca.writable=!0}catch{ca.tested=!0,ca.writable=!1}return ca.writable};function sO(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const M1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Le(async()=>{const{default:n}=await Promise.resolve().then(()=>ri);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},aO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ro=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ua=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},gs=async(e,t)=>{await e.removeItem(t)};class xd{constructor(){this.promise=new xd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}xd.promiseConstructor=Promise;function Df(e){const t=e.split(".");if(t.length!==3)throw new xp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!WD.test(t[n]))throw new xp("JWT not in base64url format");return{header:JSON.parse(tx(t[0])),payload:JSON.parse(tx(t[1])),signature:ZD(t[2]),raw:{header:t[0],payload:t[1]}}}async function oO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function iO(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function lO(e){return("0"+e.toString(16)).substr(-2)}function cO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,lO).join("")}async function uO(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function dO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await uO(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qa(e,t,r=!1){const n=cO();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ro(e,`${t}-code-verifier`,s);const a=await dO(n);return[a,n===a?"plain":"s256"]}const fO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hO(e){const t=e.headers.get(vp);if(!t||!t.match(fO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function pO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function mO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ka(e){if(!gO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Of(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rx(e){return JSON.parse(JSON.stringify(e))}var vO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const pa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yO=[502,503,504];async function nx(e){var t;if(!aO(e))throw new yp(pa(e),0);if(yO.includes(e.status))throw new yp(pa(e),e.status);let r;try{r=await e.json()}catch(a){throw new D1(pa(a),a)}let n;const s=hO(e);if(s&&s.getTime()>=I1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Xy(pa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new xs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new Xy(pa(r),e.status,r.weak_password.reasons);throw new HD(pa(r),e.status||500,n)}const xO=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ye(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[vp]||(a[vp]=I1["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await bO(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function bO(e,t,r,n,s,a){const i=xO(t,n,s,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new yp(pa(c),0)}if(l.ok||await nx(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await nx(c)}}function qn(e){var t;let r=null;NO(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=rO(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function sx(e){const t=qn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Cs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function wO(e){return{data:e,error:null}}function SO(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=vO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function _O(e){return e}function NO(e){return e.access_token&&e.refresh_token&&e.expires_in}const Bf=["global","local","others"];var jO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class CO{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=M1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Bf[0]){if(Bf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bf.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Cs})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=jO(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:SO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Cs})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:_O});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ve(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ka(t);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Cs})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ka(t);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Cs})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ka(t);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Cs})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ka(t.userId);try{const{data:r,error:n}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ka(t.userId),Ka(t.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}}function ax(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function EO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ya={debug:!!(globalThis&&B1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class L1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class PO extends L1{}async function TO(e,t,r){Ya.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ya.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ya.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ya.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ya.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new PO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ya.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}EO();const kO={url:FD,storageKey:UD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ox(e,t,r){return await r()}const Qa={};class dl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=dl.nextInstanceID,dl.nextInstanceID+=1,this.instanceID>0&&fn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},kO),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new CO({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=M1(s.fetch),this.lock=s.lock||ox,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:fn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=TO:this.lock=ox,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:B1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ax(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ax(this.memoryStorage)),fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Qa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Qa[this.storageKey]=Object.assign(Object.assign({},Qa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Qa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Qa[this.storageKey]=Object.assign(Object.assign({},Qa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${A1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=sO(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),fn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),KD(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ve(r)?{error:r}:{error:new D1("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:qn}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ve(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await qa(this.storage,this.storageKey)),a=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:qn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:qn})}else throw new hc("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ve(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sx})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sx})}else throw new hc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,i,l,c,u,d,f,h,p;let y,v;if("message"in t)y=t.message,v=t.signature;else{const{chain:x,wallet:w,statement:b,options:g}=t;let S;if(fn())if(typeof w=="object")S=w;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const N=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),b?{statement:b}:null));let j;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")j=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)j=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)y=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),v=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${N.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=_}}try{const{data:x,error:w}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:tO(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:qn});if(w)throw w;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new fc}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:w})}catch(x){if(Ve(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const r=await ua(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:i}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:qn});if(await gs(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new fc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(Ve(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,l=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new fc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await qa(this.storage,this.storageKey));const{error:f}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new hc("You must provide either an email or phone number.")}catch(l){if(Ve(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:qn});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await qa(this.storage,this.storageKey)),await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:wO})}catch(a){if(Ve(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new xs;const{error:s}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:l}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new hc("You must provide either an email or phone number and a type")}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ua(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Af:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await ua(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Of()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Cs}):await this._useSession(async r=>{var n,s,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xs}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Cs})})}catch(r){if(Ve(r))return qD(r)&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new xs;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await qa(this.storage,this.storageKey));const{data:u,error:d}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Cs});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xs;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=Df(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Ve(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new xs;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!fn())throw new pc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new pc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Jy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Jy("No code detected.");const{data:b,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new pc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=to&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:v,error:x}=await this._getUser(a);if(x)throw x;const w={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(Ve(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ua(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(GD(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=nO(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await qa(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Ve(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return fn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ve(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await iO(async s=>(s>0&&await oO(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qn})),(s,a)=>{const i=200*Math.pow(2,s);return a&&If(a)&&Date.now()+i-n<to})}catch(n){if(this._debug(r,"error",n),Ve(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),fn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ua(this.storage,this.storageKey);if(s&&this.userStorage){let i=await ua(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await ro(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Of()}else if(s&&!s.user&&!s.user){const i=await ua(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await gs(this.storage,this.storageKey+"-user"),await ro(this.storage,this.storageKey,s)):s.user=Of()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Af;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Af}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),If(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new xs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xd;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new xs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),Ve(a)){const i={session:null,error:a};return If(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ro(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=rx(s);await ro(this.storage,this.storageKey,a)}else{const s=rx(r);await ro(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await gs(this.storage,this.storageKey),await gs(this.storage,this.storageKey+"-code-verifier"),await gs(this.storage,this.storageKey+"-user"),this.userStorage&&await gs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),to);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/to);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${to}ms, refresh threshold is ${gp} ticks`),s<=gp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof L1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await qa(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:i,error:l}=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Df(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+VD>s)return n;const{data:a,error:i}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};n=p.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=Df(n);r!=null&&r.allowExpired||pO(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:s,signature:i},error:null}}const d=mO(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,eO(`${l}.${c}`)))throw new xp("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}}dl.nextInstanceID=0;const RO=dl;class AO extends RO{constructor(t){super(t)}}var IO=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class DO{constructor(t,r,n){var s,a,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=LD(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:kD,realtime:AD,auth:Object.assign(Object.assign({},RD),{storageKey:u}),global:TD},f=$D(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=BD(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new XI(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new PI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new CD(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return IO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AO({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new hD(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const OO=(e,t,r)=>new DO(e,t,r),BO="https://awfupnyqnmkhhihjwtjp.supabase.co",MO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF3ZnVwbnlxbm1raGhpaGp3dGpwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI3ODY2OTgsImV4cCI6MjA2ODM2MjY5OH0.ThT4hwPe9mddo8GV8rE3nDueRHKttHaYp7S676JUREg",ft=OO(BO,MO),qe=Object.freeze(Object.defineProperty({__proto__:null,supabase:ft},Symbol.toStringTag,{value:"Module"})),$1=m.createContext({}),Dt=()=>m.useContext($1),LO=(e,t,r)=>({updateTournamentResult:(i,l,c,u,d)=>{t(f=>{const p=(f[i]||[]).map(y=>{if(y.teamId===l){const v={...y.rounds};v[c]||(v[c]={points:0,wl:"",boston:0}),v[c]={...v[c],[u]:d};const x=Object.values(v).reduce((g,S)=>g+(S.points||0),0),w=Object.values(v).filter(g=>g.wl==="W").length,b=Object.values(v).reduce((g,S)=>g+(S.boston||0),0);return{...y,rounds:v,totalPoints:x,totalWins:w,totalBoston:b}}return y});return{...f,[i]:p}})},getTournamentResults:i=>{const l=r.filter(f=>{var h;return(h=f.registeredTournaments)==null?void 0:h.includes(i)}),c=e[i]||[],u={};return c.forEach(f=>{u[f.teamId]=f}),l.map(f=>u[f.id]?u[f.id]:{teamId:f.id,teamNumber:f.teamNumber,teamName:f.name,rounds:{},totalPoints:0,totalWins:0,totalBoston:0})},formatTeamName:(i,l)=>{if(!i.trim()||!l.trim())return"";const c=l.trim().charAt(0).toUpperCase();return`${i.trim()} ${c}`}}),F1=({children:e})=>{["teams","schedules","games","scoreSubmissions"].forEach(k=>localStorage.removeItem(k));const[t,r]=m.useState(null);Z.useEffect(()=>{Le(async()=>{const{supabase:k}=await Promise.resolve().then(()=>qe);return{supabase:k}},void 0).then(({supabase:k})=>{k.from("teams").select("*").limit(1).then(L=>{}).catch(L=>{})})},[]);const n=k=>{if(k){const me=v.find(je=>je.tournamentId===k),oe=me?me.matches.map(je=>je.id):[];f(je=>je.filter(ce=>!ce.matchId||!oe.includes(ce.matchId))),localStorage.setItem("games",JSON.stringify(JSON.parse(localStorage.getItem("games")||"[]").filter(je=>!je.matchId||!oe.includes(je.matchId)))),y(je=>je.filter(ce=>!ce.matchId||!oe.includes(ce.matchId))),localStorage.setItem("scoreSubmissions",JSON.stringify(JSON.parse(localStorage.getItem("scoreSubmissions")||"[]").filter(je=>!je.matchId||!oe.includes(je.matchId))))}else f([]),localStorage.setItem("games",JSON.stringify([])),y([]),localStorage.setItem("scoreSubmissions",JSON.stringify([]));S(me=>{if(!k)return{};const oe={...me};return delete oe[k],oe});const L=localStorage.getItem("tournamentResults");let $=L?JSON.parse(L):{};k&&typeof $=="object"&&$!==null?(delete $[k],localStorage.setItem("tournamentResults",JSON.stringify($))):k||localStorage.setItem("tournamentResults",JSON.stringify({}));const B=localStorage.getItem("resultsOverrides");let q=B?JSON.parse(B):{};k&&typeof q=="object"&&q!==null?localStorage.setItem("resultsOverrides",JSON.stringify({})):k||localStorage.setItem("resultsOverrides",JSON.stringify({})),x(me=>k?me.filter(oe=>oe.tournamentId!==k):[]),localStorage.setItem("schedules",JSON.stringify(k?JSON.parse(localStorage.getItem("schedules")||"[]").filter(me=>me.tournamentId!==k):[])),_(me=>{if(!k)return{};const oe={...me};return delete oe[k],oe});const z=localStorage.getItem("brackets");let X=z?JSON.parse(z):{};k&&typeof X=="object"&&X!==null?(delete X[k],localStorage.setItem("brackets",JSON.stringify(X))):k||localStorage.setItem("brackets",JSON.stringify({}))},[s,a]=m.useState(!1),[i,l]=m.useState([]),[c,u]=m.useState([]);m.useEffect(()=>{Le(()=>Promise.resolve().then(()=>qe),void 0).then(async({supabase:k})=>{try{console.log("Starting to load teams from Supabase...");const{data:L,error:$}=await k.from("teams").select(`
            *,
            player1:players!player1_id(*),
            player2:players!player2_id(*)
          `);if(console.log("Teams fetch result:",{teamsData:(L==null?void 0:L.length)||0,teamsError:$}),$){console.error("Error fetching teams:",$);const oe=`Failed to load teams: ${$.message} (Code: ${$.code})`;r(oe),Y({title:"Teams Loading Error",description:oe,variant:"destructive"}),l([]);return}const{data:B,error:q}=await k.from("team_registrations").select("*"),{data:z,error:X}=await k.from("player_tournament").select("*");if(q){console.error("Error fetching team registrations:",q);const oe=`Failed to load team registrations: ${q.message} (Code: ${q.code})`;r(oe),Y({title:"Team Registrations Error",description:oe,variant:"destructive"});const je=(L||[]).map(ce=>{var De,xe,Ce,Ie,rt,Me,Ue,Ge;return{...ce,id:String(ce.id),player1FirstName:((De=ce.player1)==null?void 0:De.first_name)||"",player1LastName:((xe=ce.player1)==null?void 0:xe.last_name)||"",player2FirstName:((Ce=ce.player2)==null?void 0:Ce.first_name)||"",player2LastName:((Ie=ce.player2)==null?void 0:Ie.last_name)||"",phoneNumber:((rt=ce.player1)==null?void 0:rt.phone_number)||((Me=ce.player2)==null?void 0:Me.phone_number)||"",player1_phone:((Ue=ce.player1)==null?void 0:Ue.phone_number)||"",player2_phone:((Ge=ce.player2)==null?void 0:Ge.phone_number)||"",city:ce.city||"",registeredTournaments:[]}});l(je);return}if(X){console.error("Error fetching player payments:",X);const oe=`Failed to load player payments: ${X.message} (Code: ${X.code})`;r(oe),Y({title:"Player Payments Error",description:oe,variant:"destructive"})}const me=(L||[]).map(oe=>{var rt,Me,Ue,Ge,ot,dt,ye,Oe;const ce=B.filter(ge=>String(ge.team_id)===String(oe.id)).map(ge=>ge.tournament_id),De={},xe={},Ce={},Ie={};return z&&!X&&z.forEach(ge=>{ge.player_id===oe.player1_id?(De[ge.tournament_id]=ge.paid,Ce[ge.tournament_id]=ge.b_paid):ge.player_id===oe.player2_id&&(xe[ge.tournament_id]=ge.paid,Ie[ge.tournament_id]=ge.b_paid)}),{...oe,id:String(oe.id),player1FirstName:((rt=oe.player1)==null?void 0:rt.first_name)||"",player1LastName:((Me=oe.player1)==null?void 0:Me.last_name)||"",player2FirstName:((Ue=oe.player2)==null?void 0:Ue.first_name)||"",player2LastName:((Ge=oe.player2)==null?void 0:Ge.last_name)||"",phoneNumber:((ot=oe.player1)==null?void 0:ot.phone_number)||((dt=oe.player2)==null?void 0:dt.phone_number)||"",player1_phone:((ye=oe.player1)==null?void 0:ye.phone_number)||"",player2_phone:((Oe=oe.player2)==null?void 0:Oe.phone_number)||"",city:oe.city||"",registeredTournaments:ce,player1TournamentPayments:De,player2TournamentPayments:xe,player1BostonPotPayments:Ce,player2BostonPotPayments:Ie}});console.log("Setting teams with tournaments:",(me==null?void 0:me.length)||0,"teams"),l(me),r(null)}catch(L){const $=`Unexpected error loading teams: ${L instanceof Error?L.message:String(L)}`;console.error("Unexpected error in teams loading:",L),r($),Y({title:"Teams Loading Error",description:$,variant:"destructive"}),l([])}})},[]),m.useEffect(()=>{et()},[]);const[d,f]=m.useState([]);m.useEffect(()=>{async function k(){const{data:$,error:B}=await ft.from("games").select("*");if(B){Y({title:"Failed to fetch games from Supabase",description:B.message,variant:"destructive"}),f([]);return}if(!$){f([]);return}const q=$.map(z=>({...z,id:String(z.id),teamA:String(z.teamA??z.team_a),teamB:String(z.teamB??z.team_b),matchId:String(z.matchId??z.match_id),handsA:z.handsA??z.hands_a??0,handsB:z.handsB??z.hands_b??0,boston_a:z.boston_a??z.bostonA??0,boston_b:z.boston_b??z.bostonB??0,entered_by_team_id:z.entered_by_team_id??z.enteredBy,status:z.status,round:z.round,submittedBy:String(z.submitted_by??z.submittedBy??""),confirmed:!!z.confirmed,timestamp:z.timestamp?new Date(z.timestamp):new Date}));f(q)}k();const L=ft.channel("public:games").on("postgres_changes",{event:"*",schema:"public",table:"games"},$=>{const B=$.new||$.old;if(!B)return;const q={...B,id:String(B.id),teamA:String(B.teamA??B.team_a),teamB:String(B.teamB??B.team_b),matchId:String(B.matchId??B.match_id),handsA:B.handsA??B.hands_a??0,handsB:B.handsB??B.hands_b??0,boston_a:B.boston_a??B.bostonA??0,boston_b:B.boston_b??B.bostonB??0,entered_by_team_id:B.entered_by_team_id??B.enteredBy,status:B.status,round:B.round,submittedBy:String(B.submitted_by??B.submittedBy??""),confirmed:!!B.confirmed,timestamp:B.timestamp?new Date(B.timestamp):new Date};f(z=>{switch($.eventType){case"DELETE":return z.filter(me=>me.id!==B.id);case"UPDATE":return z.map(me=>me.id===B.id?q:me);case"INSERT":default:return z.some(me=>me.id===B.id)?z:[...z,q]}})}).subscribe();return()=>{ft.removeChannel(L)}},[]);const h=async()=>{try{const{data:k,error:L}=await ft.from("games").select("*");if(L){Y({title:"Failed to refresh games from Supabase",description:L.message,variant:"destructive"});return}const $=(k||[]).map(B=>({...B,id:String(B.id),teamA:String(B.teamA??B.team_a),teamB:String(B.teamB??B.team_b),matchId:String(B.matchId??B.match_id),handsA:B.handsA??B.hands_a??0,handsB:B.handsB??B.hands_b??0,boston_a:B.boston_a??B.bostonA??0,boston_b:B.boston_b??B.bostonB??0,entered_by_team_id:B.entered_by_team_id??B.enteredBy,status:B.status,round:B.round,submittedBy:String(B.submitted_by??B.submittedBy??""),confirmed:!!B.confirmed,timestamp:B.timestamp?new Date(B.timestamp):new Date}));f($)}catch(k){Y({title:"Unexpected error refreshing games",description:String(k),variant:"destructive"})}},[p,y]=m.useState(()=>{const k=localStorage.getItem("scoreSubmissions");return k?JSON.parse(k):[]});m.useEffect(()=>{(async()=>{const{data:$,error:B}=await ft.from("scores").select("*");if(B){console.error("Failed to load scores",B);return}$&&y($.map(q=>({id:q.id,matchId:q.matchId,teamA:i.find(z=>String(z.id)===String(q.team_a))||{id:String(q.team_a)},teamB:i.find(z=>String(z.id)===String(q.team_b))||{id:String(q.team_b)},scoreA:Number(q.score_a),scoreB:Number(q.score_b),boston:q.boston,handsA:Number(q.hands_a)||0,handsB:Number(q.hands_b)||0,submittedBy:String(q.submitted_by),timestamp:new Date(q.timestamp),round:q.round})))})();const L=ft.channel("public:scores").on("postgres_changes",{event:"*",schema:"public",table:"scores"},$=>{const B=$.new||$.old;if(!B)return;const q={id:B.id,matchId:B.matchId,teamA:i.find(z=>String(z.id)===String(B.team_a))||{id:String(B.team_a)},teamB:i.find(z=>String(z.id)===String(B.team_b))||{id:String(B.team_b)},scoreA:Number(B.score_a),scoreB:Number(B.score_b),boston:B.boston,handsA:Number(B.hands_a)||0,handsB:Number(B.hands_b)||0,submittedBy:String(B.submitted_by),timestamp:new Date(B.timestamp),round:B.round};y(z=>{switch($.eventType){case"DELETE":return z.filter(me=>me.id!==B.id);case"UPDATE":return z.map(me=>me.id===B.id?q:me);case"INSERT":default:return z.some(me=>me.id===B.id)?z:[...z,q]}})}).subscribe();return()=>{ft.removeChannel(L)}},[i]);const[v,x]=m.useState([]);m.useEffect(()=>{async function k(){try{const{data:L,error:$}=await ft.from("matches").select("*");if($){Y({title:"Failed to fetch schedules from Supabase",description:$.message,variant:"destructive"});return}if(!L){x([]);return}const B={};L.forEach(z=>{const X={id:String(z.id),teamA:String(z.team_a),teamB:String(z.team_b),round:z.round,tournamentId:String(z.tournament_id),isBye:z.is_bye,isSameCity:z.is_same_city,table:z.table_number};B[X.tournamentId]||(B[X.tournamentId]=[]),B[X.tournamentId].push(X)});const q=Object.entries(B).map(([z,X])=>({tournamentId:z,rounds:Math.max(...X.map(me=>me.round)),matches:X}));x(q)}catch(L){Y({title:"Unexpected error fetching schedules",description:String(L),variant:"destructive"}),x([])}}k()},[]),m.useEffect(()=>{const k=ft.channel("public:matches").on("postgres_changes",{event:"*",schema:"public",table:"matches"},async()=>{try{const{data:L,error:$}=await ft.from("matches").select("*");if($||!L)return;const B={};L.forEach(z=>{const X={id:String(z.id),teamA:String(z.team_a),teamB:String(z.team_b),round:z.round,tournamentId:String(z.tournament_id),isBye:z.is_bye,isSameCity:z.is_same_city,table:z.table_number};B[X.tournamentId]||(B[X.tournamentId]=[]),B[X.tournamentId].push(X)});const q=Object.entries(B).map(([z,X])=>({tournamentId:z,rounds:Math.max(...X.map(me=>me.round)),matches:X}));x(q)}catch(L){console.error("Realtime schedule refresh failed",L)}}).subscribe();return()=>{ft.removeChannel(k)}},[]),m.useEffect(()=>{localStorage.setItem("schedules",JSON.stringify(v))},[v]),m.useEffect(()=>{localStorage.setItem("scoreSubmissions",JSON.stringify(p))},[p]);const[w,b]=m.useState([]),[g,S]=m.useState({}),[N,_]=m.useState(()=>{const k=localStorage.getItem("brackets");return k?JSON.parse(k):{}});m.useEffect(()=>{localStorage.setItem("brackets",JSON.stringify(N))},[N]);const[j,C]=m.useState(["Columbus","Cincinnati","Chicago","Detroit","Atlanta","DC/Maryland","Other"]),[I,P]=m.useState([]);m.useEffect(()=>{Le(async()=>{const{supabase:k}=await Promise.resolve().then(()=>qe);return{supabase:k}},void 0).then(({supabase:k})=>{k.from("tournaments").select("*").then(L=>{if(!L.error){const $=(L.data||[]).map(B=>({...B,bostonPotCost:B.boston_pot_cost}));P($)}})})},[]);const F=m.useCallback(()=>I.find(k=>k.status==="active")||null,[I]),A=async k=>{const L=String(k),{error:$}=await ft.from("tournaments").update({status:"not_active"}).neq("id",L);$&&console.error("[setActiveTournament] Error setting all to not_active:",$);const{error:B}=await ft.from("tournaments").update({status:"active"}).eq("id",L).select();B&&console.error("[setActiveTournament] Error setting selected to active:",B);const{data:q,error:z}=await ft.from("tournaments").select("*");z?console.error("[setActiveTournament] Error refreshing tournaments:",z):P(q||[]),($||B)&&Y({title:"Failed to set active tournament",description:(($==null?void 0:$.message)||"")+((B==null?void 0:B.message)||""),variant:"destructive"})},H=k=>{P(L=>L.map($=>$.id===k?{...$,status:"finished"}:$)),x(L=>L.filter($=>$.tournamentId!==k)),se(k),ee(k),ie(k),Y({title:"Tournament finished and cleared."})},[T,R]=m.useState(""),[U,Q]=m.useState([]),D=async()=>{try{const{data:k,error:L}=await ft.from("messages").select("*").order("created_at",{ascending:!1});if(L){console.error("Error fetching messages:",L);return}if(k){const $=k.map(B=>({id:B.id,text:B.text,type:B.type,active:B.active,createdAt:new Date(B.created_at),expiresAt:B.expires_at?new Date(B.expires_at):void 0,createdBy:B.created_by}));Q($)}}catch(k){console.error("Error fetching messages:",k)}};m.useEffect(()=>{D()},[]),m.useEffect(()=>{const k=setInterval(()=>{D()},5e3);return()=>clearInterval(k)},[]),m.useEffect(()=>{const k=async()=>{try{return ft.channel("messages-realtime").on("postgres_changes",{event:"*",schema:"public",table:"messages"},B=>{setTimeout(()=>{D()},100)}).subscribe(B=>{B==="CHANNEL_ERROR"&&console.error("Messages subscription error")})}catch($){return console.error("Error setting up messages subscription:",$),null}};let L=null;return k().then($=>{L=$}),()=>{L&&ft.removeChannel(L)}},[]);const{updateTournamentResult:M,getTournamentResults:G}=LO(g,S,i),ne=(k,L,$,B)=>{l(q=>q.map(z=>{if(z.id!==k)return z;const X=L==="player1"?"player1TournamentPayments":"player2TournamentPayments";return{...z,[X]:{...z[X],[$]:B}}}))};m.useEffect(()=>{let k=null;return(async()=>{const{supabase:L}=await Le(async()=>{const{supabase:$}=await Promise.resolve().then(()=>qe);return{supabase:$}},void 0);k=L.channel("scores-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"scores"},async $=>{const B=$.new,q=String(B.match_id),z=p.find(X=>X.matchId===q&&String(X.submittedBy)===String(T));z&&z.scoreA===B.score_a&&z.scoreB===B.score_b&&z.boston===B.boston&&await V({...z,teamA:z.teamA,teamB:z.teamB,scoreA:z.scoreA,scoreB:z.scoreB,boston:z.boston,handsA:z.handsA,handsB:z.handsB,matchId:q,round:z.round,submittedBy:z.submittedBy})}).subscribe()})(),()=>{k&&k.unsubscribe&&k.unsubscribe()}},[p,T]),m.useEffect(()=>{d.forEach(k=>{if(!k.confirmed)return;let L="1";if(k.matchId){const je=v.find(ce=>ce.matches.some(De=>De.id===k.matchId));je&&(L=je.tournamentId)}const $=k.round,B=typeof k.teamA=="object"?k.teamA.id:String(k.teamA||""),q=typeof k.teamB=="object"?k.teamB.id:String(k.teamB||""),z=k.winner==="teamA",X=k.winner==="teamB",me=k.boston==="teamA"?1:0,oe=k.boston==="teamB"?1:0;S(je=>{let De=(je[L]||[]).map(xe=>{if(xe.teamId===B){const Ce={...xe.rounds};Ce[$]={points:k.scoreA,wl:z?"W":"L",boston:me};const Ie=Object.values(Ce).reduce((Ue,Ge)=>Ue+(Ge.points||0),0),rt=Object.values(Ce).filter(Ue=>Ue.wl==="W").length,Me=Object.values(Ce).reduce((Ue,Ge)=>Ue+(Ge.boston||0),0);return{...xe,rounds:Ce,totalPoints:Ie,totalWins:rt,totalBoston:Me}}return xe});return De=De.map(xe=>{if(xe.teamId===q){const Ce={...xe.rounds};Ce[$]={points:k.scoreB,wl:X?"W":"L",boston:oe};const Ie=Object.values(Ce).reduce((Ue,Ge)=>Ue+(Ge.points||0),0),rt=Object.values(Ce).filter(Ue=>Ue.wl==="W").length,Me=Object.values(Ce).reduce((Ue,Ge)=>Ue+(Ge.boston||0),0);return{...xe,rounds:Ce,totalPoints:Ie,totalWins:rt,totalBoston:Me}}return xe}),{...je,[L]:De}})})},[d,v]);const V=async k=>{const L=k.matchId,$=k.entered_by_team_id,{data:B,error:q}=await ft.from("games").select("*").eq("matchId",L).eq("entered_by_team_id",$).in("status",["entering","disputed"]).single();if(q||!B){console.error("submitGame: Could not find existing score entry or disputed row",q),Y({title:"Error: Could not find score entry session",description:"Please try again.",variant:"destructive"});return}const z={id:B.id,teamA:k.teamA,teamB:k.teamB,scoreA:k.scoreA,scoreB:k.scoreB,teamAScore:k.scoreA,teamBScore:k.scoreB,boston:"none",boston_a:k.boston_a,boston_b:k.boston_b,winner:k.winner,submittedBy:String($),confirmed:!1,timestamp:new Date,matchId:L,round:k.round,handsA:k.handsA,handsB:k.handsB,status:"pending_confirmation",entered_by_team_id:$};try{const{error:X}=await ft.from("games").upsert([{id:z.id,matchId:z.matchId,teamA:String(z.teamA),teamB:String(z.teamB),scoreA:z.scoreA,scoreB:z.scoreB,boston_a:z.boston_a,boston_b:z.boston_b,winner:z.winner,submittedBy:z.submittedBy,confirmed:z.confirmed,confirmedBy:null,round:z.round,timestamp:z.timestamp,handsA:z.handsA,handsB:z.handsB,status:z.status,entered_by_team_id:z.entered_by_team_id}],{onConflict:["id"]});if(X){console.error("GAME UPSERT ERROR",X),Y({title:"Failed to save game",description:X.message,variant:"destructive"});return}Y({title:"Score submitted successfully!",description:"Waiting for opponent confirmation.",variant:"default"}),f(me=>me.map(oe=>oe.id===z.id?z:oe)),await h()}catch(X){console.error("GAME UPSERT UNEXPECTED",X),Y({title:"Unexpected error",description:String(X),variant:"destructive"});return}},se=k=>{S(L=>{const $={...L};return delete $[k],$})},ee=k=>{f(L=>{const $=v.find(q=>q.tournamentId===k);if(!$)return L;const B=$.matches.map(q=>q.id);return L.filter(q=>!q.matchId||!B.includes(q.matchId))})},ie=k=>{y(L=>{const $=v.find(q=>q.tournamentId===k);if(!$)return L;const B=$.matches.map(q=>q.id);return L.filter(q=>!B.includes(q.matchId))})},le=async k=>{try{const{matches:L}=k,$=L.map(q=>({id:q.id,team_a:q.teamA,team_b:q.teamB,round:q.round,tournament_id:q.tournamentId,table_number:q.table!=null?q.table:1,is_bye:q.isBye??!1,is_same_city:q.isSameCity??!1})),{error:B}=await ft.from("matches").upsert($,{onConflict:["id"]});if(B){Y({title:"Failed to save schedule to Supabase",description:B.message,variant:"destructive"});return}Y({title:"Schedule saved to Supabase!",variant:"default"}),x(q=>[...q.filter(z=>z.tournamentId!==k.tournamentId),k])}catch(L){Y({title:"Unexpected error saving schedule",description:String(L),variant:"destructive"})}},O=async(k,L,$)=>{var De;f(xe=>xe.map(Ce=>Ce.id===k?{...Ce,confirmed:L}:Ce));try{const{error:xe}=await ft.from("games").update({status:L?"confirmed":"disputed",confirmed:L,confirmedBy:L?"opponent":null}).eq("id",k);if(xe){console.error("confirmScore database update error:",xe),Y({title:"Error updating score confirmation",description:xe.message,variant:"destructive"});return}}catch(xe){console.error("confirmScore unexpected error:",xe),Y({title:"Unexpected error updating confirmation",description:String(xe),variant:"destructive"});return}const q=d.find(xe=>xe.id===k)||$;if(!q)return;let z="",X,me;for(const xe of v){const Ce=xe.matches.find(Ie=>Ie.id===q.matchId);if(Ce){z=xe.tournamentId,X=Ce,me=xe;break}}if(!z||!X||!me)return;const oe=me.matches.some(xe=>{const Ce=/^R\d+[LW]\d+$/;return typeof xe.teamA=="string"&&Ce.test(xe.teamA)||typeof xe.teamB=="string"&&Ce.test(xe.teamB)}),je=me.rounds<=1||me.matches.some(xe=>xe.opponentPlaceholder)||oe;if(je){const Ce=X.round+1,Ie=q.winner==="teamA"?X.teamA:X.teamB,rt=q.winner==="teamA"?X.teamB:X.teamA;let Me=v;if(je){const ge=X.round,it=ge+1,Ke=`R${ge}L${X.table}`,pt=`R${ge}W${X.table}`;console.log("--- confirmScore debug ---"),console.log("currentRound:",ge),console.log("match.table:",X.table),console.log("loserPlaceholder:",Ke),console.log("winnerPlaceholder:",pt),(((De=v.find(ht=>ht.tournamentId===z))==null?void 0:De.matches.filter(ht=>ht.round===it))||[]).forEach(ht=>{console.log("Next round match:",ht.id,"teamA:",ht.teamA,"teamB:",ht.teamB)});const We=ht=>typeof ht=="string"?ht.trim().toUpperCase():ht;Me=v.map(ht=>{if(ht.tournamentId!==z)return ht;const Wa=ht.matches.map(ds=>{if(ds.round===it){let dr={...ds};return We(dr.teamA)===We(Ke)&&(dr.teamA=rt),We(dr.teamB)===We(Ke)&&(dr.teamB=rt),We(dr.teamA)===We(pt)&&(dr.teamA=Ie),We(dr.teamB)===We(pt)&&(dr.teamB=Ie),dr}return ds});return{...ht,matches:Wa}})}const Ue=X.table??1,Ge=Math.ceil(me.matches.filter(ge=>ge.round===1&&!ge.isBye).length/2),ot=Math.ceil(Ue/2),dt=Ge-Math.floor((Ge-Ue)/2),ye=Me.map(ge=>{if(ge.tournamentId!==z)return ge;let it=ge.matches.filter(We=>We.round===Ce),Ke=it.find(We=>We.table===ot);Ke||(Ke={id:`${z}-r${Ce}-t${ot}`,tournamentId:z,round:Ce,table:ot,teamA:null,teamB:null,isBye:!1,isSameCity:!1},it.push(Ke)),Ke.teamA?Ke.teamB||(Ke.teamB=rt):Ke.teamA=rt;let pt=it.find(We=>We.table===dt);pt||(pt={id:`${z}-r${Ce}-t${dt}`,tournamentId:z,round:Ce,table:dt,teamA:null,teamB:null,isBye:!1,isSameCity:!1},it.push(pt)),pt.teamA?pt.teamB||(pt.teamB=Ie):pt.teamA=Ie,[Ke,pt].forEach(We=>{We.teamA&&!We.teamB?We.opponentPlaceholder={type:"winner",table:We.table}:!We.teamA&&We.teamB&&(We.opponentPlaceholder={type:"winner",table:We.table})});const $t=Math.max(ge.rounds,Ce);return{...ge,matches:[...ge.matches.filter(We=>We.round!==Ce),...it],rounds:$t}});x(ye);const Oe=ye.find(ge=>ge.tournamentId===z);Oe&&await le(Oe)}const ce=v.find(xe=>xe.tournamentId===z);ce&&await le(ce)},W=async()=>{for(const k of d.filter(L=>L.confirmed))await O(k.id,!0,k);Y({title:"Variables updated across schedule."})},he=async()=>{try{const{data:k,error:L}=await ft.from("matches").select("*");if(L||!k)return;const $={};k.forEach(q=>{const z={id:String(q.id),teamA:String(q.team_a),teamB:String(q.team_b),round:q.round,tournamentId:String(q.tournament_id),isBye:q.is_bye,isSameCity:q.is_same_city,table:q.table_number};$[z.tournamentId]||($[z.tournamentId]=[]),$[z.tournamentId].push(z)});const B=Object.entries($).map(([q,z])=>({tournamentId:q,rounds:Math.max(...z.map(X=>X.round)),matches:z}));x(B),Y({title:"Schedule refreshed from database."})}catch(k){console.error("refreshSchedules error",k)}},J=async()=>{const k=v.map(L=>{const $=L.matches.map(z=>({...z})),B=(z,X)=>$.find(me=>me.round===z&&me.table===X),q=z=>{const X=/^R(\d+)([LW])(\d+)$/.exec(z.trim().toUpperCase());if(!X)return null;const[,me,oe,je]=X,ce=B(parseInt(me),parseInt(je));if(!ce)return null;const De=d.find(Ie=>Ie.matchId===ce.id&&Ie.confirmed);if(!De)return null;const xe=De.winner==="teamA"?ce.teamB:ce.teamA,Ce=De.winner==="teamA"?ce.teamA:ce.teamB;return oe==="L"?xe:Ce};return $.forEach(z=>{if(typeof z.teamA=="string"){const X=q(z.teamA);X&&(z.teamA=X)}if(typeof z.teamB=="string"){const X=q(z.teamB);X&&(z.teamB=X)}}),{...L,matches:$}});x(k);for(const L of k)await le(L);Y({title:"Placeholders forcibly refreshed and saved."})},ve=(k,L,$)=>{l(B=>B.map(q=>{if(q.id===k){const z={...q.tournamentPayments};return z[L]=$,{...q,tournamentPayments:z}}return q}))},Se=async(k,L,$,B)=>{try{const{supabase:q}=await Le(async()=>{const{supabase:me}=await Promise.resolve().then(()=>qe);return{supabase:me}},void 0),z=B?{b_paid:$}:{paid:$},{error:X}=await q.from("player_tournament").update(z).eq("player_id",k).eq("tournament_id",L);if(X)throw console.error("Error updating player payment:",X),X;Y({title:"Payment updated successfully"})}catch(q){throw console.error("Error updating player payment:",q),q}},fe=async k=>{try{const{supabase:L}=await Le(async()=>{const{supabase:q}=await Promise.resolve().then(()=>qe);return{supabase:q}},void 0),{data:$,error:B}=await L.from("player_tournament").select("*").eq("player_id",k);if(B)throw console.error("Error fetching player tournament payments:",B),B;return $||[]}catch(L){throw console.error("Error fetching player tournament payments:",L),L}},_e=(k,L)=>{var je,ce,De,xe;const $=((je=k.player1TournamentPayments)==null?void 0:je[L])||!1,B=((ce=k.player2TournamentPayments)==null?void 0:ce[L])||!1,q=((De=k.player1BostonPotPayments)==null?void 0:De[L])||!1,z=((xe=k.player2BostonPotPayments)==null?void 0:xe[L])||!1;return{tournamentPaid:$&&B,bostonPotPaid:q&&z,bostonPotMismatch:q!==z}},Fe=k=>{let L=0;return k.registeredTournaments&&k.registeredTournaments.forEach($=>{const B=I.find(q=>q.id===$);if(B){L+=B.cost*2;const{bostonPotPaid:q}=_e(k,$);q&&(L+=B.bostonPotCost*2)}}),L},Ae=async(k,L,$)=>{const{supabase:B}=await Le(async()=>{const{supabase:q}=await Promise.resolve().then(()=>qe);return{supabase:q}},void 0);try{const q=`${k.first_name}/${L.first_name}`,{data:z,error:X}=await B.from("teams").insert([{name:q,player1_id:k.id,player2_id:L.id,city:k.city||L.city||""}]).select().single();if(X)return console.error("Error creating team:",X),Y({title:"Failed to create team",description:X.message,variant:"destructive"}),null;const{error:me}=await B.from("team_registrations").insert([{team_id:z.id,tournament_id:$}]);if(me)return console.error("Error registering team for tournament:",me),Y({title:"Team created but failed to register for tournament",description:me.message,variant:"destructive"}),null;const oe=[],{data:je}=await B.from("player_tournament").select("id").eq("player_id",k.id).eq("tournament_id",$).single();je||oe.push({player_id:k.id,tournament_id:$,paid:!1,b_paid:!1,entered_boston_pot:!1});const{data:ce}=await B.from("player_tournament").select("id").eq("player_id",L.id).eq("tournament_id",$).single();if(ce||oe.push({player_id:L.id,tournament_id:$,paid:!1,b_paid:!1,entered_boston_pot:!1}),oe.length>0){const{error:Me}=await B.from("player_tournament").insert(oe);if(Me)return console.error("Error registering players for tournament:",Me),Y({title:"Team created but failed to register players",description:Me.message,variant:"destructive"}),null}const{data:De,error:xe}=await B.from("teams").select("*, player1:players!player1_id(*), player2:players!player2_id(*)");if(xe)return console.error("Error fetching teams:",xe),Y({title:"Team created but failed to refresh data",description:xe.message,variant:"destructive"}),null;const{data:Ce,error:Ie}=await B.from("team_registrations").select("team_id, tournament_id");if(Ie)return console.error("Error fetching team registrations:",Ie),Y({title:"Team created but failed to refresh registrations",description:Ie.message,variant:"destructive"}),null;const rt=De.map(Me=>{var ot,dt,ye,Oe,ge,it,Ke,pt;const Ge=Ce.filter($t=>$t.team_id===Me.id).map($t=>$t.tournament_id);return{...Me,id:String(Me.id),player1FirstName:((ot=Me.player1)==null?void 0:ot.first_name)||"",player1LastName:((dt=Me.player1)==null?void 0:dt.last_name)||"",player2FirstName:((ye=Me.player2)==null?void 0:ye.first_name)||"",player2LastName:((Oe=Me.player2)==null?void 0:Oe.last_name)||"",phoneNumber:((ge=Me.player1)==null?void 0:ge.phone_number)||((it=Me.player2)==null?void 0:it.phone_number)||"",player1_phone:((Ke=Me.player1)==null?void 0:Ke.phone_number)||"",player2_phone:((pt=Me.player2)==null?void 0:pt.phone_number)||"",city:Me.city||"",registeredTournaments:Ge}});return l(rt),Y({title:`Team ${q} created successfully!`}),String(z.id)}catch(q){return console.error("Error creating team from players:",q),Y({title:"Failed to create team",description:String(q),variant:"destructive"}),null}},ut=async()=>{const{supabase:k}=await Le(async()=>{const{supabase:L}=await Promise.resolve().then(()=>qe);return{supabase:L}},void 0);try{const{data:L,error:$}=await k.from("teams").select(`
          *,
          player1:players!player1_id(*),
          player2:players!player2_id(*)
        `);if($){console.error("Error fetching teams:",$);const oe=`Failed to refresh teams: ${$.message} (Code: ${$.code})`;r(oe),Y({title:"Teams Refresh Error",description:oe,variant:"destructive"});return}const{data:B,error:q}=await k.from("team_registrations").select("*");if(q){console.error("Error fetching team registrations:",q);const oe=`Failed to refresh team registrations: ${q.message} (Code: ${q.code})`;r(oe),Y({title:"Team Registrations Refresh Error",description:oe,variant:"destructive"});const je=(L||[]).map(ce=>{var De,xe,Ce,Ie,rt,Me,Ue,Ge;return{...ce,id:String(ce.id),player1FirstName:((De=ce.player1)==null?void 0:De.first_name)||"",player1LastName:((xe=ce.player1)==null?void 0:xe.last_name)||"",player2FirstName:((Ce=ce.player2)==null?void 0:Ce.first_name)||"",player2LastName:((Ie=ce.player2)==null?void 0:Ie.last_name)||"",phoneNumber:((rt=ce.player1)==null?void 0:rt.phone_number)||((Me=ce.player2)==null?void 0:Me.phone_number)||"",player1_phone:((Ue=ce.player1)==null?void 0:Ue.phone_number)||"",player2_phone:((Ge=ce.player2)==null?void 0:Ge.phone_number)||"",city:ce.city||"",registeredTournaments:[]}});l(je);return}const{data:z,error:X}=await k.from("player_tournament").select("*");if(X){console.error("Error fetching player payments:",X);const oe=`Failed to refresh player payments: ${X.message} (Code: ${X.code})`;r(oe),Y({title:"Player Payments Refresh Error",description:oe,variant:"destructive"})}const me=(L||[]).map(oe=>{var rt,Me,Ue,Ge,ot,dt,ye,Oe;const ce=B.filter(ge=>String(ge.team_id)===String(oe.id)).map(ge=>ge.tournament_id),De={},xe={},Ce={},Ie={};return z&&z.forEach(ge=>{ge.player_id===oe.player1_id?(De[ge.tournament_id]=ge.paid,Ce[ge.tournament_id]=ge.b_paid):ge.player_id===oe.player2_id&&(xe[ge.tournament_id]=ge.paid,Ie[ge.tournament_id]=ge.b_paid)}),{...oe,id:String(oe.id),player1FirstName:((rt=oe.player1)==null?void 0:rt.first_name)||"",player1LastName:((Me=oe.player1)==null?void 0:Me.last_name)||"",player2FirstName:((Ue=oe.player2)==null?void 0:Ue.first_name)||"",player2LastName:((Ge=oe.player2)==null?void 0:Ge.last_name)||"",phoneNumber:((ot=oe.player1)==null?void 0:ot.phone_number)||((dt=oe.player2)==null?void 0:dt.phone_number)||"",player1_phone:((ye=oe.player1)==null?void 0:ye.phone_number)||"",player2_phone:((Oe=oe.player2)==null?void 0:Oe.phone_number)||"",city:oe.city||"",registeredTournaments:ce,player1TournamentPayments:De,player2TournamentPayments:xe,player1BostonPotPayments:Ce,player2BostonPotPayments:Ie}});l(me),r(null)}catch(L){const $=`Unexpected error refreshing teams: ${L instanceof Error?L.message:String(L)}`;console.error("Error refreshing teams:",L),r($),Y({title:"Teams Refresh Error",description:$,variant:"destructive"})}},et=async()=>{try{const{supabase:k}=await Le(async()=>{const{supabase:B}=await Promise.resolve().then(()=>qe);return{supabase:B}},void 0),{data:L,error:$}=await k.from("players").select("*").order("first_name",{ascending:!0});if($){console.error("Error fetching players:",$),u([]);return}u(L||[])}catch(k){console.error("Error refreshing players:",k)}},Ct=async()=>{try{const{supabase:k}=await Le(async()=>{const{supabase:B}=await Promise.resolve().then(()=>qe);return{supabase:B}},void 0),{data:L,error:$}=await k.from("tournaments").select("*").order("name",{ascending:!0});if($){console.error("Error fetching tournaments:",$),P([]);return}P(L||[])}catch(k){console.error("Error refreshing tournaments:",k)}},Rt=async k=>{try{const{supabase:L}=await Le(async()=>{const{supabase:q}=await Promise.resolve().then(()=>qe);return{supabase:q}},void 0),{data:$,error:B}=await L.from("players").insert([k]).select().single();if(B){console.error("Error adding player:",B),Y({title:"Error adding player",description:B.message,variant:"destructive"});return}Y({title:"Player added successfully"}),await et()}catch(L){console.error("Error adding player:",L),Y({title:"Error adding player",description:String(L),variant:"destructive"})}},Lt=async(k,L)=>{try{const{supabase:$}=await Le(async()=>{const{supabase:X}=await Promise.resolve().then(()=>qe);return{supabase:X}},void 0),{data:B,error:q}=await $.from("team_registrations").select("*").eq("team_id",k).eq("tournament_id",L).single();if(q&&q.code!=="PGRST116"){console.error("Error checking team tournament:",q);return}if(B)return;const{error:z}=await $.from("team_registrations").insert([{team_id:k,tournament_id:L}]);if(z){console.error("Error adding team to tournament:",z),Y({title:"Error adding team to tournament",description:z.message,variant:"destructive"});return}Y({title:"Team added to tournament successfully"}),await ut()}catch($){console.error("Error adding team to tournament:",$),Y({title:"Error adding team to tournament",description:String($),variant:"destructive"})}},za=async({matchId:k,teamId:L,teamA:$,teamB:B,round:q})=>{try{const{data:z,error:X}=await ft.from("games").select("*").eq("matchId",k).in("status",["entering","pending_confirmation","disputed"]);if(X)return console.error("beginScoreEntry select error:",X),{ok:!1,reason:"error"};if(z&&z.length>0){const xe=z[0];if(xe.status==="entering"&&String(xe.entered_by_team_id)!==String(L))return{ok:!1,reason:"conflict"};if(xe.status==="pending_confirmation")return{ok:!1,reason:"conflict"};if(xe.status==="disputed"&&String(xe.entered_by_team_id)!==String(L))return{ok:!1,reason:"conflict"}}const{data:me,error:oe}=await ft.from("games").select("*").eq("matchId",k).eq("status","entering");if(oe)return console.error("beginScoreEntry teammate check error:",oe),{ok:!1,reason:"error"};if(me&&me.length>0){const xe=me[0];if(String(xe.entered_by_team_id)===String(L))return{ok:!1,reason:"teammate_entering"}}const ce={id:z&&z[0]?z[0].id:Date.now().toString(),matchId:k,teamA:String($),teamB:String(B),round:q,scoreA:0,scoreB:0,boston_a:0,boston_b:0,handsA:0,handsB:0,status:"entering",entered_by_team_id:String(L),confirmed:!1,timestamp:new Date().toISOString()},{error:De}=await ft.from("games").upsert([ce],{onConflict:["id"]});return De?(console.error("beginScoreEntry upsert error:",De),{ok:!1,reason:"error"}):(await h(),{ok:!0})}catch(z){return console.error("beginScoreEntry catch error:",z),{ok:!1,reason:"error"}}},Dr=async({matchId:k,teamId:L})=>{try{const{error:$}=await ft.from("games").delete().eq("matchId",k).eq("status","entering").eq("entered_by_team_id",L);return $?(console.error("Error releasing score entry lock:",$),{ok:!1}):(await h(),{ok:!0})}catch($){return console.error("Error releasing score entry lock:",$),{ok:!1}}};return o.jsx($1.Provider,{value:{sidebarOpen:s,toggleSidebar:()=>a(k=>!k),teams:i,players:c,games:d,setGames:f,tournaments:I,setTournaments:P,schedules:v,scoreTexts:w,tournamentResults:g,setTournamentResults:S,brackets:N,cities:j,currentUser:T,setCurrentUser:R,scoreSubmissions:p,setScoreSubmissions:y,resetAllTournamentData:n,fetchError:t,updatePlaceholders:W,forceReplaceAllPlaceholders:J,refreshSchedules:he,deleteTeam:k=>{l(L=>{const $=L.filter(B=>B.id!==k);return localStorage.setItem("teams",JSON.stringify($)),$}),Y({title:"Team deleted successfully."})},addTeam:async(k,L,$,B,q,z,X,me)=>{const{supabase:oe}=await Le(async()=>{const{supabase:je}=await Promise.resolve().then(()=>qe);return{supabase:je}},void 0);try{const{data:je,error:ce}=await oe.from("players").insert([{first_name:k,last_name:L,phone_number:q,city:z}]).select().single();if(ce)return Y({title:"Failed to create player 1",description:ce.message,variant:"destructive"}),null;const{data:De,error:xe}=await oe.from("players").insert([{first_name:$,last_name:B,phone_number:q,city:z}]).select().single();if(xe)return Y({title:"Failed to create player 2",description:xe.message,variant:"destructive"}),null;const Ce=`${k}/${$}`,{data:Ie,error:rt}=await oe.from("teams").insert([{name:Ce,player1_id:je.id,player2_id:De.id}]).select().single();if(rt)return Y({title:"Failed to create team",description:rt.message,variant:"destructive"}),null;if(X&&X.length>0){const dt=X.map(ye=>({team_id:Ie.id,tournament_id:ye}));await oe.from("team_registrations").insert(dt)}const{data:Me,error:Ue}=await oe.from("teams").select(`
              *,
              player1:players!player1_id(*),
              player2:players!player2_id(*)
            `);Ue&&Y({title:"Error reloading teams",description:Ue.message,variant:"destructive"});const{data:Ge,error:ot}=await oe.from("team_registrations").select("*");if(!Ue&&!ot){const dt=(Me||[]).map(ye=>{var it,Ke,pt,$t,We,ht,Wa,ds;const ge=Ge.filter(dr=>String(dr.team_id)===String(ye.id)).map(dr=>dr.tournament_id);return{...ye,id:String(ye.id),player1FirstName:((it=ye.player1)==null?void 0:it.first_name)||"",player1LastName:((Ke=ye.player1)==null?void 0:Ke.last_name)||"",player2FirstName:((pt=ye.player2)==null?void 0:pt.first_name)||"",player2LastName:(($t=ye.player2)==null?void 0:$t.last_name)||"",phoneNumber:((We=ye.player1)==null?void 0:We.phone_number)||((ht=ye.player2)==null?void 0:ht.phone_number)||"",city:((Wa=ye.player1)==null?void 0:Wa.city)||((ds=ye.player2)==null?void 0:ds.city)||"",registeredTournaments:ge}});l(dt)}else Me&&l(Me);return Y({title:`Team ${Ce} registered successfully!`}),String(Ie.id)}catch(je){return Y({title:"Failed to register team",description:String(je),variant:"destructive"}),null}},updateTeam:async k=>{const{supabase:L}=await Le(async()=>{const{supabase:$}=await Promise.resolve().then(()=>qe);return{supabase:$}},void 0);try{const{id:$,registeredTournaments:B,city:q,phoneNumber:z,player1_phone:X,player2_phone:me}=k,{error:oe}=await L.from("teams").update({name:k.name,city:q||null}).eq("id",$);if(oe){Y({title:"Error updating team",description:oe.message,variant:"destructive"});return}if(Array.isArray(B)&&(await L.from("team_registrations").delete().eq("team_id",$),B.length>0)){const Ce=B.map(Ie=>({team_id:$,tournament_id:Ie}));await L.from("team_registrations").insert(Ce)}const{data:je,error:ce}=await L.from("teams").select(`
              *,
              player1:players!player1_id(*),
              player2:players!player2_id(*)
            `);if(ce){Y({title:"Error reloading teams",description:ce.message,variant:"destructive"});return}const{data:De,error:xe}=await L.from("team_registrations").select("*");if(!ce&&!xe){const Ce=(je||[]).map(Ie=>{var Ue,Ge,ot,dt,ye,Oe,ge,it;const Me=De.filter(Ke=>String(Ke.team_id)===String(Ie.id)).map(Ke=>Ke.tournament_id);return{...Ie,id:String(Ie.id),player1FirstName:((Ue=Ie.player1)==null?void 0:Ue.first_name)||"",player1LastName:((Ge=Ie.player1)==null?void 0:Ge.last_name)||"",player2FirstName:((ot=Ie.player2)==null?void 0:ot.first_name)||"",player2LastName:((dt=Ie.player2)==null?void 0:dt.last_name)||"",phoneNumber:((ye=Ie.player1)==null?void 0:ye.phone_number)||((Oe=Ie.player2)==null?void 0:Oe.phone_number)||"",player1_phone:((ge=Ie.player1)==null?void 0:ge.phone_number)||"",player2_phone:((it=Ie.player2)==null?void 0:it.phone_number)||"",city:Ie.city||"",registeredTournaments:Me}});l(Ce)}else je&&l(je);Y({title:"Team updated successfully!"})}catch($){Y({title:"Failed to update team",description:String($),variant:"destructive"})}},submitGame:V,beginScoreEntry:za,releaseScoreEntryLock:Dr,confirmGame:(k,L)=>{f($=>$.map(B=>B.id===k?{...B,confirmed:!0,confirmedBy:L}:B))},updateGameScore:(k,L,$)=>{},saveSchedule:async k=>{try{const{matches:L}=k,$=L.map(q=>({id:q.id,team_a:q.teamA,team_b:q.teamB,round:q.round,tournament_id:q.tournamentId,table_number:q.table!=null?q.table:1,is_bye:q.isBye??!1,is_same_city:q.isSameCity??!1})),{error:B}=await ft.from("matches").upsert($,{onConflict:["id"]});if(B){Y({title:"Failed to save schedule to Supabase",description:B.message,variant:"destructive"});return}Y({title:"Schedule saved to Supabase!",variant:"default"}),x(q=>[...q.filter(z=>z.tournamentId!==k.tournamentId),k])}catch(L){Y({title:"Unexpected error saving schedule",description:String(L),variant:"destructive"})}},addScoreText:k=>{b(L=>[...L,k])},updateScoreText:(k,L)=>{b($=>$.map(B=>B.id===k?{...B,...L}:B))},getPendingGames:()=>d.filter(k=>!k.confirmed),getTeamStats:()=>({wins:0,losses:0,totalPoints:0,bostons:0}),updateTournamentResult:M,getTournamentResults:G,addTournament:(k,L,$,B)=>{if(!k||typeof k!="string"||k.trim()===""){Y({title:"Tournament name is required.",variant:"destructive"});return}if(typeof L!="number"||L<=0){Y({title:"Tournament cost must be greater than 0.",variant:"destructive"});return}if(typeof $!="number"||$<0){Y({title:"Boston Pot cost must be 0 or greater.",variant:"destructive"});return}const q={id:Date.now().toString(),name:k.trim(),cost:Number(L),bostonPotCost:Number($),description:typeof B=="string"?B:"",status:"active"};P(z=>{const me=[...z.filter(oe=>oe&&typeof oe.id=="string"&&typeof oe.name=="string"&&typeof oe.cost=="number"&&typeof oe.bostonPotCost=="number"&&(oe.status==="active"||oe.status==="finished")).map(oe=>({id:oe.id,name:oe.name,cost:Number(oe.cost),bostonPotCost:Number(oe.bostonPotCost),description:typeof oe.description=="string"?oe.description:"",status:oe.status})),q];return localStorage.setItem("tournaments",JSON.stringify(me)),me}),Y({title:`Tournament "${q.name}" added and set as active!`})},finishTournament:H,getActiveTournament:F,setActiveTournament:A,updateTournament:async(k,L,$,B,q,z)=>{const{supabase:X}=await Le(async()=>{const{supabase:ce}=await Promise.resolve().then(()=>qe);return{supabase:ce}},void 0),{error:me}=await X.from("tournaments").update({name:L,cost:$,boston_pot_cost:B,status:z,description:q}).eq("id",k);if(me){Y({title:"Failed to update tournament in database.",description:me.message,variant:"destructive"});return}const{data:oe,error:je}=await X.from("tournaments").select("*");je||P(oe||[]),Y({title:`Tournament "${L}" updated successfully!`})},createTournament:async(k,L)=>{const{supabase:$}=await Le(async()=>{const{supabase:me}=await Promise.resolve().then(()=>qe);return{supabase:me}},void 0),{data:B,error:q}=await $.from("tournaments").insert([{name:k,status:L,cost:0,boston_pot_cost:0}]).select().single();if(q){Y({title:"Failed to create tournament in database.",description:q.message,variant:"destructive"});return}const{data:z,error:X}=await $.from("tournaments").select("*");X||P(z||[]),Y({title:`Tournament "${k}" created successfully!`})},updateTournamentStatus:async k=>{const{supabase:L}=await Le(async()=>{const{supabase:z}=await Promise.resolve().then(()=>qe);return{supabase:z}},void 0),{error:$}=await L.from("tournaments").update({name:k.name,status:k.status}).eq("id",k.id);if($){Y({title:"Failed to update tournament in database.",description:$.message,variant:"destructive"});return}const{data:B,error:q}=await L.from("tournaments").select("*");q||P(B||[]),Y({title:`Tournament "${k.name}" updated successfully!`})},deleteTournament:async k=>{const{supabase:L}=await Le(async()=>{const{supabase:z}=await Promise.resolve().then(()=>qe);return{supabase:z}},void 0),{error:$}=await L.from("tournaments").delete().eq("id",k);if($){Y({title:"Failed to delete tournament from database.",description:$.message,variant:"destructive"});return}const{data:B,error:q}=await L.from("tournaments").select("*");q||P(B||[]),Y({title:"Tournament deleted successfully!"})},updatePaymentStatus:()=>{},updatePlayerPaymentStatus:()=>{},updatePlayerTournamentPayment:ne,updateTeamPayment:ve,updatePlayerPayment:Se,getPlayerTournamentPayments:fe,getTeamPaymentStatus:_e,calculateTeamTotalOwed:Fe,sendScoreSheetLinks:async()=>{},submitScore:async()=>{},confirmScore:O,saveBracket:k=>{_(L=>({...L,[k.tournamentId]:k}))},getBracket:k=>N[k]||null,updateBracket:(k,L)=>{_($=>{const B=$[k];return B?{...$,[k]:{...B,...L}}:$})},deleteBracket:k=>{_(L=>{const $={...L};return delete $[k],$})},addCity:k=>{j.includes(k)?Y({title:"City already exists",description:`"${k}" is already in the list.`,variant:"destructive"}):(C(L=>[...L,k]),Y({title:`City "${k}" added successfully!`}))},removeCity:k=>{const L=i.filter($=>$.city===k);if(L.length>0){Y({title:"Cannot remove city",description:`${L.length} team(s) are using "${k}". Remove or update teams first.`,variant:"destructive"});return}C($=>$.filter(B=>B!==k)),Y({title:`City "${k}" removed successfully!`})},updateCities:k=>{C(k),Y({title:"Cities updated successfully!"})},clearTournamentResults:se,clearGames:ee,clearScoreSubmissions:ie,refreshGamesFromSupabase:h,createTeamFromPlayers:Ae,refreshTeams:ut,refreshPlayers:et,refreshTournaments:Ct,addPlayer:Rt,addTeamToTournament:Lt,messages:U,addMessage:async k=>{try{const{data:L,error:$}=await ft.from("messages").insert([{text:k.text,type:k.type,active:k.active,expires_at:k.expiresAt,created_by:k.createdBy||"admin"}]).select().single();if($){console.error("Error adding message:",$),Y({title:"Error adding message",variant:"destructive"});return}Y({title:"Message added successfully!"})}catch(L){console.error("Error adding message:",L),Y({title:"Error adding message",variant:"destructive"})}},updateMessage:async(k,L)=>{try{const $={};L.text!==void 0&&($.text=L.text),L.type!==void 0&&($.type=L.type),L.active!==void 0&&($.active=L.active),L.expiresAt!==void 0&&($.expires_at=L.expiresAt);const{error:B}=await ft.from("messages").update($).eq("id",k);if(B){console.error("Error updating message:",B),Y({title:"Error updating message",variant:"destructive"});return}Y({title:"Message updated successfully!"})}catch($){console.error("Error updating message:",$),Y({title:"Error updating message",variant:"destructive"})}},deleteMessage:async k=>{try{const{error:L}=await ft.from("messages").delete().eq("id",k);if(L){console.error("Error deleting message:",L),Y({title:"Error deleting message",variant:"destructive"});return}Y({title:"Message deleted successfully!"})}catch(L){console.error("Error deleting message:",L),Y({title:"Error deleting message",variant:"destructive"})}},getActiveMessages:()=>U.filter(L=>L.active)},children:e})},Je=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:$e("rounded-lg border border-border/40 bg-background shadow-sm",e),...t}));Je.displayName="Card";const tt=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:$e("flex flex-col space-y-1.5 p-6",e),...t}));tt.displayName="CardHeader";const at=m.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:$e("text-2xl font-semibold leading-none tracking-tight text-foreground",e),...t}));at.displayName="CardTitle";const $O=m.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:$e("text-sm text-muted-foreground",e),...t}));$O.displayName="CardDescription";const Xe=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:$e("p-6 pt-0",e),...t}));Xe.displayName="CardContent";const FO=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:$e("flex items-center p-6 pt-0",e),...t}));FO.displayName="CardFooter";const UO=td("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ae=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?iT:"button";return o.jsx(i,{className:$e(UO({variant:t,size:r,className:e})),ref:a,...s})});ae.displayName="Button";const Ee=m.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:$e("flex h-10 w-full rounded-md border border-border/60 bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Ee.displayName="Input";var zO="Label",U1=m.forwardRef((e,t)=>o.jsx(Be.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));U1.displayName=zO;var z1=U1;const WO=td("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",{variants:{variant:{default:"text-foreground",muted:"text-muted-foreground",accent:"text-primary"},size:{default:"text-sm",xs:"text-xs",sm:"text-sm",lg:"text-base"}},defaultVariants:{variant:"default",size:"default"}}),Ne=m.forwardRef(({className:e,variant:t,size:r,...n},s)=>o.jsx(z1,{ref:s,className:$e(WO({variant:t,size:r}),e),...n}));Ne.displayName=z1.displayName;const VO=({onSetupComplete:e})=>{const{setCurrentUser:t,teams:r,fetchError:n}=Dt(),[s,a]=m.useState(""),[i,l]=m.useState(null),[c,u]=m.useState(!1),d=()=>{s.trim()&&(t(s.trim()),e())},f=h=>{h.key==="Enter"&&d()};return r?o.jsxs("div",{className:"min-h-screen flex flex-col justify-between items-center bg-gradient-to-br from-black via-red-900 to-black p-4 relative",children:[o.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none select-none bg-[url('https://upload.wikimedia.org/wikipedia/commons/5/5a/Spades.svg')] bg-center bg-repeat",style:{zIndex:0}}),o.jsxs(Je,{className:"w-full max-w-md shadow-2xl border-4 border-black rounded-2xl bg-gradient-to-br from-black via-gray-900 to-red-900/80 backdrop-blur relative z-10",children:[o.jsxs(tt,{className:"text-center space-y-4",children:[o.jsxs("div",{className:"mx-auto w-20 h-28 flex items-center justify-center bg-gradient-to-br from-black to-red-800 rounded-xl shadow-lg border-2 border-white relative",children:[o.jsxs("svg",{width:"48",height:"64",viewBox:"0 0 48 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("rect",{width:"48",height:"64",rx:"8",fill:"#fff",stroke:"#000",strokeWidth:"2"}),o.jsx("text",{x:"24",y:"40",textAnchor:"middle",fontSize:"36",fontWeight:"bold",fill:"#000",children:""})]}),o.jsx("span",{className:"absolute top-1 left-2 text-black text-lg font-bold",children:"A"}),o.jsx("span",{className:"absolute bottom-1 right-2 text-black text-lg font-bold rotate-180",children:"A"}),o.jsx("span",{className:"absolute top-5 left-3 text-black text-2xl",children:""}),o.jsx("span",{className:"absolute bottom-5 right-3 text-black text-2xl rotate-180",children:""})]}),o.jsx(at,{className:"text-4xl font-extrabold bg-gradient-to-r from-red-600 to-black bg-clip-text text-transparent drop-shadow-lg tracking-wide",children:"My Tournaments"})]}),o.jsxs(Xe,{className:"space-y-6",children:[i&&o.jsx("div",{className:"bg-red-100 border border-red-300 text-red-800 rounded p-3 mb-2 text-center",children:i}),n&&o.jsx("div",{className:"bg-red-100 border border-red-300 text-red-800 rounded p-3 mb-2 text-center",children:n}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ne,{htmlFor:"playerName",className:"text-base font-semibold text-red-100 drop-shadow",children:"Please enter your pin to access the admin portal"}),o.jsx(Ee,{id:"playerName",placeholder:"Enter pin",value:s,onChange:h=>a(h.target.value),onKeyPress:f,className:"text-center text-lg bg-black/80 text-white border-red-500 focus:border-red-700 focus:ring-red-700",autoFocus:!0})]}),o.jsxs(ae,{onClick:d,disabled:!s.trim()||c,className:"w-full bg-gradient-to-r from-black via-red-700 to-black hover:from-red-800 hover:to-black text-white font-bold py-3 px-4 rounded-xl shadow-xl transform transition hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2 border-2 border-red-700",children:[c&&o.jsx("span",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),o.jsx(i2,{size:20}),"Enter My Tournaments Admin portal"]}),(r==null?void 0:r.length)===0&&o.jsx("p",{className:"text-sm text-red-300 text-center italic",children:"Note: Add teams first in the Teams tab"})]}),o.jsx("div",{className:"mt-6 text-xs text-center text-red-200 font-mono tracking-wide",children:"Built and Managed by Brian Welch"})]}),o.jsx("div",{className:"w-full text-center text-xs text-red-300 mt-4 z-10",children:"Built and Managed by Brian Welch"})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:o.jsxs("div",{children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),o.jsx("div",{children:"Loading teams..."}),n&&o.jsx("div",{className:"mt-4 bg-red-100 border border-red-300 text-red-800 rounded p-3 text-center",children:n})]})})},HO=td("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border",success:"border-transparent bg-green-500/20 text-green-700 dark:text-green-300 border-green-500/30",warning:"border-transparent bg-yellow-500/20 text-yellow-700 dark:text-yellow-300 border-yellow-500/30",info:"border-transparent bg-primary/10 text-primary border-primary/30"},size:{default:"px-2.5 py-0.5 text-xs",sm:"px-2 py-0.5 text-[10px]",lg:"px-3 py-0.5 text-sm"}},defaultVariants:{variant:"default",size:"default"}});function ke({className:e,variant:t,size:r,...n}){return o.jsx("span",{className:$e(HO({variant:t,size:r}),e),...n})}function ix(e,[t,r]){return Math.min(r,Math.max(t,e))}var GO=m.createContext(void 0);function rg(e){const t=m.useContext(GO);return e||t||"ltr"}var Mf=0;function W1(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??lx()),document.body.insertAdjacentElement("beforeend",e[1]??lx()),Mf++,()=>{Mf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Mf--}},[])}function lx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Lf="focusScope.autoFocusOnMount",$f="focusScope.autoFocusOnUnmount",cx={bubbles:!1,cancelable:!0},qO="FocusScope",ng=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=m.useState(null),u=cn(s),d=cn(a),f=m.useRef(null),h=gt(t,v=>c(v)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(g){if(p.paused||!l)return;const S=g.target;l.contains(S)?f.current=S:bs(f.current,{select:!0})},x=function(g){if(p.paused||!l)return;const S=g.relatedTarget;S!==null&&(l.contains(S)||bs(f.current,{select:!0}))},w=function(g){if(document.activeElement===document.body)for(const N of g)N.removedNodes.length>0&&bs(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const b=new MutationObserver(w);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),b.disconnect()}}},[n,l,p.paused]),m.useEffect(()=>{if(l){dx.add(p);const v=document.activeElement;if(!l.contains(v)){const w=new CustomEvent(Lf,cx);l.addEventListener(Lf,u),l.dispatchEvent(w),w.defaultPrevented||(KO(ZO(V1(l)),{select:!0}),document.activeElement===v&&bs(l))}return()=>{l.removeEventListener(Lf,u),setTimeout(()=>{const w=new CustomEvent($f,cx);l.addEventListener($f,d),l.dispatchEvent(w),w.defaultPrevented||bs(v??document.body,{select:!0}),l.removeEventListener($f,d),dx.remove(p)},0)}}},[l,u,d,p]);const y=m.useCallback(v=>{if(!r&&!n||p.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(x&&w){const b=v.currentTarget,[g,S]=YO(b);g&&S?!v.shiftKey&&w===S?(v.preventDefault(),r&&bs(g,{select:!0})):v.shiftKey&&w===g&&(v.preventDefault(),r&&bs(S,{select:!0})):w===b&&v.preventDefault()}},[r,n,p.paused]);return o.jsx(Be.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});ng.displayName=qO;function KO(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(bs(n,{select:t}),document.activeElement!==r)return}function YO(e){const t=V1(e),r=ux(t,e),n=ux(t.reverse(),e);return[r,n]}function V1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ux(e,t){for(const r of e)if(!QO(r,{upTo:t}))return r}function QO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function JO(e){return e instanceof HTMLInputElement&&"select"in e}function bs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&JO(e)&&t&&e.select()}}var dx=XO();function XO(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=fx(e,t),e.unshift(t)},remove(t){var r;e=fx(e,t),(r=e[0])==null||r.resume()}}}function fx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function ZO(e){return e.filter(t=>t.tagName!=="A")}function H1(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var eB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ja=new WeakMap,mc=new WeakMap,gc={},Ff=0,G1=function(e){return e&&(e.host||G1(e.parentNode))},tB=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=G1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},rB=function(e,t,r,n){var s=tB(t,Array.isArray(e)?e:[e]);gc[r]||(gc[r]=new WeakMap);var a=gc[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),y=p!==null&&p!=="false",v=(Ja.get(h)||0)+1,x=(a.get(h)||0)+1;Ja.set(h,v),a.set(h,x),i.push(h),v===1&&y&&mc.set(h,!0),x===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(t),l.clear(),Ff++,function(){i.forEach(function(f){var h=Ja.get(f)-1,p=a.get(f)-1;Ja.set(f,h),a.set(f,p),h||(mc.has(f)||f.removeAttribute(n),mc.delete(f)),p||f.removeAttribute(r)}),Ff--,Ff||(Ja=new WeakMap,Ja=new WeakMap,mc=new WeakMap,gc={})}},q1=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=eB(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),rB(n,s,r,"aria-hidden")):function(){return null}},Bn=function(){return Bn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Bn.apply(this,arguments)};function K1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function nB(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var zc="right-scroll-bar-position",Wc="width-before-scroll-bar",sB="with-scroll-bars-hidden",aB="--removed-body-scroll-bar-size";function Uf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function oB(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var iB=typeof window<"u"?m.useLayoutEffect:m.useEffect,hx=new WeakMap;function lB(e,t){var r=oB(null,function(n){return e.forEach(function(s){return Uf(s,n)})});return iB(function(){var n=hx.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(l){a.has(l)||Uf(l,null)}),a.forEach(function(l){s.has(l)||Uf(l,i)})}hx.set(r,e)},[e]),r}function cB(e){return e}function uB(e,t){t===void 0&&(t=cB);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(a),i=r}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function dB(e){e===void 0&&(e={});var t=uB(null);return t.options=Bn({async:!0,ssr:!1},e),t}var Y1=function(e){var t=e.sideCar,r=K1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Bn({},r))};Y1.isSideCarExport=!0;function fB(e,t){return e.useMedium(t),Y1}var Q1=dB(),zf=function(){},bd=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:zf,onWheelCapture:zf,onTouchMoveCapture:zf}),s=n[0],a=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,v=e.inert,x=e.allowPinchZoom,w=e.as,b=w===void 0?"div":w,g=e.gapMode,S=K1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,_=lB([r,t]),j=Bn(Bn({},S),s);return m.createElement(m.Fragment,null,d&&m.createElement(N,{sideCar:Q1,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:v,setCallbacks:a,allowPinchZoom:!!x,lockRef:r,gapMode:g}),i?m.cloneElement(m.Children.only(l),Bn(Bn({},j),{ref:_})):m.createElement(b,Bn({},j,{className:c,ref:_}),l))});bd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bd.classNames={fullWidth:Wc,zeroRight:zc};var hB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pB(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=hB();return t&&e.setAttribute("nonce",t),e}function mB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function gB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vB=function(){var e=0,t=null;return{add:function(r){e==0&&(t=pB())&&(mB(t,r),gB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yB=function(){var e=vB();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},J1=function(){var e=yB(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},xB={left:0,top:0,right:0,gap:0},Wf=function(e){return parseInt(e||"",10)||0},bB=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Wf(r),Wf(n),Wf(s)]},wB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return xB;var t=bB(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},SB=J1(),Eo="data-scroll-locked",_B=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(sB,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Eo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Wc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(zc," .").concat(zc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Wc," .").concat(Wc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Eo,`] {
    `).concat(aB,": ").concat(l,`px;
  }
`)},px=function(){var e=parseInt(document.body.getAttribute(Eo)||"0",10);return isFinite(e)?e:0},NB=function(){m.useEffect(function(){return document.body.setAttribute(Eo,(px()+1).toString()),function(){var e=px()-1;e<=0?document.body.removeAttribute(Eo):document.body.setAttribute(Eo,e.toString())}},[])},jB=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;NB();var a=m.useMemo(function(){return wB(s)},[s]);return m.createElement(SB,{styles:_B(a,!t,s,r?"":"!important")})},bp=!1;if(typeof window<"u")try{var vc=Object.defineProperty({},"passive",{get:function(){return bp=!0,!0}});window.addEventListener("test",vc,vc),window.removeEventListener("test",vc,vc)}catch{bp=!1}var Xa=bp?{passive:!1}:!1,CB=function(e){return e.tagName==="TEXTAREA"},X1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!CB(e)&&r[t]==="visible")},EB=function(e){return X1(e,"overflowY")},PB=function(e){return X1(e,"overflowX")},mx=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Z1(e,n);if(s){var a=e_(e,n),i=a[1],l=a[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},TB=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},kB=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Z1=function(e,t){return e==="v"?EB(t):PB(t)},e_=function(e,t){return e==="v"?TB(t):kB(t)},RB=function(e,t){return e==="h"&&t==="rtl"?-1:1},AB=function(e,t,r,n,s){var a=RB(e,window.getComputedStyle(t).direction),i=a*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var p=e_(e,l),y=p[0],v=p[1],x=p[2],w=v-x-a*y;(y||w)&&Z1(e,l)&&(f+=w,h+=y);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},yc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},gx=function(e){return[e.deltaX,e.deltaY]},vx=function(e){return e&&"current"in e?e.current:e},IB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},DB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},OB=0,Za=[];function BB(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(OB++)[0],a=m.useState(J1)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=nB([e.lockRef.current],(e.shards||[]).map(vx),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var w=yc(v),b=r.current,g="deltaX"in v?v.deltaX:b[0]-w[0],S="deltaY"in v?v.deltaY:b[1]-w[1],N,_=v.target,j=Math.abs(g)>Math.abs(S)?"h":"v";if("touches"in v&&j==="h"&&_.type==="range")return!1;var C=mx(j,_);if(!C)return!0;if(C?N=j:(N=j==="v"?"h":"v",C=mx(j,_)),!C)return!1;if(!n.current&&"changedTouches"in v&&(g||S)&&(n.current=N),!N)return!0;var I=n.current||N;return AB(I,x,v,I==="h"?g:S)},[]),c=m.useCallback(function(v){var x=v;if(!(!Za.length||Za[Za.length-1]!==a)){var w="deltaY"in x?gx(x):yc(x),b=t.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&IB(N.delta,w)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var g=(i.current.shards||[]).map(vx).filter(Boolean).filter(function(N){return N.contains(x.target)}),S=g.length>0?l(x,g[0]):!i.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=m.useCallback(function(v,x,w,b){var g={name:v,delta:x,target:w,should:b,shadowParent:MB(w)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(S){return S!==g})},1)},[]),d=m.useCallback(function(v){r.current=yc(v),n.current=void 0},[]),f=m.useCallback(function(v){u(v.type,gx(v),v.target,l(v,e.lockRef.current))},[]),h=m.useCallback(function(v){u(v.type,yc(v),v.target,l(v,e.lockRef.current))},[]);m.useEffect(function(){return Za.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Xa),document.addEventListener("touchmove",c,Xa),document.addEventListener("touchstart",d,Xa),function(){Za=Za.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,Xa),document.removeEventListener("touchmove",c,Xa),document.removeEventListener("touchstart",d,Xa)}},[]);var p=e.removeScrollBar,y=e.inert;return m.createElement(m.Fragment,null,y?m.createElement(a,{styles:DB(s)}):null,p?m.createElement(jB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function MB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const LB=fB(Q1,BB);var sg=m.forwardRef(function(e,t){return m.createElement(bd,Bn({},e,{ref:t,sideCar:LB}))});sg.classNames=bd.classNames;var $B=[" ","Enter","ArrowUp","ArrowDown"],FB=[" ","Enter"],Oa="Select",[wd,Sd,UB]=Rm(Oa),[si,M6]=zn(Oa,[UB,od]),_d=od(),[zB,aa]=si(Oa),[WB,VB]=si(Oa),t_=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=e,v=_d(t),[x,w]=m.useState(null),[b,g]=m.useState(null),[S,N]=m.useState(!1),_=rg(u),[j,C]=Ys({prop:n,defaultProp:s??!1,onChange:a,caller:Oa}),[I,P]=Ys({prop:i,defaultProp:l,onChange:c,caller:Oa}),F=m.useRef(null),A=x?y||!!x.closest("form"):!0,[H,T]=m.useState(new Set),R=Array.from(H).map(U=>U.props.value).join(";");return o.jsx(HR,{...v,children:o.jsxs(zB,{required:p,scope:t,trigger:x,onTriggerChange:w,valueNode:b,onValueNodeChange:g,valueNodeHasChildren:S,onValueNodeHasChildrenChange:N,contentId:rs(),value:I,onValueChange:P,open:j,onOpenChange:C,dir:_,triggerPointerDownPosRef:F,disabled:h,children:[o.jsx(wd.Provider,{scope:t,children:o.jsx(WB,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(U=>{T(Q=>new Set(Q).add(U))},[]),onNativeOptionRemove:m.useCallback(U=>{T(Q=>{const D=new Set(Q);return D.delete(U),D})},[]),children:r})}),A?o.jsxs(j_,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:U=>P(U.target.value),disabled:h,form:y,children:[I===void 0?o.jsx("option",{value:""}):null,Array.from(H)]},R):null]})})};t_.displayName=Oa;var r_="SelectTrigger",n_=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=_d(r),i=aa(r_,r),l=i.disabled||n,c=gt(t,i.onTriggerChange),u=Sd(r),d=m.useRef("touch"),[f,h,p]=E_(v=>{const x=u().filter(g=>!g.disabled),w=x.find(g=>g.value===i.value),b=P_(x,v,w);b!==void 0&&i.onValueChange(b.value)}),y=v=>{l||(i.onOpenChange(!0),p()),v&&(i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return o.jsx(zS,{asChild:!0,...a,children:o.jsx(Be.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":C_(i.value)?"":void 0,...s,ref:c,onClick:Te(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&y(v)}),onPointerDown:Te(s.onPointerDown,v=>{d.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(y(v),v.preventDefault())}),onKeyDown:Te(s.onKeyDown,v=>{const x=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(x&&v.key===" ")&&$B.includes(v.key)&&(y(),v.preventDefault())})})})});n_.displayName=r_;var s_="SelectValue",a_=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...l}=e,c=aa(s_,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=gt(t,c.onValueNodeChange);return Gt(()=>{u(d)},[u,d]),o.jsx(Be.span,{...l,ref:f,style:{pointerEvents:"none"},children:C_(c.value)?o.jsx(o.Fragment,{children:i}):a})});a_.displayName=s_;var HB="SelectIcon",o_=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(Be.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});o_.displayName=HB;var GB="SelectPortal",i_=e=>o.jsx(Xu,{asChild:!0,...e});i_.displayName=GB;var Ba="SelectContent",l_=m.forwardRef((e,t)=>{const r=aa(Ba,e.__scopeSelect),[n,s]=m.useState();if(Gt(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?na.createPortal(o.jsx(c_,{scope:e.__scopeSelect,children:o.jsx(wd.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(u_,{...e,ref:t})});l_.displayName=Ba;var pn=10,[c_,oa]=si(Ba),qB="SelectContentImpl",KB=Wo("SelectContent.RemoveScroll"),u_=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:v,avoidCollisions:x,...w}=e,b=aa(Ba,r),[g,S]=m.useState(null),[N,_]=m.useState(null),j=gt(t,O=>S(O)),[C,I]=m.useState(null),[P,F]=m.useState(null),A=Sd(r),[H,T]=m.useState(!1),R=m.useRef(!1);m.useEffect(()=>{if(g)return q1(g)},[g]),W1();const U=m.useCallback(O=>{const[W,...he]=A().map(Se=>Se.ref.current),[J]=he.slice(-1),ve=document.activeElement;for(const Se of O)if(Se===ve||(Se==null||Se.scrollIntoView({block:"nearest"}),Se===W&&N&&(N.scrollTop=0),Se===J&&N&&(N.scrollTop=N.scrollHeight),Se==null||Se.focus(),document.activeElement!==ve))return},[A,N]),Q=m.useCallback(()=>U([C,g]),[U,C,g]);m.useEffect(()=>{H&&Q()},[H,Q]);const{onOpenChange:D,triggerPointerDownPosRef:M}=b;m.useEffect(()=>{if(g){let O={x:0,y:0};const W=J=>{var ve,Se;O={x:Math.abs(Math.round(J.pageX)-(((ve=M.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(J.pageY)-(((Se=M.current)==null?void 0:Se.y)??0))}},he=J=>{O.x<=10&&O.y<=10?J.preventDefault():g.contains(J.target)||D(!1),document.removeEventListener("pointermove",W),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",he,{capture:!0})}}},[g,D,M]),m.useEffect(()=>{const O=()=>D(!1);return window.addEventListener("blur",O),window.addEventListener("resize",O),()=>{window.removeEventListener("blur",O),window.removeEventListener("resize",O)}},[D]);const[G,ne]=E_(O=>{const W=A().filter(ve=>!ve.disabled),he=W.find(ve=>ve.ref.current===document.activeElement),J=P_(W,O,he);J&&setTimeout(()=>J.ref.current.focus())}),V=m.useCallback((O,W,he)=>{const J=!R.current&&!he;(b.value!==void 0&&b.value===W||J)&&(I(O),J&&(R.current=!0))},[b.value]),se=m.useCallback(()=>g==null?void 0:g.focus(),[g]),ee=m.useCallback((O,W,he)=>{const J=!R.current&&!he;(b.value!==void 0&&b.value===W||J)&&F(O)},[b.value]),ie=n==="popper"?wp:d_,le=ie===wp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:v,avoidCollisions:x}:{};return o.jsx(c_,{scope:r,content:g,viewport:N,onViewportChange:_,itemRefCallback:V,selectedItem:C,onItemLeave:se,itemTextRefCallback:ee,focusSelectedItem:Q,selectedItemText:P,position:n,isPositioned:H,searchRef:G,children:o.jsx(sg,{as:KB,allowPinchZoom:!0,children:o.jsx(ng,{asChild:!0,trapped:b.open,onMountAutoFocus:O=>{O.preventDefault()},onUnmountAutoFocus:Te(s,O=>{var W;(W=b.trigger)==null||W.focus({preventScroll:!0}),O.preventDefault()}),children:o.jsx(jl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:O=>O.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:o.jsx(ie,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:O=>O.preventDefault(),...w,...le,onPlaced:()=>T(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Te(w.onKeyDown,O=>{const W=O.ctrlKey||O.altKey||O.metaKey;if(O.key==="Tab"&&O.preventDefault(),!W&&O.key.length===1&&ne(O.key),["ArrowUp","ArrowDown","Home","End"].includes(O.key)){let J=A().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(O.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(O.key)){const ve=O.target,Se=J.indexOf(ve);J=J.slice(Se+1)}setTimeout(()=>U(J)),O.preventDefault()}})})})})})})});u_.displayName=qB;var YB="SelectItemAlignedPosition",d_=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=aa(Ba,r),i=oa(Ba,r),[l,c]=m.useState(null),[u,d]=m.useState(null),f=gt(t,j=>d(j)),h=Sd(r),p=m.useRef(!1),y=m.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:w,focusSelectedItem:b}=i,g=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&x&&w){const j=a.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),I=a.valueNode.getBoundingClientRect(),P=w.getBoundingClientRect();if(a.dir!=="rtl"){const ve=P.left-C.left,Se=I.left-ve,fe=j.left-Se,_e=j.width+fe,Fe=Math.max(_e,C.width),Ae=window.innerWidth-pn,ut=ix(Se,[pn,Math.max(pn,Ae-Fe)]);l.style.minWidth=_e+"px",l.style.left=ut+"px"}else{const ve=C.right-P.right,Se=window.innerWidth-I.right-ve,fe=window.innerWidth-j.right-Se,_e=j.width+fe,Fe=Math.max(_e,C.width),Ae=window.innerWidth-pn,ut=ix(Se,[pn,Math.max(pn,Ae-Fe)]);l.style.minWidth=_e+"px",l.style.right=ut+"px"}const F=h(),A=window.innerHeight-pn*2,H=v.scrollHeight,T=window.getComputedStyle(u),R=parseInt(T.borderTopWidth,10),U=parseInt(T.paddingTop,10),Q=parseInt(T.borderBottomWidth,10),D=parseInt(T.paddingBottom,10),M=R+U+H+D+Q,G=Math.min(x.offsetHeight*5,M),ne=window.getComputedStyle(v),V=parseInt(ne.paddingTop,10),se=parseInt(ne.paddingBottom,10),ee=j.top+j.height/2-pn,ie=A-ee,le=x.offsetHeight/2,O=x.offsetTop+le,W=R+U+O,he=M-W;if(W<=ee){const ve=F.length>0&&x===F[F.length-1].ref.current;l.style.bottom="0px";const Se=u.clientHeight-v.offsetTop-v.offsetHeight,fe=Math.max(ie,le+(ve?se:0)+Se+Q),_e=W+fe;l.style.height=_e+"px"}else{const ve=F.length>0&&x===F[0].ref.current;l.style.top="0px";const fe=Math.max(ee,R+v.offsetTop+(ve?V:0)+le)+he;l.style.height=fe+"px",v.scrollTop=W-ee+v.offsetTop}l.style.margin=`${pn}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,l,u,v,x,w,a.dir,n]);Gt(()=>g(),[g]);const[S,N]=m.useState();Gt(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const _=m.useCallback(j=>{j&&y.current===!0&&(g(),b==null||b(),y.current=!1)},[g,b]);return o.jsx(JB,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:o.jsx(Be.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});d_.displayName=YB;var QB="SelectPopperPosition",wp=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=pn,...a}=e,i=_d(r);return o.jsx(WS,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wp.displayName=QB;var[JB,ag]=si(Ba,{}),Sp="SelectViewport",f_=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=oa(Sp,r),i=ag(Sp,r),l=gt(t,a.onViewportChange),c=m.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(wd.Slot,{scope:r,children:o.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Te(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-pn*2,v=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),w=Math.max(v,x);if(w<y){const b=w+p,g=Math.min(y,b),S=b-g;f.style.height=g+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});f_.displayName=Sp;var h_="SelectGroup",[XB,ZB]=si(h_),eM=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=rs();return o.jsx(XB,{scope:r,id:s,children:o.jsx(Be.div,{role:"group","aria-labelledby":s,...n,ref:t})})});eM.displayName=h_;var p_="SelectLabel",m_=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ZB(p_,r);return o.jsx(Be.div,{id:s.id,...n,ref:t})});m_.displayName=p_;var ju="SelectItem",[tM,g_]=si(ju),v_=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,l=aa(ju,r),c=oa(ju,r),u=l.value===n,[d,f]=m.useState(a??""),[h,p]=m.useState(!1),y=gt(t,b=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,b,n,s)}),v=rs(),x=m.useRef("touch"),w=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(tM,{scope:r,value:n,disabled:s,textId:v,isSelected:u,onItemTextChange:m.useCallback(b=>{f(g=>g||((b==null?void 0:b.textContent)??"").trim())},[]),children:o.jsx(wd.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:o.jsx(Be.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:y,onFocus:Te(i.onFocus,()=>p(!0)),onBlur:Te(i.onBlur,()=>p(!1)),onClick:Te(i.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:Te(i.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:Te(i.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:Te(i.onPointerMove,b=>{var g;x.current=b.pointerType,s?(g=c.onItemLeave)==null||g.call(c):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Te(i.onPointerLeave,b=>{var g;b.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:Te(i.onKeyDown,b=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(FB.includes(b.key)&&w(),b.key===" "&&b.preventDefault())})})})})});v_.displayName=ju;var Pi="SelectItemText",y_=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=aa(Pi,r),l=oa(Pi,r),c=g_(Pi,r),u=VB(Pi,r),[d,f]=m.useState(null),h=gt(t,w=>f(w),c.onItemTextChange,w=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,w,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=m.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=u;return Gt(()=>(v(y),()=>x(y)),[v,x,y]),o.jsxs(o.Fragment,{children:[o.jsx(Be.span,{id:c.textId,...a,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?na.createPortal(a.children,i.valueNode):null]})});y_.displayName=Pi;var x_="SelectItemIndicator",b_=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return g_(x_,r).isSelected?o.jsx(Be.span,{"aria-hidden":!0,...n,ref:t}):null});b_.displayName=x_;var _p="SelectScrollUpButton",w_=m.forwardRef((e,t)=>{const r=oa(_p,e.__scopeSelect),n=ag(_p,e.__scopeSelect),[s,a]=m.useState(!1),i=gt(t,n.onScrollButtonChange);return Gt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(__,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});w_.displayName=_p;var Np="SelectScrollDownButton",S_=m.forwardRef((e,t)=>{const r=oa(Np,e.__scopeSelect),n=ag(Np,e.__scopeSelect),[s,a]=m.useState(!1),i=gt(t,n.onScrollButtonChange);return Gt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?o.jsx(__,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});S_.displayName=Np;var __=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=oa("SelectScrollButton",r),i=m.useRef(null),l=Sd(r),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Gt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Be.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Te(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Te(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Te(s.onPointerLeave,()=>{c()})})}),rM="SelectSeparator",N_=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Be.div,{"aria-hidden":!0,...n,ref:t})});N_.displayName=rM;var jp="SelectArrow",nM=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=_d(r),a=aa(jp,r),i=oa(jp,r);return a.open&&i.position==="popper"?o.jsx(VS,{...s,...n,ref:t}):null});nM.displayName=jp;var sM="SelectBubbleInput",j_=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=m.useRef(null),a=gt(n,s),i=H1(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(Be.select,{...r,style:{...Bw,...r.style},ref:a,defaultValue:t})});j_.displayName=sM;function C_(e){return e===""||e===void 0}function E_(e){const t=cn(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function P_(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=aM(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function aM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var oM=t_,T_=n_,iM=a_,lM=o_,cM=i_,k_=l_,uM=f_,R_=m_,A_=v_,dM=y_,fM=b_,I_=w_,D_=S_,O_=N_;const Or=oM,Br=iM,jr=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(T_,{ref:n,className:$e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-colors",e),...r,children:[t,o.jsx(lM,{asChild:!0,children:o.jsx(rd,{className:"h-4 w-4 opacity-50 transition-transform duration-200 ease-in-out group-data-[state=open]:rotate-180"})})]}));jr.displayName=T_.displayName;const B_=m.forwardRef(({className:e,...t},r)=>o.jsx(I_,{ref:r,className:$e("flex cursor-default items-center justify-center py-1 text-muted-foreground",e),...t,children:o.jsx(t2,{className:"h-4 w-4"})}));B_.displayName=I_.displayName;const M_=m.forwardRef(({className:e,...t},r)=>o.jsx(D_,{ref:r,className:$e("flex cursor-default items-center justify-center py-1 text-muted-foreground",e),...t,children:o.jsx(rd,{className:"h-4 w-4"})}));M_.displayName=D_.displayName;const Cr=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(cM,{children:o.jsxs(k_,{ref:s,className:$e("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border/40 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(B_,{}),o.jsx(uM,{className:$e("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(M_,{})]})}));Cr.displayName=k_.displayName;const hM=m.forwardRef(({className:e,...t},r)=>o.jsx(R_,{ref:r,className:$e("py-1.5 pl-8 pr-2 text-sm font-medium text-muted-foreground",e),...t}));hM.displayName=R_.displayName;const yt=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(A_,{ref:n,className:$e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent/50 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(fM,{children:o.jsx(Xr,{className:"h-4 w-4 text-primary"})})}),o.jsx(dM,{children:t})]}));yt.displayName=A_.displayName;const pM=m.forwardRef(({className:e,...t},r)=>o.jsx(O_,{ref:r,className:$e("-mx-1 my-1 h-px bg-muted",e),...t}));pM.displayName=O_.displayName;var Nd="Checkbox",[mM,L6]=zn(Nd),[gM,og]=mM(Nd);function vM(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:a,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=Ys({prop:r,defaultProp:s??!1,onChange:c,caller:Nd}),[y,v]=m.useState(null),[x,w]=m.useState(null),b=m.useRef(!1),g=y?!!i||!!y.closest("form"):!0,S={checked:h,disabled:a,setChecked:p,control:y,setControl:v,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Ws(s)?!1:s,isFormControl:g,bubbleInput:x,setBubbleInput:w};return o.jsx(gM,{scope:t,...S,children:yM(f)?f(S):n})}var L_="CheckboxTrigger",$_=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:a,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:y}=og(L_,e),v=gt(s,d),x=m.useRef(c);return m.useEffect(()=>{const w=a==null?void 0:a.form;if(w){const b=()=>f(x.current);return w.addEventListener("reset",b),()=>w.removeEventListener("reset",b)}},[a,f]),o.jsx(Be.button,{type:"button",role:"checkbox","aria-checked":Ws(c)?"mixed":c,"aria-required":u,"data-state":V_(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:v,onKeyDown:Te(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Te(r,w=>{f(b=>Ws(b)?!0:!b),y&&p&&(h.current=w.isPropagationStopped(),h.current||w.stopPropagation())})})});$_.displayName=L_;var ig=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(vM,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx($_,{...f,ref:t,__scopeCheckbox:r}),h&&o.jsx(W_,{__scopeCheckbox:r})]})})});ig.displayName=Nd;var F_="CheckboxIndicator",U_=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=og(F_,r);return o.jsx(us,{present:n||Ws(a.checked)||a.checked===!0,children:o.jsx(Be.span,{"data-state":V_(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});U_.displayName=F_;var z_="CheckboxBubbleInput",W_=m.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=og(z_,e),y=gt(r,p),v=H1(a),x=AS(n);m.useEffect(()=>{const b=h;if(!b)return;const g=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(g,"checked").set,_=!s.current;if(v!==a&&N){const j=new Event("click",{bubbles:_});b.indeterminate=Ws(a),N.call(b,Ws(a)?!1:a),b.dispatchEvent(j)}},[h,v,a,s]);const w=m.useRef(Ws(a)?!1:a);return o.jsx(Be.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??w.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:y,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});W_.displayName=z_;function yM(e){return typeof e=="function"}function Ws(e){return e==="indeterminate"}function V_(e){return Ws(e)?"indeterminate":e?"checked":"unchecked"}const H_=m.forwardRef(({className:e,...t},r)=>o.jsx(ig,{ref:r,className:$e("peer h-4 w-4 shrink-0 rounded-sm border border-primary/60 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground transition-colors duration-200",e),...t,children:o.jsx(U_,{className:$e("flex items-center justify-center text-current"),children:o.jsx(Xr,{className:"h-3.5 w-3.5 transition-transform duration-200"})})}));H_.displayName=ig.displayName;var jd="Dialog",[G_,$6]=zn(jd),[xM,Pn]=G_(jd),q_=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=Ys({prop:n,defaultProp:s??!1,onChange:a,caller:jd});return o.jsx(xM,{scope:t,triggerRef:l,contentRef:c,contentId:rs(),titleId:rs(),descriptionId:rs(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};q_.displayName=jd;var K_="DialogTrigger",Y_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pn(K_,r),a=gt(t,s.triggerRef);return o.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ug(s.open),...n,ref:a,onClick:Te(e.onClick,s.onOpenToggle)})});Y_.displayName=K_;var lg="DialogPortal",[bM,Q_]=G_(lg,{forceMount:void 0}),J_=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Pn(lg,t);return o.jsx(bM,{scope:t,forceMount:r,children:m.Children.map(n,i=>o.jsx(us,{present:r||a.open,children:o.jsx(Xu,{asChild:!0,container:s,children:i})}))})};J_.displayName=lg;var Cu="DialogOverlay",X_=m.forwardRef((e,t)=>{const r=Q_(Cu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Pn(Cu,e.__scopeDialog);return a.modal?o.jsx(us,{present:n||a.open,children:o.jsx(SM,{...s,ref:t})}):null});X_.displayName=Cu;var wM=Wo("DialogOverlay.RemoveScroll"),SM=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pn(Cu,r);return o.jsx(sg,{as:wM,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Be.div,{"data-state":ug(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ma="DialogContent",Z_=m.forwardRef((e,t)=>{const r=Q_(Ma,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Pn(Ma,e.__scopeDialog);return o.jsx(us,{present:n||a.open,children:a.modal?o.jsx(_M,{...s,ref:t}):o.jsx(NM,{...s,ref:t})})});Z_.displayName=Ma;var _M=m.forwardRef((e,t)=>{const r=Pn(Ma,e.__scopeDialog),n=m.useRef(null),s=gt(t,r.contentRef,n);return m.useEffect(()=>{const a=n.current;if(a)return q1(a)},[]),o.jsx(eN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Te(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:Te(e.onFocusOutside,a=>a.preventDefault())})}),NM=m.forwardRef((e,t)=>{const r=Pn(Ma,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return o.jsx(eN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),eN=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=Pn(Ma,r),c=m.useRef(null),u=gt(t,c);return W1(),o.jsxs(o.Fragment,{children:[o.jsx(ng,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(jl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ug(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(jM,{titleId:l.titleId}),o.jsx(EM,{contentRef:c,descriptionId:l.descriptionId})]})]})}),cg="DialogTitle",tN=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pn(cg,r);return o.jsx(Be.h2,{id:s.titleId,...n,ref:t})});tN.displayName=cg;var rN="DialogDescription",nN=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pn(rN,r);return o.jsx(Be.p,{id:s.descriptionId,...n,ref:t})});nN.displayName=rN;var sN="DialogClose",aN=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pn(sN,r);return o.jsx(Be.button,{type:"button",...n,ref:t,onClick:Te(e.onClick,()=>s.onOpenChange(!1))})});aN.displayName=sN;function ug(e){return e?"open":"closed"}var oN="DialogTitleWarning",[F6,iN]=aT(oN,{contentName:Ma,titleName:cg,docsSlug:"dialog"}),jM=({titleId:e})=>{const t=iN(oN),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},CM="DialogDescriptionWarning",EM=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iN(CM).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},PM=q_,TM=Y_,kM=J_,lN=X_,cN=Z_,uN=tN,dN=nN,RM=aN;const vr=PM,vo=TM,AM=kM,fN=m.forwardRef(({className:e,...t},r)=>o.jsx(lN,{ref:r,className:$e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));fN.displayName=lN.displayName;const or=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(AM,{children:[o.jsx(fN,{}),o.jsxs(cN,{ref:n,className:$e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border/40 bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(RM,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(es,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));or.displayName=cN.displayName;const ir=({className:e,...t})=>o.jsx("div",{className:$e("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ir.displayName="DialogHeader";const lr=m.forwardRef(({className:e,...t},r)=>o.jsx(uN,{ref:r,className:$e("text-lg font-semibold leading-none tracking-tight text-foreground",e),...t}));lr.displayName=uN.displayName;const IM=m.forwardRef(({className:e,...t},r)=>o.jsx(dN,{ref:r,className:$e("text-sm text-muted-foreground",e),...t}));IM.displayName=dN.displayName;const DM=({onTeamPaymentClick:e,onIndividualPlayerPaymentClick:t})=>{const{teams:r,tournaments:n,players:s,createTeamFromPlayers:a,updateTeam:i,refreshPlayers:l,refreshTeams:c,createTournament:u,updateTournamentStatus:d,deleteTournament:f,addPlayer:h,addTeamToTournament:p,refreshTournaments:y,addTeam:v}=Dt(),[x,w]=m.useState("all"),[b,g]=m.useState(""),[S,N]=m.useState([]),[_,j]=m.useState(!1),[C,I]=m.useState(!1),[P,F]=m.useState(null),[A,H]=m.useState({first_name:"",last_name:"",phone_number:""}),[T,R]=m.useState("all"),[U,Q]=m.useState(""),[D,M]=m.useState([]),[G,ne]=m.useState(!1),[V,se]=m.useState(!1),[ee,ie]=m.useState(null),[le,O]=m.useState({name:"",city:"",player1_id:"",player2_id:""}),[W,he]=m.useState([]),[J,ve]=m.useState("all"),[Se,fe]=m.useState(""),[_e,Fe]=m.useState(!1),[Ae,ut]=m.useState(!1),[et,Ct]=m.useState(null),[Rt,Lt]=m.useState({name:"",status:"pending"}),[za,Dr]=m.useState(!1),[k,L]=m.useState([]),[$,B]=m.useState(!1),[q,z]=m.useState([]),[X,me]=m.useState(null),[oe,je]=m.useState(!1),[ce,De]=m.useState(null),[xe,Ce]=m.useState([]),[Ie,rt]=m.useState([]),[Me,Ue]=m.useState(!1),[Ge,ot]=m.useState(null),[dt,ye]=m.useState(null),Oe=s.filter(E=>{if(x!=="all"){if(x==="unassigned"){if(r.some(te=>(te.player1_id===E.id||te.player2_id===E.id)&&te.registeredTournaments&&te.registeredTournaments.length>0))return!1}else if(!r.some(te=>{var de;return(te.player1_id===E.id||te.player2_id===E.id)&&((de=te.registeredTournaments)==null?void 0:de.includes(x))}))return!1}if(b){const K=b.toLowerCase();return E.first_name.toLowerCase().includes(K)||E.last_name.toLowerCase().includes(K)}return!0}),ge=r.filter(E=>{var K;if(T!=="all"){if(T==="unassigned"){if(E.registeredTournaments&&E.registeredTournaments.length>0)return!1}else if(!((K=E.registeredTournaments)!=null&&K.includes(T)))return!1}if(U){const te=U.toLowerCase();return E.name.toLowerCase().includes(te)||E.city.toLowerCase().includes(te)}return!0}),it=n.filter(E=>{var K;if(J!=="all")if(J==="active"){if(E.status!=="active")return!1}else if(J==="pending"){if(E.status!=="pending")return!1}else if(J==="finished"){if(E.status!=="finished")return!1}else{const te=r.find(de=>de.id===J);if(!te||!((K=te.registeredTournaments)!=null&&K.includes(E.id)))return!1}if(Se){const te=Se.toLowerCase();return E.name.toLowerCase().includes(te)}return!0}),Ke=E=>{const K=s.find(te=>te.id===E);return K?`${K.first_name} ${K.last_name}`:"Unknown Player"},pt=E=>{S.find(K=>K.id===E.id)?N(S.filter(K=>K.id!==E.id)):S.length<2?N([...S,E]):Y({title:"Maximum players selected",description:"You can only select 2 players to create a team.",variant:"destructive"})},$t=async()=>{if(S.length!==2){Y({title:"Invalid selection",description:"Please select exactly 2 players to create a team.",variant:"destructive"});return}const E=S[0],K=S[1];if(r.find(de=>de.player1_id===E.id&&de.player2_id===K.id||de.player1_id===K.id&&de.player2_id===E.id)){Y({title:"Team already exists",description:`A team with ${E.first_name} ${E.last_name} and ${K.first_name} ${K.last_name} already exists.`,variant:"destructive"});return}try{const de=`${E.first_name}/${K.first_name}`;await a(E,K,de),N([]),await c(),Y({title:"Team created successfully",description:`Team "${de}" has been created.`,variant:"default"})}catch{Y({title:"Error creating team",description:"Failed to create team. Please try again.",variant:"destructive"})}},We=async()=>{if(D.length===0){Y({title:"No teams selected",description:"Please select at least one team.",variant:"destructive"});return}if(W.length===0){Y({title:"No tournaments selected",description:"Please select at least one tournament.",variant:"destructive"});return}const E=[];for(const K of D){const te=W.filter(de=>{var be;return(be=K.registeredTournaments)==null?void 0:be.includes(de)});te.length>0&&E.push({team:K,tournaments:te})}if(E.length>0){const K=E.map(({team:te,tournaments:de})=>`${te.name} (${de.join(", ")})`).join(", ");Y({title:"Teams already registered",description:`The following teams are already registered for some selected tournaments: ${K}`,variant:"destructive"});return}try{for(const K of D){const te=[...K.registeredTournaments||[],...W];await i({...K,registeredTournaments:te})}M([]),he([]),await c(),Y({title:"Teams added to tournaments",description:`${D.length} team(s) added to ${W.length} tournament(s).`,variant:"default"})}catch{Y({title:"Error adding teams",description:"Failed to add teams to tournaments. Please try again.",variant:"destructive"})}},ht=async(E,K)=>{var te;try{const de=((te=E.registeredTournaments)==null?void 0:te.filter(be=>be!==K))||[];await i({...E,registeredTournaments:de}),await c(),Y({title:"Team removed",description:`Team "${E.name}" removed from tournament.`,variant:"default"})}catch{Y({title:"Error removing team",description:"Failed to remove team from tournament. Please try again.",variant:"destructive"})}},Wa=async()=>{if(!A.first_name||!A.last_name){Y({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}try{const{supabase:E}=await Le(async()=>{const{supabase:de}=await Promise.resolve().then(()=>qe);return{supabase:de}},void 0),{data:K,error:te}=await E.from("players").insert([{first_name:A.first_name,last_name:A.last_name,phone_number:A.phone_number||null}]).select().single();if(te)throw te;H({first_name:"",last_name:"",phone_number:""}),j(!1),await l(),Y({title:"Player added successfully",description:`${A.first_name} ${A.last_name} has been added.`,variant:"default"})}catch{Y({title:"Error adding player",description:"Failed to add player. Please try again.",variant:"destructive"})}},ds=async()=>{if(!P||!P.first_name||!P.last_name){Y({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}try{const{supabase:E}=await Le(async()=>{const{supabase:te}=await Promise.resolve().then(()=>qe);return{supabase:te}},void 0),{error:K}=await E.from("players").update({first_name:P.first_name,last_name:P.last_name,phone_number:P.phone_number||null}).eq("id",P.id);if(K)throw K;F(null),I(!1),await l(),Y({title:"Player updated successfully",description:`${P.first_name} ${P.last_name} has been updated.`,variant:"default"})}catch{Y({title:"Error updating player",description:"Failed to update player. Please try again.",variant:"destructive"})}},dr=async E=>{try{const{supabase:K}=await Le(async()=>{const{supabase:de}=await Promise.resolve().then(()=>qe);return{supabase:de}},void 0),{error:te}=await K.from("players").delete().eq("id",E);if(te)throw te;await l(),Y({title:"Player deleted successfully",description:"Player has been removed.",variant:"default"})}catch{Y({title:"Error deleting player",description:"Failed to delete player. Please try again.",variant:"destructive"})}},fC=E=>{ot("player"),ye(E),Ue(!0)},hC=E=>{ot("team"),ye(E),Ue(!0)},pC=E=>{ot("tournament"),ye(E),Ue(!0)},mC=async()=>{if(!(!dt||!Ge))try{switch(Ge){case"player":await dr(dt.id);break;case"team":await xC(dt.id);break;case"tournament":await SC(dt.id);break}}catch{}finally{Ue(!1),ot(null),ye(null)}},gC=()=>{Ue(!1),ot(null),ye(null)},vC=async()=>{if(!le.name||!le.city||!le.player1_id||!le.player2_id){Y({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}if(le.player1_id===le.player2_id){Y({title:"Invalid selection",description:"Please select two different players.",variant:"destructive"});return}try{const{supabase:E}=await Le(async()=>{const{supabase:de}=await Promise.resolve().then(()=>qe);return{supabase:de}},void 0),{data:K,error:te}=await E.from("teams").insert([{name:le.name,city:le.city,player1_id:le.player1_id,player2_id:le.player2_id,registeredTournaments:[]}]).select().single();if(te)throw te;O({name:"",city:"",player1_id:"",player2_id:""}),ne(!1),await c(),Y({title:"Team added successfully",description:`Team "${le.name}" has been created.`,variant:"default"})}catch{Y({title:"Error adding team",description:"Failed to add team. Please try again.",variant:"destructive"})}},yC=async()=>{if(!ee||!ee.name||!ee.city||!ee.player1_id||!ee.player2_id){Y({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}if(ee.player1_id===ee.player2_id){Y({title:"Invalid selection",description:"Please select two different players.",variant:"destructive"});return}try{await i(ee),ie(null),se(!1),await c(),Y({title:"Team updated successfully",description:`Team "${ee.name}" has been updated.`,variant:"default"})}catch{Y({title:"Error updating team",description:"Failed to update team. Please try again.",variant:"destructive"})}},xC=async E=>{try{const{supabase:K}=await Le(async()=>{const{supabase:de}=await Promise.resolve().then(()=>qe);return{supabase:de}},void 0),{error:te}=await K.from("teams").delete().eq("id",E);if(te)throw te;await c(),Y({title:"Team deleted successfully",description:"Team has been removed.",variant:"default"})}catch{Y({title:"Error deleting team",description:"Failed to delete team. Please try again.",variant:"destructive"})}},bC=async()=>{if(!Rt.name){Y({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}try{await u(Rt.name,Rt.status),Lt({name:"",status:"pending"}),Fe(!1),Y({title:"Tournament added successfully",description:`Tournament "${Rt.name}" has been created.`,variant:"default"})}catch{Y({title:"Error adding tournament",description:"Failed to add tournament. Please try again.",variant:"destructive"})}},wC=async()=>{if(!et||!et.name){Y({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}try{await d(et),Ct(null),ut(!1),Y({title:"Tournament updated successfully",description:`Tournament "${et.name}" has been updated.`,variant:"default"})}catch{Y({title:"Error updating tournament",description:"Failed to update tournament. Please try again.",variant:"destructive"})}},SC=async E=>{try{await f(E),Y({title:"Tournament deleted successfully",description:"Tournament has been removed.",variant:"default"})}catch{Y({title:"Error deleting tournament",description:"Failed to delete tournament. Please try again.",variant:"destructive"})}},_C=E=>{var de;const K=(de=E.target.files)==null?void 0:de[0];if(!K)return;const te=new FileReader;te.onload=be=>{var Yt;const lt=((Yt=be.target)==null?void 0:Yt.result).split(`
`).filter(fr=>fr.trim()),Vn=lt[0].split(",").map(fr=>fr.trim().toLowerCase().replace(/\s+/g,"_")),la=[];for(let fr=1;fr<lt.length;fr++){const li=lt[fr].split(",").map(Va=>Va.trim());if(li.length>=Vn.length){const Va={};Vn.forEach((jC,CC)=>{Va[jC]=li[CC]||""}),la.push(Va)}}L(la),z(la.slice(0,5))},te.readAsText(K)},Vg=async()=>{const E={success:[],alreadyExists:[],failed:[]},K=new Map;for(const te of k){const de=`${te.player1_first_name}-${te.player1_last_name}-${te.player1_phone}`;K.set(de,{first_name:te.player1_first_name,last_name:te.player1_last_name,phone_number:te.player1_phone});const be=`${te.player2_first_name}-${te.player2_last_name}-${te.player2_phone}`;K.set(be,{first_name:te.player2_first_name,last_name:te.player2_last_name,phone_number:te.player2_phone})}for(const[te,de]of K)try{const be=s.find(Bt=>Bt.phone_number===de.phone_number||Bt.first_name.toLowerCase()===de.first_name.toLowerCase()&&Bt.last_name.toLowerCase()===de.last_name.toLowerCase());if(be){E.alreadyExists.push(be);continue}await h(de),E.success.push({id:"",first_name:de.first_name,last_name:de.last_name,phone_number:de.phone_number,city:"",created_at:new Date().toISOString()})}catch(be){const Bt=be instanceof Error?be.message:String(be);E.failed.push({player:de,reason:Bt})}if(E.success.length>0)try{await l();const te=await Le(()=>Promise.resolve().then(()=>qe),void 0).then(async({supabase:de})=>{const{data:be}=await de.from("players").select("*");return be||[]});E.success=E.success.map(de=>te.find(Bt=>Bt.phone_number===de.phone_number&&Bt.first_name===de.first_name&&Bt.last_name===de.last_name)||de)}catch(te){console.error("Failed to refresh players:",te)}return E},Hg=async()=>{const E={success:[],alreadyExists:[],failed:[]};await l();for(const K of k)try{const te=s.find(Yt=>Yt.phone_number===K.player1_phone||Yt.first_name.toLowerCase()===K.player1_first_name.toLowerCase()&&Yt.last_name.toLowerCase()===K.player1_last_name.toLowerCase()),de=s.find(Yt=>Yt.phone_number===K.player2_phone||Yt.first_name.toLowerCase()===K.player2_first_name.toLowerCase()&&Yt.last_name.toLowerCase()===K.player2_last_name.toLowerCase());if(!te||!de){E.failed.push({team:{name:K.team_name,player1:K.player1_first_name,player2:K.player2_first_name},reason:`Players not found: ${te?"":K.player1_first_name} ${de?"":K.player2_first_name}`});continue}const be=r.find(Yt=>Yt.name.toLowerCase()===K.team_name.toLowerCase());if(be){E.alreadyExists.push(be);continue}const{supabase:Bt}=await Le(async()=>{const{supabase:Yt}=await Promise.resolve().then(()=>qe);return{supabase:Yt}},void 0),{data:lt,error:Vn}=await Bt.from("teams").insert([{name:K.team_name,player1_id:te.id,player2_id:de.id}]).select().single();if(Vn){E.failed.push({team:{name:K.team_name,player1:K.player1_first_name,player2:K.player2_first_name},reason:Vn.message});continue}const la={id:String(lt.id),name:lt.name,player1_id:lt.player1_id,player2_id:lt.player2_id,created_at:lt.created_at,player1:te,player2:de,player1FirstName:te.first_name,player1LastName:te.last_name,player2FirstName:de.first_name,player2LastName:de.last_name,phoneNumber:te.phone_number||de.phone_number,player1_phone:te.phone_number,player2_phone:de.phone_number,city:te.city||de.city,registeredTournaments:[]};E.success.push(la)}catch(te){const de=te instanceof Error?te.message:String(te);E.failed.push({team:{name:K.team_name,player1:K.player1_first_name,player2:K.player2_first_name},reason:de})}return E},Gg=async()=>{var K;const E={success:[],failed:[]};await c(),await y();for(const te of k)try{const de=r.find(lt=>lt.name.toLowerCase()===te.team_name.toLowerCase());if(!de){E.failed.push({team:te.team_name,tournament:te.tournament_name,reason:"Team not found"});continue}let be=n.find(lt=>lt.name.toLowerCase()===te.tournament_name.toLowerCase());if(!be)try{await u(te.tournament_name,"pending"),await y(),be=n.find(lt=>lt.name.toLowerCase()===te.tournament_name.toLowerCase())}catch(lt){E.failed.push({team:te.team_name,tournament:te.tournament_name,reason:`Failed to create tournament: ${lt instanceof Error?lt.message:String(lt)}`});continue}if(!be){E.failed.push({team:te.team_name,tournament:te.tournament_name,reason:"Tournament not found after creation"});continue}if((K=de.registeredTournaments)==null?void 0:K.includes(be.id)){de&&be&&E.success.push({team:de,tournament:be});continue}try{await p(de.id,be.id);try{const{supabase:lt}=await Le(async()=>{const{supabase:fr}=await Promise.resolve().then(()=>qe);return{supabase:fr}},void 0),{data:Vn}=await lt.from("player_tournament").select("*").eq("tournament_id",be.id).in("player_id",[de.player1_id,de.player2_id]),la=(Vn==null?void 0:Vn.map(fr=>fr.player_id))||[],Yt=[de.player1_id,de.player2_id].filter(fr=>!la.includes(fr));if(Yt.length>0){const fr=Yt.map(Va=>({player_id:Va,tournament_id:be.id,created_at:new Date().toISOString()})),{error:li}=await lt.from("player_tournament").insert(fr);li&&console.warn(`Failed to assign players to tournament: ${li.message}`)}}catch(lt){console.warn(`Error assigning players to tournament: ${lt}`)}de&&be&&E.success.push({team:de,tournament:be})}catch(lt){E.failed.push({team:te.team_name,tournament:te.tournament_name,reason:`Failed to add team to tournament: ${lt instanceof Error?lt.message:String(lt)}`})}}catch(de){const be=de instanceof Error?de.message:String(de);E.failed.push({team:te.team_name,tournament:te.tournament_name,reason:be})}return E},NC=async()=>{if(k.length===0){Y({title:"Error",description:"No CSV data to process",variant:"destructive"});return}B(!0),me("players");try{const E=await Vg();De(E),je(!0),Ce([...E.success,...E.alreadyExists])}catch(E){const K=E instanceof Error?E.message:String(E);Y({title:"Player Upload Failed",description:`Unexpected error during player processing: ${K}`,variant:"destructive"}),B(!1),me(null)}},qg=async E=>{if(je(!1),E==="reload"){B(!0);try{if(X==="players"){const K=await Vg();De(K),je(!0),Ce([...K.success,...K.alreadyExists])}else if(X==="teams"){const K=await Hg();De(K),je(!0),rt([...K.success,...K.alreadyExists])}else if(X==="tournaments"){const K=await Gg();De(K),je(!0)}}catch(K){const te=K instanceof Error?K.message:String(K);Y({title:"Step Reload Failed",description:`Unexpected error during reload: ${te}`,variant:"destructive"}),B(!1),me(null)}return}if(X==="players"){me("teams"),B(!0);try{const K=await Hg();De(K),je(!0),rt([...K.success,...K.alreadyExists])}catch(K){const te=K instanceof Error?K.message:String(K);Y({title:"Team Upload Failed",description:`Unexpected error during team processing: ${te}`,variant:"destructive"}),B(!1),me(null)}}else if(X==="teams"){me("tournaments"),B(!0);try{const K=await Gg();De(K),je(!0)}catch(K){const te=K instanceof Error?K.message:String(K);Y({title:"Tournament Assignment Failed",description:`Unexpected error during tournament assignment: ${te}`,variant:"destructive"}),B(!1),me(null)}}else X==="tournaments"&&(Y({title:"CSV Upload Complete",description:"All steps completed successfully"}),L([]),z([]),Dr(!1),B(!1),me(null),De(null),Ce([]),rt([]))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Je,{children:[o.jsx(tt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(at,{className:"flex items-center gap-2",children:[o.jsx("img",{src:"/BidWhist/cc.png",alt:"Command Center",className:"h-5 w-5",style:{filter:"brightness(0)"}}),"Command Center"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(vr,{open:za,onOpenChange:Dr,children:[o.jsx(vo,{asChild:!0,children:o.jsxs(ae,{size:"sm",style:{backgroundColor:"black",color:"white"},children:[o.jsx(d2,{className:"h-4 w-4 mr-2"}),"Import CSV"]})}),o.jsxs(or,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[o.jsx(ir,{children:o.jsx(lr,{children:"Import Teams from CSV"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"csv-file",children:"Upload CSV File"}),o.jsx(Ee,{id:"csv-file",type:"file",accept:".csv",onChange:_C,className:"mt-1"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"CSV should have columns: player1_first_name, player1_last_name, player1_phone, player2_first_name, player2_last_name, player2_phone, team_name, team_city, team_phone, tournament_name"})]}),q.length>0&&o.jsxs("div",{children:[o.jsx(Ne,{children:"Preview (first 5 rows):"}),o.jsx("div",{className:"mt-2 border rounded-lg overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 text-left",children:"Team"}),o.jsx("th",{className:"px-3 py-2 text-left",children:"Player 1"}),o.jsx("th",{className:"px-3 py-2 text-left",children:"Player 2"}),o.jsx("th",{className:"px-3 py-2 text-left",children:"City"}),o.jsx("th",{className:"px-3 py-2 text-left",children:"Tournament"})]})}),o.jsx("tbody",{children:q.map((E,K)=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"px-3 py-2",children:E.team_name}),o.jsxs("td",{className:"px-3 py-2",children:[E.player1_first_name," ",E.player1_last_name]}),o.jsxs("td",{className:"px-3 py-2",children:[E.player2_first_name," ",E.player2_last_name]}),o.jsx("td",{className:"px-3 py-2",children:E.team_city}),o.jsx("td",{className:"px-3 py-2",children:E.tournament_name})]},K))})]})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:NC,disabled:k.length===0||$,className:"flex-1",children:$?"Processing...":`Start Multi-Step Upload (${k.length} Teams)`}),o.jsx(ae,{variant:"outline",onClick:()=>{L([]),z([]),Dr(!1)},children:"Cancel"})]})]})]})]}),o.jsx(vr,{open:oe,onOpenChange:je,children:o.jsxs(or,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[o.jsx(ir,{children:o.jsxs(lr,{children:[X==="players"&&"Player Upload Results",X==="teams"&&"Team Upload Results",X==="tournaments"&&"Tournament Assignment Results"]})}),o.jsxs("div",{className:"space-y-6",children:[ce&&o.jsxs(o.Fragment,{children:[X==="players"&&ce.success.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"text-lg font-semibold text-green-600 flex items-center gap-2",children:[o.jsx(Xr,{className:"h-5 w-5"}),"Successfully Created (",ce.success.length,")"]}),o.jsx("div",{className:"bg-green-50 p-3 rounded-md max-h-40 overflow-y-auto",children:ce.success.map((E,K)=>o.jsxs("div",{className:"text-sm text-green-800",children:[E.first_name," ",E.last_name," (",E.phone_number,")"]},K))})]}),X==="teams"&&ce.success.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"text-lg font-semibold text-green-600 flex items-center gap-2",children:[o.jsx(Xr,{className:"h-5 w-5"}),"Successfully Created (",ce.success.length,")"]}),o.jsx("div",{className:"bg-green-50 p-3 rounded-md max-h-40 overflow-y-auto",children:ce.success.map((E,K)=>o.jsxs("div",{className:"text-sm text-green-800",children:[E.name," - ",E.player1FirstName," ",E.player1LastName," & ",E.player2FirstName," ",E.player2LastName]},K))})]}),X==="tournaments"&&ce.success.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"text-lg font-semibold text-green-600 flex items-center gap-2",children:[o.jsx(Xr,{className:"h-5 w-5"}),"Successfully Assigned (",ce.success.length,")"]}),o.jsx("div",{className:"bg-green-50 p-3 rounded-md max-h-40 overflow-y-auto",children:ce.success.map((E,K)=>{var te,de;return o.jsxs("div",{className:"text-sm text-green-800",children:[((te=E.team)==null?void 0:te.name)||"Unknown Team","  ",((de=E.tournament)==null?void 0:de.name)||"Unknown Tournament"]},K)})})]}),X==="players"&&ce.alreadyExists.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"text-lg font-semibold text-blue-600 flex items-center gap-2",children:[o.jsx(Xr,{className:"h-5 w-5"}),"Already Exists (",ce.alreadyExists.length,")"]}),o.jsx("div",{className:"bg-blue-50 p-3 rounded-md max-h-40 overflow-y-auto",children:ce.alreadyExists.map((E,K)=>o.jsxs("div",{className:"text-sm text-blue-800",children:[(E==null?void 0:E.first_name)||"Unknown"," ",(E==null?void 0:E.last_name)||"Player"," (",(E==null?void 0:E.phone_number)||"No Phone",")"]},K))})]}),X==="teams"&&ce.alreadyExists.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"text-lg font-semibold text-blue-600 flex items-center gap-2",children:[o.jsx(Xr,{className:"h-5 w-5"}),"Already Exists (",ce.alreadyExists.length,")"]}),o.jsx("div",{className:"bg-blue-50 p-3 rounded-md max-h-40 overflow-y-auto",children:ce.alreadyExists.map((E,K)=>o.jsxs("div",{className:"text-sm text-blue-800",children:[(E==null?void 0:E.name)||"Unknown Team"," - ",(E==null?void 0:E.player1FirstName)||"Unknown"," ",(E==null?void 0:E.player1LastName)||"Player"," & ",(E==null?void 0:E.player2FirstName)||"Unknown"," ",(E==null?void 0:E.player2LastName)||"Player"]},K))})]}),X==="players"&&ce.failed.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"text-lg font-semibold text-red-600 flex items-center gap-2",children:[o.jsx(es,{className:"h-5 w-5"}),"Failed (",ce.failed.length,")"]}),o.jsx("div",{className:"bg-red-50 p-3 rounded-md max-h-40 overflow-y-auto",children:ce.failed.map((E,K)=>{var te,de,be;return o.jsxs("div",{className:"text-sm text-red-800",children:[o.jsxs("div",{className:"font-medium",children:[((te=E.player)==null?void 0:te.first_name)||"Unknown"," ",((de=E.player)==null?void 0:de.last_name)||"Player"," (",((be=E.player)==null?void 0:be.phone_number)||"No Phone",")"]}),o.jsxs("div",{className:"text-xs text-red-600",children:["Reason: ",E.reason]})]},K)})})]}),X==="teams"&&ce.failed.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"text-lg font-semibold text-red-600 flex items-center gap-2",children:[o.jsx(es,{className:"h-5 w-5"}),"Failed (",ce.failed.length,")"]}),o.jsx("div",{className:"bg-red-50 p-3 rounded-md max-h-40 overflow-y-auto",children:ce.failed.map((E,K)=>{var te,de,be;return o.jsxs("div",{className:"text-sm text-red-800",children:[o.jsxs("div",{className:"font-medium",children:[((te=E.team)==null?void 0:te.name)||"Unknown Team"," - ",((de=E.team)==null?void 0:de.player1)||"Unknown"," & ",((be=E.team)==null?void 0:be.player2)||"Unknown"]}),o.jsxs("div",{className:"text-xs text-red-600",children:["Reason: ",E.reason]})]},K)})})]}),X==="tournaments"&&ce.failed.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"text-lg font-semibold text-red-600 flex items-center gap-2",children:[o.jsx(es,{className:"h-5 w-5"}),"Failed (",ce.failed.length,")"]}),o.jsx("div",{className:"bg-red-50 p-3 rounded-md max-h-40 overflow-y-auto",children:ce.failed.map((E,K)=>o.jsxs("div",{className:"text-sm text-red-800",children:[o.jsxs("div",{className:"font-medium",children:[E.team,"  ",E.tournament]}),o.jsxs("div",{className:"text-xs text-red-600",children:["Reason: ",E.reason]})]},K))})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[o.jsx(ae,{onClick:()=>qg("reload"),variant:"outline",className:"flex-1",children:"Reload Step"}),o.jsx(ae,{onClick:()=>qg("continue"),className:"flex-1",children:X==="tournaments"?"Complete":"Continue to Next Step"})]})]})]})})]})]})}),o.jsx(Xe,{children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs(Je,{className:"border-2",style:{borderColor:"#a60002"},children:[o.jsxs(tt,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(at,{className:"text-lg text-center",children:"Players"}),o.jsx("div",{className:"flex gap-1",children:o.jsxs(vr,{open:_,onOpenChange:j,children:[o.jsx(vo,{asChild:!0,children:o.jsx(ae,{size:"sm",style:{backgroundColor:"black",color:"white"},children:o.jsx(Lc,{className:"h-4 w-4"})})}),o.jsxs(or,{children:[o.jsx(ir,{children:o.jsx(lr,{children:"Add New Player"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"first_name",children:"First Name *"}),o.jsx(Ee,{id:"first_name",value:A.first_name,onChange:E=>H({...A,first_name:E.target.value})})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"last_name",children:"Last Name *"}),o.jsx(Ee,{id:"last_name",value:A.last_name,onChange:E=>H({...A,last_name:E.target.value})})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"phone_number",children:"Phone Number"}),o.jsx(Ee,{id:"phone_number",value:A.phone_number,onChange:E=>H({...A,phone_number:E.target.value})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:Wa,className:"flex-1",style:{backgroundColor:"black",color:"white"},children:"Add Player"}),o.jsx(ae,{variant:"outline",onClick:()=>j(!1),children:"Cancel"})]})]})]})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Or,{value:x,onValueChange:w,children:[o.jsx(jr,{className:"border-2 border-black",children:o.jsx(Br,{placeholder:"Filter by tournament"})}),o.jsxs(Cr,{children:[o.jsx(yt,{value:"all",children:"All Players"}),o.jsx(yt,{value:"unassigned",children:"Unassigned"}),n.map(E=>o.jsx(yt,{value:E.id,children:E.name},E.id))]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Pa,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Ee,{placeholder:"Search players...",value:b,onChange:E=>g(E.target.value),className:"pl-8",style:{borderColor:"#a60002"},onFocus:E=>E.target.style.borderColor="#a60002",onBlur:E=>E.target.style.borderColor="#a60002"})]})]})]}),o.jsxs(Xe,{className:"space-y-2",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[Oe.length," player(s) found"]}),o.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:Oe.map(E=>o.jsx("div",{className:`p-2 rounded border cursor-pointer transition-colors ${S.find(K=>K.id===E.id)?"bg-blue-50 border-blue-200":"hover:bg-gray-50"}`,onClick:()=>pt(E),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium",children:[E.first_name," ",E.last_name]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:E.city})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ae,{size:"sm",variant:"ghost",onClick:K=>{K.stopPropagation(),F(E),I(!0)},className:"h-6 w-6 p-0",children:o.jsx(Mc,{className:"h-3 w-3"})}),o.jsx(ae,{size:"sm",variant:"ghost",onClick:K=>{K.stopPropagation(),t&&t(E.id)},className:"h-6 w-6 p-0 text-green-600 hover:text-green-700",children:o.jsx(Qs,{className:"h-3 w-3"})}),o.jsx(ae,{size:"sm",variant:"ghost",onClick:K=>{K.stopPropagation(),fC(E)},className:"h-6 w-6 p-0",style:{color:"#a60002"},onMouseEnter:K=>K.currentTarget.style.color="#a60002",onMouseLeave:K=>K.currentTarget.style.color="#a60002",children:o.jsx(jf,{className:"h-3 w-3"})}),S.find(K=>K.id===E.id)&&o.jsx(Xr,{className:"h-4 w-4 text-blue-600"})]})]})},E.id))}),S.length>0&&o.jsxs(ae,{onClick:$t,className:"w-full",disabled:S.length!==2,children:["Create Team (",S.length,"/2)"]})]})]}),o.jsxs(Je,{className:"border-2",style:{borderColor:"#a60002"},children:[o.jsxs(tt,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(at,{className:"text-lg text-center",children:"Teams"}),o.jsx("div",{className:"flex gap-1",children:o.jsxs(vr,{open:G,onOpenChange:ne,children:[o.jsx(vo,{asChild:!0,children:o.jsx(ae,{size:"sm",style:{backgroundColor:"black",color:"white"},children:o.jsx(Xh,{className:"h-4 w-4"})})}),o.jsxs(or,{children:[o.jsx(ir,{children:o.jsx(lr,{children:"Add New Team"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"team_name",children:"Team Name *"}),o.jsx(Ee,{id:"team_name",value:le.name,onChange:E=>O({...le,name:E.target.value})})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"team_city",children:"City *"}),o.jsx(Ee,{id:"team_city",value:le.city,onChange:E=>O({...le,city:E.target.value})})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"player1",children:"Player 1 *"}),o.jsxs(Or,{value:le.player1_id,onValueChange:E=>O({...le,player1_id:E}),children:[o.jsx(jr,{children:o.jsx(Br,{placeholder:"Select player 1"})}),o.jsx(Cr,{children:s.map(E=>o.jsxs(yt,{value:E.id,children:[E.first_name," ",E.last_name]},E.id))})]})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"player2",children:"Player 2 *"}),o.jsxs(Or,{value:le.player2_id,onValueChange:E=>O({...le,player2_id:E}),children:[o.jsx(jr,{children:o.jsx(Br,{placeholder:"Select player 2"})}),o.jsx(Cr,{children:s.map(E=>o.jsxs(yt,{value:E.id,children:[E.first_name," ",E.last_name]},E.id))})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:vC,className:"flex-1",style:{backgroundColor:"black",color:"white"},children:"Add Team"}),o.jsx(ae,{variant:"outline",onClick:()=>ne(!1),children:"Cancel"})]})]})]})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Or,{value:T,onValueChange:R,children:[o.jsx(jr,{className:"border-2 border-black",children:o.jsx(Br,{placeholder:"Filter by tournament"})}),o.jsxs(Cr,{children:[o.jsx(yt,{value:"all",children:"All Teams"}),o.jsx(yt,{value:"unassigned",children:"Unassigned"}),n.map(E=>o.jsx(yt,{value:E.id,children:E.name},E.id))]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Pa,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Ee,{placeholder:"Search teams...",value:U,onChange:E=>Q(E.target.value),className:"pl-8",style:{borderColor:"#a60002"},onFocus:E=>E.target.style.borderColor="#a60002",onBlur:E=>E.target.style.borderColor="#a60002"})]})]})]}),o.jsxs(Xe,{className:"space-y-2",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[ge.length," team(s) found"]}),o.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:ge.map(E=>{var te,de;let K=null;if(T&&T!=="all"&&T!=="unassigned"){const be=((te=E.player1TournamentPayments)==null?void 0:te[T])||!1,Bt=((de=E.player2TournamentPayments)==null?void 0:de[T])||!1;be&&Bt?K="paid":be||Bt?K="partial":K="unpaid"}return o.jsx("div",{className:`p-2 rounded border cursor-pointer transition-colors ${D.find(be=>be.id===E.id)?"bg-blue-50 border-blue-200":K==="paid"?"bg-green-50 border-green-200":K==="partial"?"bg-yellow-50 border-yellow-200":K==="unpaid"?"bg-red-50 border-red-200":"hover:bg-gray-50"}`,onClick:()=>{D.find(be=>be.id===E.id)?M(D.filter(be=>be.id!==E.id)):M([...D,E])},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:E.name}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[Ke(E.player1_id)," & ",Ke(E.player2_id)]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:E.city}),E.registeredTournaments&&E.registeredTournaments.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:E.registeredTournaments.map(be=>{const Bt=n.find(lt=>lt.id===be);return o.jsxs(ke,{variant:"secondary",className:"text-xs",children:[(Bt==null?void 0:Bt.name)||be,o.jsx("button",{onClick:lt=>{lt.stopPropagation(),ht(E,be)},className:"ml-1 hover:text-red-600",children:o.jsx(es,{className:"h-3 w-3"})})]},be)})})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ae,{size:"sm",variant:"ghost",onClick:be=>{be.stopPropagation(),ie(E),se(!0)},className:"h-6 w-6 p-0",children:o.jsx(Mc,{className:"h-3 w-3"})}),o.jsx(ae,{size:"sm",variant:"ghost",onClick:be=>{be.stopPropagation(),e&&e(E.id)},className:"h-6 w-6 p-0 text-green-600 hover:text-green-700",children:o.jsx(Qs,{className:"h-3 w-3"})}),o.jsx(ae,{size:"sm",variant:"ghost",onClick:be=>{be.stopPropagation(),hC(E)},className:"h-6 w-6 p-0",style:{color:"#a60002"},onMouseEnter:be=>be.currentTarget.style.color="#a60002",onMouseLeave:be=>be.currentTarget.style.color="#a60002",children:o.jsx(jf,{className:"h-3 w-3"})}),D.find(be=>be.id===E.id)&&o.jsx(Xr,{className:"h-4 w-4 text-blue-600"})]})]})},E.id)})})]})]}),o.jsxs(Je,{className:"border-2",style:{borderColor:"#a60002"},children:[o.jsxs(tt,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(at,{className:"text-lg text-center",children:"Tournaments"}),o.jsx("div",{className:"flex gap-1",children:o.jsxs(vr,{open:_e,onOpenChange:Fe,children:[o.jsx(vo,{asChild:!0,children:o.jsx(ae,{size:"sm",style:{backgroundColor:"black",color:"white"},children:o.jsx(Xh,{className:"h-4 w-4"})})}),o.jsxs(or,{children:[o.jsx(ir,{children:o.jsx(lr,{children:"Add New Tournament"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"tournament_name",children:"Tournament Name *"}),o.jsx(Ee,{id:"tournament_name",value:Rt.name,onChange:E=>Lt({...Rt,name:E.target.value})})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"tournament_status",children:"Status *"}),o.jsxs(Or,{value:Rt.status,onValueChange:E=>Lt({...Rt,status:E}),children:[o.jsx(jr,{children:o.jsx(Br,{placeholder:"Select status"})}),o.jsxs(Cr,{children:[o.jsx(yt,{value:"pending",children:"Pending"}),o.jsx(yt,{value:"active",children:"Active"}),o.jsx(yt,{value:"finished",children:"Finished"})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:bC,className:"flex-1",style:{backgroundColor:"black",color:"white"},children:"Add Tournament"}),o.jsx(ae,{variant:"outline",onClick:()=>Fe(!1),children:"Cancel"})]})]})]})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Or,{value:J,onValueChange:ve,children:[o.jsx(jr,{className:"border-2 border-black",children:o.jsx(Br,{placeholder:"Filter tournaments"})}),o.jsxs(Cr,{children:[o.jsx(yt,{value:"all",children:"All Tournaments"}),o.jsx(yt,{value:"active",children:"Active Only"}),o.jsx(yt,{value:"pending",children:"Pending Only"}),o.jsx(yt,{value:"finished",children:"Finished Only"}),o.jsx(yt,{value:"divider",disabled:!0,children:""}),r.map(E=>o.jsxs(yt,{value:E.id,children:[E.name," - Tournaments"]},E.id))]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Pa,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Ee,{placeholder:"Search tournaments...",value:Se,onChange:E=>fe(E.target.value),className:"pl-8",style:{borderColor:"#a60002"},onFocus:E=>E.target.style.borderColor="#a60002",onBlur:E=>E.target.style.borderColor="#a60002"})]})]})]}),o.jsxs(Xe,{className:"space-y-3",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[it.length," tournament(s) found"]}),o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:it.map(E=>o.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded border hover:bg-gray-50 transition-colors",children:[o.jsx(H_,{id:E.id,checked:W.includes(E.id),onCheckedChange:K=>{he(K?[...W,E.id]:W.filter(te=>te!==E.id))},className:"border-[#a60002] data-[state=checked]:bg-[#a60002] data-[state=checked]:border-[#a60002]"}),o.jsx(Ne,{htmlFor:E.id,className:`flex-1 cursor-pointer font-medium ${E.status==="active"?"text-red-600":""}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:E.name}),o.jsx(ke,{variant:"secondary",className:"text-xs px-1.5 py-0.5",style:{backgroundColor:"black",color:"white"},children:r.filter(K=>{var te;return(te=K.registeredTournaments)==null?void 0:te.includes(E.id)}).length})]})}),o.jsx(ae,{size:"sm",variant:"ghost",onClick:K=>{K.stopPropagation(),Ct(E),ut(!0)},className:"h-6 w-6 p-0",children:o.jsx(Mc,{className:"h-3 w-3"})}),o.jsx(ae,{size:"sm",variant:"ghost",onClick:K=>{K.stopPropagation(),pC(E)},className:"h-6 w-6 p-0",style:{color:"#a60002"},onMouseEnter:K=>K.currentTarget.style.color="#a60002",onMouseLeave:K=>K.currentTarget.style.color="#a60002",children:o.jsx(jf,{className:"h-3 w-3"})})]},E.id))}),D.length>0&&W.length>0&&o.jsxs(ae,{onClick:We,className:"w-full",children:[o.jsx(ZT,{className:"h-4 w-4 mr-2"}),"Add ",D.length," Team(s) to ",W.length," Tournament(s)"]})]})]})]})})]}),o.jsx(vr,{open:C&&P!==null,onOpenChange:I,children:o.jsxs(or,{children:[o.jsx(ir,{children:o.jsx(lr,{children:"Edit Player"})}),P&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"edit_first_name",children:"First Name *"}),o.jsx(Ee,{id:"edit_first_name",value:P.first_name,onChange:E=>F({...P,first_name:E.target.value})})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"edit_last_name",children:"Last Name *"}),o.jsx(Ee,{id:"edit_last_name",value:P.last_name,onChange:E=>F({...P,last_name:E.target.value})})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"edit_phone_number",children:"Phone Number"}),o.jsx(Ee,{id:"edit_phone_number",value:P.phone_number||"",onChange:E=>F({...P,phone_number:E.target.value})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:ds,className:"flex-1",children:"Update Player"}),o.jsx(ae,{variant:"outline",onClick:()=>I(!1),children:"Cancel"})]})]})]})}),o.jsx(vr,{open:V&&ee!==null,onOpenChange:se,children:o.jsxs(or,{children:[o.jsx(ir,{children:o.jsx(lr,{children:"Edit Team"})}),ee&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"edit_team_name",children:"Team Name *"}),o.jsx(Ee,{id:"edit_team_name",value:ee.name,onChange:E=>ie({...ee,name:E.target.value})})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"edit_team_city",children:"City *"}),o.jsx(Ee,{id:"edit_team_city",value:ee.city,onChange:E=>ie({...ee,city:E.target.value})})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"edit_team_phone",children:"Team Phone Number (Read-only)"}),o.jsx(Ee,{id:"edit_team_phone",value:ee.phoneNumber||"",disabled:!0,placeholder:"Phone number derived from players"})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"edit_player1_phone",children:"Player 1 Phone Number (Read-only)"}),o.jsx(Ee,{id:"edit_player1_phone",value:ee.player1_phone||"",disabled:!0,placeholder:"Phone number derived from player 1"})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"edit_player2_phone",children:"Player 2 Phone Number (Read-only)"}),o.jsx(Ee,{id:"edit_player2_phone",value:ee.player2_phone||"",disabled:!0,placeholder:"Phone number derived from player 2"})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"edit_player1",children:"Player 1 *"}),o.jsxs(Or,{value:ee.player1_id,onValueChange:E=>ie({...ee,player1_id:E}),children:[o.jsx(jr,{children:o.jsx(Br,{placeholder:"Select player 1"})}),o.jsx(Cr,{children:s.map(E=>o.jsxs(yt,{value:E.id,children:[E.first_name," ",E.last_name]},E.id))})]})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"edit_player2",children:"Player 2 *"}),o.jsxs(Or,{value:ee.player2_id,onValueChange:E=>ie({...ee,player2_id:E}),children:[o.jsx(jr,{children:o.jsx(Br,{placeholder:"Select player 2"})}),o.jsx(Cr,{children:s.map(E=>o.jsxs(yt,{value:E.id,children:[E.first_name," ",E.last_name]},E.id))})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:yC,className:"flex-1",children:"Update Team"}),o.jsx(ae,{variant:"outline",onClick:()=>se(!1),children:"Cancel"})]})]})]})}),o.jsx(vr,{open:Ae&&et!==null,onOpenChange:ut,children:o.jsxs(or,{children:[o.jsx(ir,{children:o.jsx(lr,{children:"Edit Tournament"})}),et&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"edit_tournament_name",children:"Tournament Name *"}),o.jsx(Ee,{id:"edit_tournament_name",value:et.name,onChange:E=>Ct({...et,name:E.target.value})})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"edit_tournament_status",children:"Status *"}),o.jsxs(Or,{value:et.status,onValueChange:E=>Ct({...et,status:E}),children:[o.jsx(jr,{children:o.jsx(Br,{placeholder:"Select status"})}),o.jsxs(Cr,{children:[o.jsx(yt,{value:"pending",children:"Pending"}),o.jsx(yt,{value:"active",children:"Active"}),o.jsx(yt,{value:"finished",children:"Finished"})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:wC,className:"flex-1",children:"Update Tournament"}),o.jsx(ae,{variant:"outline",onClick:()=>ut(!1),children:"Cancel"})]})]})]})}),o.jsx(vr,{open:Me,onOpenChange:Ue,children:o.jsxs(or,{children:[o.jsx(ir,{children:o.jsx(lr,{children:"Confirm Delete"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-lg",children:["Are you sure you want to delete this ",Ge,"?"]}),dt&&o.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-md",children:[Ge==="player"&&o.jsxs("div",{className:"font-medium",children:[dt.first_name," ",dt.last_name]}),Ge==="team"&&o.jsx("div",{className:"font-medium",children:dt.name}),Ge==="tournament"&&o.jsx("div",{className:"font-medium",children:dt.name})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:mC,variant:"destructive",className:"flex-1",children:"Delete"}),o.jsx(ae,{onClick:gC,variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})})]})},OM=()=>{const{tournaments:e,getActiveTournament:t,createTeamFromPlayers:r}=Dt(),[n,s]=m.useState({first_name:"",last_name:"",city:"",phone_number:"",selectedTournaments:[],bostonPotTournaments:[]}),[a,i]=m.useState(!1),[l,c]=m.useState([]),[u,d]=m.useState(!1),[f,h]=m.useState(!1),[p,y]=m.useState([]),[v,x]=m.useState(null),[w,b]=m.useState(""),[g,S]=m.useState([]),[N,_]=m.useState([]),[j,C]=m.useState([]),[I,P]=m.useState(""),[F,A]=m.useState([]),H=t();m.useEffect(()=>{if(!H)return;(async()=>{try{i(!0);const{supabase:W}=await Le(async()=>{const{supabase:Fe}=await Promise.resolve().then(()=>qe);return{supabase:Fe}},void 0),{data:he,error:J}=await W.from("player_tournament").select("player_id").eq("tournament_id",H.id);if(J){console.error("Error fetching tournament player IDs:",J);return}if(!he||he.length===0){c([]);return}const ve=he.map(Fe=>Fe.player_id),{data:Se,error:fe}=await W.from("players").select("*").in("id",ve);if(fe){console.error("Error fetching players:",fe);return}const _e=(Se||[]).sort((Fe,Ae)=>Fe.first_name.localeCompare(Ae.first_name));c(_e)}catch(W){console.error("Error loading registered players:",W)}finally{i(!1)}})()},[H]),m.useEffect(()=>{if(!H)return;(async()=>{try{const{supabase:W}=await Le(async()=>{const{supabase:_e}=await Promise.resolve().then(()=>qe);return{supabase:_e}},void 0),{data:he,error:J}=await W.from("team_registrations").select("team_id").eq("tournament_id",H.id);if(J){console.error("Error fetching team registrations:",J);return}if(!he||he.length===0){A([]);return}const ve=he.map(_e=>_e.team_id),{data:Se,error:fe}=await W.from("teams").select(`
            *,
            player1:players!player1_id(*),
            player2:players!player2_id(*)
          `).in("id",ve);if(fe){console.error("Error fetching teams:",fe);return}A(Se||[])}catch(W){console.error("Error loading committed teams:",W)}})()},[H]),m.useEffect(()=>{(async()=>{try{const{supabase:W}=await Le(async()=>{const{supabase:ve}=await Promise.resolve().then(()=>qe);return{supabase:ve}},void 0),{data:he,error:J}=await W.from("players").select("*").order("first_name");if(J){console.error("Error fetching all players:",J);return}y(he||[])}catch(W){console.error("Error loading all players:",W)}})()},[]);const T=(O,W)=>{s(he=>({...he,[O]:W}))},R=O=>{s(W=>{const he=W.selectedTournaments.includes(O)?W.selectedTournaments.filter(ve=>ve!==O):[...W.selectedTournaments,O],J=W.selectedTournaments.includes(O)?W.bostonPotTournaments.filter(ve=>ve!==O):[...W.bostonPotTournaments,O];return{...W,selectedTournaments:he,bostonPotTournaments:J}})},U=O=>{s(W=>({...W,bostonPotTournaments:W.bostonPotTournaments.includes(O)?W.bostonPotTournaments.filter(he=>he!==O):[...W.bostonPotTournaments,O]}))},Q=()=>n.selectedTournaments.reduce((O,W)=>{const he=e.find(J=>J.id===W);return O+((he==null?void 0:he.cost)||0)},0),D=p.filter(O=>{if(!w)return!0;const W=w.toLowerCase();return O.first_name.toLowerCase().includes(W)||O.last_name.toLowerCase().includes(W)||O.city.toLowerCase().includes(W)||O.phone_number.toLowerCase().includes(W)}),M=async(O,W)=>{try{d(!0);const{supabase:he}=await Le(async()=>{const{supabase:_e}=await Promise.resolve().then(()=>qe);return{supabase:_e}},void 0),J=W.map(_e=>he.from("player_tournament").insert([{player_id:O.id,tournament_id:_e}])),Se=(await Promise.all(J)).filter(_e=>_e.error);if(Se.length>0){console.error("Error registering player for tournaments:",Se),alert("Failed to register player for some tournaments. Please try again.");return}if(H&&W.includes(H.id)){const _e=[...l,O].sort((Fe,Ae)=>Fe.first_name.localeCompare(Ae.first_name));c(_e)}s({first_name:"",last_name:"",city:"",phone_number:"",selectedTournaments:[],bostonPotTournaments:[]}),x(null),h(!1),b(""),S([]);const fe=e.filter(_e=>W.includes(_e.id)).map(_e=>_e.name).join(", ");alert(`Player ${O.first_name} ${O.last_name} added successfully to: ${fe}`)}catch(he){console.error("Error adding existing player to tournaments:",he),alert("Failed to add player to tournaments. Please try again.")}finally{d(!1)}},G=async O=>{try{const{supabase:W}=await Le(async()=>{const{supabase:Se}=await Promise.resolve().then(()=>qe);return{supabase:Se}},void 0),{data:he,error:J}=await W.from("player_tournament").select("tournament_id").eq("player_id",O);if(J){console.error("Error fetching player tournament registrations:",J);return}const ve=(he==null?void 0:he.map(Se=>Se.tournament_id))||[];S(ve)}catch(W){console.error("Error loading player existing tournaments:",W)}},V=l.filter(O=>{const W=F.some(J=>J.player1_id===O.id||J.player2_id===O.id),he=j.some(J=>J.player1.id===O.id||J.player2.id===O.id);return!W&&!he}).filter(O=>{if(!I)return!0;const W=I.toLowerCase();return O.first_name.toLowerCase().includes(W)||O.last_name.toLowerCase().includes(W)||O.city.toLowerCase().includes(W)||O.phone_number.toLowerCase().includes(W)}),se=O=>{N.find(W=>W.id===O.id)?_(W=>W.filter(he=>he.id!==O.id)):N.length<2&&_(W=>[...W,O])},ee=async()=>{if(!(!H||N.length!==2))try{d(!0);const O=await r(N[0],N[1],H.id);if(O){const W={id:O,name:`${N[0].first_name}/${N[1].first_name}`,player1:N[0],player2:N[1],created_at:new Date().toISOString()};C(J=>[W,...J]),_([]),(async()=>{try{const{supabase:J}=await Le(async()=>{const{supabase:fe}=await Promise.resolve().then(()=>qe);return{supabase:fe}},void 0),{data:ve,error:Se}=await J.from("team_registrations").select("team_id").eq("tournament_id",H.id);if(Se)return;if(ve&&ve.length>0){const fe=ve.map(Ae=>Ae.team_id),{data:_e,error:Fe}=await J.from("teams").select(`
                  *,
                  player1:players!player1_id(*),
                  player2:players!player2_id(*)
                `).in("id",fe);Fe||A(_e||[])}}catch(J){console.error("Error refreshing committed teams:",J)}})()}}catch(O){console.error("Error creating team:",O),alert("Failed to create team. Please try again.")}finally{d(!1)}},ie=async O=>{if(!(!H||!confirm("Are you sure you want to undo this team? This will remove them from the tournament but keep the team record.")))try{const{supabase:W}=await Le(async()=>{const{supabase:J}=await Promise.resolve().then(()=>qe);return{supabase:J}},void 0),{error:he}=await W.from("team_registrations").delete().eq("team_id",O.id).eq("tournament_id",H.id);if(he){console.error("Error removing team from tournament:",he),alert("Failed to undo team. Please try again.");return}A(J=>J.filter(ve=>ve.id!==O.id)),alert("Team undone successfully! Players are now available for new teams.")}catch(W){console.error("Error undoing team:",W),alert("Failed to undo team. Please try again.")}},le=async O=>{if(O.preventDefault(),!!H){if(!n.first_name.trim()||!n.last_name.trim()||!n.phone_number.trim()){alert("Please fill in all required fields");return}if(n.selectedTournaments.length===0){alert("Please select at least one tournament");return}try{d(!0);const{supabase:W}=await Le(async()=>{const{supabase:Ae}=await Promise.resolve().then(()=>qe);return{supabase:Ae}},void 0),{data:he,error:J}=await W.from("players").insert([{first_name:n.first_name.trim(),last_name:n.last_name.trim(),phone_number:n.phone_number.trim()}]).select().single();if(J){console.error("Error creating player:",J),alert("Failed to create player. Please try again.");return}const ve=n.selectedTournaments.map(Ae=>{const ut=n.bostonPotTournaments.includes(Ae);return W.from("player_tournament").insert([{player_id:he.id,tournament_id:Ae,paid:!1,b_paid:!1,entered_boston_pot:ut}])}),fe=(await Promise.all(ve)).filter(Ae=>Ae.error);if(fe.length>0){console.error("Error registering player for tournaments:",fe),alert("Player created but failed to register for some tournaments. Please try again.");return}s({first_name:"",last_name:"",phone_number:"",selectedTournaments:[],bostonPotTournaments:[]});const _e=[...l,he].sort((Ae,ut)=>Ae.first_name.localeCompare(ut.first_name));c(_e);const Fe=e.filter(Ae=>n.selectedTournaments.includes(Ae.id)).map(Ae=>Ae.name).join(", ");alert(`Player ${he.first_name} ${he.last_name} registered successfully for: ${Fe}`)}catch(W){console.error("Error registering player:",W),alert("Failed to register player. Please try again.")}finally{d(!1)}}};return H?o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Player Registration & Team Management"}),o.jsxs("p",{className:"text-muted-foreground",children:["Active Tournament: ",o.jsx("strong",{children:H.name})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs(Je,{children:[o.jsx(tt,{children:o.jsxs(at,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Lc,{className:"h-5 w-5"}),"Register New Player"]}),o.jsx(ae,{type:"button",variant:"outline",size:"sm",onClick:()=>h(!0),children:"Add Existing Player"})]})}),o.jsx(Xe,{children:o.jsxs("form",{onSubmit:le,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"first_name",children:"First Name *"}),o.jsx(Ee,{id:"first_name",value:n.first_name,onChange:O=>T("first_name",O.target.value),placeholder:"John",required:!0})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"last_name",children:"Last Name *"}),o.jsx(Ee,{id:"last_name",value:n.last_name,onChange:O=>T("last_name",O.target.value),placeholder:"Doe",required:!0})]})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"phone_number",children:"Phone Number *"}),o.jsx(Ee,{id:"phone_number",value:n.phone_number,onChange:O=>T("phone_number",O.target.value),placeholder:"(555) 123-4567",required:!0})]}),o.jsxs("div",{children:[o.jsx(Ne,{children:"Select Tournaments *"}),o.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded-md p-3",children:e.map(O=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:`tournament-${O.id}`,checked:n.selectedTournaments.includes(O.id),onChange:()=>R(O.id),className:"rounded"}),o.jsx("label",{htmlFor:`tournament-${O.id}`,className:"flex-1 cursor-pointer",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-medium text-sm",children:O.name}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["$",O.cost]})]})})]},O.id))}),n.selectedTournaments.length>0&&o.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded-md",children:o.jsxs("p",{className:"text-sm font-medium",children:["Total Cost: ",o.jsxs("span",{className:"text-blue-600",children:["$",Q()]})]})})]}),n.selectedTournaments.length>0&&o.jsxs("div",{children:[o.jsx(Ne,{children:"Boston Pot Selection (95% of players opt in)"}),o.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded-md p-3",children:e.filter(O=>n.selectedTournaments.includes(O.id)).map(O=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:`boston-${O.id}`,checked:n.bostonPotTournaments.includes(O.id),onChange:()=>U(O.id),className:"rounded",defaultChecked:!0}),o.jsx("label",{htmlFor:`boston-${O.id}`,className:"flex-1 cursor-pointer",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"font-medium text-sm",children:O.name}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:["$",O.bostonPotCost||0]})]})})]},O.id))}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Checked = Opt into Boston Pot (default for 95% of players)"})]}),o.jsx(ae,{type:"submit",className:"w-full",disabled:u,children:u?o.jsxs(o.Fragment,{children:[o.jsx(Nf,{className:"h-4 w-4 mr-2 animate-spin"}),"Registering..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Lc,{className:"h-4 w-4 mr-2"}),"Register Player"]})})]})})]}),o.jsxs(Je,{children:[o.jsxs(tt,{children:[o.jsxs(at,{className:"flex items-center gap-2",children:[o.jsx(lS,{className:"h-5 w-5"}),"Available Players (",V.length,")"]}),o.jsxs("div",{className:"relative",children:[o.jsx(Pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(Ee,{placeholder:"Search players...",value:I,onChange:O=>P(O.target.value),className:"pl-10"})]})]}),o.jsxs(Xe,{children:[a?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Loading players..."}):V.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No available players. Register players first."}):o.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:V.map(O=>{const W=N.find(he=>he.id===O.id);return o.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${W?"bg-blue-50 border-blue-300":"hover:bg-gray-50"}`,onClick:()=>se(O),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:`font-medium ${W?"text-blue-700":""}`,children:[O.first_name," ",O.last_name]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[O.city,"  ",O.phone_number]})]}),W&&o.jsx(Xr,{className:"h-4 w-4 text-blue-600"})]})},O.id)})}),N.length>0&&o.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsxs("p",{className:"text-sm font-medium mb-2",children:["Selected Players (",N.length,"/2):"]}),o.jsx("div",{className:"space-y-1",children:N.map(O=>o.jsxs("div",{className:"text-sm",children:[" ",O.first_name," ",O.last_name]},O.id))}),N.length===2&&o.jsx(ae,{onClick:ee,disabled:u,className:"w-full mt-3",children:u?o.jsxs(o.Fragment,{children:[o.jsx(Nf,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Team..."]}):o.jsxs(o.Fragment,{children:[o.jsx(fy,{className:"h-4 w-4 mr-2"}),"Create Team"]})})]})]})]}),o.jsxs(Je,{children:[o.jsx(tt,{children:o.jsxs(at,{className:"flex items-center gap-2",children:[o.jsx(fy,{className:"h-5 w-5"}),"Committed Teams (",F.length,")"]})}),o.jsx(Xe,{children:F.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No teams committed yet. Select players to create teams."}):o.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:F.map(O=>{var W,he,J,ve;return o.jsxs("div",{className:"p-3 border rounded-lg bg-green-50 border-green-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:"font-medium text-green-800",children:O.name}),o.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>ie(O),className:"text-red-600 hover:text-red-700",children:[o.jsx(u2,{className:"h-3 w-3 mr-1"}),"Undo"]})]}),o.jsxs("div",{className:"text-sm text-green-700",children:[o.jsxs("div",{children:[" ",(W=O.player1)==null?void 0:W.first_name," ",(he=O.player1)==null?void 0:he.last_name]}),o.jsxs("div",{children:[" ",(J=O.player2)==null?void 0:J.first_name," ",(ve=O.player2)==null?void 0:ve.last_name]})]})]},O.id)})})})]})]}),f&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Add Existing Player to Tournaments"}),o.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>{h(!1),x(null),b(""),S([])},children:o.jsx(es,{className:"h-4 w-4"})})]}),v?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsxs("div",{className:"font-medium",children:[v.first_name," ",v.last_name]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[v.city,"  ",v.phone_number]})]}),o.jsxs("div",{children:[o.jsx(Ne,{children:"Select Tournaments to Add Player To"}),o.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-md p-3 mt-2",children:e.map(O=>{const W=g.includes(O.id);return o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:`existing-tournament-${O.id}`,checked:n.selectedTournaments.includes(O.id),onChange:()=>R(O.id),disabled:W,className:"rounded"}),o.jsxs("label",{htmlFor:`existing-tournament-${O.id}`,className:`flex-1 cursor-pointer ${W?"opacity-50":""}`,children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"font-medium",children:[O.name,W&&o.jsx(ke,{variant:"secondary",className:"ml-2 text-xs",children:"Already Registered"})]}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["$",O.cost]})]}),O.description&&o.jsx("p",{className:"text-xs text-muted-foreground",children:O.description})]})]},O.id)})}),n.selectedTournaments.length>0&&o.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded-md",children:[o.jsxs("p",{className:"text-sm font-medium",children:["Total Cost: ",o.jsxs("span",{className:"text-blue-600",children:["$",Q()]})]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",n.selectedTournaments.length," tournament(s)"]})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(ae,{onClick:()=>M(v,n.selectedTournaments),disabled:u||n.selectedTournaments.length===0,className:"flex-1",children:u?o.jsxs(o.Fragment,{children:[o.jsx(Nf,{className:"h-4 w-4 mr-2 animate-spin"}),"Adding..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Lc,{className:"h-4 w-4 mr-2"}),"Add to Tournaments"]})}),o.jsx(ae,{variant:"outline",onClick:()=>{x(null),S([])},disabled:u,children:"Back to Search"})]})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ne,{children:"Search Players"}),o.jsx(Ee,{placeholder:"Search by name, city, or phone...",value:w,onChange:O=>b(O.target.value)})]}),o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:D.map(O=>o.jsxs("div",{className:"p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>{x(O),G(O.id),s(W=>({...W,selectedTournaments:[]}))},children:[o.jsxs("div",{className:"font-medium",children:[O.first_name," ",O.last_name]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[O.city,"  ",O.phone_number]})]},O.id))})]})]})})]}):o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(Je,{className:"w-96",children:o.jsx(Xe,{className:"pt-6",children:o.jsx("p",{className:"text-center text-muted-foreground",children:"Please select an active tournament to register players."})})})})},hN=({team:e,isOpen:t,onClose:r,onSave:n})=>{console.log("TeamEditor mounted. Props:",{team:e,isOpen:t}),console.log("TeamEditor team prop:",e);const[s,a]=m.useState(!1),{cities:i,tournaments:l,deleteTeam:c}=Dt(),[u,d]=m.useState(e),[f,h]=m.useState({player1_first_name:e.player1_first_name||"",player1_last_name:e.player1_last_name||"",player2_first_name:e.player2_first_name||"",player2_last_name:e.player2_last_name||"",phone_number:e.phone_number||"",city:e.city||"",registeredTournaments:e.registeredTournaments||e.registered_tournaments||[],bostonPotOptOut:e.bostonPotOptOut||e.boston_pot_opt_out||{}});typeof window<"u"&&console.log("TeamEditor formData state:",f);const p=o.jsxs("div",{style:{fontSize:"10px",color:"purple",wordBreak:"break-all"},children:["[team prop] ",JSON.stringify(e)]});Z.useEffect(()=>{h({player1_first_name:e.player1_first_name||"",player1_last_name:e.player1_last_name||"",player2_first_name:e.player2_first_name||"",player2_last_name:e.player2_last_name||"",phone_number:e.phone_number||"",city:e.city||"",registeredTournaments:e.registeredTournaments||e.registered_tournaments||[],bostonPotOptOut:e.bostonPotOptOut||e.boston_pot_opt_out||{}})},[e]);const y=()=>{window.confirm("Are you sure you want to delete this team? This action cannot be undone.")&&(a(!0),e&&e.id&&typeof c=="function"&&c(e.id),typeof r=="function"&&setTimeout(()=>{r()},200))},v=S=>{h(N=>({...N,registeredTournaments:N.registeredTournaments.includes(S)?N.registeredTournaments.filter(_=>_!==S):[...N.registeredTournaments,S],bostonPotOptOut:N.registeredTournaments.includes(S)?Object.fromEntries(Object.entries(N.bostonPotOptOut).filter(([_])=>_!==S)):N.bostonPotOptOut}))},x=S=>{h(N=>({...N,bostonPotOptOut:{...N.bostonPotOptOut,[S]:!N.bostonPotOptOut[S]}}))},w=S=>{const N=S.replace(/\D/g,"");return N.length===10?`(${N.slice(0,3)}) ${N.slice(3,6)}-${N.slice(6)}`:S},b=S=>{const N=w(S.target.value);h(_=>({..._,phone_Number:N}))},g=()=>{const S=f.registeredTournaments.filter(_=>!f.bostonPotOptOut[_]),N={...e,player1FirstName:f.player1_first_name,player1LastName:f.player1_last_name,player2FirstName:f.player2_first_name,player2LastName:f.player2_last_name,phoneNumber:f.phone_number,city:f.city,name:`${f.player1_first_name} ${f.player1_last_name}/${f.player2_first_name} ${f.player2_last_name}`,registeredTournaments:f.registeredTournaments,bostonPotOptOut:f.bostonPotOptOut,bostonPotTournaments:S};n(N),r()};return o.jsx(vr,{open:t,onOpenChange:r,children:o.jsxs(or,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsx(ir,{children:o.jsx(lr,{children:"Edit Team"})}),o.jsxs("div",{style:{color:"red",fontWeight:"bold"},children:["[DEBUG] TeamEditor rendered. Team: ",e&&e.id?e.id:"no id"," | ",e&&e.name?e.name:"no name"]}),o.jsxs("div",{style:{color:"blue",fontWeight:"bold"},children:["[DEBUG] cities: ",Array.isArray(i)?i.length:"undefined"," | tournaments: ",Array.isArray(l)?l.length:"undefined"]}),p,o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{style:{color:"green",fontWeight:"bold"},children:["[DEBUG] Form section rendering. formData: ",JSON.stringify(f)]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx(Ne,{children:"Player 1 First Name"}),o.jsx(Ee,{value:f.player1_first_name,onChange:S=>h(N=>({...N,player1_first_name:S.target.value}))})]}),o.jsxs("div",{children:[o.jsx(Ne,{children:"Player 1 Last Name"}),o.jsx(Ee,{value:f.player1_last_name,onChange:S=>h(N=>({...N,player1_last_name:S.target.value}))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx(Ne,{children:"Player 2 First Name"}),o.jsx(Ee,{value:f.player2_first_name,onChange:S=>h(N=>({...N,player2_first_name:S.target.value}))})]}),o.jsxs("div",{children:[o.jsx(Ne,{children:"Player 2 Last Name"}),o.jsx(Ee,{value:f.player2_last_name,onChange:S=>h(N=>({...N,player2_last_name:S.target.value}))})]})]}),o.jsxs("div",{children:[o.jsx(Ne,{children:"Phone Number"}),o.jsx(Ee,{value:f.phone_number,onChange:b})]}),o.jsxs("div",{children:[o.jsx(Ne,{children:"City"}),o.jsxs(Or,{value:f.city,onValueChange:S=>h(N=>({...N,city:S})),children:[o.jsx(jr,{children:o.jsx(Br,{placeholder:"Select a city"})}),o.jsx(Cr,{children:(Array.isArray(i)?i:[]).map(S=>o.jsx(yt,{value:S,children:S},S))})]})]}),o.jsxs("div",{children:[o.jsx(Ne,{children:"Tournaments"}),o.jsx("div",{className:"flex flex-col gap-2",children:(Array.isArray(l)?l:[]).map(S=>{const N=f.registeredTournaments.includes(S.id);return o.jsxs("div",{className:"flex flex-col border rounded p-2",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:N,onChange:()=>v(S.id)}),o.jsx("span",{children:S.name})]}),N&&o.jsxs("label",{className:"flex items-center gap-2 ml-6 mt-1",children:[o.jsx("input",{type:"checkbox",checked:!!f.bostonPotOptOut[S.id],onChange:()=>x(S.id)}),o.jsx("span",{children:"No Boston Pot"})]})]},S.id)})})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ae,{variant:"outline",onClick:r,children:"Cancel"}),o.jsx(ae,{variant:"destructive",onClick:y,disabled:s,children:"Delete Team"}),o.jsx(ae,{onClick:g,disabled:s,children:"Save Changes"})]})]})]})})};var Cd="Collapsible",[BM,U6]=zn(Cd),[MM,dg]=BM(Cd),pN=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:i,...l}=e,[c,u]=Ys({prop:n,defaultProp:s??!1,onChange:i,caller:Cd});return o.jsx(MM,{scope:r,disabled:a,contentId:rs(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:o.jsx(Be.div,{"data-state":hg(c),"data-disabled":a?"":void 0,...l,ref:t})})});pN.displayName=Cd;var mN="CollapsibleTrigger",gN=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=dg(mN,r);return o.jsx(Be.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":hg(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Te(e.onClick,s.onOpenToggle)})});gN.displayName=mN;var fg="CollapsibleContent",vN=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=dg(fg,e.__scopeCollapsible);return o.jsx(us,{present:r||s.open,children:({present:a})=>o.jsx(LM,{...n,ref:t,present:a})})});vN.displayName=fg;var LM=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,i=dg(fg,r),[l,c]=m.useState(n),u=m.useRef(null),d=gt(t,u),f=m.useRef(0),h=f.current,p=m.useRef(0),y=p.current,v=i.open||l,x=m.useRef(v),w=m.useRef(void 0);return m.useEffect(()=>{const b=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(b)},[]),Gt(()=>{const b=u.current;if(b){w.current=w.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const g=b.getBoundingClientRect();f.current=g.height,p.current=g.width,x.current||(b.style.transitionDuration=w.current.transitionDuration,b.style.animationName=w.current.animationName),c(n)}},[i.open,n]),o.jsx(Be.div,{"data-state":hg(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!v,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:v&&s})});function hg(e){return e?"open":"closed"}var $M=pN;const yN=$M,xN=gN,bN=vN,FM=()=>{const{teams:e,tournaments:t,updateTeam:r,getActiveTournament:n}=Dt(),[s,a]=m.useState(null),[i,l]=m.useState(""),[c,u]=m.useState(new Set),d=n&&n();Z.useEffect(()=>{t.length>0&&c.size===0&&u(new Set(t.map(x=>x.id)))},[t]),console.log("Available tournaments:",t.map(x=>`${x.id}: ${x.name}`)),console.log("Total teams:",e.length),console.log("Teams with registeredTournaments:",e.filter(x=>x.registeredTournaments&&x.registeredTournaments.length>0).length);const f=x=>{const w=e.filter(b=>{var g;return(g=b.registeredTournaments)==null?void 0:g.includes(x)});return console.log(`Tournament ${x} teams:`,w.length,w.map(b=>`${b.teamNumber}: ${b.name}`)),w},h=(x,w)=>{var S,N;const b=((S=x.player1TournamentPayments)==null?void 0:S[w])||!1,g=((N=x.player2TournamentPayments)==null?void 0:N[w])||!1;return b&&g?"fully-paid":b||g?"partially-paid":"unpaid"},p=x=>{switch(x){case"fully-paid":return o.jsx(ke,{className:"bg-green-500",children:"Fully Paid"});case"partially-paid":return o.jsx(ke,{variant:"secondary",className:"bg-yellow-500 text-white",children:"Partial"});default:return o.jsx(ke,{variant:"secondary",children:"Unpaid"})}},y=x=>{if(!i)return x;const w=i.toLowerCase(),b=S=>S?String(S).toLowerCase():"",g=x.filter(S=>b(S.name).includes(w)||b(S.city).includes(w)||b(S.player1FirstName).includes(w)||b(S.player1LastName).includes(w)||b(S.player2FirstName).includes(w)||b(S.player2LastName).includes(w));return console.log(`Filtered teams for search "${i}":`,g.length,"out of",x.length),g},v=x=>{const w=new Set(c);w.has(x)?w.delete(x):w.add(x),u(w)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Je,{className:"shadow-lg",children:[o.jsxs(tt,{children:[o.jsxs(at,{className:"flex items-center gap-2",children:[o.jsx(mu,{className:"w-5 h-5"}),"Teams by Tournament"]}),o.jsxs("div",{className:"relative",children:[o.jsx(Pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(Ee,{placeholder:"Search by team name, city, or player name...",value:i,onChange:x=>l(x.target.value),className:"pl-10"})]})]}),o.jsx(Xe,{children:o.jsx("div",{className:"space-y-4",children:[...t].sort((x,w)=>{if(d){if(x.id===d.id)return-1;if(w.id===d.id)return 1}return x.name.localeCompare(w.name)}).map(x=>{const w=f(x.id),b=y(w);let g=c.has(x.id);return i.trim()&&(g=b.length===0),console.log(`Tournament ${x.name} (${x.id}): ${w.length} total teams, ${b.length} after filtering`),o.jsx(yN,{open:!g,children:o.jsxs("div",{className:"border rounded-lg",children:[o.jsx(xN,{asChild:!0,children:o.jsxs(ae,{variant:"ghost",className:"w-full p-4 flex items-center justify-between hover:bg-gray-50",onClick:()=>v(x.id),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[g?o.jsx(oS,{className:"w-4 h-4"}):o.jsx(rd,{className:"w-4 h-4"}),o.jsx("h3",{className:"text-lg font-semibold",children:x.name})]}),o.jsxs(ke,{variant:"outline",className:"flex items-center gap-1",children:[o.jsx(lS,{className:"w-3 h-3"}),b.length," teams"]})]})}),o.jsx(bN,{children:o.jsx("div",{className:"p-4 pt-0",children:b.length===0?o.jsx("p",{className:"text-gray-500 text-center py-2",children:"No teams found"}):o.jsx("div",{className:"space-y-2",children:b.map(S=>{var j,C,I;const N=h(S,x.id),_=(j=S.bostonPotTournaments)==null?void 0:j.includes(x.id);return o.jsxs("div",{className:"p-3 bg-gray-50 rounded space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium",children:["Team ",S.teamNumber,": ",S.name]}),o.jsxs("div",{className:"text-sm",children:[o.jsxs("span",{className:(C=S.player1TournamentPayments)!=null&&C[x.id]?"text-green-600 font-semibold":"text-red-600 font-semibold",children:[S.player1FirstName," ",S.player1LastName]})," "," & "," ",o.jsxs("span",{className:(I=S.player2TournamentPayments)!=null&&I[x.id]?"text-green-600 font-semibold":"text-red-600 font-semibold",children:[S.player2FirstName," ",S.player2LastName]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ae,{size:"sm",variant:"outline",onClick:()=>a(S),children:o.jsx(Mc,{className:"w-3 h-3"})}),o.jsx("div",{className:"text-right",children:p(N)})]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[o.jsx(iS,{className:"w-3 h-3"}),o.jsx("span",{children:S.phoneNumber})]}),o.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[o.jsx(Om,{className:"w-3 h-3"}),o.jsx("span",{children:S.city})]})]}),_&&o.jsx(ke,{variant:"outline",className:"text-xs",children:"Boston Pot"})]})]},S.id)})})})})]})},x.id)})})})]}),s&&o.jsx(hN,{team:s,isOpen:!!s,onClose:()=>a(null),onSave:r})]})},UM=()=>{var N;const{teams:e,tournaments:t,updatePlayerPayment:r,getTeamPaymentStatus:n,calculateTeamTotalOwed:s,getActiveTournament:a,refreshTeams:i}=Dt(),[l,c]=m.useState(""),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,y]=m.useState(!1);a();const v=f||u;m.useEffect(()=>{u&&!f&&x(u.id)},[u]);const x=async _=>{var j,C,I,P,F,A,H,T;try{const{supabase:R}=await Le(async()=>{const{supabase:ee}=await Promise.resolve().then(()=>qe);return{supabase:ee}},void 0),{data:U,error:Q}=await R.from("teams").select(`
          *,
          player1:players!player1_id(*),
          player2:players!player2_id(*)
        `).eq("id",_).single();if(Q){console.error("Error fetching team data:",Q);return}const{data:D,error:M}=await R.from("team_registrations").select("tournament_id").eq("team_id",_);if(M){console.error("Error fetching team registrations:",M);return}const{data:G,error:ne}=await R.from("player_tournament").select("*").or(`player_id.eq.${U.player1_id},player_id.eq.${U.player2_id}`);if(ne){console.error("Error fetching player payments:",ne);return}const V=(D==null?void 0:D.map(ee=>ee.tournament_id))||[],se={...U,id:String(U.id),player1FirstName:((j=U.player1)==null?void 0:j.first_name)||"",player1LastName:((C=U.player1)==null?void 0:C.last_name)||"",player2FirstName:((I=U.player2)==null?void 0:I.first_name)||"",player2LastName:((P=U.player2)==null?void 0:P.last_name)||"",phoneNumber:((F=U.player1)==null?void 0:F.phone_number)||((A=U.player2)==null?void 0:A.phone_number)||"",city:((H=U.player1)==null?void 0:H.city)||((T=U.player2)==null?void 0:T.city)||"",registeredTournaments:V,player1TournamentPayments:{},player2TournamentPayments:{},player1BostonPotPayments:{},player2BostonPotPayments:{}};G==null||G.forEach(ee=>{ee.player_id===U.player1_id?(se.player1TournamentPayments[ee.tournament_id]=ee.paid,se.player1BostonPotPayments[ee.tournament_id]=ee.b_paid):ee.player_id===U.player2_id&&(se.player2TournamentPayments[ee.tournament_id]=ee.paid,se.player2BostonPotPayments[ee.tournament_id]=ee.b_paid)}),h(se)}catch(R){console.error("Error refreshing team data:",R)}},w=async(_,j,C)=>{if(v)try{y(!0);const{supabase:I}=await Le(async()=>{const{supabase:F}=await Promise.resolve().then(()=>qe);return{supabase:F}},void 0),{error:P}=await I.from("player_tournament").update({paid:C,b_paid:C}).eq("player_id",_).eq("tournament_id",j);if(P)throw console.error("Error updating player payment:",P),P;if(f){const F={...f};_===F.player1_id?(F.player1TournamentPayments={...F.player1TournamentPayments,[j]:C},F.player1BostonPotPayments={...F.player1BostonPotPayments,[j]:C}):_===F.player2_id&&(F.player2TournamentPayments={...F.player2TournamentPayments,[j]:C},F.player2BostonPotPayments={...F.player2BostonPotPayments,[j]:C}),h(F)}await i(),Y({title:`Payment ${C?"marked as paid":"marked as unpaid"} successfully`})}catch(I){console.error("Error updating player payment:",I),alert("Failed to update payment. Please try again.")}finally{y(!1)}},b=e.filter(_=>{var C,I,P,F,A;if(!l)return!0;const j=l.toLowerCase();return _.name.toLowerCase().includes(j)||((C=_.city)==null?void 0:C.toLowerCase().includes(j))||((I=_.player1FirstName)==null?void 0:I.toLowerCase().includes(j))||((P=_.player1LastName)==null?void 0:P.toLowerCase().includes(j))||((F=_.player2FirstName)==null?void 0:F.toLowerCase().includes(j))||((A=_.player2LastName)==null?void 0:A.toLowerCase().includes(j))}),g=_=>_.tournamentPaid&&_.bostonPotPaid?o.jsx(ke,{className:"bg-green-500",children:"Fully Paid"}):_.tournamentPaid?o.jsx(ke,{variant:"secondary",className:"bg-blue-500 text-white",children:"Tournament Paid"}):o.jsx(ke,{variant:"secondary",children:"Unpaid"}),S=(_,j)=>{var R,U,Q,D;const C=((R=_.player1TournamentPayments)==null?void 0:R[j])||!1,I=((U=_.player2TournamentPayments)==null?void 0:U[j])||!1,P=((Q=_.player1BostonPotPayments)==null?void 0:Q[j])||!1,F=((D=_.player2BostonPotPayments)==null?void 0:D[j])||!1;return{tournamentPaid:C&&I,bostonPotPaid:P&&F,bostonPotMismatch:P!==F}};if(v){const _=v;return o.jsx("div",{className:"space-y-6",children:o.jsxs(Je,{className:"shadow-lg",children:[o.jsxs(tt,{children:[o.jsxs(at,{className:"flex items-center gap-2",children:[o.jsx(Qs,{className:"w-5 h-5"}),"Payment Details for ",_.name]}),o.jsx(ae,{size:"sm",variant:"outline",onClick:()=>x(_.id),disabled:p,className:"ml-auto",children:"Refresh Data"})]}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Team Details:"}),o.jsx("div",{className:"font-semibold",children:_.name}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Phone: ",_.phoneNumber," | City: ",_.city]}),o.jsxs("div",{className:"text-sm font-medium mt-2",children:["Total Amount Due: $",s(_)]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-sm font-medium",children:"Tournament Payments:"}),(N=_.registeredTournaments)==null?void 0:N.map(j=>{var P,F,A,H,T,R,U,Q;const C=t.find(D=>D.id===j),I=S(_,j);return o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:(C==null?void 0:C.name)||j}),g(I)]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Tournament Cost: $",(C==null?void 0:C.cost)||0," per player",(C==null?void 0:C.bostonPotCost)&&o.jsxs("span",{children:[" | Boston Pot: $",C.bostonPotCost," per player"]})]}),I.bostonPotMismatch&&o.jsxs("div",{className:"mb-2 p-2 bg-orange-50 border border-orange-200 rounded-md",children:[o.jsxs("div",{className:"flex items-center gap-2 text-orange-700",children:[o.jsx(ep,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Boston Pot Mismatch"})]}),o.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"One player opted into Boston Pot, the other didn't. Team is not in Boston Pot."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-medium",children:[_.player1FirstName," ",_.player1LastName]}),o.jsxs("div",{className:"text-xs text-gray-600",children:["Tournament: ",(P=_.player1TournamentPayments)!=null&&P[j]?"Paid":"Unpaid"," | Boston Pot: ",(F=_.player1BostonPotPayments)!=null&&F[j]?"Paid":"Unpaid"]})]}),o.jsx("div",{className:"flex gap-1",children:o.jsx(ae,{size:"sm",variant:(A=_.player1TournamentPayments)!=null&&A[j]?"default":"outline",onClick:()=>{var D;return w(_.player1_id,j,!((D=_.player1TournamentPayments)!=null&&D[j]))},disabled:p,children:(H=_.player1TournamentPayments)!=null&&H[j]?"Paid":"Mark Paid"})})]}),o.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-medium",children:[_.player2FirstName," ",_.player2LastName]}),o.jsxs("div",{className:"text-xs text-gray-600",children:["Tournament: ",(T=_.player2TournamentPayments)!=null&&T[j]?"Paid":"Unpaid"," | Boston Pot: ",(R=_.player2BostonPotPayments)!=null&&R[j]?"Paid":"Unpaid"]})]}),o.jsx("div",{className:"flex gap-1",children:o.jsx(ae,{size:"sm",variant:(U=_.player2TournamentPayments)!=null&&U[j]?"default":"outline",onClick:()=>{var D;return w(_.player2_id,j,!((D=_.player2TournamentPayments)!=null&&D[j]))},disabled:p,children:(Q=_.player2TournamentPayments)!=null&&Q[j]?"Paid":"Mark Paid"})})]})]})]},j)})]}),o.jsx("div",{className:"flex gap-3 pt-4",children:o.jsx(ae,{onClick:()=>{d(null),h(null)},variant:"outline",className:"flex-1",children:"Back to Teams"})})]})]})})}return o.jsx("div",{className:"space-y-6",children:o.jsxs(Je,{className:"shadow-lg",children:[o.jsxs(tt,{children:[o.jsxs(at,{className:"flex items-center gap-2",children:[o.jsx(Qs,{className:"w-5 h-5"}),"Team Payments"]}),o.jsxs("div",{className:"relative",children:[o.jsx(Pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(Ee,{placeholder:"Search teams...",value:l,onChange:_=>c(_.target.value),className:"pl-10"})]})]}),o.jsx(Xe,{children:o.jsx("div",{className:"space-y-3",children:b.map(_=>{var I,P;const j=s(_),C=(I=_.registeredTournaments)==null?void 0:I.some(F=>S(_,F).bostonPotMismatch);return o.jsx("div",{className:`p-4 border rounded-lg hover:bg-gray-50 cursor-pointer ${C?"border-orange-300 bg-orange-50":""}`,onClick:()=>d(_),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:_.name}),o.jsxs("div",{className:"text-sm text-gray-600",children:[_.city,"  ",_.phoneNumber]}),o.jsxs("div",{className:"text-sm text-gray-500",children:[_.player1FirstName," ",_.player1LastName," & ",_.player2FirstName," ",_.player2LastName]}),C&&o.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o.jsx(ep,{className:"h-3 w-3 text-orange-600"}),o.jsx("span",{className:"text-xs text-orange-600",children:"Boston Pot Mismatch"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-sm font-medium",children:["$",j]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[((P=_.registeredTournaments)==null?void 0:P.length)||0," tournaments"]})]})]})},_.id)})})})]})})},zM=({teamId:e,onBackToCommandCenter:t})=>{var S;const{teams:r,tournaments:n,updatePlayerPayment:s,getTeamPaymentStatus:a,calculateTeamTotalOwed:i,refreshTeams:l}=Dt(),[c,u]=m.useState(null),[d,f]=m.useState(null),[h,p]=m.useState(!1),y=d||c;m.useEffect(()=>{if(e){const N=r.find(_=>_.id===e);N&&u(N)}},[e,r]),m.useEffect(()=>{c&&!d&&v(c.id)},[c]);const v=async N=>{var _,j,C,I,P,F,A,H;try{const{supabase:T}=await Le(async()=>{const{supabase:se}=await Promise.resolve().then(()=>qe);return{supabase:se}},void 0),{data:R,error:U}=await T.from("teams").select(`
          *,
          player1:players!player1_id(*),
          player2:players!player2_id(*)
        `).eq("id",N).single();if(U){console.error("Error fetching team data:",U);return}const{data:Q,error:D}=await T.from("team_registrations").select("tournament_id").eq("team_id",N);if(D){console.error("Error fetching team registrations:",D);return}const{data:M,error:G}=await T.from("player_tournament").select("*").or(`player_id.eq.${R.player1_id},player_id.eq.${R.player2_id}`);if(G){console.error("Error fetching player payments:",G);return}const ne=(Q==null?void 0:Q.map(se=>se.tournament_id))||[],V={...R,id:String(R.id),player1FirstName:((_=R.player1)==null?void 0:_.first_name)||"",player1LastName:((j=R.player1)==null?void 0:j.last_name)||"",player2FirstName:((C=R.player2)==null?void 0:C.first_name)||"",player2LastName:((I=R.player2)==null?void 0:I.last_name)||"",phoneNumber:((P=R.player1)==null?void 0:P.phone_number)||((F=R.player2)==null?void 0:F.phone_number)||"",city:((A=R.player1)==null?void 0:A.city)||((H=R.player2)==null?void 0:H.city)||"",registeredTournaments:ne,player1TournamentPayments:{},player2TournamentPayments:{},player1BostonPotPayments:{},player2BostonPotPayments:{}};M==null||M.forEach(se=>{se.player_id===R.player1_id?(V.player1TournamentPayments[se.tournament_id]=se.paid,V.player1BostonPotPayments[se.tournament_id]=se.b_paid):se.player_id===R.player2_id&&(V.player2TournamentPayments[se.tournament_id]=se.paid,V.player2BostonPotPayments[se.tournament_id]=se.b_paid)}),f(V)}catch(T){console.error("Error refreshing team payment data:",T)}},x=async(N,_,j)=>{if(y)try{p(!0);const{supabase:C}=await Le(async()=>{const{supabase:P}=await Promise.resolve().then(()=>qe);return{supabase:P}},void 0),{error:I}=await C.from("player_tournament").update({paid:j,b_paid:j}).eq("player_id",N).eq("tournament_id",_);if(I)throw console.error("Error updating player payment:",I),I;if(d){const P={...d};N===P.player1_id?(P.player1TournamentPayments={...P.player1TournamentPayments,[_]:j},P.player1BostonPotPayments={...P.player1BostonPotPayments,[_]:j}):N===P.player2_id&&(P.player2TournamentPayments={...P.player2TournamentPayments,[_]:j},P.player2BostonPotPayments={...P.player2BostonPotPayments,[_]:j}),f(P)}await l(),Y({title:`Payment ${j?"marked as paid":"marked as unpaid"} successfully`})}catch(C){console.error("Error updating player payment:",C),alert("Failed to update payment. Please try again.")}finally{p(!1)}},w=N=>N.tournamentPaid&&N.bostonPotPaid?o.jsx(ke,{className:"bg-green-500",children:"Fully Paid"}):N.tournamentPaid?o.jsx(ke,{className:"bg-yellow-500",children:"Entry Paid"}):o.jsx(ke,{variant:"secondary",children:"Unpaid"}),b=(N,_)=>{var T,R,U,Q;const j=(T=N.player1TournamentPayments)==null?void 0:T[_],C=(R=N.player2TournamentPayments)==null?void 0:R[_],I=(U=N.player1BostonPotPayments)==null?void 0:U[_],P=(Q=N.player2BostonPotPayments)==null?void 0:Q[_];return{tournamentPaid:j&&C,bostonPotPaid:I&&P,bostonPotMismatch:I!==P}};if(!y)return o.jsx("div",{className:"space-y-6",children:o.jsxs(Je,{className:"shadow-lg",children:[o.jsx(tt,{children:o.jsxs(at,{className:"flex items-center gap-2",children:[o.jsx(Qs,{className:"w-5 h-5"}),"Team Payment Details"]})}),o.jsx(Xe,{children:o.jsx("p",{className:"text-gray-500 text-center py-8",children:"No team selected or team not found."})})]})});const g=y;return o.jsx("div",{className:"space-y-6",children:o.jsxs(Je,{className:"shadow-lg",children:[o.jsx(tt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(at,{className:"flex items-center gap-2",children:[o.jsx(Qs,{className:"w-5 h-5"}),"Payment Details for ",g.name]}),o.jsxs("div",{className:"flex gap-2",children:[t&&o.jsx(ae,{size:"sm",variant:"outline",onClick:t,className:"text-red-600 border-red-600 hover:bg-red-600 hover:text-white",children:" Back to Command Center"}),o.jsx(ae,{size:"sm",variant:"outline",onClick:()=>v(g.id),disabled:h,children:"Refresh Data"})]})]})}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Team Details:"}),o.jsx("div",{className:"font-semibold",children:g.name}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Phone: ",g.phoneNumber," | City: ",g.city]}),o.jsxs("div",{className:"text-sm font-medium mt-2",children:["Total Amount Due: $",i(g)]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-sm font-medium",children:"Tournament Payments:"}),(S=g.registeredTournaments)==null?void 0:S.map(N=>{var C,I,P,F,A,H,T,R;const _=n.find(U=>U.id===N),j=b(g,N);return o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:(_==null?void 0:_.name)||N}),w(j)]}),o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Tournament Cost: $",(_==null?void 0:_.cost)||0," per player",(_==null?void 0:_.bostonPotCost)&&o.jsxs("span",{children:[" | Boston Pot: $",_.bostonPotCost," per player"]})]}),j.bostonPotMismatch&&o.jsxs("div",{className:"mb-2 p-2 bg-orange-50 border border-orange-200 rounded-md",children:[o.jsxs("div",{className:"flex items-center gap-2 text-orange-700",children:[o.jsx(ep,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm font-medium",children:"Boston Pot Mismatch"})]}),o.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"One player opted into Boston Pot, the other didn't. Team is not in Boston Pot."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-medium",children:[g.player1FirstName," ",g.player1LastName]}),o.jsxs("div",{className:"text-xs text-gray-600",children:["Tournament: ",(C=g.player1TournamentPayments)!=null&&C[N]?"Paid":"Unpaid"," | Boston Pot: ",(I=g.player1BostonPotPayments)!=null&&I[N]?"Paid":"Unpaid"]})]}),o.jsx("div",{className:"flex gap-1",children:o.jsx(ae,{size:"sm",variant:(P=g.player1TournamentPayments)!=null&&P[N]?"default":"outline",onClick:()=>{var U;return x(g.player1_id,N,!((U=g.player1TournamentPayments)!=null&&U[N]))},disabled:h,children:(F=g.player1TournamentPayments)!=null&&F[N]?"Paid":"Mark Paid"})})]}),o.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-medium",children:[g.player2FirstName," ",g.player2LastName]}),o.jsxs("div",{className:"text-xs text-gray-600",children:["Tournament: ",(A=g.player2TournamentPayments)!=null&&A[N]?"Paid":"Unpaid"," | Boston Pot: ",(H=g.player2BostonPotPayments)!=null&&H[N]?"Paid":"Unpaid"]})]}),o.jsx("div",{className:"flex gap-1",children:o.jsx(ae,{size:"sm",variant:(T=g.player2TournamentPayments)!=null&&T[N]?"default":"outline",onClick:()=>{var U;return x(g.player2_id,N,!((U=g.player2TournamentPayments)!=null&&U[N]))},disabled:h,children:(R=g.player2TournamentPayments)!=null&&R[N]?"Paid":"Mark Paid"})})]})]})]},N)})]})]})]})})},WM=({playerId:e,onBackToCommandCenter:t})=>{const{teams:r,tournaments:n,updatePlayerTournamentPayment:s}=Dt(),[a,i]=m.useState(""),[l,c]=m.useState(new Set),u=r.flatMap(g=>[{id:g.player1_id,firstName:g.player1_first_name||g.player1FirstName,lastName:g.player1_last_name||g.player1LastName,teamName:g.name,phone_Number:g.phone_Number||g.phoneNumber,city:g.city,tournamentPayments:g.player1TournamentPayments||{},teamId:g.id,playerNumber:"player1"},{id:g.player2_id,firstName:g.player2_first_name||g.player2FirstName,lastName:g.player2_last_name||g.player2LastName,teamName:g.name,phone_Number:g.phone_Number||g.phoneNumber,city:g.city,tournamentPayments:g.player2TournamentPayments||{},teamId:g.id,playerNumber:"player2"}]),d=e?u.filter(g=>g.id===e):u,f=(g,S,N)=>{const _=g.playerNumber;s(g.teamId,_,S,!N)},h=g=>{c(S=>{const N=new Set(S);return N.has(g)?N.delete(g):N.add(g),N})},p=a.toLowerCase(),y=g=>g?String(g).toLowerCase():"",v=d.filter(g=>y(g.firstName).includes(p)||y(g.lastName).includes(p)||y(g.teamName).includes(p)||y(g.city).includes(p)),x=n.reduce((g,S)=>{const N=v.filter(_=>{var C;const j=r.find(I=>I.id===_.teamId);return(C=j==null?void 0:j.registeredTournaments)==null?void 0:C.includes(S.id)});return N.length>0&&(g[S.id]={tournament:S,players:N}),g},{}),w=(g,S)=>{var A;const N=n.find(H=>H.id===S);if(!N)return{status:"pending",amount:0,details:""};const _=r.find(H=>H.id===g.teamId),j=N.cost/2,C=N.bostonPotCost/2,I=(A=_==null?void 0:_.bostonPotTournaments)==null?void 0:A.includes(S),P=j+(I?C:0);return g.tournamentPayments[S]||!1?{status:"paid",amount:P,details:`Paid $${P.toFixed(2)}`}:I?{status:"pending",amount:P,details:`Owes $${j.toFixed(2)} entry + $${C.toFixed(2)} Boston pot = $${P.toFixed(2)}`}:{status:"pending",amount:P,details:`Owes $${P.toFixed(2)} entry fee`}},b=({player:g,tournamentId:S})=>{const N=n.find(C=>C.id===S),_=w(g,S),j=_.status==="paid";return r.find(C=>C.id===g.teamId),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"font-semibold text-lg",children:[g.firstName," ",g.lastName]}),o.jsx(ke,{variant:j?"default":"secondary",className:j?"bg-green-500":"bg-red-500",children:j?"Paid":"Unpaid"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(iS,{className:"w-3 h-3"}),o.jsx("span",{children:g.phone_Number})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Om,{className:"w-3 h-3"}),o.jsx("span",{children:g.city})]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(f2,{className:"w-4 h-4"}),o.jsxs("span",{children:["Team: ",g.teamName]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-medium",children:N==null?void 0:N.name}),o.jsx("div",{className:"text-sm text-gray-600",children:_.details})]}),o.jsx(ae,{size:"sm",variant:j?"secondary":"default",className:j?"bg-gray-400 hover:bg-gray-500":"bg-blue-500 hover:bg-blue-600",onClick:()=>f(g,S,j),children:j?"Reverse":"Pay Now"})]})]})};return o.jsx("div",{className:"space-y-6",children:o.jsxs(Je,{className:"shadow-lg",children:[o.jsx(tt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(at,{className:"flex items-center gap-2",children:[o.jsx(Qs,{className:"w-5 h-5"}),e?"Player Payment Details":`Individual Player Payments (${u.length} players)`]}),t&&o.jsx(ae,{size:"sm",variant:"outline",onClick:t,className:"text-red-600 border-red-600 hover:bg-red-600 hover:text-white",children:" Back to Command Center"})]})}),o.jsx(Xe,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx(Ee,{placeholder:"Search by player name, team name, or city...",value:a,onChange:g=>i(g.target.value),className:"pl-10"})]}),u.length===0?o.jsx("p",{className:"text-gray-500 text-center py-4",children:"No players registered yet."}):d.length===0?o.jsx("p",{className:"text-gray-500 text-center py-4",children:"No players match your search."}):o.jsx("div",{className:"space-y-4",children:Object.entries(x).map(([g,{tournament:S,players:N}])=>{const _=e?!0:a.trim()?N.length>0:l.has(g);return o.jsxs(yN,{open:_,children:[o.jsx(xN,{onClick:()=>h(g),className:"flex items-center justify-between w-full p-3 bg-blue-50 hover:bg-blue-100 rounded-lg border border-blue-200",children:o.jsxs("div",{className:"flex items-center gap-2",children:[l.has(g)?o.jsx(rd,{className:"w-4 h-4"}):o.jsx(oS,{className:"w-4 h-4"}),o.jsx("span",{className:"font-semibold",children:S.name}),o.jsxs(ke,{variant:"outline",children:[N.length," players"]})]})}),o.jsx(bN,{className:"mt-2 space-y-3",children:N.map(j=>o.jsx(b,{player:j,tournamentId:g},j.id))})]},g)})})]})})]})})},VM=()=>{const{games:e,teams:t,getTournamentResults:r}=Dt(),n=e.filter(i=>i.confirmed).sort((i,l)=>new Date(l.timestamp).getTime()-new Date(i.timestamp).getTime());r("1");const s={totalGames:n.length,totalPoints:n.reduce((i,l)=>i+l.scoreA+l.scoreB,0),bostons:n.filter(i=>i.boston!=="none").length,avgScore:n.length>0?(n.reduce((i,l)=>i+l.scoreA+l.scoreB,0)/n.length).toFixed(1):"0.0"},a=i=>{const l=t.find(p=>p.id===i.teamA)||{id:i.teamA},c=t.find(p=>p.id===i.teamB)||{id:i.teamB},u=i.winner==="teamA"?l:c,d=i.winner==="teamA"?c:l,f=i.winner==="teamA"?i.scoreA:i.scoreB,h=i.winner==="teamA"?i.scoreB:i.scoreA;return{winner:u,loser:d,winnerScore:f,loserScore:h,round:i.round,boston:i.boston,timestamp:i.timestamp}};return o.jsxs(Je,{children:[o.jsx(tt,{children:o.jsxs(at,{className:"flex items-center gap-2",children:[o.jsx(mu,{className:"h-5 w-5"}),"Tournament Game History"]})}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.totalGames}),o.jsx("div",{className:"text-sm text-blue-600",children:"Total Games"})]}),o.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.totalPoints}),o.jsx("div",{className:"text-sm text-green-600",children:"Total Points"})]}),o.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.bostons}),o.jsx("div",{className:"text-sm text-yellow-600",children:"Bostons"})]}),o.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.avgScore}),o.jsx("div",{className:"text-sm text-purple-600",children:"Avg Score"})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[o.jsx(c2,{className:"h-4 w-4"}),"Recent Games"]}),n.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx("p",{children:"No completed games yet"}),o.jsx("p",{className:"text-sm",children:"Games will appear here after both teams confirm scores"})]}):o.jsxs("div",{className:"space-y-2",children:[n.slice(0,10).map(i=>{const l=a(i);return o.jsxs("div",{className:"p-3 rounded-lg border bg-gradient-to-r from-gray-50 to-white hover:from-gray-100 hover:to-gray-50 transition-all duration-200",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ke,{variant:"outline",className:"text-xs",children:["Round ",l.round]}),o.jsxs("span",{className:"text-sm font-medium",children:["Team ",l.winner.teamNumber||"Unknown"," ",l.winnerScore," - Team ",l.loser.teamNumber||"Unknown"," ",l.loserScore]}),l.boston!=="none"&&o.jsx(aS,{className:"h-4 w-4 text-yellow-500"})]}),o.jsx("div",{className:"text-xs text-gray-500",children:new Date(l.timestamp).toLocaleDateString()})]}),o.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[l.winner.player1FirstName," ",l.winner.player1LastName," & ",l.winner.player2FirstName," ",l.winner.player2LastName,o.jsx("span",{className:"mx-2",children:"vs"}),l.loser.player1FirstName," ",l.loser.player1LastName," & ",l.loser.player2FirstName," ",l.loser.player2LastName]})]},i.id)}),n.length>10&&o.jsxs("div",{className:"text-center text-sm text-gray-500 pt-2",children:["Showing 10 most recent games of ",n.length," total"]})]})]})]})]})},HM=()=>{const{cities:e,addCity:t,removeCity:r}=Dt(),[n,s]=m.useState(""),a=()=>{n.trim()&&(t(n.trim()),s(""))},i=c=>{r(c)},l=c=>{c.key==="Enter"&&a()};return o.jsxs(Je,{className:"shadow-lg",children:[o.jsx(tt,{children:o.jsxs(at,{className:"flex items-center gap-2",children:[o.jsx(Om,{className:"w-5 h-5"}),"City Management"]})}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ne,{htmlFor:"newCity",children:"Add New City"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ee,{id:"newCity",placeholder:"Enter city name",value:n,onChange:c=>s(c.target.value),onKeyPress:l,className:"flex-1"}),o.jsxs(ae,{onClick:a,disabled:!n.trim(),className:"flex items-center gap-2",children:[o.jsx(Xh,{className:"w-4 h-4"}),"Add"]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(Ne,{children:["Current Cities (",e.length,")"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(c=>o.jsxs(ke,{variant:"secondary",className:"flex items-center gap-2 px-3 py-1",children:[c,o.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>i(c),className:"h-4 w-4 p-0 hover:bg-red-100",children:o.jsx(es,{className:"w-3 h-3"})})]},c))}),e.length===0&&o.jsx("p",{className:"text-gray-500 text-sm",children:"No cities added yet."})]})]})]})},wN=m.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:$e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 transition-colors resize-none",e),ref:r,...t}));wN.displayName="Textarea";const GM=()=>{const{messages:e,addMessage:t,updateMessage:r,deleteMessage:n,getActiveMessages:s}=Dt(),[a,i]=m.useState(""),[l,c]=m.useState("info"),u=[{id:"lunch",title:"Lunch Break",message:" Lunch will be served in 15 minutes! Please make your way to the dining area.",type:"info"},{id:"round",title:"Next Round",message:" Next round starts in 10 minutes! Please return to your assigned tables.",type:"warning"},{id:"break",title:"Break Time",message:" 15-minute break! Snacks and drinks available at the concession stand.",type:"info"},{id:"final",title:"Final Round",message:" Final round of the tournament! Championship on the line - give it your all!",type:"success"},{id:"awards",title:"Awards Ceremony",message:" Awards ceremony in 10 minutes! Please gather in the main hall.",type:"success"}],d=s()[0],f=async y=>{try{for(const v of e)v.active&&await r(v.id,{active:!1});await t({text:y.message,type:y.type,active:!0,createdBy:"admin"}),Y({title:"Message Posted",description:`"${y.title}" message is now scrolling on all screens`})}catch(v){console.error("Error sending predefined message:",v)}},h=async()=>{if(!a.trim()){Y({title:"Error",description:"Please enter a message",variant:"destructive"});return}try{for(const y of e)y.active&&await r(y.id,{active:!1});await t({text:a,type:l,active:!0,createdBy:"admin"}),i(""),Y({title:"Custom Message Posted",description:"Your custom message is now scrolling on all screens"})}catch(y){console.error("Error sending custom message:",y)}},p=async()=>{if(d)try{await r(d.id,{active:!1}),Y({title:"Message Removed",description:"The scrolling message has been removed from all screens"})}catch(y){console.error("Error removing message:",y)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Message Manager"}),d&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ke,{variant:"secondary",className:"bg-green-100 text-green-800",children:[o.jsx(a2,{className:"h-3 w-3 mr-1"}),"Active Message"]}),o.jsxs(ae,{variant:"destructive",size:"sm",onClick:p,children:[o.jsx(es,{className:"h-4 w-4 mr-1"}),"Remove Message"]})]})]}),d&&o.jsxs(Je,{className:"border-green-200 bg-green-50",children:[o.jsx(tt,{children:o.jsx(at,{className:"text-green-800",children:"Currently Displaying"})}),o.jsxs(Xe,{children:[o.jsx("p",{className:"text-green-700 font-medium",children:d.text}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx(ke,{variant:"outline",className:"text-xs",children:d.type}),o.jsxs("span",{className:"text-xs text-green-600",children:["Posted: ",d.createdAt.toLocaleTimeString()]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(Je,{children:[o.jsx(tt,{children:o.jsx(at,{children:"Quick Messages"})}),o.jsx(Xe,{className:"space-y-3",children:u.map(y=>o.jsxs("div",{className:"border rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h4",{className:"font-medium",children:y.title}),o.jsx(ke,{variant:"outline",className:"text-xs",children:y.type})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:y.message}),o.jsxs(ae,{onClick:()=>f(y),className:"w-full",size:"sm",children:[o.jsx(dy,{className:"h-4 w-4 mr-2"}),"Post This Message"]})]},y.id))})]}),o.jsxs(Je,{children:[o.jsx(tt,{children:o.jsx(at,{children:"Custom Message"})}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message Type"}),o.jsx("div",{className:"flex gap-2",children:["info","warning","success","error"].map(y=>o.jsx(ae,{variant:l===y?"default":"outline",size:"sm",onClick:()=>c(y),children:y.charAt(0).toUpperCase()+y.slice(1)},y))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message Text"}),o.jsx(wN,{value:a,onChange:y=>i(y.target.value),placeholder:"Enter your custom message...",rows:4,className:"resize-none"})]}),o.jsxs(ae,{onClick:h,disabled:!a.trim(),className:"w-full",children:[o.jsx(dy,{className:"h-4 w-4 mr-2"}),"Post Custom Message"]})]})]})]})]})};var qM="Separator",yx="horizontal",KM=["horizontal","vertical"],SN=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=yx,...s}=e,a=YM(n)?n:yx,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return o.jsx(Be.div,{"data-orientation":a,...l,...s,ref:t})});SN.displayName=qM;function YM(e){return KM.includes(e)}var _N=SN;const NN=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,variant:n="default",...s},a)=>o.jsx(_N,{ref:a,decorative:r,orientation:t,className:$e("shrink-0",n==="default"&&"bg-border",n==="muted"&&"bg-muted",n==="accent"&&"bg-primary/30",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));NN.displayName=_N.displayName;const QM=({schedule:e,tournamentName:t})=>{const{teams:r,games:n,scoreSubmissions:s,refreshGamesFromSupabase:a}=Dt();Z.useEffect(()=>{const c=setInterval(()=>{a()},2e3);return()=>clearInterval(c)},[a]);const i=c=>{const u=n.find(f=>f.matchId===c.id&&f.confirmed);if(u){const f=u.winner==="teamA"?r.find(y=>y.id===c.teamA):r.find(y=>y.id===c.teamB),h=u.winner==="teamA"?u.scoreA:u.scoreB,p=u.winner==="teamA"?u.scoreB:u.scoreA;return`Completed - Team ${(f==null?void 0:f.teamNumber)||"Unknown"} won ${h}-${p}`}const d=s.filter(f=>f.matchId===c.id);if(d.length===2)return d[0].scoreA===d[1].scoreA&&d[0].scoreB===d[1].scoreB?"Confirming scores":"Score conflict - needs resolution";if(d.length===1){const f=r.find(h=>h.id===d[0].submittedBy);return`Waiting for opponent score (Team ${(f==null?void 0:f.teamNumber)||"Unknown"} submitted)`}if(c.teamA==="TBD"||c.teamB==="TBD"){if(c.round===1)return"Ready to start";{const h=e.matches.filter(p=>p.round===c.round-1).filter(p=>!n.find(y=>y.matchId===p.id&&y.confirmed));return h.length>0?`Waiting for ${h.length} Round ${c.round-1} match${h.length>1?"es":""} to complete`:"Waiting for team assignment"}}return"Ready to score"},l=c=>c.includes("Completed")?"bg-green-100 border-green-300 text-green-800":c.includes("Ready to score")?"bg-blue-100 border-blue-300 text-blue-800":c.includes("Waiting for opponent score")?"bg-yellow-100 border-yellow-300 text-yellow-800":c.includes("Confirming scores")?"bg-orange-100 border-orange-300 text-orange-800":c.includes("Score conflict")?"bg-red-100 border-red-300 text-red-800":c.includes("Ready to start")?"bg-blue-100 border-blue-300 text-blue-800":"bg-gray-100 border-gray-300 text-gray-600";return o.jsxs(Je,{className:"border-2",style:{borderColor:"#a60002"},children:[o.jsx(tt,{children:o.jsx(at,{className:"text-center text-2xl font-bold mb-2 border-b-2 pb-2 shadow-sm",style:{color:"black",borderColor:"#a60002"},children:t})}),o.jsxs(Xe,{children:[o.jsxs("div",{className:"text-center text-sm text-gray-600 mb-4",children:[e.matches.length," matches  ",Math.max(...e.matches.map(c=>c.round))," rounds"]}),Array.from({length:Math.max(e.rounds,Math.max(...e.matches.map(c=>c.round)))},(c,u)=>u+1).map(c=>{const u=e.matches.filter(d=>d.round===c);return o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsxs(ke,{variant:"outline",className:"font-bold text-lg px-4 py-2",style:{backgroundColor:"black",color:"white",borderColor:"black"},children:["Round ",c]})}),o.jsx("div",{className:"space-y-3",children:u.map(d=>{var w,b;if(d.isBye){const g=d.teamA==="null"?d.teamB:d.teamA,S=r.find(N=>String(N.id)===String(g));return o.jsxs("div",{className:"p-2 md:p-3 border rounded-lg bg-yellow-50 border-yellow-300 text-yellow-800",children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-1 gap-2 md:gap-0",children:o.jsx("div",{className:"flex-1 font-medium text-xs md:text-sm",children:S?o.jsxs("span",{children:[S.teamNumber??S.id,": ",S.name," - ",o.jsx("span",{className:"text-[8px] md:text-[10px]",children:S.city})]}):"Unknown Team"})}),o.jsx("div",{className:"flex flex-wrap justify-center items-center gap-1 md:gap-2 mt-1",children:o.jsx(ke,{variant:"outline",className:"text-[10px] md:text-xs px-1.5 py-0.5 md:px-2 md:py-1 bg-yellow-100 border-yellow-300 text-yellow-800",children:"BYE"})})]},d.id)}const f=r.find(g=>g.id===d.teamA),h=r.find(g=>g.id===d.teamB),p=i(d),y=l(p),v=n.find(g=>g.matchId===d.id&&g.confirmed);let x=null;if(v){const g=v.winner==="teamA"?f:h,S=v.winner==="teamA"?v.scoreA:v.scoreB,N=v.winner==="teamA"?v.scoreB:v.scoreA;x={winner:g,winnerScore:S,loserScore:N}}return o.jsxs("div",{className:`p-2 md:p-3 border rounded-lg ${y} relative`,children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-1 gap-2 md:gap-0",children:[o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"font-medium text-xs md:text-sm",children:d.teamA==="TBD"?"TBD":f?o.jsxs("span",{children:[f.teamNumber??f.id,": ",f.name," - ",o.jsx("span",{className:"text-[8px] md:text-[10px]",children:f.city})]}):`${d.teamA}`})}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs(ke,{variant:"outline",className:"text-[10px] md:text-xs px-1.5 py-0.5 md:px-2 md:py-1 mb-1",children:["Table ",d.table]}),o.jsx("span",{className:"text-muted-foreground mx-0 md:mx-3 font-medium text-xs md:text-sm text-center",children:"vs"})]}),o.jsx("div",{className:"flex-1 md:text-right",children:o.jsx("div",{className:"font-medium text-xs md:text-sm",children:d.teamB==="TBD"?"TBD":h?o.jsxs("span",{children:[h.teamNumber??h.id,": ",h.name," - ",o.jsx("span",{className:"text-[8px] md:text-[10px]",children:h.city})]}):`${d.teamB}`})})]}),o.jsx("div",{className:"flex flex-wrap justify-center items-center gap-1 md:gap-2 mt-1",children:f&&h&&f.city===h.city&&o.jsx(ke,{variant:"destructive",className:"text-[10px] md:text-xs px-1.5 py-0.5 md:px-2 md:py-1",children:"Same City"})}),x&&o.jsx("div",{className:"absolute bottom-1 right-2",children:o.jsxs("span",{className:"text-xs italic text-red-600",children:["Team ",((w=x.winner)==null?void 0:w.teamNumber)??((b=x.winner)==null?void 0:b.id)," won ",x.winnerScore,"-",x.loserScore]})})]},d.id)})}),c<e.rounds&&o.jsx(NN,{className:"mt-4"})]},c)})]})]})};function Cp(e,t){return Cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Cp(e,t)}function jN(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Cp(e,t)}function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Re.apply(null,arguments)}function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function JM(e,t){if(fl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XM(e){var t=JM(e,"string");return fl(t)=="symbol"?t:t+""}function ZM(e,t,r){return(t=XM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xx(Object(r),!0).forEach(function(n){ZM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _r(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var wx=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Sx=function(){return Math.random().toString(36).substring(7).split("").join(".")},_x={INIT:"@@redux/INIT"+Sx(),REPLACE:"@@redux/REPLACE"+Sx()};function eL(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function CN(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(_r(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(_r(1));return r(CN)(e,t)}if(typeof e!="function")throw new Error(_r(2));var s=e,a=t,i=[],l=i,c=!1;function u(){l===i&&(l=i.slice())}function d(){if(c)throw new Error(_r(3));return a}function f(v){if(typeof v!="function")throw new Error(_r(4));if(c)throw new Error(_r(5));var x=!0;return u(),l.push(v),function(){if(x){if(c)throw new Error(_r(6));x=!1,u();var b=l.indexOf(v);l.splice(b,1),i=null}}}function h(v){if(!eL(v))throw new Error(_r(7));if(typeof v.type>"u")throw new Error(_r(8));if(c)throw new Error(_r(9));try{c=!0,a=s(a,v)}finally{c=!1}for(var x=i=l,w=0;w<x.length;w++){var b=x[w];b()}return v}function p(v){if(typeof v!="function")throw new Error(_r(10));s=v,h({type:_x.REPLACE})}function y(){var v,x=f;return v={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(_r(11));function g(){b.next&&b.next(d())}g();var S=x(g);return{unsubscribe:S}}},v[wx]=function(){return this},v}return h({type:_x.INIT}),n={dispatch:h,subscribe:f,getState:d,replaceReducer:p},n[wx]=y,n}function Nx(e,t){return function(){return t(e.apply(this,arguments))}}function jx(e,t){if(typeof e=="function")return Nx(e,t);if(typeof e!="object"||e===null)throw new Error(_r(16));var r={};for(var n in e){var s=e[n];typeof s=="function"&&(r[n]=Nx(s,t))}return r}function EN(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,s){return function(){return n(s.apply(void 0,arguments))}})}function tL(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var s=n.apply(void 0,arguments),a=function(){throw new Error(_r(15))},i={getState:s.getState,dispatch:function(){return a.apply(void 0,arguments)}},l=t.map(function(c){return c(i)});return a=EN.apply(void 0,l)(s.dispatch),bx(bx({},s),{},{dispatch:a})}}}var PN=Z.createContext(null);function rL(e){e()}var TN=rL,nL=function(t){return TN=t},sL=function(){return TN};function aL(){var e=sL(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var s=t;s;)s.callback(),s=s.next})},get:function(){for(var s=[],a=t;a;)s.push(a),a=a.next;return s},subscribe:function(s){var a=!0,i=r={callback:s,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){!a||t===null||(a=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Cx={notify:function(){},get:function(){return[]}};function kN(e,t){var r,n=Cx;function s(f){return c(),n.subscribe(f)}function a(){n.notify()}function i(){d.onStateChange&&d.onStateChange()}function l(){return!!r}function c(){r||(r=t?t.addNestedSub(i):e.subscribe(i),n=aL())}function u(){r&&(r(),r=void 0,n.clear(),n=Cx)}var d={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:i,isSubscribed:l,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return n}};return d}var RN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?m.useLayoutEffect:m.useEffect;function oL(e){var t=e.store,r=e.context,n=e.children,s=m.useMemo(function(){var l=kN(t);return{store:t,subscription:l}},[t]),a=m.useMemo(function(){return t.getState()},[t]);RN(function(){var l=s.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[s,a]);var i=r||PN;return Z.createElement(i.Provider,{value:s},n)}function Eu(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AN={exports:{}},vt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=typeof Symbol=="function"&&Symbol.for,pg=Kt?Symbol.for("react.element"):60103,mg=Kt?Symbol.for("react.portal"):60106,Ed=Kt?Symbol.for("react.fragment"):60107,Pd=Kt?Symbol.for("react.strict_mode"):60108,Td=Kt?Symbol.for("react.profiler"):60114,kd=Kt?Symbol.for("react.provider"):60109,Rd=Kt?Symbol.for("react.context"):60110,gg=Kt?Symbol.for("react.async_mode"):60111,Ad=Kt?Symbol.for("react.concurrent_mode"):60111,Id=Kt?Symbol.for("react.forward_ref"):60112,Dd=Kt?Symbol.for("react.suspense"):60113,iL=Kt?Symbol.for("react.suspense_list"):60120,Od=Kt?Symbol.for("react.memo"):60115,Bd=Kt?Symbol.for("react.lazy"):60116,lL=Kt?Symbol.for("react.block"):60121,cL=Kt?Symbol.for("react.fundamental"):60117,uL=Kt?Symbol.for("react.responder"):60118,dL=Kt?Symbol.for("react.scope"):60119;function Kr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pg:switch(e=e.type,e){case gg:case Ad:case Ed:case Td:case Pd:case Dd:return e;default:switch(e=e&&e.$$typeof,e){case Rd:case Id:case Bd:case Od:case kd:return e;default:return t}}case mg:return t}}}function IN(e){return Kr(e)===Ad}vt.AsyncMode=gg;vt.ConcurrentMode=Ad;vt.ContextConsumer=Rd;vt.ContextProvider=kd;vt.Element=pg;vt.ForwardRef=Id;vt.Fragment=Ed;vt.Lazy=Bd;vt.Memo=Od;vt.Portal=mg;vt.Profiler=Td;vt.StrictMode=Pd;vt.Suspense=Dd;vt.isAsyncMode=function(e){return IN(e)||Kr(e)===gg};vt.isConcurrentMode=IN;vt.isContextConsumer=function(e){return Kr(e)===Rd};vt.isContextProvider=function(e){return Kr(e)===kd};vt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pg};vt.isForwardRef=function(e){return Kr(e)===Id};vt.isFragment=function(e){return Kr(e)===Ed};vt.isLazy=function(e){return Kr(e)===Bd};vt.isMemo=function(e){return Kr(e)===Od};vt.isPortal=function(e){return Kr(e)===mg};vt.isProfiler=function(e){return Kr(e)===Td};vt.isStrictMode=function(e){return Kr(e)===Pd};vt.isSuspense=function(e){return Kr(e)===Dd};vt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ed||e===Ad||e===Td||e===Pd||e===Dd||e===iL||typeof e=="object"&&e!==null&&(e.$$typeof===Bd||e.$$typeof===Od||e.$$typeof===kd||e.$$typeof===Rd||e.$$typeof===Id||e.$$typeof===cL||e.$$typeof===uL||e.$$typeof===dL||e.$$typeof===lL)};vt.typeOf=Kr;AN.exports=vt;var fL=AN.exports,vg=fL,hL={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},pL={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},mL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},DN={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yg={};yg[vg.ForwardRef]=mL;yg[vg.Memo]=DN;function Ex(e){return vg.isMemo(e)?DN:yg[e.$$typeof]||hL}var gL=Object.defineProperty,vL=Object.getOwnPropertyNames,Px=Object.getOwnPropertySymbols,yL=Object.getOwnPropertyDescriptor,xL=Object.getPrototypeOf,Tx=Object.prototype;function ON(e,t,r){if(typeof t!="string"){if(Tx){var n=xL(t);n&&n!==Tx&&ON(e,n,r)}var s=vL(t);Px&&(s=s.concat(Px(t)));for(var a=Ex(e),i=Ex(t),l=0;l<s.length;++l){var c=s[l];if(!pL[c]&&!(r&&r[c])&&!(i&&i[c])&&!(a&&a[c])){var u=yL(t,c);try{gL(e,c,u)}catch{}}}}return e}var bL=ON;const kx=Dp(bL);var BN={exports:{}},xt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md=60103,Ld=60106,Rl=60107,Al=60108,Il=60114,Dl=60109,Ol=60110,Bl=60112,Ml=60113,xg=60120,Ll=60115,$l=60116,MN=60121,LN=60122,$N=60117,FN=60129,UN=60131;if(typeof Symbol=="function"&&Symbol.for){var Qt=Symbol.for;Md=Qt("react.element"),Ld=Qt("react.portal"),Rl=Qt("react.fragment"),Al=Qt("react.strict_mode"),Il=Qt("react.profiler"),Dl=Qt("react.provider"),Ol=Qt("react.context"),Bl=Qt("react.forward_ref"),Ml=Qt("react.suspense"),xg=Qt("react.suspense_list"),Ll=Qt("react.memo"),$l=Qt("react.lazy"),MN=Qt("react.block"),LN=Qt("react.server.block"),$N=Qt("react.fundamental"),FN=Qt("react.debug_trace_mode"),UN=Qt("react.legacy_hidden")}function Tn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Md:switch(e=e.type,e){case Rl:case Il:case Al:case Ml:case xg:return e;default:switch(e=e&&e.$$typeof,e){case Ol:case Bl:case $l:case Ll:case Dl:return e;default:return t}}case Ld:return t}}}var wL=Dl,SL=Md,_L=Bl,NL=Rl,jL=$l,CL=Ll,EL=Ld,PL=Il,TL=Al,kL=Ml;xt.ContextConsumer=Ol;xt.ContextProvider=wL;xt.Element=SL;xt.ForwardRef=_L;xt.Fragment=NL;xt.Lazy=jL;xt.Memo=CL;xt.Portal=EL;xt.Profiler=PL;xt.StrictMode=TL;xt.Suspense=kL;xt.isAsyncMode=function(){return!1};xt.isConcurrentMode=function(){return!1};xt.isContextConsumer=function(e){return Tn(e)===Ol};xt.isContextProvider=function(e){return Tn(e)===Dl};xt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Md};xt.isForwardRef=function(e){return Tn(e)===Bl};xt.isFragment=function(e){return Tn(e)===Rl};xt.isLazy=function(e){return Tn(e)===$l};xt.isMemo=function(e){return Tn(e)===Ll};xt.isPortal=function(e){return Tn(e)===Ld};xt.isProfiler=function(e){return Tn(e)===Il};xt.isStrictMode=function(e){return Tn(e)===Al};xt.isSuspense=function(e){return Tn(e)===Ml};xt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Rl||e===Il||e===FN||e===Al||e===Ml||e===xg||e===UN||typeof e=="object"&&e!==null&&(e.$$typeof===$l||e.$$typeof===Ll||e.$$typeof===Dl||e.$$typeof===Ol||e.$$typeof===Bl||e.$$typeof===$N||e.$$typeof===MN||e[0]===LN)};xt.typeOf=Tn;BN.exports=xt;var RL=BN.exports,AL=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],IL=["reactReduxForwardedRef"],DL=[],OL=[null,null];function BL(e,t){var r=e[1];return[t.payload,r+1]}function Rx(e,t,r){RN(function(){return e.apply(void 0,t)},r)}function ML(e,t,r,n,s,a,i){e.current=n,t.current=s,r.current=!1,a.current&&(a.current=null,i())}function LL(e,t,r,n,s,a,i,l,c,u){if(e){var d=!1,f=null,h=function(){if(!d){var v=t.getState(),x,w;try{x=n(v,s.current)}catch(b){w=b,f=b}w||(f=null),x===a.current?i.current||c():(a.current=x,l.current=x,i.current=!0,u({type:"STORE_UPDATED",payload:{error:w}}))}};r.onStateChange=h,r.trySubscribe(),h();var p=function(){if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f};return p}}var $L=function(){return[null,0]};function FL(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,s=n===void 0?function(g){return"ConnectAdvanced("+g+")"}:n,a=r.methodName,i=a===void 0?"connectAdvanced":a,l=r.renderCountProp,c=l===void 0?void 0:l,u=r.shouldHandleStateChanges,d=u===void 0?!0:u,f=r.storeKey,h=f===void 0?"store":f;r.withRef;var p=r.forwardRef,y=p===void 0?!1:p,v=r.context,x=v===void 0?PN:v,w=Eu(r,AL),b=x;return function(S){var N=S.displayName||S.name||"Component",_=s(N),j=Re({},w,{getDisplayName:s,methodName:i,renderCountProp:c,shouldHandleStateChanges:d,storeKey:h,displayName:_,wrappedComponentName:N,WrappedComponent:S}),C=w.pure;function I(T){return e(T.dispatch,j)}var P=C?m.useMemo:function(T){return T()};function F(T){var R=m.useMemo(function(){var Ct=T.reactReduxForwardedRef,Rt=Eu(T,IL);return[T.context,Ct,Rt]},[T]),U=R[0],Q=R[1],D=R[2],M=m.useMemo(function(){return U&&U.Consumer&&RL.isContextConsumer(Z.createElement(U.Consumer,null))?U:b},[U,b]),G=m.useContext(M),ne=!!T.store&&!!T.store.getState&&!!T.store.dispatch;G&&G.store;var V=ne?T.store:G.store,se=m.useMemo(function(){return I(V)},[V]),ee=m.useMemo(function(){if(!d)return OL;var Ct=kN(V,ne?null:G.subscription),Rt=Ct.notifyNestedSubs.bind(Ct);return[Ct,Rt]},[V,ne,G]),ie=ee[0],le=ee[1],O=m.useMemo(function(){return ne?G:Re({},G,{subscription:ie})},[ne,G,ie]),W=m.useReducer(BL,DL,$L),he=W[0],J=he[0],ve=W[1];if(J&&J.error)throw J.error;var Se=m.useRef(),fe=m.useRef(D),_e=m.useRef(),Fe=m.useRef(!1),Ae=P(function(){return _e.current&&D===fe.current?_e.current:se(V.getState(),D)},[V,J,D]);Rx(ML,[fe,Se,Fe,D,Ae,_e,le]),Rx(LL,[d,V,ie,se,fe,Se,Fe,_e,le,ve],[V,ie,se]);var ut=m.useMemo(function(){return Z.createElement(S,Re({},Ae,{ref:Q}))},[Q,S,Ae]),et=m.useMemo(function(){return d?Z.createElement(M.Provider,{value:O},ut):ut},[M,ut,O]);return et}var A=C?Z.memo(F):F;if(A.WrappedComponent=S,A.displayName=F.displayName=_,y){var H=Z.forwardRef(function(R,U){return Z.createElement(A,Re({},R,{reactReduxForwardedRef:U}))});return H.displayName=_,H.WrappedComponent=S,kx(H,S)}return kx(A,S)}}function Ax(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Vf(e,t){if(Ax(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!Ax(e[r[s]],t[r[s]]))return!1;return!0}function UL(e,t){var r={},n=function(i){var l=e[i];typeof l=="function"&&(r[i]=function(){return t(l.apply(void 0,arguments))})};for(var s in e)n(s);return r}function bg(e){return function(r,n){var s=e(r,n);function a(){return s}return a.dependsOnOwnProps=!1,a}}function Ix(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function zN(e,t){return function(n,s){s.displayName;var a=function(l,c){return a.dependsOnOwnProps?a.mapToProps(l,c):a.mapToProps(l)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,c){a.mapToProps=e,a.dependsOnOwnProps=Ix(e);var u=a(l,c);return typeof u=="function"&&(a.mapToProps=u,a.dependsOnOwnProps=Ix(u),u=a(l,c)),u},a}}function zL(e){return typeof e=="function"?zN(e):void 0}function WL(e){return e?void 0:bg(function(t){return{dispatch:t}})}function VL(e){return e&&typeof e=="object"?bg(function(t){return UL(e,t)}):void 0}const HL=[zL,WL,VL];function GL(e){return typeof e=="function"?zN(e):void 0}function qL(e){return e?void 0:bg(function(){return{}})}const KL=[GL,qL];function YL(e,t,r){return Re({},r,e,t)}function QL(e){return function(r,n){n.displayName;var s=n.pure,a=n.areMergedPropsEqual,i=!1,l;return function(u,d,f){var h=e(u,d,f);return i?(!s||!a(h,l))&&(l=h):(i=!0,l=h),l}}}function JL(e){return typeof e=="function"?QL(e):void 0}function XL(e){return e?void 0:function(){return YL}}const ZL=[JL,XL];var e$=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function t$(e,t,r,n){return function(a,i){return r(e(a,i),t(n,i),i)}}function r$(e,t,r,n,s){var a=s.areStatesEqual,i=s.areOwnPropsEqual,l=s.areStatePropsEqual,c=!1,u,d,f,h,p;function y(g,S){return u=g,d=S,f=e(u,d),h=t(n,d),p=r(f,h,d),c=!0,p}function v(){return f=e(u,d),t.dependsOnOwnProps&&(h=t(n,d)),p=r(f,h,d),p}function x(){return e.dependsOnOwnProps&&(f=e(u,d)),t.dependsOnOwnProps&&(h=t(n,d)),p=r(f,h,d),p}function w(){var g=e(u,d),S=!l(g,f);return f=g,S&&(p=r(f,h,d)),p}function b(g,S){var N=!i(S,d),_=!a(g,u,S,d);return u=g,d=S,N&&_?v():N?x():_?w():p}return function(S,N){return c?b(S,N):y(S,N)}}function n$(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,s=t.initMergeProps,a=Eu(t,e$),i=r(e,a),l=n(e,a),c=s(e,a),u=a.pure?r$:t$;return u(i,l,c,e,a)}var s$=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Hf(e,t,r){for(var n=t.length-1;n>=0;n--){var s=t[n](e);if(s)return s}return function(a,i){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+i.wrappedComponentName+".")}}function a$(e,t){return e===t}function o$(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?FL:r,s=t.mapStateToPropsFactories,a=s===void 0?KL:s,i=t.mapDispatchToPropsFactories,l=i===void 0?HL:i,c=t.mergePropsFactories,u=c===void 0?ZL:c,d=t.selectorFactory,f=d===void 0?n$:d;return function(p,y,v,x){x===void 0&&(x={});var w=x,b=w.pure,g=b===void 0?!0:b,S=w.areStatesEqual,N=S===void 0?a$:S,_=w.areOwnPropsEqual,j=_===void 0?Vf:_,C=w.areStatePropsEqual,I=C===void 0?Vf:C,P=w.areMergedPropsEqual,F=P===void 0?Vf:P,A=Eu(w,s$),H=Hf(p,a,"mapStateToProps"),T=Hf(y,l,"mapDispatchToProps"),R=Hf(v,u,"mergeProps");return n(f,Re({methodName:"connect",getDisplayName:function(Q){return"Connect("+Q+")"},shouldHandleStateChanges:!!p,initMapStateToProps:H,initMapDispatchToProps:T,initMergeProps:R,pure:g,areStatesEqual:N,areOwnPropsEqual:j,areStatePropsEqual:I,areMergedPropsEqual:F},A))}}const WN=o$();nL(na.unstable_batchedUpdates);function i$(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function VN(e,t){var r=m.useState(function(){return{inputs:t,result:e()}})[0],n=m.useRef(!0),s=m.useRef(r),a=n.current||!!(t&&s.current.inputs&&i$(t,s.current.inputs)),i=a?s.current:{inputs:t,result:e()};return m.useEffect(function(){n.current=!1,s.current=i},[i]),i.result}function l$(e,t){return VN(function(){return e},t)}var nt=VN,Pe=l$,c$="Invariant failed";function u$(e,t){throw new Error(c$)}var Sn=function(t){var r=t.top,n=t.right,s=t.bottom,a=t.left,i=n-a,l=s-r,c={top:r,right:n,bottom:s,left:a,width:i,height:l,x:a,y:r,center:{x:(n+a)/2,y:(s+r)/2}};return c},wg=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},Dx=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},d$=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Gf={top:0,right:0,bottom:0,left:0},Sg=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?Gf:n,a=t.border,i=a===void 0?Gf:a,l=t.padding,c=l===void 0?Gf:l,u=Sn(wg(r,s)),d=Sn(Dx(r,i)),f=Sn(Dx(d,c));return{marginBox:u,borderBox:Sn(r),paddingBox:d,contentBox:f,margin:s,border:i,padding:c}},Yr=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&u$(),s},f$=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Pu=function(t,r){var n=t.borderBox,s=t.border,a=t.margin,i=t.padding,l=d$(n,r);return Sg({borderBox:l,border:s,margin:a,padding:i})},Tu=function(t,r){return r===void 0&&(r=f$()),Pu(t,r)},HN=function(t,r){var n={top:Yr(r.marginTop),right:Yr(r.marginRight),bottom:Yr(r.marginBottom),left:Yr(r.marginLeft)},s={top:Yr(r.paddingTop),right:Yr(r.paddingRight),bottom:Yr(r.paddingBottom),left:Yr(r.paddingLeft)},a={top:Yr(r.borderTopWidth),right:Yr(r.borderRightWidth),bottom:Yr(r.borderBottomWidth),left:Yr(r.borderLeftWidth)};return Sg({borderBox:t,margin:n,padding:s,border:a})},GN=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return HN(r,n)},Ox=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function h$(e,t){return!!(e===t||Ox(e)&&Ox(t))}function p$(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!h$(e[r],t[r]))return!1;return!0}function Ht(e,t){t===void 0&&(t=p$);var r,n=[],s,a=!1;function i(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return a&&r===this&&t(l,n)||(s=e.apply(this,l),a=!0,r=this,n=l),s}return i}var hl=function(t){var r=[],n=null,s=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return s.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},s};function qN(e,t){}qN.bind(null,"warn");qN.bind(null,"error");function Vs(){}function m$(e,t){return Re({},e,{},t)}function rn(e,t,r){var n=t.map(function(s){var a=m$(r,s.options);return e.addEventListener(s.eventName,s.fn,a),function(){e.removeEventListener(s.eventName,s.fn,a)}});return function(){n.forEach(function(a){a()})}}var g$="Invariant failed";function ku(e){this.message=e}ku.prototype.toString=function(){return this.message};function pe(e,t){throw new ku(g$)}var v$=function(e){jN(t,e);function t(){for(var n,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,n.callbacks=null,n.unbind=Vs,n.onWindowError=function(l){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var u=l.error;u instanceof ku&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=rn(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(s){if(s instanceof ku){this.setState({});return}throw s},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(Z.Component),y$=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ru=function(t){return t+1},x$=function(t){return`
  You have lifted an item in position `+Ru(t.source.index)+`
`},KN=function(t,r){var n=t.droppableId===r.droppableId,s=Ru(t.index),a=Ru(r.index);return n?`
      You have moved the item from position `+s+`
      to position `+a+`
    `:`
    You have moved the item from position `+s+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+a+`
  `},YN=function(t,r,n){var s=r.droppableId===n.droppableId;return s?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},b$=function(t){var r=t.destination;if(r)return KN(t.source,r);var n=t.combine;return n?YN(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},Bx=function(t){return`
  The item has returned to its starting position
  of `+Ru(t.index)+`
`},w$=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+Bx(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+KN(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+YN(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Bx(t.source)+`
  `},Vc={dragHandleUsageInstructions:y$,onDragStart:x$,onDragUpdate:b$,onDragEnd:w$},qt={x:0,y:0},Xt=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},Fr=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},Hs=function(t,r){return t.x===r.x&&t.y===r.y},ai=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},La=function(t,r,n){var s;return n===void 0&&(n=0),s={},s[t]=r,s[t==="x"?"y":"x"]=n,s},pl=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},Mx=function(t,r){return Math.min.apply(Math,r.map(function(n){return pl(t,n)}))},QN=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},S$=function(e,t){var r=Sn({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},Fl=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Lx=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},_$={top:0,right:0,bottom:0,left:0},N$=function(t,r){return r?Fl(t,r.scroll.diff.displacement):t},j$=function(t,r,n){if(n&&n.increasedBy){var s;return Re({},t,(s={},s[r.end]=t[r.end]+n.increasedBy[r.line],s))}return t},C$=function(t,r){return r&&r.shouldClipSubject?S$(r.pageMarginBox,t):Sn(t)},qo=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,s=e.frame,a=N$(t.marginBox,s),i=j$(a,n,r),l=C$(i,s);return{page:t,withPlaceholder:r,active:l}},_g=function(e,t){e.frame||pe();var r=e.frame,n=Fr(t,r.scroll.initial),s=ai(n),a=Re({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:s},max:r.scroll.max}}),i=qo({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a}),l=Re({},e,{frame:a,subject:i});return l};function Au(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Ng(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function ia(e,t){if(e.find)return e.find(t);var r=Ng(e,t);if(r!==-1)return e[r]}function JN(e){return Array.prototype.slice.call(e)}var XN=Ht(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),ZN=Ht(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),$d=Ht(function(e){return Au(e)}),E$=Ht(function(e){return Au(e)}),oi=Ht(function(e,t){var r=E$(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,s){return n.descriptor.index-s.descriptor.index});return r});function jg(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Fd(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Ud=Ht(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),P$=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.insideDestination,a=e.previousImpact;if(!n.isCombineEnabled)return null;var i=jg(a);if(!i)return null;function l(v){var x={type:"COMBINE",combine:{draggableId:v,droppableId:n.descriptor.id}};return Re({},a,{at:x})}var c=a.displaced.all,u=c.length?c[0]:null;if(t)return u?l(u):null;var d=Ud(r,s);if(!u){if(!d.length)return null;var f=d[d.length-1];return l(f.descriptor.id)}var h=Ng(d,function(v){return v.descriptor.id===u});h===-1&&pe();var p=h-1;if(p<0)return null;var y=d[p];return l(y.descriptor.id)},ii=function(e,t){return e.descriptor.droppableId===t.descriptor.id},ej={point:qt,value:0},ml={invisible:{},visible:{},all:[]},T$={displaced:ml,displacedBy:ej,at:null},sn=function(e,t){return function(r){return e<=r&&r<=t}},tj=function(e){var t=sn(e.top,e.bottom),r=sn(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(s)return!0;var a=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right),l=a&&i;if(l)return!0;var c=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right,d=c&&u;if(d)return!0;var f=c&&i||u&&a;return f}},k$=function(e){var t=sn(e.top,e.bottom),r=sn(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return s}},Cg={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},rj={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},R$=function(e){return function(t){var r=sn(t.top,t.bottom),n=sn(t.left,t.right);return function(s){return e===Cg?r(s.top)&&r(s.bottom):n(s.left)&&n(s.right)}}},A$=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:qt;return Fl(t,n)},I$=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},D$=function(t,r,n){return n(r)(t)},Eg=function(t){var r=t.target,n=t.destination,s=t.viewport,a=t.withDroppableDisplacement,i=t.isVisibleThroughFrameFn,l=a?A$(r,n):r;return I$(l,n,i)&&D$(l,s,i)},O$=function(t){return Eg(Re({},t,{isVisibleThroughFrameFn:tj}))},nj=function(t){return Eg(Re({},t,{isVisibleThroughFrameFn:k$}))},B$=function(t){return Eg(Re({},t,{isVisibleThroughFrameFn:R$(t.destination.axis)}))},M$=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var s=r.invisible,a=r.visible;if(s[t])return!1;var i=a[t];return i?i.shouldAnimate:!0};function L$(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Sn(wg(r,n))}function gl(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,s=e.viewport,a=e.forceShouldAnimate,i=e.last;return t.reduce(function(c,u){var d=L$(u,n),f=u.descriptor.id;c.all.push(f);var h=O$({target:d,destination:r,viewport:s,withDroppableDisplacement:!0});if(!h)return c.invisible[u.descriptor.id]=!0,c;var p=M$(f,i,a),y={draggableId:f,shouldAnimate:p};return c.visible[f]=y,c},{all:[],visible:{},invisible:{}})}function $$(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function $x(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,s=e.destination,a=$$(t,{inHomeList:r});return{displaced:ml,displacedBy:n,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:a}}}}function Iu(e){var t=e.draggable,r=e.insideDestination,n=e.destination,s=e.viewport,a=e.displacedBy,i=e.last,l=e.index,c=e.forceShouldAnimate,u=ii(t,n);if(l==null)return $x({insideDestination:r,inHomeList:u,displacedBy:a,destination:n});var d=ia(r,function(v){return v.descriptor.index===l});if(!d)return $x({insideDestination:r,inHomeList:u,displacedBy:a,destination:n});var f=Ud(t,r),h=r.indexOf(d),p=f.slice(h),y=gl({afterDragging:p,destination:n,displacedBy:a,last:i,viewport:s.frame,forceShouldAnimate:c});return{displaced:y,displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function Zs(e,t){return!!t.effected[e]}var F$=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,s=e.combine,a=e.afterCritical;if(!r.isCombineEnabled)return null;var i=s.draggableId,l=n[i],c=l.descriptor.index,u=Zs(i,a);return u?t?c:c-1:t?c+1:c},U$=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,s=e.location;if(!n.length)return null;var a=s.index,i=t?a+1:a-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=r?c:c+1;return i<l||i>u?null:i},z$=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,s=e.draggables,a=e.destination,i=e.insideDestination,l=e.previousImpact,c=e.viewport,u=e.afterCritical,d=l.at;if(d||pe(),d.type==="REORDER"){var f=U$({isMovingForward:t,isInHomeList:r,location:d.destination,insideDestination:i});return f==null?null:Iu({draggable:n,insideDestination:i,destination:a,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:f})}var h=F$({isMovingForward:t,destination:a,displaced:l.displaced,draggables:s,combine:d.combine,afterCritical:u});return h==null?null:Iu({draggable:n,insideDestination:i,destination:a,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:h})},W$=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,s=e.displacedBy,a=!!(t.visible[n]||t.invisible[n]);return Zs(n,r)?a?qt:ai(s.point):a?s.point:qt},V$=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,s=Fd(r);s||pe();var a=s.draggableId,i=n[a].page.borderBox.center,l=W$({displaced:r.displaced,afterCritical:t,combineWith:a,displacedBy:r.displacedBy});return Xt(i,l)},sj=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},H$=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Pg=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},Fx=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return La(r.line,n.marginBox[r.end]+sj(r,s),Pg(r,n.marginBox,s))},Ux=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return La(r.line,n.marginBox[r.start]-H$(r,s),Pg(r,n.marginBox,s))},G$=function(t){var r=t.axis,n=t.moveInto,s=t.isMoving;return La(r.line,n.contentBox[r.start]+sj(r,s),Pg(r,n.contentBox,s))},q$=function(e){var t=e.impact,r=e.draggable,n=e.draggables,s=e.droppable,a=e.afterCritical,i=oi(s.descriptor.id,n),l=r.page,c=s.axis;if(!i.length)return G$({axis:c,moveInto:s.page,isMoving:l});var u=t.displaced,d=t.displacedBy,f=u.all[0];if(f){var h=n[f];if(Zs(f,a))return Ux({axis:c,moveRelativeTo:h.page,isMoving:l});var p=Pu(h.page,d.point);return Ux({axis:c,moveRelativeTo:p,isMoving:l})}var y=i[i.length-1];if(y.descriptor.id===r.descriptor.id)return l.borderBox.center;if(Zs(y.descriptor.id,a)){var v=Pu(y.page,ai(a.displacedBy.point));return Fx({axis:c,moveRelativeTo:v,isMoving:l})}return Fx({axis:c,moveRelativeTo:y.page,isMoving:l})},Ep=function(e,t){var r=e.frame;return r?Xt(t,r.scroll.diff.displacement):t},K$=function(t){var r=t.impact,n=t.draggable,s=t.droppable,a=t.draggables,i=t.afterCritical,l=n.page.borderBox.center,c=r.at;return!s||!c?l:c.type==="REORDER"?q$({impact:r,draggable:n,draggables:a,droppable:s,afterCritical:i}):V$({impact:r,draggables:a,afterCritical:i})},zd=function(e){var t=K$(e),r=e.droppable,n=r?Ep(r,t):t;return n},aj=function(e,t){var r=Fr(t,e.scroll.initial),n=ai(r),s=Sn({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),a={frame:s,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return a};function zx(e,t){return e.map(function(r){return t[r]})}function Y$(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var Q$=function(e){var t=e.impact,r=e.viewport,n=e.destination,s=e.draggables,a=e.maxScrollChange,i=aj(r,Xt(r.scroll.current,a)),l=n.frame?_g(n,Xt(n.frame.scroll.current,a)):n,c=t.displaced,u=gl({afterDragging:zx(c.all,s),destination:n,displacedBy:t.displacedBy,viewport:i.frame,last:c,forceShouldAnimate:!1}),d=gl({afterDragging:zx(c.all,s),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),f={},h={},p=[c,u,d];c.all.forEach(function(v){var x=Y$(v,p);if(x){h[v]=x;return}f[v]=!0});var y=Re({},t,{displaced:{all:c.all,invisible:f,visible:h}});return y},J$=function(e,t){return Xt(e.scroll.diff.displacement,t)},Tg=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,s=J$(n,t),a=Fr(s,r.page.borderBox.center);return Xt(r.client.borderBox.center,a)},oj=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,s=e.viewport,a=e.withDroppableDisplacement,i=e.onlyOnMainAxis,l=i===void 0?!1:i,c=Fr(n,t.page.borderBox.center),u=Fl(t.page.borderBox,c),d={target:u,destination:r,withDroppableDisplacement:a,viewport:s};return l?B$(d):nj(d)},X$=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.draggables,a=e.previousImpact,i=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var d=oi(n.descriptor.id,s),f=ii(r,n),h=P$({isMovingForward:t,draggable:r,destination:n,insideDestination:d,previousImpact:a})||z$({isMovingForward:t,isInHomeList:f,draggable:r,draggables:s,destination:n,insideDestination:d,previousImpact:a,viewport:i,afterCritical:u});if(!h)return null;var p=zd({impact:h,draggable:r,droppable:n,draggables:s,afterCritical:u}),y=oj({draggable:r,destination:n,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(y){var v=Tg({pageBorderBoxCenter:p,draggable:r,viewport:i});return{clientSelection:v,impact:h,scrollJumpRequest:null}}var x=Fr(p,l),w=Q$({impact:h,viewport:i,destination:n,draggables:s,maxScrollChange:x});return{clientSelection:c,impact:w,scrollJumpRequest:x}},hr=function(t){var r=t.subject.active;return r||pe(),r},Z$=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,s=e.droppables,a=e.viewport,i=n.subject.active;if(!i)return null;var l=n.axis,c=sn(i[l.start],i[l.end]),u=$d(s).filter(function(f){return f!==n}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return tj(a.frame)(hr(f))}).filter(function(f){var h=hr(f);return t?i[l.crossAxisEnd]<h[l.crossAxisEnd]:h[l.crossAxisStart]<i[l.crossAxisStart]}).filter(function(f){var h=hr(f),p=sn(h[l.start],h[l.end]);return c(h[l.start])||c(h[l.end])||p(i[l.start])||p(i[l.end])}).sort(function(f,h){var p=hr(f)[l.crossAxisStart],y=hr(h)[l.crossAxisStart];return t?p-y:y-p}).filter(function(f,h,p){return hr(f)[l.crossAxisStart]===hr(p[0])[l.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var d=u.filter(function(f){var h=sn(hr(f)[l.start],hr(f)[l.end]);return h(r[l.line])});return d.length===1?d[0]:d.length>1?d.sort(function(f,h){return hr(f)[l.start]-hr(h)[l.start]})[0]:u.sort(function(f,h){var p=Mx(r,Lx(hr(f))),y=Mx(r,Lx(hr(h)));return p!==y?p-y:hr(f)[l.start]-hr(h)[l.start]})[0]},Wx=function(t,r){var n=t.page.borderBox.center;return Zs(t.descriptor.id,r)?Fr(n,r.displacedBy.point):n},eF=function(t,r){var n=t.page.borderBox;return Zs(t.descriptor.id,r)?Fl(n,ai(r.displacedBy.point)):n},tF=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,s=e.insideDestination,a=e.afterCritical,i=s.filter(function(l){return nj({target:eF(l,a),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var u=pl(t,Ep(n,Wx(l,a))),d=pl(t,Ep(n,Wx(c,a)));return u<d?-1:d<u?1:l.descriptor.index-c.descriptor.index});return i[0]||null},Ul=Ht(function(t,r){var n=r[t.line];return{value:n,point:La(t.line,n)}}),rF=function(t,r,n){var s=t.axis;if(t.descriptor.mode==="virtual")return La(s.line,r[s.line]);var a=t.subject.page.contentBox[s.size],i=oi(t.descriptor.id,n),l=i.reduce(function(d,f){return d+f.client.marginBox[s.size]},0),c=l+r[s.line],u=c-a;return u<=0?null:La(s.line,u)},ij=function(t,r){return Re({},t,{scroll:Re({},t.scroll,{max:r})})},lj=function(t,r,n){var s=t.frame;ii(r,t)&&pe(),t.subject.withPlaceholder&&pe();var a=Ul(t.axis,r.displaceBy).point,i=rF(t,a,n),l={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){var c=qo({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return Re({},t,{subject:c})}var u=i?Xt(s.scroll.max,i):s.scroll.max,d=ij(s,u),f=qo({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:d});return Re({},t,{subject:f,frame:d})},nF=function(t){var r=t.subject.withPlaceholder;r||pe();var n=t.frame;if(!n){var s=qo({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return Re({},t,{subject:s})}var a=r.oldFrameMaxScroll;a||pe();var i=ij(n,a),l=qo({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return Re({},t,{subject:l,frame:i})},sF=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,s=e.draggable,a=e.draggables,i=e.destination,l=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var u={displaced:ml,displacedBy:ej,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},d=zd({impact:u,draggable:s,droppable:i,draggables:a,afterCritical:c}),f=ii(s,i)?i:lj(i,s,a),h=oj({draggable:s,destination:f,newPageBorderBoxCenter:d,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?u:null}var p=t[i.axis.line]<=r.page.borderBox.center[i.axis.line],y=function(){var x=r.descriptor.index;return r.descriptor.id===s.descriptor.id||p?x:x+1}(),v=Ul(i.axis,s.displaceBy);return Iu({draggable:s,insideDestination:n,destination:i,viewport:l,displacedBy:v,last:ml,index:y})},aF=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,s=e.isOver,a=e.draggables,i=e.droppables,l=e.viewport,c=e.afterCritical,u=Z$({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:i,viewport:l});if(!u)return null;var d=oi(u.descriptor.id,a),f=tF({pageBorderBoxCenter:r,viewport:l,destination:u,insideDestination:d,afterCritical:c}),h=sF({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:a,moveRelativeTo:f,insideDestination:d,viewport:l,afterCritical:c});if(!h)return null;var p=zd({impact:h,draggable:n,droppable:u,draggables:a,afterCritical:c}),y=Tg({pageBorderBoxCenter:p,draggable:n,viewport:l});return{clientSelection:y,impact:h,scrollJumpRequest:null}},Wr=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},oF=function(t,r){var n=Wr(t);return n?r[n]:null},iF=function(e){var t=e.state,r=e.type,n=oF(t.impact,t.dimensions.droppables),s=!!n,a=t.dimensions.droppables[t.critical.droppable.id],i=n||a,l=i.axis.direction,c=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!s)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,h=t.dimensions,p=h.draggables,y=h.droppables;return c?X$({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:i,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):aF({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:i,draggables:p,droppables:y,viewport:t.viewport,afterCritical:t.afterCritical})};function ma(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function cj(e){var t=sn(e.top,e.bottom),r=sn(e.left,e.right);return function(s){return t(s.y)&&r(s.x)}}function lF(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function cF(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,s=r.page.borderBox.center,a=n.map(function(i){var l=i.axis,c=La(i.axis.line,t.center[l.line],i.page.borderBox.center[l.crossAxisLine]);return{id:i.descriptor.id,distance:pl(s,c)}}).sort(function(i,l){return l.distance-i.distance});return a[0]?a[0].id:null}function uF(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,s=$d(n).filter(function(a){if(!a.isEnabled)return!1;var i=a.subject.active;if(!i||!lF(t,i))return!1;if(cj(i)(t.center))return!0;var l=a.axis,c=i.center[l.crossAxisLine],u=t[l.crossAxisStart],d=t[l.crossAxisEnd],f=sn(i[l.crossAxisStart],i[l.crossAxisEnd]),h=f(u),p=f(d);return!h&&!p?!0:h?u<c:d>c});return s.length?s.length===1?s[0].descriptor.id:cF({pageBorderBox:t,draggable:r,candidates:s}):null}var uj=function(t,r){return Sn(Fl(t,r))},dF=function(e,t){var r=e.frame;return r?uj(t,r.scroll.diff.value):t};function dj(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function fF(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var hF=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,s=e.insideDestination,a=e.last,i=e.viewport,l=e.afterCritical,c=n.axis,u=Ul(n.axis,r.displaceBy),d=u.value,f=t[c.start],h=t[c.end],p=Ud(r,s),y=ia(p,function(x){var w=x.descriptor.id,b=x.page.borderBox.center[c.line],g=Zs(w,l),S=dj({displaced:a,id:w});return g?S?h<=b:f<b-d:S?h<=b+d:f<b}),v=fF({draggable:r,closest:y,inHomeList:ii(r,n)});return Iu({draggable:r,insideDestination:s,destination:n,viewport:i,last:a,displacedBy:u,index:v})},pF=4,mF=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,s=e.destination,a=e.insideDestination,i=e.afterCritical;if(!s.isCombineEnabled)return null;var l=s.axis,c=Ul(s.axis,t.displaceBy),u=c.value,d=r[l.start],f=r[l.end],h=Ud(t,a),p=ia(h,function(v){var x=v.descriptor.id,w=v.page.borderBox,b=w[l.size],g=b/pF,S=Zs(x,i),N=dj({displaced:n.displaced,id:x});return S?N?f>w[l.start]+g&&f<w[l.end]-g:d>w[l.start]-u+g&&d<w[l.end]-u-g:N?f>w[l.start]+u+g&&f<w[l.end]+u-g:d>w[l.start]+g&&d<w[l.end]-g});if(!p)return null;var y={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:s.descriptor.id}}};return y},fj=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,s=e.droppables,a=e.previousImpact,i=e.viewport,l=e.afterCritical,c=uj(r.page.borderBox,t),u=uF({pageBorderBox:c,draggable:r,droppables:s});if(!u)return T$;var d=s[u],f=oi(d.descriptor.id,n),h=dF(d,c);return mF({pageBorderBoxWithDroppableScroll:h,draggable:r,previousImpact:a,destination:d,insideDestination:f,afterCritical:l})||hF({pageBorderBoxWithDroppableScroll:h,draggable:r,destination:d,insideDestination:f,last:a.displaced,viewport:i,afterCritical:l})},kg=function(e,t){var r;return Re({},e,(r={},r[t.descriptor.id]=t,r))},gF=function(t){var r=t.previousImpact,n=t.impact,s=t.droppables,a=Wr(r),i=Wr(n);if(!a||a===i)return s;var l=s[a];if(!l.subject.withPlaceholder)return s;var c=nF(l);return kg(s,c)},vF=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,s=e.previousImpact,a=e.impact,i=gF({previousImpact:s,impact:a,droppables:n}),l=Wr(a);if(!l)return i;var c=n[l];if(ii(t,c)||c.subject.withPlaceholder)return i;var u=lj(c,t,r);return kg(i,u)},zi=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,s=e.viewport,a=e.impact,i=e.scrollJumpRequest,l=s||t.viewport,c=n||t.dimensions,u=r||t.current.client.selection,d=Fr(u,t.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:Xt(t.initial.client.borderBoxCenter,d)},h={selection:Xt(f.selection,l.scroll.current),borderBoxCenter:Xt(f.borderBoxCenter,l.scroll.current),offset:Xt(f.offset,l.scroll.diff.value)},p={client:f,page:h};if(t.phase==="COLLECTING")return Re({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:p});var y=c.draggables[t.critical.draggable.id],v=a||fj({pageOffset:h.offset,draggable:y,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),x=vF({draggable:y,impact:v,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),w=Re({},t,{current:p,dimensions:{draggables:c.draggables,droppables:x},impact:v,viewport:l,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null});return w};function yF(e,t){return e.map(function(r){return t[r]})}var hj=function(e){var t=e.impact,r=e.viewport,n=e.draggables,s=e.destination,a=e.forceShouldAnimate,i=t.displaced,l=yF(i.all,n),c=gl({afterDragging:l,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:i});return Re({},t,{displaced:c})},pj=function(e){var t=e.impact,r=e.draggable,n=e.droppable,s=e.draggables,a=e.viewport,i=e.afterCritical,l=zd({impact:t,draggable:r,draggables:s,droppable:n,afterCritical:i});return Tg({pageBorderBoxCenter:l,draggable:r,viewport:a})},mj=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&pe();var s=t.impact,a=n||t.viewport,i=r||t.dimensions,l=i.draggables,c=i.droppables,u=l[t.critical.draggable.id],d=Wr(s);d||pe();var f=c[d],h=hj({impact:s,viewport:a,destination:f,draggables:l}),p=pj({impact:h,draggable:u,droppable:f,draggables:l,viewport:a,afterCritical:t.afterCritical});return zi({impact:h,clientSelection:p,state:t,dimensions:i,viewport:a})},xF=function(e){return{index:e.index,droppableId:e.droppableId}},gj=function(e){var t=e.draggable,r=e.home,n=e.draggables,s=e.viewport,a=Ul(r.axis,t.displaceBy),i=oi(r.descriptor.id,n),l=i.indexOf(t);l===-1&&pe();var c=i.slice(l+1),u=c.reduce(function(p,y){return p[y.descriptor.id]=!0,p},{}),d={inVirtualList:r.descriptor.mode==="virtual",displacedBy:a,effected:u},f=gl({afterDragging:c,destination:r,displacedBy:a,last:null,viewport:s.frame,forceShouldAnimate:!1}),h={displaced:f,displacedBy:a,at:{type:"REORDER",destination:xF(t.descriptor)}};return{impact:h,afterCritical:d}},bF=function(e,t){return{draggables:e.draggables,droppables:kg(e.droppables,t)}},wF=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,s=Pu(t.client,r),a=Tu(s,n),i=Re({},t,{placeholder:Re({},t.placeholder,{client:s}),client:s,page:a});return i},SF=function(e){var t=e.frame;return t||pe(),t},_F=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,s=n.scroll.diff.value;return t.map(function(a){var i=a.descriptor.droppableId,l=r[i],c=SF(l),u=c.scroll.diff.value,d=Xt(s,u),f=wF({draggable:a,offset:d,initialWindowScroll:n.scroll.initial});return f})},NF=function(e){var t=e.state,r=e.published,n=r.modified.map(function(g){var S=t.dimensions.droppables[g.droppableId],N=_g(S,g.scroll);return N}),s=Re({},t.dimensions.droppables,{},XN(n)),a=ZN(_F({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),i=Re({},t.dimensions.draggables,{},a);r.removals.forEach(function(g){delete i[g]});var l={droppables:s,draggables:i},c=Wr(t.impact),u=c?l.droppables[c]:null,d=l.draggables[t.critical.draggable.id],f=l.droppables[t.critical.droppable.id],h=gj({draggable:d,home:f,draggables:i,viewport:t.viewport}),p=h.impact,y=h.afterCritical,v=u&&u.isCombineEnabled?t.impact:p,x=fj({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:v,viewport:t.viewport,afterCritical:y}),w=Re({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:x,onLiftImpact:p,dimensions:l,afterCritical:y,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return w;var b=Re({phase:"DROP_PENDING"},w,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return b},Pp=function(t){return t.movementMode==="SNAP"},qf=function(t,r,n){var s=bF(t.dimensions,r);return!Pp(t)||n?zi({state:t,dimensions:s}):mj({state:t,dimensions:s})};function Kf(e){return e.isDragging&&e.movementMode==="SNAP"?Re({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Vx={phase:"IDLE",completed:null,shouldFlush:!1},jF=function(e,t){if(e===void 0&&(e=Vx),t.type==="FLUSH")return Re({},Vx,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&pe();var r=t.payload,n=r.critical,s=r.clientSelection,a=r.viewport,i=r.dimensions,l=r.movementMode,c=i.draggables[n.draggable.id],u=i.droppables[n.droppable.id],d={selection:s,borderBoxCenter:c.client.borderBox.center,offset:qt},f={client:d,page:{selection:Xt(d.selection,a.scroll.initial),borderBoxCenter:Xt(d.selection,a.scroll.initial),offset:Xt(d.selection,a.scroll.diff.value)}},h=$d(i.droppables).every(function(ve){return!ve.isFixedOnPage}),p=gj({draggable:c,home:u,draggables:i.draggables,viewport:a}),y=p.impact,v=p.afterCritical,x={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:i,initial:f,current:f,isWindowScrollAllowed:h,impact:y,afterCritical:v,onLiftImpact:y,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return x}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&pe();var w=Re({phase:"COLLECTING"},e,{phase:"COLLECTING"});return w}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||pe(),NF({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ma(e)||pe();var b=t.payload.client;return Hs(b,e.current.client.selection)?e:zi({state:e,clientSelection:b,impact:Pp(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Kf(e);ma(e)||pe();var g=t.payload,S=g.id,N=g.newScroll,_=e.dimensions.droppables[S];if(!_)return e;var j=_g(_,N);return qf(e,j,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ma(e)||pe();var C=t.payload,I=C.id,P=C.isEnabled,F=e.dimensions.droppables[I];F||pe(),F.isEnabled===P&&pe();var A=Re({},F,{isEnabled:P});return qf(e,A,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ma(e)||pe();var H=t.payload,T=H.id,R=H.isCombineEnabled,U=e.dimensions.droppables[T];U||pe(),U.isCombineEnabled===R&&pe();var Q=Re({},U,{isCombineEnabled:R});return qf(e,Q,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ma(e)||pe(),e.isWindowScrollAllowed||pe();var D=t.payload.newScroll;if(Hs(e.viewport.scroll.current,D))return Kf(e);var M=aj(e.viewport,D);return Pp(e)?mj({state:e,viewport:M}):zi({state:e,viewport:M})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ma(e))return e;var G=t.payload.maxScroll;if(Hs(G,e.viewport.scroll.max))return e;var ne=Re({},e.viewport,{scroll:Re({},e.viewport.scroll,{max:G})});return Re({phase:"DRAGGING"},e,{viewport:ne})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&pe();var V=iF({state:e,type:t.type});return V?zi({state:e,impact:V.impact,clientSelection:V.clientSelection,scrollJumpRequest:V.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var se=t.payload.reason;e.phase!=="COLLECTING"&&pe();var ee=Re({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:se});return ee}if(t.type==="DROP_ANIMATE"){var ie=t.payload,le=ie.completed,O=ie.dropDuration,W=ie.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||pe();var he={phase:"DROP_ANIMATING",completed:le,dropDuration:O,newHomeClientOffset:W,dimensions:e.dimensions};return he}if(t.type==="DROP_COMPLETE"){var J=t.payload.completed;return{phase:"IDLE",completed:J,shouldFlush:!1}}return e},CF=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},EF=function(t){return{type:"LIFT",payload:t}},PF=function(t){return{type:"INITIAL_PUBLISH",payload:t}},TF=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},kF=function(){return{type:"COLLECTION_STARTING",payload:null}},RF=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},AF=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},IF=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},vj=function(t){return{type:"MOVE",payload:t}},DF=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},OF=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},BF=function(){return{type:"MOVE_UP",payload:null}},MF=function(){return{type:"MOVE_DOWN",payload:null}},LF=function(){return{type:"MOVE_RIGHT",payload:null}},$F=function(){return{type:"MOVE_LEFT",payload:null}},Rg=function(){return{type:"FLUSH",payload:null}},FF=function(t){return{type:"DROP_ANIMATE",payload:t}},Ag=function(t){return{type:"DROP_COMPLETE",payload:t}},yj=function(t){return{type:"DROP",payload:t}},UF=function(t){return{type:"DROP_PENDING",payload:t}},xj=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},zF=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(s){return function(a){if(a.type!=="LIFT"){s(a);return}var i=a.payload,l=i.id,c=i.clientSelection,u=i.movementMode,d=r();d.phase==="DROP_ANIMATING"&&n(Ag({completed:d.completed})),r().phase!=="IDLE"&&pe(),n(Rg()),n(CF({draggableId:l,movementMode:u}));var f={shouldPublishImmediately:u==="SNAP"},h={draggableId:l,scrollOptions:f},p=e.startPublishing(h),y=p.critical,v=p.dimensions,x=p.viewport;n(PF({critical:y,dimensions:v,clientSelection:c,movementMode:u,viewport:x}))}}}},WF=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},Ig={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},vl={opacity:{drop:0,combining:.7},scale:{drop:.75}},Dg={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},da=Dg.outOfTheWay+"s "+Ig.outOfTheWay,Wi={fluid:"opacity "+da,snap:"transform "+da+", opacity "+da,drop:function(t){var r=t+"s "+Ig.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+da,placeholder:"height "+da+", width "+da+", margin "+da},Hx=function(t){return Hs(t,qt)?null:"translate("+t.x+"px, "+t.y+"px)"},Tp={moveTo:Hx,drop:function(t,r){var n=Hx(t);return n?r?n+" scale("+vl.scale.drop+")":n:null}},kp=Dg.minDropTime,bj=Dg.maxDropTime,VF=bj-kp,Gx=1500,HF=.6,GF=function(e){var t=e.current,r=e.destination,n=e.reason,s=pl(t,r);if(s<=0)return kp;if(s>=Gx)return bj;var a=s/Gx,i=kp+VF*a,l=n==="CANCEL"?i*HF:i;return Number(l.toFixed(2))},qF=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,s=e.viewport,a=e.afterCritical,i=n.draggables,l=n.droppables,c=Wr(t),u=c?l[c]:null,d=l[r.descriptor.droppableId],f=pj({impact:t,draggable:r,draggables:i,afterCritical:a,droppable:u||d,viewport:s}),h=Fr(f,r.client.borderBox.center);return h},KF=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,s=e.home,a=e.viewport,i=e.onLiftImpact;if(!n.at||r!=="DROP"){var l=hj({draggables:t,impact:i,destination:s,viewport:a,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=Re({},n,{displaced:ml});return{impact:c,didDropInsideDroppable:!0}},YF=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(s){if(s.type!=="DROP"){n(s);return}var a=t(),i=s.payload.reason;if(a.phase==="COLLECTING"){r(UF({reason:i}));return}if(a.phase!=="IDLE"){var l=a.phase==="DROP_PENDING"&&a.isWaiting;l&&pe(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||pe();var c=a.critical,u=a.dimensions,d=u.draggables[a.critical.draggable.id],f=KF({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),h=f.impact,p=f.didDropInsideDroppable,y=p?jg(h):null,v=p?Fd(h):null,x={index:c.draggable.index,droppableId:c.droppable.id},w={draggableId:d.descriptor.id,type:d.descriptor.type,source:x,reason:i,mode:a.movementMode,destination:y,combine:v},b=qF({impact:h,draggable:d,dimensions:u,viewport:a.viewport,afterCritical:a.afterCritical}),g={critical:a.critical,afterCritical:a.afterCritical,result:w,impact:h},S=!Hs(a.current.client.offset,b)||!!w.combine;if(!S){r(Ag({completed:g}));return}var N=GF({current:a.current.client.offset,destination:b,reason:i}),_={newHomeClientOffset:b,dropDuration:N,completed:g};r(FF(_))}}}},wj=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function QF(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function JF(e){var t=e.onWindowScroll;function r(){t(wj())}var n=hl(r),s=QF(n),a=Vs;function i(){return a!==Vs}function l(){i()&&pe(),a=rn(window,[s])}function c(){i()||pe(),n.cancel(),a(),a=Vs}return{start:l,stop:c,isActive:i}}var XF=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},ZF=function(e){var t=JF({onWindowScroll:function(n){e.dispatch(DF({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&XF(n)&&t.stop(),r(n)}}},e4=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),s=function(i){t||r||(t=!0,e(i),clearTimeout(n))};return s.wasCalled=function(){return t},s},t4=function(){var e=[],t=function(a){var i=Ng(e,function(u){return u.timerId===a});i===-1&&pe();var l=e.splice(i,1),c=l[0];c.callback()},r=function(a){var i=setTimeout(function(){return t(i)}),l={timerId:i,callback:a};e.push(l)},n=function(){if(e.length){var a=[].concat(e);e.length=0,a.forEach(function(i){clearTimeout(i.timerId),i.callback()})}};return{add:r,flush:n}},r4=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},n4=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},s4=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&s},bi=function(t,r){r()},xc=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},Yf=function(t,r,n,s){if(!t){n(s(r));return}var a=e4(n),i={announce:a};t(r,i),a.wasCalled()||n(s(r))},a4=function(e,t){var r=t4(),n=null,s=function(h,p){n&&pe(),bi("onBeforeCapture",function(){var y=e().onBeforeCapture;if(y){var v={draggableId:h,mode:p};y(v)}})},a=function(h,p){n&&pe(),bi("onBeforeDragStart",function(){var y=e().onBeforeDragStart;y&&y(xc(h,p))})},i=function(h,p){n&&pe();var y=xc(h,p);n={mode:p,lastCritical:h,lastLocation:y.source,lastCombine:null},r.add(function(){bi("onDragStart",function(){return Yf(e().onDragStart,y,t,Vc.onDragStart)})})},l=function(h,p){var y=jg(p),v=Fd(p);n||pe();var x=!s4(h,n.lastCritical);x&&(n.lastCritical=h);var w=!r4(n.lastLocation,y);w&&(n.lastLocation=y);var b=!n4(n.lastCombine,v);if(b&&(n.lastCombine=v),!(!x&&!w&&!b)){var g=Re({},xc(h,n.mode),{combine:v,destination:y});r.add(function(){bi("onDragUpdate",function(){return Yf(e().onDragUpdate,g,t,Vc.onDragUpdate)})})}},c=function(){n||pe(),r.flush()},u=function(h){n||pe(),n=null,bi("onDragEnd",function(){return Yf(e().onDragEnd,h,t,Vc.onDragEnd)})},d=function(){if(n){var h=Re({},xc(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(h)}};return{beforeCapture:s,beforeStart:a,start:i,update:l,flush:c,drop:u,abort:d}},o4=function(e,t){var r=a4(e,t);return function(n){return function(s){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var i=a.payload.critical;r.beforeStart(i,a.payload.movementMode),s(a),r.start(i,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var l=a.payload.completed.result;r.flush(),s(a),r.drop(l);return}if(s(a),a.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},i4=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&pe(),e.dispatch(Ag({completed:n.completed}))}}},l4=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(s){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&n(),s(a),a.type==="DROP_ANIMATE"){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(xj())}};r=requestAnimationFrame(function(){r=null,t=rn(window,[i])})}}}},c4=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},u4=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var s=n.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},d4=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},f4=function(e){return function(t){return function(r){return function(n){if(d4(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var s=t.getState();s.phase!=="DRAGGING"&&pe(),e.start(s);return}r(n),e.scroll(t.getState())}}}},h4=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(yj({reason:n.reason})))}}}},p4=EN,m4=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,s=e.getResponders,a=e.announce,i=e.autoScroller;return CN(jF,p4(tL(WF(n),c4(t),zF(t),YF,i4,l4,h4,f4(i),ZF,u4(r),o4(s,a))))},Qf=function(){return{additions:{},removals:{},modified:{}}};function g4(e){var t=e.registry,r=e.callbacks,n=Qf(),s=null,a=function(){s||(r.collectionStarting(),s=requestAnimationFrame(function(){s=null;var d=n,f=d.additions,h=d.removals,p=d.modified,y=Object.keys(f).map(function(w){return t.draggable.getById(w).getDimension(qt)}).sort(function(w,b){return w.descriptor.index-b.descriptor.index}),v=Object.keys(p).map(function(w){var b=t.droppable.getById(w),g=b.callbacks.getScrollWhileDragging();return{droppableId:w,scroll:g}}),x={additions:y,removals:Object.keys(h),modified:v};n=Qf(),r.publish(x)}))},i=function(d){var f=d.descriptor.id;n.additions[f]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],a()},l=function(d){var f=d.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],a()},c=function(){s&&(cancelAnimationFrame(s),s=null,n=Qf())};return{add:i,remove:l,stop:c}}var Sj=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,s=e.width,a=Fr({x:r,y:t},{x:s,y:n}),i={x:Math.max(0,a.x),y:Math.max(0,a.y)};return i},_j=function(){var e=document.documentElement;return e||pe(),e},Nj=function(){var e=_j(),t=Sj({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},v4=function(){var e=wj(),t=Nj(),r=e.y,n=e.x,s=_j(),a=s.clientWidth,i=s.clientHeight,l=n+a,c=r+i,u=Sn({top:r,left:n,right:l,bottom:c}),d={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:qt,displacement:qt}}};return d},y4=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,s=v4(),a=s.scroll.current,i=t.droppable,l=n.droppable.getAllByType(i.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(a,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(f){return f.getDimension(a)}),u={draggables:ZN(c),droppables:XN(l)},d={dimensions:u,critical:t,viewport:s};return d};function qx(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var x4=function(e,t){var r=null,n=g4({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=function(p,y){e.droppable.exists(p)||pe(),r&&t.updateDroppableIsEnabled({id:p,isEnabled:y})},a=function(p,y){r&&(e.droppable.exists(p)||pe(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:y}))},i=function(p,y){r&&(e.droppable.exists(p)||pe(),t.updateDroppableScroll({id:p,newScroll:y}))},l=function(p,y){r&&e.droppable.getById(p).callbacks.scroll(y)},c=function(){if(r){n.stop();var p=r.critical.droppable;e.droppable.getAllByType(p.type).forEach(function(y){return y.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(p){r||pe();var y=r.critical.draggable;p.type==="ADDITION"&&qx(e,y,p.value)&&n.add(p.value),p.type==="REMOVAL"&&qx(e,y,p.value)&&n.remove(p.value)},d=function(p){r&&pe();var y=e.draggable.getById(p.draggableId),v=e.droppable.getById(y.descriptor.droppableId),x={draggable:y.descriptor,droppable:v.descriptor},w=e.subscribe(u);return r={critical:x,unsubscribe:w},y4({critical:x,registry:e,scrollOptions:p.scrollOptions})},f={updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:i,startPublishing:d,stopPublishing:c};return f},jj=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},b4=function(e){window.scrollBy(e.x,e.y)},w4=Ht(function(e){return $d(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),S4=function(t,r){var n=ia(w4(r),function(s){return s.frame||pe(),cj(s.frame.pageMarginBox)(t)});return n},_4=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var s=n[r];return s.frame?s:null}var a=S4(t,n);return a},Gs={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},N4=function(e,t){var r=e[t.size]*Gs.startFromPercentage,n=e[t.size]*Gs.maxScrollAtPercentage,s={startScrollingFrom:r,maxScrollValueAt:n};return s},Cj=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,s=r-t;if(s===0)return 0;var a=n-t,i=a/s;return i},Og=1,j4=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Gs.maxPixelScroll;if(e===t.startScrollingFrom)return Og;var r=Cj({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,s=Gs.maxPixelScroll*Gs.ease(n);return Math.ceil(s)},Kx=Gs.durationDampening.accelerateAt,Yx=Gs.durationDampening.stopDampeningAt,C4=function(e,t){var r=t,n=Yx,s=Date.now(),a=s-r;if(a>=Yx)return e;if(a<Kx)return Og;var i=Cj({startOfRange:Kx,endOfRange:n,current:a}),l=e*Gs.ease(i);return Math.ceil(l)},Qx=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,s=e.shouldUseTimeDampening,a=j4(t,r);return a===0?0:s?Math.max(C4(a,n),Og):a},Jx=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,s=e.axis,a=e.shouldUseTimeDampening,i=N4(t,s),l=r[s.end]<r[s.start];return l?Qx({distanceToEdge:r[s.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a}):-1*Qx({distanceToEdge:r[s.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:a})},E4=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,s=r.height>t.height,a=r.width>t.width;return!a&&!s?n:a&&s?null:{x:a?0:n.x,y:s?0:n.y}},P4=QN(function(e){return e===0?0:e}),Ej=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,s=e.center,a=e.shouldUseTimeDampening,i={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},l=Jx({container:r,distanceToEdges:i,dragStartTime:t,axis:Cg,shouldUseTimeDampening:a}),c=Jx({container:r,distanceToEdges:i,dragStartTime:t,axis:rj,shouldUseTimeDampening:a}),u=P4({x:c,y:l});if(Hs(u,qt))return null;var d=E4({container:r,subject:n,proposedScroll:u});return d?Hs(d,qt)?null:d:null},T4=QN(function(e){return e===0?0:e>0?1:-1}),Bg=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,s=t.change,a=Xt(r,s),i={x:e(a.x,n.x),y:e(a.y,n.y)};return Hs(i,qt)?null:i}}(),Pj=function(t){var r=t.max,n=t.current,s=t.change,a={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},i=T4(s),l=Bg({max:a,current:n,change:i});return!l||i.x!==0&&l.x===0||i.y!==0&&l.y===0},Mg=function(t,r){return Pj({current:t.scroll.current,max:t.scroll.max,change:r})},k4=function(t,r){if(!Mg(t,r))return null;var n=t.scroll.max,s=t.scroll.current;return Bg({current:s,max:n,change:r})},Lg=function(t,r){var n=t.frame;return n?Pj({current:n.scroll.current,max:n.scroll.max,change:r}):!1},R4=function(t,r){var n=t.frame;return!n||!Lg(t,r)?null:Bg({current:n.scroll.current,max:n.scroll.max,change:r})},A4=function(e){var t=e.viewport,r=e.subject,n=e.center,s=e.dragStartTime,a=e.shouldUseTimeDampening,i=Ej({dragStartTime:s,container:t.frame,subject:r,center:n,shouldUseTimeDampening:a});return i&&Mg(t,i)?i:null},I4=function(e){var t=e.droppable,r=e.subject,n=e.center,s=e.dragStartTime,a=e.shouldUseTimeDampening,i=t.frame;if(!i)return null;var l=Ej({dragStartTime:s,container:i.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:a});return l&&Lg(t,l)?l:null},Xx=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,s=e.scrollWindow,a=e.scrollDroppable,i=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,d=A4({dragStartTime:r,viewport:u,subject:c,center:i,shouldUseTimeDampening:n});if(d){s(d);return}}var f=_4({center:i,destination:Wr(t.impact),droppables:t.dimensions.droppables});if(f){var h=I4({dragStartTime:r,droppable:f,subject:c,center:i,shouldUseTimeDampening:n});h&&a(f.descriptor.id,h)}},D4=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=hl(t),s=hl(r),a=null,i=function(d){a||pe();var f=a,h=f.shouldUseTimeDampening,p=f.dragStartTime;Xx({state:d,scrollWindow:n,scrollDroppable:s,dragStartTime:p,shouldUseTimeDampening:h})},l=function(d){a&&pe();var f=Date.now(),h=!1,p=function(){h=!0};Xx({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),a={dragStartTime:f,shouldUseTimeDampening:h},h&&i(d)},c=function(){a&&(n.cancel(),s.cancel(),a=null)};return{start:l,stop:c,scroll:i}},O4=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,s=function(u,d){var f=Xt(u.current.client.selection,d);t({client:f})},a=function(u,d){if(!Lg(u,d))return d;var f=R4(u,d);if(!f)return r(u.descriptor.id,d),null;var h=Fr(d,f);r(u.descriptor.id,h);var p=Fr(d,h);return p},i=function(u,d,f){if(!u||!Mg(d,f))return f;var h=k4(d,f);if(!h)return n(f),null;var p=Fr(f,h);n(p);var y=Fr(f,p);return y},l=function(u){var d=u.scrollJumpRequest;if(d){var f=Wr(u.impact);f||pe();var h=a(u.dimensions.droppables[f],d);if(h){var p=u.viewport,y=i(u.isWindowScrollAllowed,p,h);y&&s(u,y)}}};return l},B4=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,s=D4({scrollWindow:r,scrollDroppable:t}),a=O4({move:n,scrollWindow:r,scrollDroppable:t}),i=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){s.scroll(u);return}u.scrollJumpRequest&&a(u)}},l={scroll:i,start:s.start,stop:s.stop};return l},Ko="data-rbd",Yo=function(){var e=Ko+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Rp=function(){var e=Ko+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),M4=function(){var e=Ko+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Zx={contextId:Ko+"-scroll-container-context-id"},L4=function(t){return function(r){return"["+r+'="'+t+'"]'}},wi=function(t,r){return t.map(function(n){var s=n.styles[r];return s?n.selector+" { "+s+" }":""}).join(" ")},$4="pointer-events: none;",F4=function(e){var t=L4(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Yo.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:$4,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+Wi.outOfTheWay+`;
    `;return{selector:t(Rp.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),s={selector:t(M4.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},i=[n,r,s,a];return{always:wi(i,"always"),resting:wi(i,"resting"),dragging:wi(i,"dragging"),dropAnimating:wi(i,"dropAnimating"),userCancel:wi(i,"userCancel")}},Vr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?m.useLayoutEffect:m.useEffect,Jf=function(){var t=document.querySelector("head");return t||pe(),t},eb=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function U4(e,t){var r=nt(function(){return F4(e)},[e]),n=m.useRef(null),s=m.useRef(null),a=Pe(Ht(function(f){var h=s.current;h||pe(),h.textContent=f}),[]),i=Pe(function(f){var h=n.current;h||pe(),h.textContent=f},[]);Vr(function(){!n.current&&!s.current||pe();var f=eb(t),h=eb(t);return n.current=f,s.current=h,f.setAttribute(Ko+"-always",e),h.setAttribute(Ko+"-dynamic",e),Jf().appendChild(f),Jf().appendChild(h),i(r.always),a(r.resting),function(){var p=function(v){var x=v.current;x||pe(),Jf().removeChild(x),v.current=null};p(n),p(s)}},[t,i,a,r.always,r.resting,e]);var l=Pe(function(){return a(r.dragging)},[a,r.dragging]),c=Pe(function(f){if(f==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),u=Pe(function(){s.current&&a(r.resting)},[a,r.resting]),d=nt(function(){return{dragging:l,dropping:c,resting:u}},[l,c,u]);return d}var Tj=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Wd(e){return e instanceof Tj(e).HTMLElement}function z4(e,t){var r="["+Yo.contextId+'="'+e+'"]',n=JN(document.querySelectorAll(r));if(!n.length)return null;var s=ia(n,function(a){return a.getAttribute(Yo.draggableId)===t});return!s||!Wd(s)?null:s}function W4(e){var t=m.useRef({}),r=m.useRef(null),n=m.useRef(null),s=m.useRef(!1),a=Pe(function(h,p){var y={id:h,focus:p};return t.current[h]=y,function(){var x=t.current,w=x[h];w!==y&&delete x[h]}},[]),i=Pe(function(h){var p=z4(e,h);p&&p!==document.activeElement&&p.focus()},[e]),l=Pe(function(h,p){r.current===h&&(r.current=p)},[]),c=Pe(function(){n.current||s.current&&(n.current=requestAnimationFrame(function(){n.current=null;var h=r.current;h&&i(h)}))},[i]),u=Pe(function(h){r.current=null;var p=document.activeElement;p&&p.getAttribute(Yo.draggableId)===h&&(r.current=h)},[]);Vr(function(){return s.current=!0,function(){s.current=!1;var h=n.current;h&&cancelAnimationFrame(h)}},[]);var d=nt(function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[a,u,c,l]);return d}function V4(){var e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){var p=t.indexOf(f);p!==-1&&t.splice(p,1)}}function n(f){t.length&&t.forEach(function(h){return h(f)})}function s(f){return e.draggables[f]||null}function a(f){var h=s(f);return h||pe(),h}var i={register:function(h){e.draggables[h.descriptor.id]=h,n({type:"ADDITION",value:h})},update:function(h,p){var y=e.draggables[p.descriptor.id];y&&y.uniqueId===h.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:function(h){var p=h.descriptor.id,y=s(p);y&&h.uniqueId===y.uniqueId&&(delete e.draggables[p],n({type:"REMOVAL",value:h}))},getById:a,findById:s,exists:function(h){return!!s(h)},getAllByType:function(h){return Au(e.draggables).filter(function(p){return p.descriptor.type===h})}};function l(f){return e.droppables[f]||null}function c(f){var h=l(f);return h||pe(),h}var u={register:function(h){e.droppables[h.descriptor.id]=h},unregister:function(h){var p=l(h.descriptor.id);p&&h.uniqueId===p.uniqueId&&delete e.droppables[h.descriptor.id]},getById:c,findById:l,exists:function(h){return!!l(h)},getAllByType:function(h){return Au(e.droppables).filter(function(p){return p.descriptor.type===h})}};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:u,subscribe:r,clean:d}}function H4(){var e=nt(V4,[]);return m.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var $g=Z.createContext(null),Du=function(){var e=document.body;return e||pe(),e},G4={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},q4=function(t){return"rbd-announcement-"+t};function K4(e){var t=nt(function(){return q4(e)},[e]),r=m.useRef(null);m.useEffect(function(){var a=document.createElement("div");return r.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Re(a.style,G4),Du().appendChild(a),function(){setTimeout(function(){var c=Du();c.contains(a)&&c.removeChild(a),a===r.current&&(r.current=null)})}},[t]);var n=Pe(function(s){var a=r.current;if(a){a.textContent=s;return}},[]);return n}var Y4=0,Q4={separator:"::"};function Fg(e,t){return t===void 0&&(t=Q4),nt(function(){return""+e+t.separator+Y4++},[t.separator,e])}function J4(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function X4(e){var t=e.contextId,r=e.text,n=Fg("hidden-text",{separator:"-"}),s=nt(function(){return J4({contextId:t,uniqueId:n})},[n,t]);return m.useEffect(function(){var i=document.createElement("div");return i.id=s,i.textContent=r,i.style.display="none",Du().appendChild(i),function(){var c=Du();c.contains(i)&&c.removeChild(i)}},[s,r]),s}var Vd=Z.createContext(null);function kj(e){var t=m.useRef(e);return m.useEffect(function(){t.current=e}),t}function Z4(){var e=null;function t(){return!!e}function r(i){return i===e}function n(i){e&&pe();var l={abandon:i};return e=l,l}function s(){e||pe(),e=null}function a(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:r,claim:n,release:s,tryAbandon:a}}var e3=9,t3=13,Ug=27,Rj=32,r3=33,n3=34,s3=35,a3=36,o3=37,i3=38,l3=39,c3=40,bc,u3=(bc={},bc[t3]=!0,bc[e3]=!0,bc),Aj=function(e){u3[e.keyCode]&&e.preventDefault()},Hd=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=ia(t,function(n){return"on"+n in document});return r||e}(),Ij=0,tb=5;function d3(e,t){return Math.abs(t.x-e.x)>=tb||Math.abs(t.y-e.y)>=tb}var rb={type:"IDLE"};function f3(e){var t=e.cancel,r=e.completed,n=e.getPhase,s=e.setPhase;return[{eventName:"mousemove",fn:function(i){var l=i.button,c=i.clientX,u=i.clientY;if(l===Ij){var d={x:c,y:u},f=n();if(f.type==="DRAGGING"){i.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&pe();var h=f.point;if(d3(h,d)){i.preventDefault();var p=f.actions.fluidLift(d);s({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(i){var l=n();if(l.type!=="DRAGGING"){t();return}i.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(i){n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:function(i){var l=n();if(l.type==="PENDING"){t();return}if(i.keyCode===Ug){i.preventDefault(),t();return}Aj(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(i){var l=n();if(l.type==="IDLE"&&pe(),l.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:Hd,fn:t}]}function h3(e){var t=m.useRef(rb),r=m.useRef(Vs),n=nt(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===Ij&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var h=e.findClosestDraggableId(f);if(h){var p=e.tryGetLock(h,i,{sourceEvent:f});if(p){f.preventDefault();var y={x:f.clientX,y:f.clientY};r.current(),u(p,y)}}}}}},[e]),s=nt(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var h=e.findClosestDraggableId(f);if(h){var p=e.findOptionsForDraggable(h);p&&(p.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}}}},[e]),a=Pe(function(){var f={passive:!1,capture:!0};r.current=rn(window,[s,n],f)},[s,n]),i=Pe(function(){var d=t.current;d.type!=="IDLE"&&(t.current=rb,r.current(),a())},[a]),l=Pe(function(){var d=t.current;i(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[i]),c=Pe(function(){var f={capture:!0,passive:!1},h=f3({cancel:l,completed:i,getPhase:function(){return t.current},setPhase:function(y){t.current=y}});r.current=rn(window,h,f)},[l,i]),u=Pe(function(f,h){t.current.type!=="IDLE"&&pe(),t.current={type:"PENDING",point:h,actions:f},c()},[c]);Vr(function(){return a(),function(){r.current()}},[a])}var eo;function p3(){}var m3=(eo={},eo[n3]=!0,eo[r3]=!0,eo[a3]=!0,eo[s3]=!0,eo);function g3(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===Ug){a.preventDefault(),r();return}if(a.keyCode===Rj){a.preventDefault(),n();return}if(a.keyCode===c3){a.preventDefault(),e.moveDown();return}if(a.keyCode===i3){a.preventDefault(),e.moveUp();return}if(a.keyCode===l3){a.preventDefault(),e.moveRight();return}if(a.keyCode===o3){a.preventDefault(),e.moveLeft();return}if(m3[a.keyCode]){a.preventDefault();return}Aj(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Hd,fn:r}]}function v3(e){var t=m.useRef(p3),r=nt(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==Rj)return;var i=e.findClosestDraggableId(a);if(!i)return;var l=e.tryGetLock(i,d,{sourceEvent:a});if(!l)return;a.preventDefault();var c=!0,u=l.snapLift();t.current();function d(){c||pe(),c=!1,t.current(),n()}t.current=rn(window,g3(u,d),{capture:!0,passive:!1})}}},[e]),n=Pe(function(){var a={passive:!1,capture:!0};t.current=rn(window,[r],a)},[r]);Vr(function(){return n(),function(){t.current()}},[n])}var Xf={type:"IDLE"},y3=120,x3=.15;function b3(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(s){s.preventDefault()}},{eventName:"keydown",fn:function(s){if(r().type!=="DRAGGING"){t();return}s.keyCode===Ug&&s.preventDefault(),t()}},{eventName:Hd,fn:t}]}function w3(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;var l=a.touches[0],c=l.clientX,u=l.clientY,d={x:c,y:u};a.preventDefault(),i.actions.move(d)}},{eventName:"touchend",fn:function(a){var i=n();if(i.type!=="DRAGGING"){t();return}a.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(a){if(n().type!=="DRAGGING"){t();return}a.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(a){var i=n();i.type==="IDLE"&&pe();var l=a.touches[0];if(l){var c=l.force>=x3;if(c){var u=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){u&&t();return}if(u){if(i.hasMoved){a.preventDefault();return}t();return}a.preventDefault()}}}},{eventName:Hd,fn:t}]}function S3(e){var t=m.useRef(Xf),r=m.useRef(Vs),n=Pe(function(){return t.current},[]),s=Pe(function(p){t.current=p},[]),a=nt(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var y=e.findClosestDraggableId(p);if(y){var v=e.tryGetLock(y,l,{sourceEvent:p});if(v){var x=p.touches[0],w=x.clientX,b=x.clientY,g={x:w,y:b};r.current(),f(v,g)}}}}}},[e]),i=Pe(function(){var p={capture:!0,passive:!1};r.current=rn(window,[a],p)},[a]),l=Pe(function(){var h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),s(Xf),r.current(),i())},[i,s]),c=Pe(function(){var h=t.current;l(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[l]),u=Pe(function(){var p={capture:!0,passive:!1},y={cancel:c,completed:l,getPhase:n},v=rn(window,w3(y),p),x=rn(window,b3(y),p);r.current=function(){v(),x()}},[c,n,l]),d=Pe(function(){var p=n();p.type!=="PENDING"&&pe();var y=p.actions.fluidLift(p.point);s({type:"DRAGGING",actions:y,hasMoved:!1})},[n,s]),f=Pe(function(p,y){n().type!=="IDLE"&&pe();var v=setTimeout(d,y3);s({type:"PENDING",point:y,actions:p,longPressTimerId:v}),u()},[u,n,s,d]);Vr(function(){return i(),function(){r.current();var y=n();y.type==="PENDING"&&(clearTimeout(y.longPressTimerId),s(Xf))}},[n,i,s]),Vr(function(){var p=rn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var _3={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Dj(e,t){if(t==null)return!1;var r=!!_3[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:Dj(e,t.parentElement)}function N3(e,t){var r=t.target;return Wd(r)?Dj(e,r):!1}var j3=function(e){return Sn(e.getBoundingClientRect()).center};function C3(e){return e instanceof Tj(e).Element}var E3=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=ia(t,function(n){return n in Element.prototype});return r||e}();function Oj(e,t){return e==null?null:e[E3](t)?e:Oj(e.parentElement,t)}function P3(e,t){return e.closest?e.closest(t):Oj(e,t)}function T3(e){return"["+Yo.contextId+'="'+e+'"]'}function k3(e,t){var r=t.target;if(!C3(r))return null;var n=T3(e),s=P3(r,n);return!s||!Wd(s)?null:s}function R3(e,t){var r=k3(e,t);return r?r.getAttribute(Yo.draggableId):null}function A3(e,t){var r="["+Rp.contextId+'="'+e+'"]',n=JN(document.querySelectorAll(r)),s=ia(n,function(a){return a.getAttribute(Rp.id)===t});return!s||!Wd(s)?null:s}function I3(e){e.preventDefault()}function wc(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function Bj(e){var t=e.lockAPI,r=e.store,n=e.registry,s=e.draggableId;if(t.isClaimed())return!1;var a=n.draggable.findById(s);return!(!a||!a.options.isEnabled||!jj(r.getState(),s))}function D3(e){var t=e.lockAPI,r=e.contextId,n=e.store,s=e.registry,a=e.draggableId,i=e.forceSensorStop,l=e.sourceEvent,c=Bj({lockAPI:t,store:n,registry:s,draggableId:a});if(!c)return null;var u=s.draggable.getById(a),d=A3(r,u.descriptor.id);if(!d||l&&!u.options.canDragInteractiveElements&&N3(d,l))return null;var f=t.claim(i||Vs),h="PRE_DRAG";function p(){return u.options.shouldRespectForcePress}function y(){return t.isActive(f)}function v(_,j){wc({expected:_,phase:h,isLockActive:y,shouldWarn:!0})&&n.dispatch(j())}var x=v.bind(null,"DRAGGING");function w(_){function j(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(j(),h!=="PRE_DRAG"&&pe()),n.dispatch(EF(_.liftActionArgs)),h="DRAGGING";function C(I,P){if(P===void 0&&(P={shouldBlockNextClick:!1}),_.cleanup(),P.shouldBlockNextClick){var F=rn(window,[{eventName:"click",fn:I3,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(F)}j(),n.dispatch(yj({reason:I}))}return Re({isActive:function(){return wc({expected:"DRAGGING",phase:h,isLockActive:y,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(P){return C("DROP",P)},cancel:function(P){return C("CANCEL",P)}},_.actions)}function b(_){var j=hl(function(I){x(function(){return vj({client:I})})}),C=w({liftActionArgs:{id:a,clientSelection:_,movementMode:"FLUID"},cleanup:function(){return j.cancel()},actions:{move:j}});return Re({},C,{move:j})}function g(){var _={moveUp:function(){return x(BF)},moveRight:function(){return x(LF)},moveDown:function(){return x(MF)},moveLeft:function(){return x($F)}};return w({liftActionArgs:{id:a,clientSelection:j3(d),movementMode:"SNAP"},cleanup:Vs,actions:_})}function S(){var _=wc({expected:"PRE_DRAG",phase:h,isLockActive:y,shouldWarn:!0});_&&t.release()}var N={isActive:function(){return wc({expected:"PRE_DRAG",phase:h,isLockActive:y,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:b,snapLift:g,abort:S};return N}var O3=[h3,v3,S3];function B3(e){var t=e.contextId,r=e.store,n=e.registry,s=e.customSensors,a=e.enableDefaultSensors,i=[].concat(a?O3:[],s||[]),l=m.useState(function(){return Z4()})[0],c=Pe(function(b,g){b.isDragging&&!g.isDragging&&l.tryAbandon()},[l]);Vr(function(){var b=r.getState(),g=r.subscribe(function(){var S=r.getState();c(b,S),b=S});return g},[l,r,c]),Vr(function(){return l.tryAbandon},[l.tryAbandon]);for(var u=Pe(function(w){return Bj({lockAPI:l,registry:n,store:r,draggableId:w})},[l,n,r]),d=Pe(function(w,b,g){return D3({lockAPI:l,registry:n,contextId:t,store:r,draggableId:w,forceSensorStop:b,sourceEvent:g&&g.sourceEvent?g.sourceEvent:null})},[t,l,n,r]),f=Pe(function(w){return R3(t,w)},[t]),h=Pe(function(w){var b=n.draggable.findById(w);return b?b.options:null},[n.draggable]),p=Pe(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Rg()))},[l,r]),y=Pe(l.isClaimed,[l]),v=nt(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:y}},[u,d,f,h,p,y]),x=0;x<i.length;x++)i[x](v)}var M3=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function Si(e){return e.current||pe(),e.current}function L3(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,s=e.nonce,a=e.dragHandleUsageInstructions,i=m.useRef(null),l=kj(e),c=Pe(function(){return M3(l.current)},[l]),u=K4(t),d=X4({contextId:t,text:a}),f=U4(t,s),h=Pe(function(I){Si(i).dispatch(I)},[]),p=nt(function(){return jx({publishWhileDragging:TF,updateDroppableScroll:RF,updateDroppableIsEnabled:AF,updateDroppableIsCombineEnabled:IF,collectionStarting:kF},h)},[h]),y=H4(),v=nt(function(){return x4(y,p)},[y,p]),x=nt(function(){return B4(Re({scrollWindow:b4,scrollDroppable:v.scrollDroppable},jx({move:vj},h)))},[v.scrollDroppable,h]),w=W4(t),b=nt(function(){return m4({announce:u,autoScroller:x,dimensionMarshal:v,focusMarshal:w,getResponders:c,styleMarshal:f})},[u,x,v,w,c,f]);i.current=b;var g=Pe(function(){var I=Si(i),P=I.getState();P.phase!=="IDLE"&&I.dispatch(Rg())},[]),S=Pe(function(){var I=Si(i).getState();return I.isDragging||I.phase==="DROP_ANIMATING"},[]),N=nt(function(){return{isDragging:S,tryAbort:g}},[S,g]);r(N);var _=Pe(function(I){return jj(Si(i).getState(),I)},[]),j=Pe(function(){return ma(Si(i).getState())},[]),C=nt(function(){return{marshal:v,focus:w,contextId:t,canLift:_,isMovementAllowed:j,dragHandleUsageInstructionsId:d,registry:y}},[t,v,d,w,_,j,y]);return B3({contextId:t,store:b,registry:y,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),m.useEffect(function(){return g},[g]),Z.createElement(Vd.Provider,{value:C},Z.createElement(oL,{context:$g,store:b},e.children))}var $3=0;function F3(){return nt(function(){return""+$3++},[])}function U3(e){var t=F3(),r=e.dragHandleUsageInstructions||Vc.dragHandleUsageInstructions;return Z.createElement(v$,null,function(n){return Z.createElement(L3,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var Mj=function(t){return function(r){return t===r}},z3=Mj("scroll"),W3=Mj("auto"),nb=function(t,r){return r(t.overflowX)||r(t.overflowY)},V3=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return nb(n,z3)||nb(n,W3)},H3=function(){return!1},G3=function e(t){return t==null?null:t===document.body?H3()?t:null:t===document.documentElement?null:V3(t)?t:e(t.parentElement)},Ap=function(e){return{x:e.scrollLeft,y:e.scrollTop}},q3=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},K3=function(e){var t=G3(e),r=q3(e);return{closestScrollable:t,isFixedOnPage:r}},Y3=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,s=e.isFixedOnPage,a=e.direction,i=e.client,l=e.page,c=e.closest,u=function(){if(!c)return null;var p=c.scrollSize,y=c.client,v=Sj({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:y,scrollSize:p,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:v,diff:{value:qt,displacement:qt}}}}(),d=a==="vertical"?Cg:rj,f=qo({page:l,withPlaceholder:null,axis:d,frame:u}),h={descriptor:t,isCombineEnabled:n,isFixedOnPage:s,axis:d,isEnabled:r,client:i,page:l,frame:u,subject:f};return h},Q3=function(t,r){var n=GN(t);if(!r||t!==r)return n;var s=n.paddingBox.top-r.scrollTop,a=n.paddingBox.left-r.scrollLeft,i=s+r.scrollHeight,l=a+r.scrollWidth,c={top:s,right:l,bottom:i,left:a},u=wg(c,n.border),d=Sg({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return d},J3=function(e){var t=e.ref,r=e.descriptor,n=e.env,s=e.windowScroll,a=e.direction,i=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,u=n.closestScrollable,d=Q3(t,u),f=Tu(d,s),h=function(){if(!u)return null;var y=GN(u),v={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:y,page:Tu(y,s),scroll:Ap(u),scrollSize:v,shouldClipSubject:c}}(),p=Y3({descriptor:r,isEnabled:!i,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:a,client:d,page:f,closest:h});return p},X3={passive:!1},Z3={passive:!0},sb=function(e){return e.shouldPublishImmediately?X3:Z3};function Ou(e){var t=m.useContext(e);return t||pe(),t}var Sc=function(t){return t&&t.env.closestScrollable||null};function e5(e){var t=m.useRef(null),r=Ou(Vd),n=Fg("droppable"),s=r.registry,a=r.marshal,i=kj(e),l=nt(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=m.useRef(l),u=nt(function(){return Ht(function(S,N){t.current||pe();var _={x:S,y:N};a.updateDroppableScroll(l.id,_)})},[l.id,a]),d=Pe(function(){var S=t.current;return!S||!S.env.closestScrollable?qt:Ap(S.env.closestScrollable)},[]),f=Pe(function(){var S=d();u(S.x,S.y)},[d,u]),h=nt(function(){return hl(f)},[f]),p=Pe(function(){var S=t.current,N=Sc(S);S&&N||pe();var _=S.scrollOptions;if(_.shouldPublishImmediately){f();return}h()},[h,f]),y=Pe(function(S,N){t.current&&pe();var _=i.current,j=_.getDroppableRef();j||pe();var C=K3(j),I={ref:j,descriptor:l,env:C,scrollOptions:N};t.current=I;var P=J3({ref:j,descriptor:l,env:C,windowScroll:S,direction:_.direction,isDropDisabled:_.isDropDisabled,isCombineEnabled:_.isCombineEnabled,shouldClipSubject:!_.ignoreContainerClipping}),F=C.closestScrollable;return F&&(F.setAttribute(Zx.contextId,r.contextId),F.addEventListener("scroll",p,sb(I.scrollOptions))),P},[r.contextId,l,p,i]),v=Pe(function(){var S=t.current,N=Sc(S);return S&&N||pe(),Ap(N)},[]),x=Pe(function(){var S=t.current;S||pe();var N=Sc(S);t.current=null,N&&(h.cancel(),N.removeAttribute(Zx.contextId),N.removeEventListener("scroll",p,sb(S.scrollOptions)))},[p,h]),w=Pe(function(S){var N=t.current;N||pe();var _=Sc(N);_||pe(),_.scrollTop+=S.y,_.scrollLeft+=S.x},[]),b=nt(function(){return{getDimensionAndWatchScroll:y,getScrollWhileDragging:v,dragStopped:x,scroll:w}},[x,y,v,w]),g=nt(function(){return{uniqueId:n,descriptor:l,callbacks:b}},[b,l,n]);Vr(function(){return c.current=g.descriptor,s.droppable.register(g),function(){t.current&&x(),s.droppable.unregister(g)}},[b,l,x,g,a,s.droppable]),Vr(function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Vr(function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function Zf(){}var ab={width:0,height:0,margin:_$},t5=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate;return r||s==="close"?ab:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},r5=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate,a=t5({isAnimatingOpenOnMount:r,placeholder:n,animate:s});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?Wi.placeholder:null}};function n5(e){var t=m.useRef(null),r=Pe(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,s=e.onTransitionEnd,a=e.onClose,i=e.contextId,l=m.useState(e.animate==="open"),c=l[0],u=l[1];m.useEffect(function(){return c?n!=="open"?(r(),u(!1),Zf):t.current?Zf:(t.current=setTimeout(function(){t.current=null,u(!1)}),r):Zf},[n,c,r]);var d=Pe(function(h){h.propertyName==="height"&&(s(),n==="close"&&a())},[n,a,s]),f=r5({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Z.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":i,onTransitionEnd:d,ref:e.innerRef})}var s5=Z.memo(n5),zg=Z.createContext(null),a5=function(e){jN(t,e);function t(){for(var n,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=e.call.apply(e,[this].concat(a))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(s,a){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)},t}(Z.PureComponent),ob={dragging:5e3,dropAnimating:4500},o5=function(t,r){return r?Wi.drop(r.duration):t?Wi.snap:Wi.fluid},i5=function(t,r){return t?r?vl.opacity.drop:vl.opacity.combining:null},l5=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function c5(e){var t=e.dimension,r=t.client,n=e.offset,s=e.combineWith,a=e.dropping,i=!!s,l=l5(e),c=!!a,u=c?Tp.drop(n,i):Tp.moveTo(n),d={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:o5(l,a),transform:u,opacity:i5(i,c),zIndex:c?ob.dropAnimating:ob.dragging,pointerEvents:"none"};return d}function u5(e){return{transform:Tp.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function d5(e){return e.type==="DRAGGING"?c5(e):u5(e)}function f5(e,t,r){r===void 0&&(r=qt);var n=window.getComputedStyle(t),s=t.getBoundingClientRect(),a=HN(s,n),i=Tu(a,r),l={client:a,tagName:t.tagName.toLowerCase(),display:n.display},c={x:a.marginBox.width,y:a.marginBox.height},u={descriptor:e,placeholder:l,displaceBy:c,client:a,page:i};return u}function h5(e){var t=Fg("draggable"),r=e.descriptor,n=e.registry,s=e.getDraggableRef,a=e.canDragInteractiveElements,i=e.shouldRespectForcePress,l=e.isEnabled,c=nt(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:i,isEnabled:l}},[a,l,i]),u=Pe(function(p){var y=s();return y||pe(),f5(r,y,p)},[r,s]),d=nt(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:u}},[r,u,c,t]),f=m.useRef(d),h=m.useRef(!0);Vr(function(){return n.draggable.register(f.current),function(){return n.draggable.unregister(f.current)}},[n.draggable]),Vr(function(){if(h.current){h.current=!1;return}var p=f.current;f.current=d,n.draggable.update(d,p)},[d,n.draggable])}function p5(e){e.preventDefault()}function m5(e){var t=m.useRef(null),r=Pe(function(I){t.current=I},[]),n=Pe(function(){return t.current},[]),s=Ou(Vd),a=s.contextId,i=s.dragHandleUsageInstructionsId,l=s.registry,c=Ou(zg),u=c.type,d=c.droppableId,f=nt(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}},[e.draggableId,e.index,u,d]),h=e.children,p=e.draggableId,y=e.isEnabled,v=e.shouldRespectForcePress,x=e.canDragInteractiveElements,w=e.isClone,b=e.mapped,g=e.dropAnimationFinished;if(!w){var S=nt(function(){return{descriptor:f,registry:l,getDraggableRef:n,canDragInteractiveElements:x,shouldRespectForcePress:v,isEnabled:y}},[f,l,n,x,v,y]);h5(S)}var N=nt(function(){return y?{tabIndex:0,role:"button","aria-describedby":i,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:p5}:null},[a,i,p,y]),_=Pe(function(I){b.type==="DRAGGING"&&b.dropping&&I.propertyName==="transform"&&g()},[g,b]),j=nt(function(){var I=d5(b),P=b.type==="DRAGGING"&&b.dropping?_:null,F={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":p,style:I,onTransitionEnd:P},dragHandleProps:N};return F},[a,N,p,b,_,r]),C=nt(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return h(j,b.snapshot,C)}var Lj=function(e,t){return e===t},$j=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},g5=function(t){return t.combine?t.combine.draggableId:null},v5=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function y5(){var e=Ht(function(s,a){return{x:s,y:a}}),t=Ht(function(s,a,i,l,c){return{isDragging:!0,isClone:a,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:i,combineWith:l,combineTargetFor:null}}),r=Ht(function(s,a,i,l,c,u,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:a,offset:s,dimension:i,forceShouldAnimate:d,snapshot:t(a,l,c,u,null)}}}),n=function(a,i){if(a.isDragging){if(a.critical.draggable.id!==i.draggableId)return null;var l=a.current.client.offset,c=a.dimensions.draggables[i.draggableId],u=Wr(a.impact),d=v5(a.impact),f=a.forceShouldAnimate;return r(e(l.x,l.y),a.movementMode,c,i.isClone,u,d,f)}if(a.phase==="DROP_ANIMATING"){var h=a.completed;if(h.result.draggableId!==i.draggableId)return null;var p=i.isClone,y=a.dimensions.draggables[i.draggableId],v=h.result,x=v.mode,w=$j(v),b=g5(v),g=a.dropDuration,S={duration:g,curve:Ig.drop,moveTo:a.newHomeClientOffset,opacity:b?vl.opacity.drop:null,scale:b?vl.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:y,dropping:S,draggingOver:w,combineWith:b,mode:x,forceShouldAnimate:null,snapshot:t(x,p,w,b,S)}}}return null};return n}function Fj(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var x5={mapped:{type:"SECONDARY",offset:qt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Fj(null)}};function b5(){var e=Ht(function(i,l){return{x:i,y:l}}),t=Ht(Fj),r=Ht(function(i,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:i,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),n=function(l){return l?r(qt,l,!0):null},s=function(l,c,u,d){var f=u.displaced.visible[l],h=!!(d.inVirtualList&&d.effected[l]),p=Fd(u),y=p&&p.draggableId===l?c:null;if(!f){if(!h)return n(y);if(u.displaced.invisible[l])return null;var v=ai(d.displacedBy.point),x=e(v.x,v.y);return r(x,y,!0)}if(h)return n(y);var w=u.displacedBy.point,b=e(w.x,w.y);return r(b,y,f.shouldAnimate)},a=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:s(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var u=l.completed;return u.result.draggableId===c.draggableId?null:s(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return a}var w5=function(){var t=y5(),r=b5(),n=function(a,i){return t(a,i)||r(a,i)||x5};return n},S5={dropAnimationFinished:xj},_5=WN(w5,S5,null,{context:$g,pure:!0,areStatePropsEqual:Lj})(m5);function Uj(e){var t=Ou(zg),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:Z.createElement(_5,e)}function vs(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return Z.createElement(Uj,Re({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function N5(e){var t=m.useContext(Vd);t||pe();var r=t.contextId,n=t.isMovementAllowed,s=m.useRef(null),a=m.useRef(null),i=e.children,l=e.droppableId,c=e.type,u=e.mode,d=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,p=e.isCombineEnabled,y=e.snapshot,v=e.useClone,x=e.updateViewportMaxScroll,w=e.getContainerForClone,b=Pe(function(){return s.current},[]),g=Pe(function(F){s.current=F},[]);Pe(function(){return a.current},[]);var S=Pe(function(F){a.current=F},[]),N=Pe(function(){n()&&x({maxScroll:Nj()})},[n,x]);e5({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:f,getDroppableRef:b});var _=Z.createElement(a5,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(F){var A=F.onClose,H=F.data,T=F.animate;return Z.createElement(s5,{placeholder:H,onClose:A,innerRef:S,animate:T,contextId:r,onTransitionEnd:N})}),j=nt(function(){return{innerRef:g,placeholder:_,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,_,g]),C=v?v.dragging.draggableId:null,I=nt(function(){return{droppableId:l,type:c,isUsingCloneFor:C}},[l,C,c]);function P(){if(!v)return null;var F=v.dragging,A=v.render,H=Z.createElement(Uj,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(T,R){return A(T,R,F)});return km.createPortal(H,w())}return Z.createElement(zg.Provider,{value:I},i(j,y),P())}var eh=function(t,r){return t===r.droppable.type},ib=function(t,r){return r.draggables[t.draggable.id]},j5=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=Re({},t,{shouldAnimatePlaceholder:!1}),n=Ht(function(i){return{draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}}}),s=Ht(function(i,l,c,u,d,f){var h=d.descriptor.id,p=d.descriptor.droppableId===i;if(p){var y=f?{render:f,dragging:n(d.descriptor)}:null,v={isDraggingOver:c,draggingOverWith:c?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:v,useClone:y}}if(!l)return r;if(!u)return t;var x={isDraggingOver:c,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:x,useClone:null}}),a=function(l,c){var u=c.droppableId,d=c.type,f=!c.isDropDisabled,h=c.renderClone;if(l.isDragging){var p=l.critical;if(!eh(d,p))return r;var y=ib(p,l.dimensions),v=Wr(l.impact)===u;return s(u,f,v,v,y,h)}if(l.phase==="DROP_ANIMATING"){var x=l.completed;if(!eh(d,x.critical))return r;var w=ib(x.critical,l.dimensions);return s(u,f,$j(x.result)===u,Wr(x.impact)===u,w,h)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var b=l.completed;if(!eh(d,b.critical))return r;var g=Wr(b.impact)===u,S=!!(b.impact.at&&b.impact.at.type==="COMBINE"),N=b.critical.droppable.id===u;return g?S?t:r:N?t:r}return r};return a},C5={updateViewportMaxScroll:OF};function E5(){return document.body||pe(),document.body}var P5={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:E5},no=WN(j5,C5,null,{context:$g,pure:!0,areStatePropsEqual:Lj})(N5);no.defaultProps=P5;const T5=({tournamentId:e,teams:t,numberOfRounds:r,onSave:n,onCancel:s,existingSchedule:a})=>{const[i,l]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState(!1);m.useEffect(()=>{a?h(a):p()},[t,r]);const h=g=>{const S=[];for(let N=1;N<=r;N++){const _=g.matches.filter(P=>P.round===N),j=[],C=[],I=[];_.forEach(P=>{const F=t.find(H=>H.id===P.teamA),A=t.find(H=>H.id===P.teamB);F&&j.push({id:F.id,name:F.name,city:F.city}),A&&C.push({id:A.id,name:A.name,city:A.city}),I.push(P.table||1)}),S.push({leftSide:j,rightSide:C,tables:I,bench:[],tableBench:[]})}l(S)},p=async()=>{f(!0);try{if(t.length===0)throw new Error("No teams available to generate schedule");const{generateNRoundsWithByeAndFinal:g}=await Le(async()=>{const{generateNRoundsWithByeAndFinal:j}=await import("./scheduler-C9VdCgRG.js");return{generateNRoundsWithByeAndFinal:j}},[]),S=t.map(j=>({id:j.id,name:j.name,city:j.city})),N=g(S,r),_=[];for(let j=0;j<N.length;j++){const C=N[j],I=[],P=[],F=[];C.forEach((A,H)=>{if("teamA"in A&&"teamB"in A){const T=A.teamA.city===A.teamB.city&&A.teamA.city!=="BYE",R=A.teamA.id==="BYE",U=A.teamB.id==="BYE";R?(I.push({id:A.teamA.id,name:A.teamA.name,city:A.teamA.city,isLocked:T}),P.push({id:A.teamB.id,name:A.teamB.name,city:A.teamB.city,isLocked:T})):U?(I.push({id:A.teamB.id,name:A.teamB.name,city:A.teamB.city,isLocked:T}),P.push({id:A.teamA.id,name:A.teamA.name,city:A.teamA.city,isLocked:T})):(I.push({id:A.teamA.id,name:A.teamA.name,city:A.teamA.city,isLocked:T}),P.push({id:A.teamB.id,name:A.teamB.name,city:A.teamB.city,isLocked:T})),F.push(H+1)}}),_.push({leftSide:I,rightSide:P,tables:[...F].sort(()=>Math.random()-.5),bench:[],tableBench:[]})}l(_),u([])}catch(g){console.error("Error generating schedule:",g),Y({title:"Error generating schedule",variant:"destructive"})}finally{f(!1)}},y=g=>{if(!g.destination)return;const{source:S,destination:N}=g,[_,j]=S.droppableId.split("-"),[C,I]=N.droppableId.split("-"),P=parseInt(j),F=[...i],A=F[P];if(_==="table"||C==="table"||_==="tableBench"||C==="tableBench"){if(_==="table"&&C==="tableBench"){const H=parseInt(S.droppableId.split("-")[2]),T=A.tables[H];T!==null&&(A.tables[H]=null,A.tableBench.push(T))}else if(_==="tableBench"&&C==="table"){const H=A.tableBench[S.index],T=parseInt(N.droppableId.split("-")[2]),R=A.tables[T];A.tableBench.splice(S.index,1),R!==null&&A.tableBench.push(R),A.tables[T]=H}else if(_==="table"&&C==="table"){const H=parseInt(S.droppableId.split("-")[2]),T=parseInt(N.droppableId.split("-")[2]),R=A.tables[H],U=A.tables[T];A.tables[H]=U,A.tables[T]=R}else if(_==="tableBench"&&C==="tableBench"){const[H]=A.tableBench.splice(S.index,1);A.tableBench.splice(N.index,0,H)}l(F);return}if(_==="left"&&C==="bench"){const H=parseInt(S.droppableId.split("-")[2]),T=A.leftSide[H];T&&(A.leftSide[H]=null,A.bench.push(T))}else if(_==="right"&&C==="bench"){const H=parseInt(S.droppableId.split("-")[2]),T=A.rightSide[H];T&&(A.rightSide[H]=null,A.bench.push(T))}else if(_==="bench"&&C==="left"){const H=A.bench[S.index],T=parseInt(N.droppableId.split("-")[2]),R=A.leftSide[T];A.bench.splice(S.index,1),R&&A.bench.push(R),A.leftSide[T]=H}else if(_==="bench"&&C==="right"){const H=A.bench[S.index],T=parseInt(N.droppableId.split("-")[2]),R=A.rightSide[T];A.bench.splice(S.index,1),R&&A.bench.push(R),A.rightSide[T]=H}else if(_==="left"&&C==="left"){const H=parseInt(S.droppableId.split("-")[2]),T=parseInt(N.droppableId.split("-")[2]),R=A.leftSide[H],U=A.leftSide[T];A.leftSide[H]=U,A.leftSide[T]=R}else if(_==="right"&&C==="right"){const H=parseInt(S.droppableId.split("-")[2]),T=parseInt(N.droppableId.split("-")[2]),R=A.rightSide[H],U=A.rightSide[T];A.rightSide[H]=U,A.rightSide[T]=R}else if(_==="left"&&C==="right"){const H=parseInt(S.droppableId.split("-")[2]),T=parseInt(N.droppableId.split("-")[2]),R=A.leftSide[H],U=A.rightSide[T];A.leftSide[H]=U,A.rightSide[T]=R}else if(_==="right"&&C==="left"){const H=parseInt(S.droppableId.split("-")[2]),T=parseInt(N.droppableId.split("-")[2]),R=A.rightSide[H],U=A.leftSide[T];A.rightSide[H]=U,A.leftSide[T]=R}else if(_==="bench"&&C==="bench"){const[H]=A.bench.splice(S.index,1);A.bench.splice(N.index,0,H)}l(F),P===0&&setTimeout(()=>b(),0)},v=(g,S,N)=>{const _=[...i];_[g].tables[S]=N,l(_)},x=()=>{const g=[];let S=1;i.forEach((_,j)=>{const C=j+1,I=Math.max(_.leftSide.length,_.rightSide.length);for(let P=0;P<I;P++){const F=_.leftSide[P],A=_.rightSide[P],H=_.tables[P]||P+1;F&&A&&g.push({id:`${e}-r${C}-m${S++}`,teamA:F.id==="BYE"?null:F.id,teamB:A.id==="BYE"?null:A.id,round:C,table:H,tournamentId:e,isBye:F.id==="BYE"||A.id==="BYE",isSameCity:F.city===A.city&&F.city!=="BYE"})}}),n({tournamentId:e,rounds:r,matches:g})},w=g=>{try{if(g===0)p();else{const S=[...i],N=S[g-1],_=[...N.rightSide];if(_.length>0){const I=_.pop();_.unshift(I)}const C=[...Array.from({length:Math.max(N.leftSide.length,N.rightSide.length)},(I,P)=>P+1)].sort(()=>Math.random()-.5);S[g]={leftSide:[...N.leftSide],rightSide:_,tables:C,bench:[],tableBench:[]},l(S)}}catch(S){console.error("Error regenerating round:",S),Y({title:"Error regenerating round",variant:"destructive"})}},b=g=>{{const S=[...i];for(let _=1;_<S.length;_++){const j=S[_-1],C=[...j.rightSide];if(C.length>0){const F=C.pop();C.unshift(F)}const P=[...Array.from({length:Math.max(j.leftSide.length,j.rightSide.length)},(F,A)=>A+1)].sort(()=>Math.random()-.5);S[_]={leftSide:[...j.leftSide],rightSide:C,tables:P,bench:[],tableBench:[]}}const N=S.length-1;if(N>0){const _=[];for(let P=0;P<N;P++){const F=S[P];for(let A=0;A<F.leftSide.length;A++){const H=F.leftSide[A],T=F.rightSide[A];H&&T&&(H.id==="BYE"&&T.id!=="BYE"?_.push(T):T.id==="BYE"&&H.id!=="BYE"&&_.push(H))}}const j=[],C=[],I=[];for(let P=0;P<_.length;P+=2){const F=_[P],A=_[P+1];F&&A&&(j.push(F),C.push(A),I.push(Math.floor(P/2)+1))}S[N]={leftSide:j,rightSide:C,tables:I,bench:[],tableBench:[]}}l(S)}};return o.jsx("div",{className:"space-y-6",children:o.jsxs(Je,{children:[o.jsx(tt,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(at,{children:"Schedule Editor - Option A"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{variant:"outline",onClick:s,children:"Cancel"}),o.jsxs(ae,{onClick:x,children:[o.jsx(l2,{className:"w-4 h-4 mr-2"}),"Save Schedule"]})]})]})}),o.jsx(Xe,{children:d?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),o.jsx("p",{className:"mt-2",children:"Generating schedule..."})]}):o.jsx("div",{className:"space-y-6",children:i.map((g,S)=>o.jsxs(Je,{children:[o.jsx(tt,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(at,{children:["Round ",S+1]}),o.jsxs("div",{className:"flex gap-2",children:[S===0&&o.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>b(),children:[o.jsx(Zh,{className:"w-4 h-4 mr-2"}),"Auto-Generate Rounds 2-",r]}),o.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>w(S),children:[o.jsx(Zh,{className:"w-4 h-4 mr-2"}),"Regenerate"]})]})]})}),o.jsx(Xe,{children:o.jsx(U3,{onDragEnd:y,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 bg-gray-50",children:[o.jsx(Ne,{className:"text-sm font-medium mb-2 block",children:"Bench - Drop teams and table numbers here to reorganize"}),o.jsxs("div",{className:"mb-3",children:[o.jsx(Ne,{className:"text-xs text-gray-600 mb-1 block",children:"Teams:"}),o.jsx(no,{droppableId:`bench-${S}`,children:N=>o.jsxs("div",{...N.droppableProps,ref:N.innerRef,className:"min-h-[40px] flex flex-wrap gap-2",children:[g.bench.map((_,j)=>o.jsx(vs,{draggableId:`bench-${S}-${_.id}`,index:j,children:C=>o.jsxs("div",{ref:C.innerRef,...C.draggableProps,className:`flex items-center gap-2 px-3 py-2 border rounded text-sm bg-white shadow-sm ${_.isLocked?"bg-yellow-50 border-yellow-200":"bg-white"}`,children:[o.jsx("div",{...C.dragHandleProps,children:o.jsx(hs,{className:"w-3 h-3 text-gray-400"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-medium",children:_.name}),o.jsx("div",{className:"text-xs text-gray-500",children:_.city})]}),_.isLocked&&o.jsx(ke,{variant:"secondary",className:"text-xs px-1 py-0",children:"Locked"})]})},_.id)),N.placeholder]})})]}),o.jsxs("div",{children:[o.jsx(Ne,{className:"text-xs text-gray-600 mb-1 block",children:"Table Numbers:"}),o.jsx(no,{droppableId:`tableBench-${S}`,children:N=>o.jsxs("div",{...N.droppableProps,ref:N.innerRef,className:"min-h-[40px] flex flex-wrap gap-2",children:[g.tableBench.map((_,j)=>o.jsx(vs,{draggableId:`tableBench-${S}-${_}`,index:j,children:C=>o.jsxs("div",{ref:C.innerRef,...C.draggableProps,className:"flex items-center gap-2 px-3 py-2 border rounded text-sm bg-blue-50 border-blue-200 shadow-sm",children:[o.jsx("div",{...C.dragHandleProps,children:o.jsx(hs,{className:"w-3 h-3 text-blue-400"})}),o.jsxs("div",{className:"font-medium text-blue-700",children:["Table ",_]})]})},`tableBench-${_}`)),N.placeholder]})})]})]}),o.jsx("div",{className:"space-y-2",children:g.leftSide.map((N,_)=>{const j=g.rightSide[_],C=g.tables[_];return!N&&!j?null:o.jsxs("div",{className:"flex items-center gap-4 py-2",children:[o.jsx("div",{className:"flex-1 flex justify-end",children:o.jsx(no,{droppableId:`left-${S}-${_}`,children:I=>o.jsxs("div",{...I.droppableProps,ref:I.innerRef,className:"min-h-[50px] flex items-center",children:[N?o.jsx(vs,{draggableId:`left-${S}-${N.id}`,index:0,children:P=>o.jsxs("div",{ref:P.innerRef,...P.draggableProps,className:`flex items-center gap-2 px-4 py-2 border rounded text-sm w-48 ${N.isLocked?"bg-yellow-50 border-yellow-200":"bg-white"}`,children:[o.jsx("div",{...P.dragHandleProps,children:o.jsx(hs,{className:"w-3 h-3 text-gray-400"})}),o.jsxs("div",{className:"flex-1 text-right",children:[o.jsx("div",{className:"font-medium",children:N.name}),o.jsx("div",{className:"text-xs text-gray-500",children:N.city})]}),N.isLocked&&o.jsx(ke,{variant:"secondary",className:"text-xs px-1 py-0",children:"Locked"})]})},N.id):o.jsx(vs,{draggableId:`left-${S}-${_}`,index:0,children:P=>o.jsxs("div",{ref:P.innerRef,...P.draggableProps,className:"flex items-center gap-2 px-4 py-2 border-2 border-dashed border-gray-300 rounded text-sm bg-gray-50 text-gray-400 min-w-[192px] justify-center cursor-move",children:[o.jsx("div",{...P.dragHandleProps,children:o.jsx(hs,{className:"w-3 h-3 text-gray-400"})}),o.jsx("span",{children:"Empty"})]})},`left-empty-${_}`),I.placeholder]})})}),o.jsxs("div",{className:"flex items-center gap-2 min-w-[100px] justify-center",children:[o.jsx(no,{droppableId:`table-${S}-${_}`,children:I=>o.jsxs("div",{...I.droppableProps,ref:I.innerRef,className:"min-h-[50px] flex items-center justify-center",children:[C?o.jsx(vs,{draggableId:`table-${S}-${_}`,index:0,children:P=>o.jsxs("div",{ref:P.innerRef,...P.draggableProps,className:"flex items-center gap-2 px-3 py-2 border rounded text-sm bg-blue-50 border-blue-200 cursor-move",children:[o.jsx("div",{...P.dragHandleProps,children:o.jsx(hs,{className:"w-3 h-3 text-blue-400"})}),o.jsx(Ee,{type:"number",value:C,onChange:F=>v(S,_,parseInt(F.target.value)||1),className:"w-12 h-8 text-center text-sm border-0 bg-transparent p-0",min:1,max:12})]})},`table-${_}`):o.jsx(vs,{draggableId:`table-${S}-${_}`,index:0,children:P=>o.jsxs("div",{ref:P.innerRef,...P.draggableProps,className:"flex items-center gap-2 px-3 py-2 border-2 border-dashed border-gray-300 rounded text-sm bg-gray-50 text-gray-400 min-w-[80px] justify-center cursor-move",children:[o.jsx("div",{...P.dragHandleProps,children:o.jsx(hs,{className:"w-3 h-3 text-gray-400"})}),o.jsx("span",{children:"Empty"})]})},`table-empty-${_}`),I.placeholder]})}),o.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"vs"})]}),o.jsx("div",{className:"flex-1",children:o.jsx(no,{droppableId:`right-${S}-${_}`,children:I=>o.jsxs("div",{...I.droppableProps,ref:I.innerRef,className:"min-h-[50px] flex items-center",children:[j?o.jsx(vs,{draggableId:`right-${S}-${j.id}`,index:0,children:P=>o.jsxs("div",{ref:P.innerRef,...P.draggableProps,className:`flex items-center gap-2 px-4 py-2 border rounded text-sm w-48 ${j.isLocked?"bg-yellow-50 border-yellow-200":"bg-white"}`,children:[o.jsx("div",{...P.dragHandleProps,children:o.jsx(hs,{className:"w-3 h-3 text-gray-400"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-medium",children:j.name}),o.jsx("div",{className:"text-xs text-gray-500",children:j.city})]}),j.isLocked&&o.jsx(ke,{variant:"secondary",className:"text-xs px-1 py-0",children:"Locked"})]})},j.id):o.jsx(vs,{draggableId:`right-${S}-${_}`,index:0,children:P=>o.jsxs("div",{ref:P.innerRef,...P.draggableProps,className:"flex items-center gap-2 px-4 py-2 border-2 border-dashed border-gray-300 rounded text-sm bg-gray-50 text-gray-400 min-w-[192px] justify-center cursor-move",children:[o.jsx("div",{...P.dragHandleProps,children:o.jsx(hs,{className:"w-3 h-3 text-gray-400"})}),o.jsx("span",{children:"Empty"})]})},`right-empty-${_}`),I.placeholder]})})})]},_)})})]})})})]},S))})})]})})},k5=()=>{const{teams:e,tournaments:t,schedules:r,saveSchedule:n,sendScoreSheetLinks:s,clearTournamentResults:a,clearGames:i,clearScoreSubmissions:l,getActiveTournament:c}=Dt(),[u,d]=m.useState(""),[f,h]=m.useState("4"),[p,y]=m.useState(null),[v,x]=m.useState(!1),[w,b]=m.useState(!1),[g,S]=m.useState(!1),[N,_]=m.useState([]),[j,C]=m.useState(!1),[I,P]=m.useState(null);m.useEffect(()=>{const M=c();M&&!u&&d(M.id)},[c,u]),m.useEffect(()=>{if(u){const M=r.find(G=>G.tournamentId===u);M?(y(M),h(M.rounds?M.rounds.toString():"4"),x(!1)):(y(null),h("4"),x(!1))}},[u,r]);const F=()=>{if(!u||!f){Y({title:"Please select tournament and number of rounds",variant:"destructive"});return}if(e.filter(G=>{var ne;return(ne=G.registeredTournaments)==null?void 0:ne.includes(u)}).length<2){Y({title:"Need at least 2 teams to generate schedule",variant:"destructive"});return}P(null),C(!0)},A=M=>{a(u),i(u),l(u),y(M),n(M),x(!0),C(!1),Y({title:"Schedule saved successfully!",description:`${M.rounds} rounds generated with ${M.matches.length} matches.`,variant:"default"})},H=()=>{C(!1),P(null)},T=async()=>{if(p)try{const M=window.location.origin;await s(p.tournamentId,M),b(!0),Y({title:"Score sheet links sent to all teams!"})}catch{Y({title:"Failed to send score sheet links",variant:"destructive"})}},R=t.find(M=>M.id===u),U=e.filter(M=>{var G;return(G=M.registeredTournaments)==null?void 0:G.includes(u)});r.find(M=>M.tournamentId===u);const Q=U.length>0?Math.floor(U.length/2):0,D=U.length%2===1;return U.reduce((M,G)=>(M[G.city]||(M[G.city]=0),M[G.city]++,M),{}),o.jsxs("div",{className:"space-y-6",children:[j&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:o.jsx(T5,{tournamentId:u,teams:e.filter(M=>{var G;return(G=M.registeredTournaments)==null?void 0:G.includes(u)}),numberOfRounds:parseInt(f),onSave:A,onCancel:H,existingSchedule:p})})}),o.jsxs(Je,{className:"border-2",style:{borderColor:"#a60002"},children:[o.jsx(tt,{className:"border-b-2 pb-2",style:{borderColor:"#a60002"},children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("img",{src:"/BidWhist/sched.png",alt:"Schedule",className:"h-5 w-5",style:{filter:"brightness(0)"}}),o.jsx(at,{children:"Tournament Scheduler"})]})}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-4 items-end mt-4",children:[o.jsxs("div",{className:"w-48",children:[o.jsx(Ne,{htmlFor:"tournament",children:"Tournament"}),o.jsxs(Or,{value:u,onValueChange:d,children:[o.jsx(jr,{children:o.jsx(Br,{placeholder:"Select"})}),o.jsx(Cr,{children:t.map(M=>o.jsx(yt,{value:M.id,children:M.name},M.id))})]})]}),o.jsxs("div",{className:"w-20",children:[o.jsx(Ne,{htmlFor:"rounds",children:"Rounds"}),o.jsx(Ee,{id:"rounds",type:"number",value:f,onChange:M=>h(M.target.value),placeholder:"4",min:"1",max:"10"})]}),o.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[o.jsx(ae,{onClick:F,disabled:!u||!f,size:"sm",className:"h-20 w-20 p-0 text-lg font-bold",style:{backgroundColor:"black",color:"white"},children:"Run"}),u&&D&&o.jsx(ke,{variant:"secondary",className:"text-xs mt-2",children:"Odd - Byes Required"})]}),u&&o.jsxs("div",{className:"w-48",children:[o.jsx(Ne,{children:"Teams"}),o.jsx("div",{className:"text-sm font-medium",children:U.length})]}),u&&o.jsxs("div",{className:"w-20",children:[o.jsx(Ne,{children:"Tables"}),o.jsx("div",{className:"text-sm text-blue-600",children:Q})]})]}),v&&p&&o.jsx("div",{className:"flex gap-2",children:o.jsx(ae,{onClick:T,disabled:w,variant:"secondary",className:"flex-1",children:w?"Links Sent ":"Send Score Sheet Out"})})]})]}),p&&o.jsx(QM,{schedule:p,tournamentName:(R==null?void 0:R.name)||""}),o.jsx(vr,{open:g,onOpenChange:S,children:o.jsxs(or,{children:[o.jsx(ir,{children:o.jsx(lr,{children:"Teams with Byes"})}),o.jsx("div",{className:"space-y-2",children:N.length===0?o.jsx("div",{className:"text-gray-600",children:"No teams received a bye."}):o.jsx("ul",{className:"list-disc pl-6",children:N.map(M=>o.jsx("li",{children:M},M))})}),o.jsx("div",{className:"flex justify-end pt-2",children:o.jsx(ae,{onClick:()=>S(!1),children:"OK"})})]})})]})},zj=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:$e("w-full caption-bottom text-sm",e),...t})}));zj.displayName="Table";const Wj=m.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:$e("[&_tr]:border-b",e),...t}));Wj.displayName="TableHeader";const Vj=m.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:$e("[&_tr:last-child]:border-0",e),...t}));Vj.displayName="TableBody";const R5=m.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:$e("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));R5.displayName="TableFooter";const Ti=m.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:$e("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ti.displayName="TableRow";const Qr=m.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:$e("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Qr.displayName="TableHead";const hn=m.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:$e("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));hn.displayName="TableCell";const A5=m.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:$e("mt-4 text-sm text-muted-foreground",e),...t}));A5.displayName="TableCaption";const _t=(e,t,r)=>`${e}_${t}_${r}`,I5=({tournamentId:e})=>{const{tournaments:t,teams:r,schedules:n,games:s,clearTournamentResults:a,submitGame:i,scoreSubmissions:l,resetAllTournamentData:c,setGames:u,setScoreSubmissions:d,tournamentResults:f,setTournamentResults:h,refreshGamesFromSupabase:p}=Dt(),[y,v]=m.useState(e||"1"),x=e||y,[w,b]=m.useState(!0),[g,S]=m.useState({}),[N,_]=m.useState(0);Z.useEffect(()=>{const T=setInterval(()=>{p()},2e3);return()=>clearInterval(T)},[p]),m.useEffect(()=>{const T=localStorage.getItem("resultsOverrides");T&&S(JSON.parse(T))},[]),m.useEffect(()=>{localStorage.setItem("resultsOverrides",JSON.stringify(g))},[g]),m.useEffect(()=>{_(T=>T+1)},[s,l]);const j=t.find(T=>T.id===x),C=n.find(T=>T.tournamentId===x),I=m.useMemo(()=>C?Array.from(new Set(C.matches.flatMap(R=>[String(R.teamA),String(R.teamB)]).filter(R=>R!=="BYE"&&R!=="TBD"))).map(R=>r.find(U=>String(U.id)===R)).filter(R=>!!R):[],[C,r]),P=C?C.rounds:5;m.useEffect(()=>{C&&S(T=>{let R=!1;const U={...T};return I.forEach(Q=>{for(let D=1;D<=P;D++){const M=C.matches.find(V=>{const se=typeof V.teamA=="object"&&V.teamA&&"id"in V.teamA?String(V.teamA.id):String(V.teamA),ee=typeof V.teamB=="object"&&V.teamB&&"id"in V.teamB?String(V.teamB.id):String(V.teamB);return V.round===D&&(se===String(Q.id)||ee===String(Q.id))});if(!M)continue;const G=[M.teamA,M.teamB].map(V=>V==null?"":typeof V=="object"&&V&&"id"in V&&V.id!=null?String(V.id):String(V)).filter(Boolean).sort();s.find(V=>{if(!V.confirmed||V.round!==M.round)return!1;const se=typeof V.teamA=="object"?V.teamA.id:V.teamA,ee=typeof V.teamB=="object"?V.teamB.id:V.teamB,ie=[String(se),String(ee)].sort();return G[0]===ie[0]&&G[1]===ie[1]})&&[_t(Q.id,D,"wl"),_t(Q.id,D,"points"),_t(Q.id,D,"boston")].forEach(se=>{se in U&&(delete U[se],R=!0)})}}),R?U:T})},[s,C,I,P]);const{sortedTeams:F,resultsMatrix:A}=$c(r,s,C,g,P),H=()=>{if(!I.length)return;const T={};I.forEach(R=>{for(let U=1;U<=P;U++)T[_t(String(R.id),U,"wl")]="",T[_t(String(R.id),U,"points")]="0",T[_t(String(R.id),U,"boston")]="0";T[_t(String(R.id),"total","wins")]="0",T[_t(String(R.id),"total","points")]="0",T[_t(String(R.id),"total","bostons")]="0"}),S(T);try{const R=C?C.matches.map(G=>G.id):[];let U=JSON.parse(localStorage.getItem("games")||"[]");U=U.filter(G=>!(!G.matchId||!R.includes(G.matchId))),localStorage.setItem("games",JSON.stringify(U)),typeof u=="function"&&u(U);let Q=JSON.parse(localStorage.getItem("scoreSubmissions")||"[]");Q=Q.filter(G=>!(!G.matchId||!R.includes(G.matchId))),localStorage.setItem("scoreSubmissions",JSON.stringify(Q)),typeof d=="function"&&d(Q),localStorage.setItem("resultsOverrides",JSON.stringify(T));const D=localStorage.getItem("tournamentResults");let M=D?JSON.parse(D):{};typeof M=="object"&&M!==null?(delete M[x],localStorage.setItem("tournamentResults",JSON.stringify(M)),typeof h=="function"&&h(M)):console.warn("tournamentResults was not an object:",M)}catch(R){console.error("Error resetting localStorage:",R),window.alert("Error during reset: "+R.message);return}typeof a=="function"&&a(x),window.alert("Table display and results for this tournament have been reset. Teams remain.")};return o.jsxs(Je,{children:[o.jsxs(tt,{children:[o.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[o.jsxs(at,{className:"flex items-center gap-2",children:[o.jsx("img",{src:"/BidWhist/results.png",alt:"Results",className:"h-5 w-5",style:{filter:"brightness(0)"}}),((j==null?void 0:j.name)||"Tournament")+" - Results"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xs font-bold",onClick:()=>{window.confirm("Are you sure you want to reset ALL tournament data? This will clear all games, schedules, results, brackets, and start fresh with preloaded teams.")&&(typeof c=="function"&&c(x),window.alert("All tournament data except teams has been reset."))},children:"Reset ALL Tournament Data"}),o.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-xs font-bold",onClick:H,children:"Reset Table Display Only"}),o.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-xs font-bold",onClick:()=>{b(T=>!T)},children:"Sort"}),o.jsx("button",{className:"px-3 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 text-xs font-bold",onClick:()=>{if(!C||I.length<2)return;const T=C.matches.find(Q=>Q.round===1&&Q.teamA!=="BYE"&&Q.teamB!=="BYE");if(!T)return;const R=r.find(Q=>Q.id===T.teamA),U=r.find(Q=>Q.id===T.teamB);!R||!U||(S(Q=>{const D=[_t(R.id,1,"wl"),_t(R.id,1,"points"),_t(R.id,1,"boston"),_t(U.id,1,"wl"),_t(U.id,1,"points"),_t(U.id,1,"boston")],M={...Q};return D.forEach(G=>{delete M[G]}),M}),i({matchId:T.id,teamA:R,teamB:U,scoreA:50,scoreB:40,boston:"",submittedBy:R.id,round:1}),i({matchId:T.id,teamA:R,teamB:U,scoreA:50,scoreB:40,boston:"",submittedBy:U.id,round:1}),window.alert(`Simulated: ${R.name} (Team #${R.teamNumber}) vs ${U.name} (Team #${U.teamNumber}) in Round 1. Score: 50-40`))},children:"Simulate Confirm Round 1 (2 Teams)"})]})]}),!j&&o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"text-sm font-medium",children:"Select Tournament:"}),o.jsxs("select",{className:"w-full mt-1 p-2 border rounded",value:y,onChange:T=>v(T.target.value),children:[o.jsx("option",{value:"",children:"Choose a tournament..."}),t.map(T=>o.jsx("option",{value:T.id,children:T.name},T.id))]})]})]}),o.jsx(Xe,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(zj,{children:[o.jsxs(Wj,{children:[o.jsxs(Ti,{children:[o.jsxs(Qr,{rowSpan:2,className:"border border-gray-400 text-center align-middle",style:{backgroundColor:"black",color:"white"},children:["TEAM",o.jsx("br",{}),"#"]}),Array.from({length:P},(T,R)=>o.jsxs(Qr,{colSpan:4,className:"text-center border border-gray-400 text-white",style:{backgroundColor:R%2===0?"#a60002":"black"},children:["Round ",R+1]},R)),o.jsx(Qr,{colSpan:3,className:"bg-blue-200 border border-gray-400 text-center align-middle",children:"TOTALS"})]}),o.jsxs(Ti,{children:[Array.from({length:P},(T,R)=>o.jsxs(Z.Fragment,{children:[o.jsxs(Qr,{className:"text-center text-xs border border-gray-400 text-white",style:{backgroundColor:R%2===0?"#a60002":"black"},children:["Game",o.jsx("br",{}),"Win=W",o.jsx("br",{}),"Loss=L"]}),o.jsx(Qr,{className:"text-center text-xs border border-gray-400 text-white",style:{backgroundColor:R%2===0?"#a60002":"black"},children:"Points"}),o.jsx(Qr,{className:"text-center text-xs border border-gray-400 text-white",style:{backgroundColor:R%2===0?"#a60002":"black"},children:"Hands Won"}),o.jsx(Qr,{className:"text-center text-xs border border-gray-400 text-white",style:{backgroundColor:R%2===0?"#a60002":"black"},children:"Boston"})]},R)),o.jsx(Qr,{className:"text-center text-xs border border-gray-400 bg-blue-200",children:"Wins"}),o.jsx(Qr,{className:"text-center text-xs border border-gray-400 bg-blue-200",children:"Points"}),o.jsx(Qr,{className:"text-center text-xs border border-gray-400 bg-blue-200",children:"Hands"}),o.jsx(Qr,{className:"text-center text-xs border border-gray-400 bg-blue-200",children:"Bostons"})]})]}),o.jsx(Vj,{children:I.length===0?o.jsx(Ti,{children:o.jsxs(hn,{colSpan:1+P*4+3,className:"text-center text-gray-500 py-8",children:["No results yet. ",!j||!C?"Set up a tournament and schedule to begin.":""]})}):F.map(T=>{const R=String(T.id),U=T.teamNumber?`${T.teamNumber}`:`${T.id}`,Q=T.name||"";return o.jsxs(Ti,{children:[o.jsx(hn,{className:"font-medium border border-gray-400",style:{backgroundColor:"#a60002",color:"white"},children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(ke,{variant:"outline",className:"mb-1",style:{color:"white",borderColor:"white"},children:U}),o.jsx("span",{className:"text-sm",children:Q})]})}),Array.from({length:P},(D,M)=>{const G=M+1,ne=A[R][G]||{wl:"",points:0,hands:0,boston:0};return o.jsxs(Z.Fragment,{children:[o.jsx(hn,{className:"text-center border border-gray-400 p-0",children:o.jsx("input",{className:"w-10 text-center bg-transparent outline-none",value:g[_t(R,G,"wl")]??ne.wl,onChange:V=>{const se=V.target.value;S(ee=>{const ie=_t(R,G,"wl");if(se===""){const{[ie]:le,...O}=ee;return O}return{...ee,[ie]:se}})}})}),o.jsx(hn,{className:"text-center border border-gray-400 p-0",children:o.jsx("input",{type:"number",className:"w-14 text-center bg-transparent outline-none",value:g[_t(R,G,"points")]??ne.points,onChange:V=>{const se=V.target.value;S(ee=>{const ie=_t(R,G,"points");if(se===""){const{[ie]:le,...O}=ee;return O}return{...ee,[ie]:se}})}})}),o.jsx(hn,{className:"text-center border border-gray-400 p-0",children:o.jsx("input",{type:"number",className:"w-12 text-center bg-transparent outline-none",value:g[_t(R,G,"hands")]??ne.hands,onChange:V=>{const se=V.target.value;S(ee=>{const ie=_t(R,G,"hands");if(se===""){const{[ie]:le,...O}=ee;return O}return{...ee,[ie]:se}})}})}),o.jsx(hn,{className:"text-center border border-gray-400 p-0",children:o.jsx("input",{type:"number",className:"w-10 text-center bg-transparent outline-none",value:g[_t(R,G,"boston")]??ne.boston,onChange:V=>{const se=V.target.value;S(ee=>{const ie=_t(R,G,"boston");if(se===""){const{[ie]:le,...O}=ee;return O}return{...ee,[ie]:se}})}})})]},G)}),o.jsx(hn,{className:"text-center border border-gray-400 bg-blue-100 font-medium p-0",children:o.jsx("input",{type:"number",className:"w-12 text-center bg-transparent outline-none font-bold",value:A[R].totalPoints.wins??0,readOnly:!0})}),o.jsx(hn,{className:"text-center border border-gray-400 bg-blue-100 font-medium p-0",children:o.jsx("input",{type:"number",className:"w-16 text-center bg-transparent outline-none font-bold",value:Array.from({length:P},(D,M)=>{var V;const G=M+1,ne=g[_t(R,G,"points")];return ne!==void 0?Number(ne):((V=A[R][G])==null?void 0:V.points)||0}).reduce((D,M)=>D+M,0),readOnly:!0})}),o.jsx(hn,{className:"text-center border border-gray-400 bg-blue-100 font-medium p-0",children:o.jsx("input",{type:"number",className:"w-12 text-center bg-transparent outline-none font-bold",value:Array.from({length:P},(D,M)=>{var ne;const G=M+1;return((ne=A[R][G])==null?void 0:ne.hands)||0}).reduce((D,M)=>D+M,0),readOnly:!0})}),o.jsx(hn,{className:"text-center border border-gray-400 bg-blue-100 font-medium p-0",children:o.jsx("input",{type:"number",className:"w-12 text-center bg-transparent outline-none font-bold",value:Array.from({length:P},(D,M)=>{var V;const G=M+1,ne=g[_t(R,G,"boston")];return ne!==void 0?Number(ne):((V=A[R][G])==null?void 0:V.boston)||0}).reduce((D,M)=>D+M,0),readOnly:!0})})]},T.id)})})]})})})]})},D5=Z.lazy(()=>Le(()=>import("./ExportResultsButton-CVe5BWBJ.js"),[])),O5=()=>{const{games:e,teams:t,getTournamentResults:r,tournaments:n,getActiveTournament:s,refreshGamesFromSupabase:a}=Dt();Z.useEffect(()=>{const f=setInterval(()=>{a()},1500);return()=>clearInterval(f)},[a]);const i=s(),l=Z.useMemo(()=>i?r(i.id):[],[i,r]),c=i,u=i?e.filter(f=>f.confirmed&&f.matchId&&(n&&n.length,l.some(h=>h.teamId===f.teamA.id||h.teamId===f.teamB.id))).sort((f,h)=>new Date(h.timestamp).getTime()-new Date(f.timestamp).getTime()):[],d=f=>{const h=t.find(b=>b.id===f.teamA)||{id:f.teamA},p=t.find(b=>b.id===f.teamB)||{id:f.teamB},y=f.winner==="teamA"?h:p,v=f.winner==="teamA"?p:h,x=f.winner==="teamA"?f.scoreA:f.scoreB,w=f.winner==="teamA"?f.scoreB:f.scoreA;return{winner:y,loser:v,winnerScore:x,loserScore:w,round:f.round,boston:f.boston,timestamp:f.timestamp}};return i?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-end mb-2",children:i&&o.jsx(Z.Suspense,{fallback:o.jsx("span",{children:"Loading..."}),children:o.jsx(D5,{tournamentId:i.id})})}),o.jsx(I5,{tournamentId:i.id})]}),o.jsxs(Je,{children:[o.jsxs(tt,{children:[o.jsxs(at,{className:"flex items-center gap-2",children:[o.jsx(e2,{className:"h-5 w-5"}),"Game Results - ",(c==null?void 0:c.name)||"Tournament"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.length," completed game",u.length!==1?"s":""]})]}),o.jsx(Xe,{children:u.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx(mu,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),o.jsx("p",{className:"font-medium",children:"No completed games yet"}),o.jsx("p",{className:"text-sm",children:"Games will appear here after both teams confirm scores"})]}):o.jsx("div",{className:"space-y-4",children:u.map(f=>{const h=d(f);return o.jsx("div",{className:"p-4 rounded-lg border bg-gradient-to-r from-gray-50 to-white hover:from-gray-100 hover:to-gray-50 transition-all duration-200",children:o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(ke,{variant:"outline",className:"font-medium px-3 py-1",children:["Round ",h.round]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mu,{className:"h-4 w-4 text-yellow-500"}),o.jsxs("span",{className:"font-semibold text-green-700",children:["Team # ",h.winner.teamNumber??h.winner.id]}),o.jsxs("span",{className:"font-bold text-lg mx-2",children:[h.winnerScore," - ",h.loserScore]}),o.jsxs("span",{className:"font-medium text-red-600",children:["Team # ",h.loser.teamNumber??h.loser.id]})]}),f.boston!=="none"&&o.jsxs(ke,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[o.jsx(aS,{className:"h-3 w-3 mr-1"}),"Boston"]})]}),o.jsxs("div",{className:"text-xs text-gray-500 text-right",children:[o.jsx("div",{children:new Date(h.timestamp).toLocaleDateString()}),o.jsx("div",{children:new Date(h.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},f.id)})})})]})]}):o.jsx("div",{className:"space-y-6",children:o.jsxs(Je,{children:[o.jsx(tt,{children:o.jsx(at,{children:"No Active Tournament"})}),o.jsx(Xe,{children:o.jsx("p",{className:"text-gray-600 text-center",children:"Please select an active tournament to view results."})})]})})},B5=({size:e,matches:t,teams:r,onScoreUpdate:n,onAdvanceWinner:s})=>{const a=Math.log2(e),i=u=>u===a?"Final":u===a-1?"Semi-Final":u===a-2?"Quarter-Final":`Round ${u}`,l=(u,d,f)=>{const h=f/Math.pow(2,u),p=f/Math.pow(2,u+1);let y=`Table ${d}`;if(u>1&&h>p)if(d<=p)y+=" (Winners stay)";else{const v=d-p;y+=` (Winner moves to Table ${v})`}return y},c=u=>{const d=t.find(f=>f.id===u);!d||!d.team1||!d.team2||s(u)};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("style",{children:`
            .score-input::-webkit-outer-spin-button,
            .score-input::-webkit-inner-spin-button {
              background: #a60002 !important;
              color: white !important;
              opacity: 1 !important;
              border: none !important;
              width: 20px !important;
              height: 20px !important;
            }
            .score-input::-webkit-outer-spin-button:hover,
            .score-input::-webkit-inner-spin-button:hover {
              background: #a60002 !important;
              color: white !important;
              opacity: 1 !important;
            }
            .score-input::-webkit-outer-spin-button:active,
            .score-input::-webkit-inner-spin-button:active {
              background: #a60002 !important;
              color: white !important;
            }
            .score-input::-webkit-outer-spin-button:focus,
            .score-input::-webkit-inner-spin-button:focus {
              background: #a60002 !important;
              color: white !important;
            }
          `}),o.jsxs("h3",{className:"text-3xl font-bold text-center",style:{color:"#a60002"},children:[e," Team Elimination Bracket"]}),o.jsx("div",{className:"grid gap-6",children:Array.from({length:a},(u,d)=>{const f=d+1,h=t.filter(p=>p.round===f).sort((p,y)=>p.table-y.table);return o.jsxs(Je,{className:"w-full",children:[o.jsx(tt,{children:o.jsxs(at,{className:"text-center",children:[i(f)," - ",h.length," Tables"]})}),o.jsx(Xe,{children:o.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${Math.max(1,Math.min(4,h.length))}, 1fr)`},children:h.map(p=>o.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[o.jsx("div",{className:"text-center font-medium text-sm",style:{color:"#a60002"},children:l(p.round,p.table,e)}),o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[p.team1&&o.jsxs(o.Fragment,{children:[o.jsxs(ke,{variant:"outline",children:["#",p.team1.seed]}),o.jsxs("div",{className:"flex flex-col items-center",children:[(()=>{const y=p.team1.teamNumber??p.team1.teamId;return y?o.jsx("span",{className:"text-xs font-bold",style:{color:"black"},children:y}):null})(),o.jsx("span",{className:"text-sm font-medium",children:p.team1.teamName})]})]}),!p.team1&&o.jsx("span",{className:"text-sm text-gray-500",children:"TBD"})]}),p.team1&&o.jsx(Ee,{type:"number",className:"w-16 h-8 text-center score-input",value:p.team1Score||"",onChange:y=>{const v=parseInt(y.target.value)||0;n(p.id,v,p.team2Score||0)},min:"0"})]}),o.jsx("div",{className:"text-center text-xs text-gray-500",children:"vs"}),o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[p.team2&&o.jsxs(o.Fragment,{children:[o.jsxs(ke,{variant:"outline",children:["#",p.team2.seed]}),o.jsxs("div",{className:"flex flex-col items-center",children:[(()=>{const y=p.team2.teamNumber??p.team2.teamId;return y?o.jsx("span",{className:"text-xs font-bold",style:{color:"black"},children:y}):null})(),o.jsx("span",{className:"text-sm font-medium",children:p.team2.teamName})]})]}),!p.team2&&o.jsx("span",{className:"text-sm text-gray-500",children:"TBD"})]}),p.team2&&o.jsx(Ee,{type:"number",className:"w-16 h-8 text-center score-input",value:p.team2Score||"",onChange:y=>{const v=parseInt(y.target.value)||0;n(p.id,p.team1Score||0,v)},min:"0"})]}),p.team1&&p.team2&&typeof p.team1Score=="number"&&typeof p.team2Score=="number"&&o.jsx(ae,{size:"sm",className:"w-full",onClick:()=>c(p.id),disabled:p.winner!==void 0,style:{backgroundColor:"#a60002",color:"white"},children:p.winner?`Winner: ${p.winner.teamName}`:"Advance Winner"}),p.winner&&o.jsx("div",{className:"text-center p-2 bg-green-100 rounded",children:o.jsxs(ke,{className:"bg-green-600",children:["Winner: #",p.winner.seed," ",p.winner.teamName,(()=>{const y=p.winner.teamNumber??p.winner.teamId;return y?` (Team # ${y})`:""})()]})})]},p.id))})})]},f)})})]})},M5=()=>{const{tournaments:e,getTournamentResults:t,saveBracket:r,getBracket:n,updateBracket:s,deleteBracket:a,teams:i,schedules:l,games:c,getActiveTournament:u}=Dt(),[d,f]=m.useState(()=>{const R=u();return(R==null?void 0:R.id)||"1"}),[h,p]=m.useState(null),[y,v]=m.useState(!1),[x,w]=m.useState(!1),[b,g]=m.useState(!1),[S,N]=m.useState([]),[_,j]=m.useState({});m.useEffect(()=>{const R=localStorage.getItem("resultsOverrides");R&&j(JSON.parse(R))},[]),m.useEffect(()=>{const R=n(d);p(R)},[d,n]);const C=R=>{const U=l.find(V=>V.tournamentId===d),Q=U?U.rounds:5,{sortedTeams:D}=$c(i,c,U,_,Q),M=D.slice(0,R).map((V,se)=>({seed:se+1,teamId:V.id,teamName:V.name,teamNumber:V.teamNumber})),G=I(R,M),ne={id:`bracket-${Date.now()}`,tournamentId:d,size:R,teams:M,matches:G,createdAt:new Date};p(ne),r(ne),N(M.slice(0,5)),v(!1),g(!0)},I=(R,U)=>{const Q=[];let D=1;P(R).forEach(ne=>{const V=U.find(ie=>ie.seed===ne[0]),se=U.find(ie=>ie.seed===ne[1]),ee=Math.min(ne[0],ne[1]);Q.push({id:`match-${D++}`,round:1,table:ee,team1:V,team2:se})});const G=Math.log2(R);for(let ne=2;ne<=G;ne++){const V=R/Math.pow(2,ne);for(let se=0;se<V;se++)Q.push({id:`match-${D++}`,round:ne,table:se+1})}return Q},P=R=>{switch(R){case 4:return[[1,4],[2,3]];case 8:return[[1,8],[4,5],[2,7],[3,6]];case 16:return[[1,16],[8,9],[4,13],[5,12],[2,15],[7,10],[3,14],[6,11]];case 32:return[[1,32],[16,17],[8,25],[9,24],[4,29],[13,20],[5,28],[12,21],[2,31],[15,18],[7,26],[10,23],[3,30],[14,19],[6,27],[11,22]];default:return[]}},F=(R,U,Q)=>{if(!h)return;const D=h.matches.map(G=>G.id===R?{...G,team1Score:U,team2Score:Q}:G),M={...h,matches:D};p(M),s(d,{matches:D})},A=R=>{if(!h)return;const U=h.matches.find(V=>V.id===R);if(!U||!U.team1||!U.team2)return;const Q=(U.team1Score||0)>(U.team2Score||0)?U.team1:U.team2,D=h.matches.map(V=>V.id===R?{...V,winner:Q}:V),M=H(U.table,U.round,h.size),ne=h.matches.filter(V=>V.round===U.round+1).find(V=>V.table===M);if(ne){const V=D.map(ee=>{if(ee.id===ne.id)if(ee.team1){if(!ee.team2)return{...ee,team2:{...Q,seed:Q.seed}}}else return{...ee,team1:{...Q,seed:Q.seed}};return ee}),se={...h,matches:V};p(se),s(d,{matches:V})}else{const V={...h,matches:D};p(V),s(d,{matches:D})}},H=(R,U,Q)=>{const D=Q/Math.pow(2,U+1);return R<=D?R:D+1-(R-D)},T=()=>{a(d),p(null),w(!1)};return o.jsxs(Je,{className:"border-2",style:{borderColor:"#a60002"},children:[o.jsx(tt,{children:o.jsxs(at,{className:"flex items-center gap-2",children:[o.jsx("img",{src:"/BidWhist/bracket.png",alt:"Bracket",className:"h-5 w-5",style:{filter:"brightness(0)"}}),"Tournament Bracket Generator"]})}),o.jsx(Xe,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Select Tournament:"}),o.jsx("select",{className:"w-full mt-1 p-2 border rounded",value:d,onChange:R=>f(R.target.value),style:{borderColor:"#a60002"},children:e.map(R=>o.jsx("option",{value:R.id,children:R.name},R.id))})]}),o.jsxs("div",{className:"flex gap-2",children:[!h&&o.jsxs(vr,{open:y,onOpenChange:v,children:[o.jsx(vo,{asChild:!0,children:o.jsx(ae,{onClick:()=>v(!0),style:{backgroundColor:"black",color:"white"},children:"Create Bracket"})}),o.jsxs(or,{children:[o.jsx(ir,{children:o.jsx(lr,{children:"Select Bracket Size"})}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 p-2",children:[o.jsxs("div",{className:"flex-1 border rounded p-2 bg-gray-50",children:[o.jsx("h4",{className:"font-semibold mb-2 text-blue-700",children:"Tournament Results Order"}),o.jsx("ol",{className:"list-decimal pl-4",children:(()=>{const R=l.find(D=>D.tournamentId===d),U=R?R.rounds:5,{sortedTeams:Q}=$c(i,c,R,_,U);return Q.map((D,M)=>o.jsxs("li",{className:"mb-1",children:[o.jsxs(ke,{variant:"outline",children:["#",M+1]})," ",o.jsx("span",{className:"font-medium",children:D.name})," ",o.jsxs("span",{className:"text-xs text-gray-500",children:["(Team # ",D.teamNumber??D.id,")"]})]},D.id))})()})]}),o.jsxs("div",{className:"flex-1 border rounded p-2 bg-gray-50",children:[o.jsx("h4",{className:"font-semibold mb-2 text-green-700",children:"Bracket Seeding Order (Preview)"}),o.jsx("ol",{className:"list-decimal pl-4",children:(()=>{const R=l.find(D=>D.tournamentId===d),U=R?R.rounds:5,{sortedTeams:Q}=$c(i,c,R,_,U);return Q.map((D,M)=>o.jsxs("li",{className:"mb-1",children:[o.jsxs(ke,{variant:"outline",children:["#",M+1]})," ",o.jsx("span",{className:"font-medium",children:D.name})," ",o.jsxs("span",{className:"text-xs text-gray-500",children:["(Team # ",D.teamNumber??D.id,")"]})]},D.id))})()})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4",children:[o.jsx(ae,{onClick:()=>C(32),variant:"outline",children:"32 Team Bracket"}),o.jsx(ae,{onClick:()=>C(16),variant:"outline",children:"16 Team Bracket"}),o.jsx(ae,{onClick:()=>C(8),variant:"outline",children:"8 Team Bracket"}),o.jsx(ae,{onClick:()=>C(4),variant:"outline",children:"4 Team Bracket"})]})]})]}),h&&o.jsxs(vr,{open:x,onOpenChange:w,children:[o.jsx(vo,{asChild:!0,children:o.jsxs(ae,{variant:"destructive",className:"flex items-center gap-2",style:{backgroundColor:"black",color:"white"},children:[o.jsx(Zh,{className:"h-4 w-4"}),"Restart Bracket"]})}),o.jsxs(or,{children:[o.jsx(ir,{children:o.jsx(lr,{children:"Restart Bracket?"})}),o.jsxs("div",{className:"p-4",children:[o.jsx("p",{className:"mb-4",children:"Are you sure you want to restart the bracket? This will delete all current progress and cannot be undone."}),o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(ae,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),o.jsx(ae,{variant:"destructive",onClick:T,children:"Yes, Restart"})]})]})]})]})]}),h&&o.jsxs(o.Fragment,{children:[o.jsx(B5,{size:h.size,matches:h.matches,teams:h.teams,onScoreUpdate:F,onAdvanceWinner:A}),o.jsx(vr,{open:b,onOpenChange:g,children:o.jsxs(or,{children:[o.jsx(ir,{children:o.jsx(lr,{children:"Top 5 Seeds"})}),o.jsxs("div",{className:"space-y-2",children:[S.length===0&&o.jsx("div",{className:"text-red-600 font-semibold",children:"No teams could be seeded. Please check that your tournament has a valid schedule and teams."}),S.map((R,U)=>{const Q=R.teamNumber??R.teamId;return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ke,{variant:"outline",children:["#",R.seed]}),o.jsx("span",{className:"font-medium",children:R.teamName}),Q&&o.jsxs("span",{className:"text-xs text-gray-500",children:["(Team # ",Q,")"]})]},R.teamId)})]}),o.jsx("div",{className:"flex justify-end pt-2",children:o.jsx(ae,{onClick:()=>g(!1),children:"OK"})})]})})]})]})})]})},L5=()=>{const[e,t]=m.useState(0),[r,n]=m.useState(1),s=r>0?e/r:0,{tournaments:a,teams:i}=Dt(),[l,c]=m.useState(""),[u,d]=m.useState(0),[f,h]=m.useState(0),[p,y]=m.useState(30),[v,x]=m.useState(50),[w,b]=m.useState(25),[g,S]=m.useState(15),[N,_]=m.useState(10);m.useEffect(()=>{if(l){const T=a.find(R=>R.id===l);if(T){let R=0,U=0;i.forEach(D=>{var M,G,ne,V;if((M=D.registeredTournaments)!=null&&M.includes(l)){const se=T.cost,ee=(G=D.bostonPotTournaments)!=null&&G.includes(l)?T.bostonPotCost:0,ie=se+ee;((ne=D.player1TournamentPayments)==null?void 0:ne[l])||!1?R+=ie/2:U+=ie/2,((V=D.player2TournamentPayments)==null?void 0:V[l])||!1?R+=ie/2:U+=ie/2}});const Q=i.reduce((D,M)=>{var G;return(G=M.bostonPotTournaments)!=null&&G.includes(l)?D+(T.bostonPotCost||0):D},0);d(R),h(U),t(Q)}}else d(0),h(0),t(0)},[l,a,i]);const j=u+f,C=j*p/100,I=j-C,P=I*v/100,F=I*w/100,A=I*g/100,H=I*N/100;return o.jsxs("div",{className:"space-y-6",children:[o.jsx(Je,{className:"mb-4",children:o.jsx(Xe,{children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Ne,{htmlFor:"tournamentSelect",children:"Select Tournament"}),o.jsxs(Or,{value:l,onValueChange:c,children:[o.jsx(jr,{id:"tournamentSelect",className:"w-64",children:o.jsx(Br,{placeholder:"Choose a tournament"})}),o.jsx(Cr,{children:a.map(T=>o.jsx(yt,{value:T.id,children:T.name},T.id))})]})]})})}),o.jsxs(Je,{children:[o.jsx(tt,{children:o.jsxs(at,{className:"flex items-center gap-2",children:[o.jsx(Qs,{className:"h-5 w-5"}),"Tournament Finance Manager"]})}),o.jsx(Xe,{className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ne,{children:"Money Collected ($)"}),o.jsxs("div",{className:"p-2 bg-green-100 rounded border font-semibold text-green-700",children:["$",u.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx(Ne,{children:"Money Owed ($)"}),o.jsxs("div",{className:"p-2 bg-red-100 rounded border font-semibold text-red-700",children:["$",f.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx(Ne,{children:"Total Expected ($)"}),o.jsxs("div",{className:"p-2 bg-blue-100 rounded border font-semibold text-blue-700",children:["$",j.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx(Ne,{htmlFor:"bostonPotCollected",children:"Boston Pot Collected ($)"}),o.jsxs("div",{className:"p-2 bg-yellow-100 rounded border font-semibold text-yellow-700",children:["$",e.toFixed(2)]})]})]})})]}),o.jsxs(Je,{children:[o.jsx(tt,{children:o.jsxs(at,{className:"flex items-center gap-2",children:[o.jsx(o2,{className:"h-5 w-5"}),"Payout Distribution"]})}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ne,{htmlFor:"clubShare",className:"min-w-0 flex-1",children:"Club Share (%)"}),o.jsx(Ee,{id:"clubShare",type:"number",value:p,onChange:T=>y(Number(T.target.value)),className:"w-20"}),o.jsxs("div",{className:"font-semibold text-green-600 min-w-0",children:["$",C.toFixed(2)]})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"font-semibold",children:["Prize Pool: $",I.toFixed(2)]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ne,{htmlFor:"first",className:"min-w-0 flex-1",children:"1st Place (%)"}),o.jsx(Ee,{id:"first",type:"number",value:v,onChange:T=>x(Number(T.target.value)),className:"w-20"}),o.jsxs("div",{className:"font-semibold text-yellow-600 min-w-0",children:["$",P.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ne,{htmlFor:"second",className:"min-w-0 flex-1",children:"2nd Place (%)"}),o.jsx(Ee,{id:"second",type:"number",value:w,onChange:T=>b(Number(T.target.value)),className:"w-20"}),o.jsxs("div",{className:"font-semibold text-gray-600 min-w-0",children:["$",F.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ne,{htmlFor:"third",className:"min-w-0 flex-1",children:"3rd Place (%)"}),o.jsx(Ee,{id:"third",type:"number",value:g,onChange:T=>S(Number(T.target.value)),className:"w-20"}),o.jsxs("div",{className:"font-semibold text-orange-600 min-w-0",children:["$",A.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ne,{htmlFor:"fourth",className:"min-w-0 flex-1",children:"4th Place (%)"}),o.jsx(Ee,{id:"fourth",type:"number",value:N,onChange:T=>_(Number(T.target.value)),className:"w-20"}),o.jsxs("div",{className:"font-semibold text-blue-600 min-w-0",children:["$",H.toFixed(2)]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 font-semibold mt-4",children:[o.jsxs("div",{children:["Boston Pot Split per Team: ",o.jsxs("span",{className:"text-green-700",children:["$",s.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ne,{htmlFor:"bostonWinners",children:"Number of Boston Winners"}),o.jsx(Ee,{id:"bostonWinners",type:"number",min:1,value:r,onChange:T=>n(Number(T.target.value)),placeholder:"Enter number of winning teams",className:"w-32"})]})]})]})]})]})]})};var th="rovingFocusGroup.onEntryFocus",$5={bubbles:!1,cancelable:!0},zl="RovingFocusGroup",[Ip,Hj,F5]=Rm(zl),[U5,Gj]=zn(zl,[F5]),[z5,W5]=U5(zl),qj=m.forwardRef((e,t)=>o.jsx(Ip.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Ip.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(V5,{...e,ref:t})})}));qj.displayName=zl;var V5=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=gt(t,h),y=rg(a),[v,x]=Ys({prop:i,defaultProp:l??null,onChange:c,caller:zl}),[w,b]=m.useState(!1),g=cn(u),S=Hj(r),N=m.useRef(!1),[_,j]=m.useState(0);return m.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(th,g),()=>C.removeEventListener(th,g)},[g]),o.jsx(z5,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(C=>x(C),[x]),onItemShiftTab:m.useCallback(()=>b(!0),[]),onFocusableItemAdd:m.useCallback(()=>j(C=>C+1),[]),onFocusableItemRemove:m.useCallback(()=>j(C=>C-1),[]),children:o.jsx(Be.div,{tabIndex:w||_===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Te(e.onMouseDown,()=>{N.current=!0}),onFocus:Te(e.onFocus,C=>{const I=!N.current;if(C.target===C.currentTarget&&I&&!w){const P=new CustomEvent(th,$5);if(C.currentTarget.dispatchEvent(P),!P.defaultPrevented){const F=S().filter(U=>U.focusable),A=F.find(U=>U.active),H=F.find(U=>U.id===v),R=[A,H,...F].filter(Boolean).map(U=>U.ref.current);Qj(R,d)}}N.current=!1}),onBlur:Te(e.onBlur,()=>b(!1))})})}),Kj="RovingFocusGroupItem",Yj=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:i,...l}=e,c=rs(),u=a||c,d=W5(Kj,r),f=d.currentTabStopId===u,h=Hj(r),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:v}=d;return m.useEffect(()=>{if(n)return p(),()=>y()},[n,p,y]),o.jsx(Ip.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:o.jsx(Be.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Te(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:Te(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Te(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const w=q5(x,d.orientation,d.dir);if(w!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let g=h().filter(S=>S.focusable).map(S=>S.ref.current);if(w==="last")g.reverse();else if(w==="prev"||w==="next"){w==="prev"&&g.reverse();const S=g.indexOf(x.currentTarget);g=d.loop?K5(g,S+1):g.slice(S+1)}setTimeout(()=>Qj(g))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:v!=null}):i})})});Yj.displayName=Kj;var H5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function q5(e,t,r){const n=G5(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return H5[n]}function Qj(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function K5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Y5=qj,Q5=Yj,Gd="Tabs",[J5,z6]=zn(Gd,[Gj]),Jj=Gj(),[X5,Wg]=J5(Gd),Xj=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=rg(l),[f,h]=Ys({prop:n,onChange:s,defaultProp:a??"",caller:Gd});return o.jsx(X5,{scope:r,baseId:rs(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:o.jsx(Be.div,{dir:d,"data-orientation":i,...u,ref:t})})});Xj.displayName=Gd;var Zj="TabsList",eC=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=Wg(Zj,r),i=Jj(r);return o.jsx(Y5,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:o.jsx(Be.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});eC.displayName=Zj;var tC="TabsTrigger",rC=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,i=Wg(tC,r),l=Jj(r),c=aC(i.baseId,n),u=oC(i.baseId,n),d=n===i.value;return o.jsx(Q5,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(Be.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Te(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:Te(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:Te(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});rC.displayName=tC;var nC="TabsContent",sC=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...i}=e,l=Wg(nC,r),c=aC(l.baseId,n),u=oC(l.baseId,n),d=n===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(us,{present:s||d,children:({present:h})=>o.jsx(Be.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});sC.displayName=nC;function aC(e,t){return`${e}-trigger-${t}`}function oC(e,t){return`${e}-content-${t}`}var Z5=Xj,iC=eC,lC=rC,cC=sC;const e6=Z5,uC=m.forwardRef(({className:e,...t},r)=>o.jsx(iC,{ref:r,className:$e("inline-flex h-10 items-center justify-center rounded-md bg-muted/50 p-1 text-muted-foreground",e),...t}));uC.displayName=iC.displayName;const dC=m.forwardRef(({className:e,...t},r)=>o.jsx(lC,{ref:r,className:$e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm hover:text-foreground",e),...t}));dC.displayName=lC.displayName;const pr=m.forwardRef(({className:e,...t},r)=>o.jsx(cC,{ref:r,className:$e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 animate-in fade-in-0 data-[state=inactive]:animate-out data-[state=inactive]:fade-out-0 duration-200",e),...t}));pr.displayName=cC.displayName;const t6=()=>o.jsx("img",{src:"/BidWhist/cc.png",alt:"Command Center",className:"w-14 h-14 object-contain"}),r6=()=>o.jsx("img",{src:"/BidWhist/results.png",alt:"Results",className:"w-10 h-10 object-contain"}),n6=()=>o.jsx("img",{src:"/BidWhist/bracket.png",alt:"Bracket",className:"w-10 h-10 object-contain"}),s6=()=>o.jsx("img",{src:"/BidWhist/city.png",alt:"City",className:"w-10 h-10 object-contain"}),a6=()=>o.jsx("img",{src:"/BidWhist/go.png",alt:"Go to Player Portal",className:"w-20 h-20 object-contain"}),o6=()=>o.jsx("img",{src:"/BidWhist/refresh.png",alt:"Refresh",className:"w-12 h-12 object-contain"}),i6=()=>o.jsx("img",{src:"/BidWhist/message.png",alt:"Message",className:"w-10 h-10 object-contain"}),l6=()=>o.jsx("img",{src:"/BidWhist/sched.png",alt:"Schedule",className:"w-10 h-10 object-contain"}),c6=()=>o.jsx("img",{src:"/BidWhist/dollar.png",alt:"Finance",className:"w-10 h-10 object-contain"}),u6=({player:e,isOpen:t,onClose:r,onSave:n})=>{console.log("PlayerEditor mounted. Props:",{player:e,isOpen:t});const[s,a]=m.useState({firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||""});Z.useEffect(()=>{a({firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||""})},[e]);const i=()=>{n({...e,...s}),r()};return o.jsx(vr,{open:t,onOpenChange:r,children:o.jsxs(or,{className:"sm:max-w-md",children:[o.jsx(ir,{children:o.jsx(lr,{children:"Edit Player"})}),o.jsxs("div",{style:{color:"red",fontWeight:"bold"},children:["[DEBUG] PlayerEditor rendered. Player: ",e&&e.playerId?e.playerId:"no id"," | ",e&&e.firstName?e.firstName:"no fname"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ne,{children:"First Name"}),o.jsx(Ee,{value:s.firstName,onChange:l=>a(c=>({...c,firstName:l.target.value}))})]}),o.jsxs("div",{children:[o.jsx(Ne,{children:"Last Name"}),o.jsx(Ee,{value:s.lastName,onChange:l=>a(c=>({...c,lastName:l.target.value}))})]}),o.jsxs("div",{children:[o.jsx(Ne,{children:"Phone"}),o.jsx(Ee,{value:s.phone,onChange:l=>a(c=>({...c,phone:l.target.value}))})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ae,{variant:"outline",onClick:r,children:"Cancel"}),o.jsx(ae,{onClick:i,children:"Save"})]})]})]})})},d6=()=>{var v,x,w,b,g,S,N;const{teams:e,tournaments:t,updateTeam:r}=Dt(),[n,s]=m.useState(""),[a,i]=m.useState(null),[l,c]=m.useState(!1),[u,d]=m.useState(!1);Z.useEffect(()=>{a&&(console.log("Selected Player:",a),console.log("PlayerEditor props:",{firstName:a.firstName,lastName:a.lastName,phone:a.phone,city:a.city,team:a.team,role:a.role}))},[a]);const h=m.useMemo(()=>{const _=[];return e.forEach(j=>{["player1","player2"].forEach(C=>{const I=j[C+"FirstName"]||j[C+"_first_name"]||"",P=j[C+"LastName"]||j[C+"_last_name"]||"",F=j[C+"Phone"]||j.phoneNumber||j.phone_number||"",A=j.city||"",H=`${I}|${P}|${F}`,T=C==="player1"?(j.player2FirstName||j.player2_first_name||"")+" "+(j.player2LastName||j.player2_last_name||""):(j.player1FirstName||j.player1_first_name||"")+" "+(j.player1LastName||j.player1_last_name||"");_.push({playerId:H,firstName:I,lastName:P,phone:F,city:A,team:j,role:C,tournaments:j.registeredTournaments||[],payments:j[C+"TournamentPayments"]||{},partner:T,teamName:j.name,teamNumber:j.id})})}),_},[e]).filter(_=>{const j=n.toLowerCase();return(_.firstName||"").toLowerCase().includes(j)||(_.lastName||"").toLowerCase().includes(j)||(_.phone||"").toLowerCase().includes(j)||(_.city||"").toLowerCase().includes(j)}),p=(_,j,C)=>{const I={..._.team};I[_.role+"TournamentPayments"]||(I[_.role+"TournamentPayments"]={}),I[_.role+"TournamentPayments"][j]=C,r(I),i({..._,payments:{..._.payments,[j]:C}})},y=_=>{const j={...a.team};a.role==="player1"?(j.player1FirstName=_.firstName,j.player1LastName=_.lastName,j.phoneNumber=_.phone,j.city=_.city):(j.player2FirstName=_.firstName,j.player2LastName=_.lastName,j.phoneNumber=_.phone,j.city=_.city),r(j),i({...a,..._})};return o.jsxs(Je,{className:"mt-6",children:[o.jsx(tt,{children:o.jsx(at,{children:"Player Tracking"})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"mb-4",children:o.jsx(Ee,{placeholder:"Search by first name, last name, phone, or city...",value:n,onChange:_=>s(_.target.value)})}),a?o.jsxs("div",{children:[o.jsx(ae,{variant:"outline",className:"mb-2",onClick:()=>i(null),children:"Back to Search"}),o.jsxs("div",{className:"mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"font-bold text-lg",children:[a.firstName," ",a.lastName]}),o.jsx(ae,{size:"sm",variant:"outline",onClick:()=>c(!0),children:"Edit Player"}),o.jsx(ae,{size:"sm",variant:"outline",onClick:()=>{console.log("Edit Team button clicked. Team:",a==null?void 0:a.team),d(!0)},children:"Edit Team"})]}),o.jsxs("div",{children:["Phone: ",a.phone]}),o.jsxs("div",{children:["City: ",a.city]}),o.jsxs("div",{children:["Partner: ",a.partner]}),o.jsxs("div",{children:["Team: ",a.teamName," (#",a.teamNumber,")"]})]}),o.jsx(u6,{player:{...a,firstName:(a==null?void 0:a.firstName)||((v=a==null?void 0:a.team)==null?void 0:v.player1FirstName)||((x=a==null?void 0:a.team)==null?void 0:x.player1_first_name)||"",lastName:(a==null?void 0:a.lastName)||((w=a==null?void 0:a.team)==null?void 0:w.player1LastName)||((b=a==null?void 0:a.team)==null?void 0:b.player1_last_name)||"",phone:(a==null?void 0:a.phone)||((g=a==null?void 0:a.team)==null?void 0:g.phoneNumber)||((S=a==null?void 0:a.team)==null?void 0:S.phone_number)||"",city:(a==null?void 0:a.city)||((N=a==null?void 0:a.team)==null?void 0:N.city)||"",team:(a==null?void 0:a.team)||{},role:(a==null?void 0:a.role)||""},isOpen:l,onClose:()=>c(!1),onSave:y}),(a==null?void 0:a.team)&&o.jsxs(o.Fragment,{children:[console.log("TeamEditor props:",a.team),o.jsx(hN,{team:a.team,isOpen:u,onClose:()=>d(!1),onSave:r})]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold mb-1",children:"Tournaments:"}),a.tournaments.length===0&&o.jsx("div",{className:"text-gray-500",children:"Not registered in any tournaments."}),o.jsx("ul",{className:"space-y-1",children:a.tournaments.map(_=>{const j=t.find(I=>I.id===_),C=a.payments[_];return o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx("span",{children:j?j.name:_}),C?o.jsxs(o.Fragment,{children:[o.jsx(ke,{className:"bg-green-600",children:"Paid"}),o.jsx(ae,{size:"sm",variant:"destructive",onClick:()=>p(a,_,!1),children:"Reverse"})]}):o.jsx(ae,{size:"sm",onClick:()=>p(a,_,!0),children:"Mark Paid"})]},_)})})]})]}):o.jsxs("div",{className:"space-y-2",children:[h.slice(0,30).map((_,j)=>o.jsxs("div",{className:"p-2 border rounded cursor-pointer hover:bg-gray-50",onClick:()=>i(_),children:[o.jsxs("span",{className:"font-semibold",children:[_.firstName," ",_.lastName]}),"  ",_.phone,"  ",_.city," ",o.jsxs(ke,{variant:"outline",children:["Team ",_.teamNumber,": ",_.teamName]})]},_.playerId&&_.team&&_.team.id?`${_.playerId}|${_.team.id}`:j)),h.length>30&&o.jsx("div",{className:"text-xs text-gray-400",children:"Showing first 30 results..."})]})]})]})};class f6 extends Z.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught error:",t,r)}render(){return this.state.hasError?o.jsxs("div",{style:{color:"red",padding:32},children:[o.jsx("h2",{children:"Something went wrong in AppLayout."}),o.jsx("pre",{children:String(this.state.error)})]}):this.props.children}}const h6=()=>{var N,_;const{currentUser:e,getActiveTournament:t,setActiveTournament:r,tournaments:n,setTournaments:s,refreshGamesFromSupabase:a,refreshSchedules:i,refreshTeams:l}=Dt(),[c,u]=m.useState(!0),[d,f]=m.useState(!1),[h,p]=m.useState(null),[y,v]=m.useState(null),[x,w]=m.useState("teams"),b=async()=>{try{f(!0),await Promise.all([a(),i(),l(),(async()=>{const{supabase:j}=await Le(async()=>{const{supabase:P}=await Promise.resolve().then(()=>qe);return{supabase:P}},void 0),{data:C,error:I}=await j.from("tournaments").select("*");!I&&C&&s(C)})()]),Y({title:"Data refreshed successfully",description:"All tournament data, teams, payments, and schedules have been updated",variant:"default"})}catch(j){console.error("Error refreshing data:",j),Y({title:"Refresh failed",description:"Some data may not have been updated",variant:"destructive"})}finally{f(!1)}},g=()=>u(!1),S=j=>{r(j)};return c||!e?o.jsx(VO,{onSetupComplete:g}):o.jsx(f6,{children:o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"w-20 h-20 bg-red-200 flex items-center justify-center shadow-md",children:o.jsx("img",{src:"/BidWhist/SetPlay_Logo.png",alt:"SetPlay Logo",className:"w-20 h-20"})}),o.jsxs("div",{className:"flex-1 bg-white shadow-md sticky top-0 z-10 px-6 py-3 flex items-center justify-between",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Panel"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Manage:"}),o.jsxs("select",{className:"border border-gray-300 rounded px-3 py-1 text-sm text-gray-800 bg-white",value:((N=t())==null?void 0:N.id)||"",onChange:j=>S(j.target.value),children:[o.jsx("option",{value:"",disabled:!0,children:"Select tournament..."}),n.map(j=>o.jsx("option",{value:j.id,children:j.name},j.id))]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Active:"}),o.jsxs("select",{className:"border border-gray-300 rounded px-3 py-1 text-sm text-gray-800 bg-white",value:((_=t())==null?void 0:_.id)||"",onChange:j=>S(j.target.value),children:[o.jsx("option",{value:"",disabled:!0,children:"Select tournament..."}),n.map(j=>o.jsx("option",{value:j.id,children:j.name},j.id))]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(ae,{variant:"ghost",size:"sm",onClick:b,disabled:d,className:"text-gray-600 hover:text-red-600",children:o.jsx(o6,{})}),o.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>window.open("#/portal?admin=1","_blank"),className:"text-gray-600 hover:text-red-600",children:o.jsx(a6,{})})]})]})]}),o.jsx(e6,{value:x,onValueChange:w,className:"w-full h-full",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"w-20 flex-shrink-0 bg-white shadow-md pt-2 h-screen",children:o.jsx(uC,{className:"flex flex-col gap-1 w-full items-center p-2 mt-64",children:[["teams",o.jsx(t6,{})],["schedule",o.jsx(l6,{})],["results",o.jsx(r6,{})],["bracket",o.jsx(n6,{})],["finance",o.jsx(c6,{})],["cities",o.jsx(s6,{})],["messaging",o.jsx(i6,{})]].map(([j,C])=>o.jsx(dC,{value:j,className:"text-red-600 hover:text-red-600 hover:bg-gray-200 data-[state=active]:bg-gray-100 data-[state=active]:text-black w-full p-3 flex justify-center",children:C},j))})}),o.jsxs("div",{className:"flex-1 p-4",children:[o.jsx(pr,{value:"teams",children:o.jsx(DM,{onTeamPaymentClick:j=>{p(j),w("team-payment-details")},onIndividualPlayerPaymentClick:j=>{v(j),w("individual-player-payments")}})}),o.jsx(pr,{value:"teams-by-tournament",children:o.jsx(FM,{})}),o.jsx(pr,{value:"team-payments",children:o.jsx(UM,{})}),o.jsx(pr,{value:"team-payment-details",children:o.jsx(zM,{teamId:h,onBackToCommandCenter:()=>w("teams")})}),o.jsx(pr,{value:"individual-player-payments",children:o.jsx(WM,{playerId:y,onBackToCommandCenter:()=>w("teams")})}),o.jsx(pr,{value:"registration",children:o.jsx(OM,{})}),o.jsx(pr,{value:"schedule",children:o.jsx(k5,{})}),o.jsx(pr,{value:"results",children:o.jsx(O5,{})}),o.jsx(pr,{value:"bracket",children:o.jsx(M5,{})}),o.jsx(pr,{value:"finance",children:o.jsx(L5,{})}),o.jsx(pr,{value:"player-tracking",children:o.jsx(d6,{})}),o.jsx(pr,{value:"history",children:o.jsx(VM,{})}),o.jsx(pr,{value:"cities",children:o.jsx(HM,{})}),o.jsx(pr,{value:"messaging",children:o.jsx(GM,{})})]})]})})]})})},p6=()=>o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"container mx-auto p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("div",{})," "]}),o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-full max-w-6xl",children:o.jsx(h6,{})})})]})}),m6=()=>{const e=h1();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"text-center p-8 rounded-lg border border-border bg-card shadow-md animate-slide-in",children:[o.jsx("h1",{className:"text-5xl font-bold mb-6 text-primary",children:"404"}),o.jsx("p",{className:"text-xl text-card-foreground mb-6",children:"Page not found"}),o.jsx("a",{href:"/",className:"text-primary hover:text-primary/80 underline transition-colors",children:"Return to Home"})]})})},lb=({message:e,type:t="info"})=>{if(console.log("MessageBanner render:",{message:e,type:t}),!e)return null;const r=()=>{switch(t){case"warning":return"bg-yellow-500 text-yellow-900";case"success":return"bg-green-500 text-green-900";case"error":return"bg-red-500 text-red-900";default:return"bg-blue-500 text-blue-900"}};return o.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 ${r()} py-2 overflow-hidden`,children:o.jsxs("div",{className:"animate-marquee whitespace-nowrap",children:[o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),o.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e})]})})},g6=({team:e,match:t,onComplete:r})=>{const[n,s]=m.useState(""),[a,i]=m.useState(""),[l,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState("0"),[p,y]=m.useState("0"),[v,x]=m.useState(0),[w,b]=m.useState(null),{teams:g,submitGame:S,getActiveTournament:N}=Dt(),_=N(),j=(_==null?void 0:_.tracksHands)!==!1,C=F=>{if(!j)switch(F){case 0:return 2;case 2:return 3;case 3:return 5;case 5:return 6;default:return F+1}return F+1},I=F=>{if(!j)switch(F){case 2:return 0;case 3:return 2;case 5:return 3;case 6:return 5;default:return F-1}return F-1},P=async()=>{if(!t||!n||!a||j&&(!l||!u))return;const F=String(t.teamA)===String(e.id)?parseInt(n):parseInt(a),A=String(t.teamA)===String(e.id)?parseInt(a):parseInt(n);if(F===A&&!w)return;const H=parseInt(f)||0,T=parseInt(p)||0,R=ne=>ne.trim()===""?0:Number(ne),U=String(t.teamA)===String(e.id)?R(l):R(u),Q=String(t.teamA)===String(e.id)?R(u):R(l),D=g.find(ne=>String(ne.id)===String(t.teamA)),M=g.find(ne=>String(ne.id)===String(t.teamB));if(!D||!M)return;const G={teamA:D.id,teamB:M.id,scoreA:F,scoreB:A,handsA:U,handsB:Q,boston_a:H,boston_b:T,winner:F>A?"teamA":F<A?"teamB":w,matchId:t.id,round:t.round,submittedBy:e.id,status:"pending_confirmation",entered_by_team_id:e.id};await S(G),r()};return o.jsxs("div",{className:"space-y-4",children:[v===0&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many points did you have?"}),o.jsx(Ee,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:n,onChange:F=>s(F.target.value),placeholder:"Enter your points",className:"text-center text-xl h-12",autoFocus:!0}),o.jsx(ae,{onClick:()=>x(C(0)),className:"w-full",disabled:!n,children:"Next"})]}),j&&v===1&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many hands did you win?"}),o.jsx(Ee,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:l,onChange:F=>c(F.target.value),placeholder:"Enter hands won",className:"text-center text-xl h-12",autoFocus:!0}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:()=>x(I(1)),variant:"outline",className:"flex-1",children:"Back"}),o.jsx(ae,{onClick:()=>x(C(1)),className:"flex-1",disabled:!l,children:"Next"})]})]}),v===2&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many Bostons did you make?"}),o.jsx(Ee,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:f,onChange:F=>h(F.target.value),placeholder:"Enter your Bostons",className:"text-center text-xl h-12",autoFocus:!0}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:()=>x(I(2)),variant:"outline",className:"flex-1",children:"Back"}),o.jsx(ae,{onClick:()=>x(C(2)),className:"flex-1",disabled:!f,children:"Next"})]})]}),v===3&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many points did your opponent have?"}),o.jsx(Ee,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:a,onChange:F=>i(F.target.value),placeholder:"Enter opponent points",className:"text-center text-xl h-12",autoFocus:!0}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:()=>x(I(3)),variant:"outline",className:"flex-1",children:"Back"}),o.jsx(ae,{onClick:()=>x(C(3)),className:"flex-1",disabled:!a,children:"Next"})]})]}),j&&v===4&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many hands did your opponent win?"}),o.jsx(Ee,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:u,onChange:F=>d(F.target.value),placeholder:"Enter opponent hands",className:"text-center text-xl h-12",autoFocus:!0}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:()=>x(I(4)),variant:"outline",className:"flex-1",children:"Back"}),o.jsx(ae,{onClick:()=>x(C(4)),className:"flex-1",disabled:!u,children:"Next"})]})]}),v===5&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many Bostons did your opponent make?"}),o.jsx(Ee,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:p,onChange:F=>y(F.target.value),placeholder:"Enter opponent Bostons",className:"text-center text-xl h-12",autoFocus:!0}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:()=>x(I(5)),variant:"outline",className:"flex-1",children:"Back"}),o.jsx(ae,{onClick:()=>x(6),className:"flex-1",disabled:!p,children:"Next"})]})]}),v===6&&o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"Check for Tie"}),o.jsxs("div",{className:"text-lg",children:["Your Score: ",n," | Opponent Score: ",a]}),parseInt(n)===parseInt(a)?o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-lg text-orange-600",children:"Scores are tied! Who won the tiebreaker?"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:()=>b(String(t.teamA)===String(e.id)?"teamA":"teamB"),variant:w===(String(t.teamA)===String(e.id)?"teamA":"teamB")?"default":"outline",className:"flex-1",children:"You Won"}),o.jsx(ae,{onClick:()=>b(String(t.teamA)===String(e.id)?"teamB":"teamA"),variant:w===(String(t.teamA)===String(e.id)?"teamB":"teamA")?"default":"outline",className:"flex-1",children:"Opponent Won"})]})]}):o.jsx("p",{className:"text-lg text-green-600",children:"No tie - winner is clear!"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ae,{onClick:()=>x(I(6)),variant:"outline",className:"flex-1",children:"Back"}),o.jsxs(ae,{onClick:P,className:"flex-1",disabled:parseInt(n)===parseInt(a)&&!w,children:[o.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Submit Score"]})]})]})]})},v6=({team:e,match:t,onComplete:r})=>{const{games:n,confirmScore:s,refreshGamesFromSupabase:a}=Dt(),i=n.find(b=>String(b.matchId)===String(t.id)&&b.status==="pending_confirmation");if(!i)return o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-gray-500",children:"No pending score found for this match."})});const l=String(i.teamA)===String(e.id),c=l?i.scoreA:i.scoreB,u=l?i.scoreB:i.scoreA,d=l?i.boston_a??0:i.boston_b??0,f=l?i.boston_b??0:i.boston_a??0,h=l?i.handsA??0:i.handsB??0,p=l?i.handsB??0:i.handsA??0,y=c===u,x=i.winner==="teamA"?l?"You":"Opponent":l?"Opponent":"You",w=async b=>{try{await s(i.id,b),Y({title:b?"Score confirmed":"Score disputed",variant:b?"default":"destructive"}),await a(),r()}catch{Y({title:"Action failed",description:"Please try again.",variant:"destructive"})}};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-center",children:o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Review the score entered by your opponent:"})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 border border-blue-200",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Your Score"}),o.jsx("div",{className:"text-3xl font-bold text-blue-700",children:c}),o.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Bostons: ",d,i.handsA!==void 0&&`  Hands: ${h}`]})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 border border-gray-200",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Opponent Score"}),o.jsx("div",{className:"text-3xl font-bold",children:u}),o.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Bostons: ",f,i.handsB!==void 0&&`  Hands: ${p}`]})]})]}),y&&o.jsxs("div",{className:"p-4 rounded-lg bg-orange-50 border border-orange-200 text-center",children:[o.jsx("div",{className:"text-sm text-orange-700 font-medium mb-1",children:"Tiebreaker Winner"}),o.jsxs("div",{className:"text-lg font-bold text-orange-800",children:[x," won the tiebreaker"]}),o.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"Please verify this tiebreaker winner is correct"})]}),o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:`Please review these scores. If they match what you recorded, click "Confirm". If there's a discrepancy, click "Dispute".`})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(ae,{variant:"destructive",className:"flex-1",onClick:()=>w(!1),children:"Dispute"}),o.jsxs(ae,{className:"flex-1",onClick:()=>w(!0),children:[o.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Confirm"]})]})]})},y6=()=>{var se,ee;const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,a]=m.useState(null),[i,l]=m.useState(""),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(""),[y,v]=m.useState(null),[x,w]=m.useState(null),[b,g]=m.useState(0),{teams:S,schedules:N,games:_,tournaments:j,getActiveTournament:C,submitGame:I,confirmScore:P,beginScoreEntry:F,releaseScoreEntryLock:A,refreshGamesFromSupabase:H,getActiveMessages:T}=Dt(),R=ie=>ie.replace(/\D/g,""),U=()=>{l("");const ie=R(e);if(ie.length!==10){l("Please enter a valid 10-digit phone number");return}const le=S.find(O=>{const W=R(O.phoneNumber),he=R(O.player1_phone||""),J=R(O.player2_phone||"");return W===ie||he===ie||J===ie});le?a(le):l("Team not found. Please check your phone number.")},Q=ie=>{const le=S.find(O=>O.id===ie);le&&(a(le),f(!0))},D=()=>{if(!r.trim())return;const ie=parseInt(r.trim()),le=S.find(O=>O.teamNumber===ie||O.id===r.trim());le?(a(le),f(!0),n(""),l("")):l(`No team found with number ${r.trim()}`)};m.useEffect(()=>{g(ie=>ie+1)},[_]),m.useEffect(()=>{s&&window.scrollTo(0,0)},[s]),m.useEffect(()=>{const ie=setInterval(()=>{g(le=>le+1)},1e3);return()=>clearInterval(ie)},[]),m.useEffect(()=>{if(!s)return;const ie=setInterval(()=>{H()},5e3);return()=>clearInterval(ie)},[s,H]);const M=()=>{if(!s)return[];const ie=C();if(!ie)return[];const le=N.find(J=>J.tournamentId===ie.id);if(!le)return[];const O=le.matches.filter(J=>J.teamA===s.id||J.teamB===s.id),W=new Set;_.forEach(J=>{if((J.teamA===s.id||J.teamB===s.id)&&(J.confirmed||J.status==="confirmed")&&J.matchId){const ve=le.matches.find(Se=>Se.id===J.matchId);ve&&W.add(ve.round)}}),O.forEach(J=>{J.isBye&&W.add(J.round)});const he=Math.min(...Array.from({length:le.rounds},(J,ve)=>ve+1).filter(J=>!W.has(J)));return O.map(J=>{const ve=J.teamA===s.id?J.teamB:J.teamA,Se=S.find(et=>et.id===ve),fe=_.find(et=>et.matchId===J.id);let _e="future",Fe="",Ae="";J.isBye?(_e="completed",Fe="BYE Round",Ae="No game this round"):fe?fe.status==="confirmed"||fe.confirmed?_e="completed":fe.status==="pending_confirmation"?(fe.entered_by_team_id===s.id?(Fe="Opponent confirming score",Ae="Your score has been entered. Opponent is confirming."):(Fe="Pending confirmation",Ae="Review and confirm the score entered by your opponent."),_e="current"):fe.status==="entering"?(fe.entered_by_team_id===s.id?(Fe="Entering score",Ae="You are currently entering the score."):(Fe="Opponent entering score",Ae="Opponent is entering the score. Please wait."),_e="current"):fe.status==="disputed"&&(fe.entered_by_team_id===s.id?(Fe="Score disputed - re-enter",Ae="Your score was disputed. Please re-enter the correct score."):(Fe="Score disputed",Ae="The score was disputed. Waiting for opponent to re-enter."),_e="current"):J.round===he&&(_e="current",Fe="Ready to Score",Ae="Click to enter your score");let ut=null;if(_e==="completed"&&fe){const et=J.teamA===s.id,Ct=et?fe.scoreA:fe.scoreB,Rt=et?fe.scoreB:fe.scoreA,Lt=et&&fe.winner==="teamA"||!et&&fe.winner==="teamB";ut={myScore:Ct,opponentScore:Rt,isWin:Lt,boston:fe.boston}}return{...J,tournamentName:ie.name,opponentTeam:Se,gameResult:ut,cardType:_e,status:Fe,statusMessage:Ae,existingGame:fe}}).sort((J,ve)=>J.round-ve.round)},G=m.useMemo(()=>{const ie=C();if(!s||!ie)return{wins:0,totalGames:0,totalPoints:0,avgPoints:"0.0",results:[]};const le=N.find(fe=>fe.tournamentId===ie.id);if(!le)return{wins:0,totalGames:0,totalPoints:0,avgPoints:"0.0",results:[]};const O=new Set(le.matches.map(fe=>fe.id)),W=_.filter(fe=>(fe.teamA===s.id||fe.teamB===s.id)&&(fe.confirmed||fe.status==="confirmed")&&fe.matchId&&O.has(fe.matchId)).map(fe=>{const _e=fe.teamA===s.id,Fe=_e?fe.teamB:fe.teamA,Ae=S.find(ut=>ut.id===Fe)||null;return{...fe,isWin:_e&&fe.winner==="teamA"||!_e&&fe.winner==="teamB",teamScore:_e?fe.scoreA:fe.scoreB,opponentScore:_e?fe.scoreB:fe.scoreA,opponent:Ae}}),he=W.filter(fe=>fe.isWin).length,J=W.length,ve=W.reduce((fe,_e)=>fe+_e.teamScore,0),Se=J>0?(ve/J).toFixed(1):"0.0";return{wins:he,totalGames:J,totalPoints:ve,avgPoints:Se,results:W}},[_,s,N,C,S]);if(!s){const ie=T()[0];return console.log("Login screen - active message:",ie),o.jsxs("div",{className:"min-h-screen flex flex-col justify-start items-center bg-gray-50 px-4 pt-0 pb-4",children:[o.jsx(lb,{message:(ie==null?void 0:ie.text)||"",type:ie==null?void 0:ie.type},`login-${(ie==null?void 0:ie.id)||"none"}`),o.jsxs(Je,{className:"w-full max-w-md shadow-lg -mt-8",children:[o.jsxs(tt,{className:"text-center pb-2 space-y-4 pt-0",children:[o.jsx("div",{className:"mx-auto w-80 h-80 flex items-center justify-center relative mb-0",children:o.jsx("img",{src:"/BidWhist/SetPlay_Logo.png",alt:"SetPlay Logo",className:"w-80 h-80 object-contain"})}),o.jsxs("div",{className:"text-center -mt-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-black",style:{fontFamily:"Quicksand, sans-serif"},children:"Team Portal"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your Hub for Schedules, Scores, and Standings"})]})]}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3 mt-8",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-bold",style:{color:"#a60002"},children:"Phone Number"}),o.jsx(Ee,{placeholder:"(XXX) XXX-XXXX",value:e,onChange:le=>{t(le.target.value),l("")},className:"text-left text-lg border-0 border-b-2 border-gray-300 focus:border-red-500 focus:ring-0",style:{fontFamily:"Helvetica, sans-serif"},maxLength:14,autoFocus:!0}),o.jsx(ae,{onClick:U,className:"w-full text-white font-bold py-2 px-4 rounded-md",style:{backgroundColor:"#a60002"},children:"Let's Play!"})]}),i&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[o.jsx(r2,{className:"h-4 w-4 text-red-600 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:"text-sm text-red-800",children:i})]})]}),typeof window<"u"&&window.location.hash.includes("admin=1")&&o.jsx("div",{className:"pt-4",children:o.jsxs("div",{className:"border-2 border-gray-300 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(s2,{className:"h-4 w-4",style:{color:"#a60002"}}),o.jsx("span",{className:"text-sm font-medium",style:{color:"#a60002"},children:"Admin Access"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-bold text-black",children:"Team Lookup"}),o.jsxs(Or,{onValueChange:Q,children:[o.jsx(jr,{className:"border-2 border-gray-300",children:o.jsx(Br,{placeholder:"Select Team to View Their Portal",className:"text-gray-500"})}),o.jsx(Cr,{children:S.map(le=>o.jsxs(yt,{value:le.id,children:["Team ",le.id,": ",le.name," (",le.city,")"]},le.id))})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-white px-2 text-gray-500",children:"OR"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-bold text-black",children:"Team Number"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ee,{placeholder:"Enter Team #",value:r,onChange:le=>n(le.target.value),className:"text-center text-lg border-2 border-gray-300 flex-1",type:"number",onKeyPress:le=>{le.key==="Enter"&&D()}}),o.jsx(ae,{onClick:D,disabled:!r.trim(),className:"px-4 text-white font-bold",style:{backgroundColor:"#a60002"},children:"Go!"})]})]})]})]})}),o.jsx("div",{className:"mt-6 text-xs text-center text-gray-500",children:"Built and Managed by Brian Welch"})]})]})]})}const ne=M(),V=T()[0];return console.log("Main portal - active message:",V),o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(lb,{message:(V==null?void 0:V.text)||"",type:V==null?void 0:V.type},`portal-${(V==null?void 0:V.id)||"none"}`),o.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 w-full bg-white shadow-sm",children:[o.jsxs("div",{className:"py-4 px-4 flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center justify-center h-40",children:o.jsx(ae,{variant:"outline",size:"sm",onClick:()=>H(),className:"text-white border-0",style:{backgroundColor:"#a60002"},children:"Refresh"})}),o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("img",{src:"/BidWhist/SetPlay_Logo.png",alt:"SetPlay Logo",className:"h-40 w-auto"})}),o.jsx("div",{className:"flex items-center justify-center h-40",children:o.jsx(ae,{variant:"outline",size:"sm",onClick:()=>{a(null),u(!1),f(!1),p("")},className:"text-white border-0",style:{backgroundColor:"#a60002"},children:"Logout"})})]}),o.jsx("div",{className:"w-full h-1 bg-black"}),o.jsx("div",{className:"py-2 px-4",children:o.jsx("div",{className:"text-center",children:o.jsxs("span",{className:"text-lg font-bold text-black",children:["Team ",s.id,": ",s.player1FirstName,"/",s.player2FirstName]})})}),o.jsx("div",{className:"py-1 px-4",children:o.jsx("div",{className:"text-center",children:o.jsx("span",{className:"text-md font-bold",style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#a60002"},children:(se=C())==null?void 0:se.name})})})]}),o.jsxs("div",{className:"max-w-4xl mx-auto p-4 pt-48",children:[o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:(ee=C())==null?void 0:ee.name}),o.jsx("p",{className:"text-sm text-gray-600",children:"Schedule"})]})}),o.jsxs(Je,{children:[o.jsx(tt,{children:o.jsx(at,{})}),o.jsxs(Xe,{children:[ne.length===0?o.jsx("div",{className:"text-center text-gray-500 py-8",children:o.jsx("p",{children:"No scheduled matches found"})}):o.jsx("div",{className:"space-y-6",children:(()=>{const ie=Math.max(...ne.map(le=>le.round));return Array.from({length:ie},(le,O)=>O+1).map(le=>{const O=ne.filter(W=>W.round===le);return o.jsx("div",{className:"space-y-3",children:o.jsx("div",{className:"space-y-3",children:O.map((W,he)=>{var ve,Se,fe,_e,Fe,Ae,ut,et,Ct,Rt;let J="border rounded-lg p-4 ";return W.isBye?J+="bg-yellow-50 border-yellow-200":W.cardType==="completed"?J+=(ve=W.gameResult)!=null&&ve.isWin?"bg-green-50 border-green-200":"bg-red-50 border-red-200":W.cardType==="current"?J+="bg-blue-50 border-blue-200":J+="bg-white",o.jsx("div",{className:J,children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2",children:[o.jsx("div",{className:"flex-1",children:W.isBye?o.jsxs("div",{className:"text-center",children:[o.jsx(ke,{variant:"secondary",className:"text-sm",children:"BYE ROUND"}),o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"No game this round"})]}):o.jsxs("div",{children:[W.cardType==="future"&&o.jsx(o.Fragment,{children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs(ke,{variant:"outline",className:"text-xs",children:["Round ",W.round]})}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("span",{className:"text-xs text-gray-600",children:"Team"}),o.jsx("span",{className:"font-bold text-lg",children:((Se=W.opponentTeam)==null?void 0:Se.id)||W.opponentId}),o.jsxs("span",{className:"text-xs text-gray-600",children:[((fe=W.opponentTeam)==null?void 0:fe.player1FirstName)||"","/",((_e=W.opponentTeam)==null?void 0:_e.player2FirstName)||""]})]}),o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs(ke,{variant:"secondary",className:"text-xs",children:["Table ",W.table]})})]})}),W.cardType==="current"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs(ke,{variant:"outline",className:"text-xs",children:["Round ",W.round]})}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("span",{className:"text-xs text-gray-600",children:"Team"}),o.jsx("span",{className:"font-bold text-lg",children:((Fe=W.opponentTeam)==null?void 0:Fe.id)||W.opponentId}),o.jsxs("span",{className:"text-xs text-gray-600",children:[((Ae=W.opponentTeam)==null?void 0:Ae.player1FirstName)||"","/",((ut=W.opponentTeam)==null?void 0:ut.player2FirstName)||""]})]}),o.jsx("div",{className:"flex items-center justify-center",children:W.status==="Ready to Score"?o.jsx(ae,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium px-2 py-1 text-xs rounded-md shadow-sm animate-pulse",onClick:()=>{(async()=>{const Lt=await F({matchId:W.id,teamId:String(s.id),teamA:String(W.teamA),teamB:String(W.teamB),round:W.round});Lt.ok?(w(s.id),v(W)):(Lt.reason==="teammate_entering"?Y({title:"Partner is entering score",description:"Your partner is currently the score keeper. If you want to enter the score, ask your partner to logout first.",variant:"destructive"}):Y({title:"Opponent entering score",description:"Please wait and try again in a moment.",variant:"destructive"}),await H())})()},children:"Score"}):W.status==="Opponent entering score"?o.jsx(ke,{variant:"secondary",className:"text-xs bg-yellow-100 text-yellow-800 border-yellow-300",children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex space-x-1 mr-1",children:[o.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),o.jsx("span",{className:"text-xs",children:"Entering"})]})}):W.status==="Opponent confirming score"?o.jsx(ke,{variant:"secondary",className:"text-xs bg-green-100 text-green-800 border-green-300",children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex space-x-1 mr-1",children:[o.jsx("div",{className:"w-1 h-1 bg-green-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-1 h-1 bg-green-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-1 h-1 bg-green-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),o.jsx("span",{className:"text-xs",children:"Confirming"})]})}):W.status==="Score disputed - re-enter"?o.jsx(ae,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white font-medium px-2 py-1 text-xs rounded-md shadow-sm",onClick:()=>{(async()=>{const Lt=await F({matchId:W.id,teamId:String(s.id),teamA:String(W.teamA),teamB:String(W.teamB),round:W.round});Lt.ok?(w(s.id),v(W)):(Lt.reason==="teammate_entering"?Y({title:"Partner is entering score",description:"Your partner is currently the score keeper. If you want to enter the score, ask your partner to logout first.",variant:"destructive"}):Y({title:"Opponent entering score",description:"Please wait and try again in a moment.",variant:"destructive"}),await H())})()},children:"Re-enter"}):W.status==="Score disputed"?o.jsx(ke,{variant:"secondary",className:"text-xs bg-red-100 text-red-800 border-red-300",children:o.jsx("span",{className:"text-xs",children:"Disputed"})}):o.jsxs(ke,{variant:W.status==="Waiting for opponent confirmation"?"secondary":"default",className:"text-xs",onClick:()=>{W.status==="Pending confirmation"&&v(W)},children:[W.status==="Waiting for opponent"&&o.jsx(n2,{className:"h-3 w-3 mr-1"}),W.status==="Pending confirmation"?"Confirm Score":W.status]})})]}),o.jsx("div",{className:"flex justify-start -mt-3",children:o.jsx("span",{className:"text-xs italic text-blue-800",children:"in progress"})})]}),W.cardType==="completed"&&W.gameResult&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs(ke,{variant:"outline",className:"text-xs",children:["Round ",W.round]})}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("span",{className:"text-xs text-gray-600",children:"Team"}),o.jsx("span",{className:"font-bold text-lg",children:((et=W.opponentTeam)==null?void 0:et.id)||W.opponentId}),o.jsxs("span",{className:"text-xs text-gray-600",children:[((Ct=W.opponentTeam)==null?void 0:Ct.player1FirstName)||"","/",((Rt=W.opponentTeam)==null?void 0:Rt.player2FirstName)||""]})]}),o.jsx("div",{className:"flex items-center justify-center",children:o.jsx(ke,{variant:W.gameResult.isWin?"default":"destructive",className:"text-xs",style:{backgroundColor:W.gameResult.isWin?"#10b981":"#ef4444",color:"white"},children:W.gameResult.isWin?"WIN":"LOSS"})})]}),o.jsx("div",{className:"flex justify-end -mt-3",children:o.jsxs("span",{className:"text-xs italic text-red-600",children:[W.gameResult.isWin?"won":"loss"," ",W.gameResult.myScore,"-",W.gameResult.opponentScore]})})]})]})}),W.isSameCity&&o.jsx(ke,{variant:"destructive",className:"text-xs",children:"Same City"})]})},he)})})},le)})})()}),y&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:[y.status==="Pending confirmation"?"Confirm Score":"Enter Score"," - Round ",y.round]}),o.jsx(ae,{variant:"ghost",size:"sm",onClick:async()=>{x&&y&&await A({matchId:y.id,teamId:x}),v(null),w(null)},children:""})]}),y.status==="Pending confirmation"?o.jsx(v6,{team:s,match:y,onComplete:()=>{v(null),w(null)}}):o.jsx(g6,{team:s,match:y,onComplete:()=>{v(null),w(null)}})]})})]})]}),o.jsx("div",{className:"mt-8",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-black rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-white",children:G.wins}),o.jsx("p",{className:"text-sm text-white",children:"Wins"})]}),o.jsxs("div",{className:"text-center p-4 rounded-lg",style:{backgroundColor:"#a60002"},children:[o.jsx("p",{className:"text-2xl font-bold text-white",children:G.totalGames}),o.jsx("p",{className:"text-sm text-white",children:"Games Played"})]}),o.jsxs("div",{className:"text-center p-4 rounded-lg",style:{backgroundColor:"#a60002"},children:[o.jsx("p",{className:"text-2xl font-bold text-white",children:G.avgPoints}),o.jsx("p",{className:"text-sm text-white",children:"Avg Points/Game"})]}),o.jsxs("div",{className:"text-center p-4 bg-black rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-white",children:G.totalPoints}),o.jsx("p",{className:"text-sm text-white",children:"Total Points"})]})]})})]})]})},x6=()=>o.jsx(y6,{}),b6=new IA,w6=()=>o.jsx(Sk,{defaultTheme:"light",children:o.jsx(OA,{client:b6,children:o.jsx(cA,{children:o.jsxs(F1,{children:[o.jsx(K2,{}),o.jsx(Nk,{}),o.jsx(SI,{basename:"/",children:o.jsxs(xI,{children:[o.jsx(Uc,{path:"/",element:o.jsx(p6,{})}),o.jsx(Uc,{path:"/portal",element:o.jsx(x6,{})}),o.jsx(Uc,{path:"*",element:o.jsx(m6,{})})]})})]})})})});Tw(document.getElementById("root")).render(o.jsx(F1,{children:o.jsx(w6,{})}));export{Z as R,$c as g,o as j,Dt as u};
