var Qh=e=>{throw TypeError(e)};var Wc=(e,t,n)=>t.has(e)||Qh("Cannot "+n);var K=(e,t,n)=>(Wc(e,t,"read from private field"),n?n.call(e):t.get(e)),Re=(e,t,n)=>t.has(e)?Qh("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ve=(e,t,n,r)=>(Wc(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),yt=(e,t,n)=>(Wc(e,t,"access private method"),n);var va=(e,t,n,r)=>({set _(s){ve(e,t,s,n)},get _(){return K(e,t,r)}});function lS(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var sn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function cS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Eg={exports:{}},ql={},Pg={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=Symbol.for("react.element"),uS=Symbol.for("react.portal"),dS=Symbol.for("react.fragment"),fS=Symbol.for("react.strict_mode"),hS=Symbol.for("react.profiler"),mS=Symbol.for("react.provider"),pS=Symbol.for("react.context"),gS=Symbol.for("react.forward_ref"),vS=Symbol.for("react.suspense"),yS=Symbol.for("react.memo"),xS=Symbol.for("react.lazy"),Yh=Symbol.iterator;function wS(e){return e===null||typeof e!="object"?null:(e=Yh&&e[Yh]||e["@@iterator"],typeof e=="function"?e:null)}var Ag={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rg=Object.assign,Og={};function Vo(e,t,n){this.props=e,this.context=t,this.refs=Og,this.updater=n||Ag}Vo.prototype.isReactComponent={};Vo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ig(){}Ig.prototype=Vo.prototype;function df(e,t,n){this.props=e,this.context=t,this.refs=Og,this.updater=n||Ag}var ff=df.prototype=new Ig;ff.constructor=df;Rg(ff,Vo.prototype);ff.isPureReactComponent=!0;var Jh=Array.isArray,Mg=Object.prototype.hasOwnProperty,hf={current:null},Bg={key:!0,ref:!0,__self:!0,__source:!0};function $g(e,t,n){var r,s={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Mg.call(t,r)&&!Bg.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:na,type:e,key:o,ref:a,props:s,_owner:hf.current}}function bS(e,t){return{$$typeof:na,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mf(e){return typeof e=="object"&&e!==null&&e.$$typeof===na}function SS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xh=/\/+/g;function Vc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?SS(""+e.key):t.toString(36)}function Ka(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case na:case uS:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Vc(a,0):r,Jh(s)?(n="",e!=null&&(n=e.replace(Xh,"$&/")+"/"),Ka(s,t,n,"",function(u){return u})):s!=null&&(mf(s)&&(s=bS(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Xh,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Jh(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Vc(o,l);a+=Ka(o,t,n,c,s)}else if(c=wS(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Vc(o,l++),a+=Ka(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ya(e,t,n){if(e==null)return e;var r=[],s=0;return Ka(e,r,"","",function(o){return t.call(n,o,s++)}),r}function jS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Et={current:null},qa={transition:null},NS={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:qa,ReactCurrentOwner:hf};function Lg(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:ya,forEach:function(e,t,n){ya(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ya(e,function(){t++}),t},toArray:function(e){return ya(e,function(t){return t})||[]},only:function(e){if(!mf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=Vo;Ne.Fragment=dS;Ne.Profiler=hS;Ne.PureComponent=df;Ne.StrictMode=fS;Ne.Suspense=vS;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NS;Ne.act=Lg;Ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Rg({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=hf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Mg.call(t,c)&&!Bg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:na,type:e.type,key:s,ref:o,props:r,_owner:a}};Ne.createContext=function(e){return e={$$typeof:pS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mS,_context:e},e.Consumer=e};Ne.createElement=$g;Ne.createFactory=function(e){var t=$g.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:gS,render:e}};Ne.isValidElement=mf;Ne.lazy=function(e){return{$$typeof:xS,_payload:{_status:-1,_result:e},_init:jS}};Ne.memo=function(e,t){return{$$typeof:yS,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=qa.transition;qa.transition={};try{e()}finally{qa.transition=t}};Ne.unstable_act=Lg;Ne.useCallback=function(e,t){return Et.current.useCallback(e,t)};Ne.useContext=function(e){return Et.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return Et.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return Et.current.useEffect(e,t)};Ne.useId=function(){return Et.current.useId()};Ne.useImperativeHandle=function(e,t,n){return Et.current.useImperativeHandle(e,t,n)};Ne.useInsertionEffect=function(e,t){return Et.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return Et.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return Et.current.useMemo(e,t)};Ne.useReducer=function(e,t,n){return Et.current.useReducer(e,t,n)};Ne.useRef=function(e){return Et.current.useRef(e)};Ne.useState=function(e){return Et.current.useState(e)};Ne.useSyncExternalStore=function(e,t,n){return Et.current.useSyncExternalStore(e,t,n)};Ne.useTransition=function(){return Et.current.useTransition()};Ne.version="18.3.1";Pg.exports=Ne;var p=Pg.exports;const J=kg(p),pf=lS({__proto__:null,default:J},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S=p,CS=Symbol.for("react.element"),TS=Symbol.for("react.fragment"),kS=Object.prototype.hasOwnProperty,ES=_S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PS={key:!0,ref:!0,__self:!0,__source:!0};function Dg(e,t,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)kS.call(t,r)&&!PS.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:CS,type:e,key:o,ref:a,props:s,_owner:ES.current}}ql.Fragment=TS;ql.jsx=Dg;ql.jsxs=Dg;Eg.exports=ql;var i=Eg.exports,Fg={exports:{}},qt={},Ug={exports:{}},zg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,A){var D=k.length;k.push(A);e:for(;0<D;){var F=D-1>>>1,Q=k[F];if(0<s(Q,A))k[F]=A,k[D]=Q,D=F;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var A=k[0],D=k.pop();if(D!==A){k[0]=D;e:for(var F=0,Q=k.length,Z=Q>>>1;F<Z;){var q=2*(F+1)-1,C=k[q],$=q+1,I=k[$];if(0>s(C,D))$<Q&&0>s(I,C)?(k[F]=I,k[$]=D,F=$):(k[F]=C,k[q]=D,F=q);else if($<Q&&0>s(I,D))k[F]=I,k[$]=D,F=$;else break e}}return A}function s(k,A){var D=k.sortIndex-A.sortIndex;return D!==0?D:k.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=k)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function S(k){if(v=!1,b(k),!g)if(n(c)!==null)g=!0,R(j);else{var A=n(u);A!==null&&E(S,A.startTime-k)}}function j(k,A){g=!1,v&&(v=!1,w(O),O=-1),m=!0;var D=h;try{for(b(A),f=n(c);f!==null&&(!(f.expirationTime>A)||k&&!Y());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var Q=F(f.expirationTime<=A);A=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(c)&&r(c),b(A)}else r(c);f=n(c)}if(f!==null)var Z=!0;else{var q=n(u);q!==null&&E(S,q.startTime-A),Z=!1}return Z}finally{f=null,h=D,m=!1}}var N=!1,_=null,O=-1,L=5,M=-1;function Y(){return!(e.unstable_now()-M<L)}function H(){if(_!==null){var k=e.unstable_now();M=k;var A=!0;try{A=_(!0,k)}finally{A?V():(N=!1,_=null)}}else N=!1}var V;if(typeof y=="function")V=function(){y(H)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,P=T.port2;T.port1.onmessage=H,V=function(){P.postMessage(null)}}else V=function(){x(H,0)};function R(k){_=k,N||(N=!0,V())}function E(k,A){O=x(function(){k(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,R(j))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(k){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var D=h;h=A;try{return k()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,A){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var D=h;h=k;try{return A()}finally{h=D}},e.unstable_scheduleCallback=function(k,A,D){var F=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?F+D:F):D=F,k){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=D+Q,k={id:d++,callback:A,priorityLevel:k,startTime:D,expirationTime:Q,sortIndex:-1},D>F?(k.sortIndex=D,t(u,k),n(c)===null&&k===n(u)&&(v?(w(O),O=-1):v=!0,E(S,D-F))):(k.sortIndex=Q,t(c,k),g||m||(g=!0,R(j))),k},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(k){var A=h;return function(){var D=h;h=A;try{return k.apply(this,arguments)}finally{h=D}}}})(zg);Ug.exports=zg;var AS=Ug.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS=p,Kt=AS;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wg=new Set,Ai={};function $s(e,t){Po(e,t),Po(e+"Capture",t)}function Po(e,t){for(Ai[e]=t,e=0;e<t.length;e++)Wg.add(t[e])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Du=Object.prototype.hasOwnProperty,OS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zh={},em={};function IS(e){return Du.call(em,e)?!0:Du.call(Zh,e)?!1:OS.test(e)?em[e]=!0:(Zh[e]=!0,!1)}function MS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BS(e,t,n,r){if(t===null||typeof t>"u"||MS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pt(e,t,n,r,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var gf=/[\-:]([a-z])/g;function vf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gf,vf);vt[t]=new Pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gf,vf);vt[t]=new Pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gf,vf);vt[t]=new Pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function yf(e,t,n,r){var s=vt.hasOwnProperty(t)?vt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BS(t,n,s,r)&&(n=null),r||s===null?IS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var mr=RS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xa=Symbol.for("react.element"),Zs=Symbol.for("react.portal"),eo=Symbol.for("react.fragment"),xf=Symbol.for("react.strict_mode"),Fu=Symbol.for("react.profiler"),Vg=Symbol.for("react.provider"),Hg=Symbol.for("react.context"),wf=Symbol.for("react.forward_ref"),Uu=Symbol.for("react.suspense"),zu=Symbol.for("react.suspense_list"),bf=Symbol.for("react.memo"),Cr=Symbol.for("react.lazy"),Gg=Symbol.for("react.offscreen"),tm=Symbol.iterator;function ti(e){return e===null||typeof e!="object"?null:(e=tm&&e[tm]||e["@@iterator"],typeof e=="function"?e:null)}var et=Object.assign,Hc;function fi(e){if(Hc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Hc=t&&t[1]||""}return`
`+Hc+e}var Gc=!1;function Kc(e,t){if(!e||Gc)return"";Gc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Gc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fi(e):""}function $S(e){switch(e.tag){case 5:return fi(e.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 2:case 15:return e=Kc(e.type,!1),e;case 11:return e=Kc(e.type.render,!1),e;case 1:return e=Kc(e.type,!0),e;default:return""}}function Wu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case eo:return"Fragment";case Zs:return"Portal";case Fu:return"Profiler";case xf:return"StrictMode";case Uu:return"Suspense";case zu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hg:return(e.displayName||"Context")+".Consumer";case Vg:return(e._context.displayName||"Context")+".Provider";case wf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bf:return t=e.displayName||null,t!==null?t:Wu(e.type)||"Memo";case Cr:t=e._payload,e=e._init;try{return Wu(e(t))}catch{}}return null}function LS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wu(t);case 8:return t===xf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function DS(e){var t=Kg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wa(e){e._valueTracker||(e._valueTracker=DS(e))}function qg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Kg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vu(e,t){var n=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function nm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Xr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qg(e,t){t=t.checked,t!=null&&yf(e,"checked",t,!1)}function Hu(e,t){Qg(e,t);var n=Xr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gu(e,t.type,Xr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gu(e,t,n){(t!=="number"||fl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hi=Array.isArray;function fo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ku(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if(hi(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xr(n)}}function Yg(e,t){var n=Xr(t.value),r=Xr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function om(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ba,Xg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ba=ba||document.createElement("div"),ba.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ba.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ri(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FS=["Webkit","ms","Moz","O"];Object.keys(xi).forEach(function(e){FS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xi[t]=xi[e]})});function Zg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xi.hasOwnProperty(e)&&xi[e]?(""+t).trim():t+"px"}function ev(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Zg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var US=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qu(e,t){if(t){if(US[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function Yu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ju=null;function Sf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xu=null,ho=null,mo=null;function im(e){if(e=oa(e)){if(typeof Xu!="function")throw Error(X(280));var t=e.stateNode;t&&(t=Zl(t),Xu(e.stateNode,e.type,t))}}function tv(e){ho?mo?mo.push(e):mo=[e]:ho=e}function nv(){if(ho){var e=ho,t=mo;if(mo=ho=null,im(e),t)for(e=0;e<t.length;e++)im(t[e])}}function rv(e,t){return e(t)}function sv(){}var qc=!1;function ov(e,t,n){if(qc)return e(t,n);qc=!0;try{return rv(e,t,n)}finally{qc=!1,(ho!==null||mo!==null)&&(sv(),nv())}}function Oi(e,t){var n=e.stateNode;if(n===null)return null;var r=Zl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var Zu=!1;if(lr)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){Zu=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{Zu=!1}function zS(e,t,n,r,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var wi=!1,hl=null,ml=!1,ed=null,WS={onError:function(e){wi=!0,hl=e}};function VS(e,t,n,r,s,o,a,l,c){wi=!1,hl=null,zS.apply(WS,arguments)}function HS(e,t,n,r,s,o,a,l,c){if(VS.apply(this,arguments),wi){if(wi){var u=hl;wi=!1,hl=null}else throw Error(X(198));ml||(ml=!0,ed=u)}}function Ls(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function iv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function am(e){if(Ls(e)!==e)throw Error(X(188))}function GS(e){var t=e.alternate;if(!t){if(t=Ls(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return am(s),e;if(o===r)return am(s),t;o=o.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function av(e){return e=GS(e),e!==null?lv(e):null}function lv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lv(e);if(t!==null)return t;e=e.sibling}return null}var cv=Kt.unstable_scheduleCallback,lm=Kt.unstable_cancelCallback,KS=Kt.unstable_shouldYield,qS=Kt.unstable_requestPaint,at=Kt.unstable_now,QS=Kt.unstable_getCurrentPriorityLevel,jf=Kt.unstable_ImmediatePriority,uv=Kt.unstable_UserBlockingPriority,pl=Kt.unstable_NormalPriority,YS=Kt.unstable_LowPriority,dv=Kt.unstable_IdlePriority,Ql=null,Wn=null;function JS(e){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(Ql,e,void 0,(e.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:e1,XS=Math.log,ZS=Math.LN2;function e1(e){return e>>>=0,e===0?32:31-(XS(e)/ZS|0)|0}var Sa=64,ja=4194304;function mi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=mi(l):(o&=a,o!==0&&(r=mi(o)))}else a=n&~s,a!==0?r=mi(a):o!==0&&(r=mi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Cn(t),s=1<<n,r|=e[n],t&=~s;return r}function t1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Cn(o),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=t1(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function td(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fv(){var e=Sa;return Sa<<=1,!(Sa&4194240)&&(Sa=64),e}function Qc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ra(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cn(t),e[t]=n}function r1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Cn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Nf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Cn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Be=0;function hv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mv,_f,pv,gv,vv,nd=!1,Na=[],Fr=null,Ur=null,zr=null,Ii=new Map,Mi=new Map,Er=[],s1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cm(e,t){switch(e){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Ii.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(t.pointerId)}}function ri(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=oa(t),t!==null&&_f(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function o1(e,t,n,r,s){switch(t){case"focusin":return Fr=ri(Fr,e,t,n,r,s),!0;case"dragenter":return Ur=ri(Ur,e,t,n,r,s),!0;case"mouseover":return zr=ri(zr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ii.set(o,ri(Ii.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Mi.set(o,ri(Mi.get(o)||null,e,t,n,r,s)),!0}return!1}function yv(e){var t=gs(e.target);if(t!==null){var n=Ls(t);if(n!==null){if(t=n.tag,t===13){if(t=iv(n),t!==null){e.blockedOn=t,vv(e.priority,function(){pv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ju=r,n.target.dispatchEvent(r),Ju=null}else return t=oa(n),t!==null&&_f(t),e.blockedOn=n,!1;t.shift()}return!0}function um(e,t,n){Qa(e)&&n.delete(t)}function i1(){nd=!1,Fr!==null&&Qa(Fr)&&(Fr=null),Ur!==null&&Qa(Ur)&&(Ur=null),zr!==null&&Qa(zr)&&(zr=null),Ii.forEach(um),Mi.forEach(um)}function si(e,t){e.blockedOn===t&&(e.blockedOn=null,nd||(nd=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,i1)))}function Bi(e){function t(s){return si(s,e)}if(0<Na.length){si(Na[0],e);for(var n=1;n<Na.length;n++){var r=Na[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fr!==null&&si(Fr,e),Ur!==null&&si(Ur,e),zr!==null&&si(zr,e),Ii.forEach(t),Mi.forEach(t),n=0;n<Er.length;n++)r=Er[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Er.length&&(n=Er[0],n.blockedOn===null);)yv(n),n.blockedOn===null&&Er.shift()}var po=mr.ReactCurrentBatchConfig,vl=!0;function a1(e,t,n,r){var s=Be,o=po.transition;po.transition=null;try{Be=1,Cf(e,t,n,r)}finally{Be=s,po.transition=o}}function l1(e,t,n,r){var s=Be,o=po.transition;po.transition=null;try{Be=4,Cf(e,t,n,r)}finally{Be=s,po.transition=o}}function Cf(e,t,n,r){if(vl){var s=rd(e,t,n,r);if(s===null)ou(e,t,r,yl,n),cm(e,r);else if(o1(s,e,t,n,r))r.stopPropagation();else if(cm(e,r),t&4&&-1<s1.indexOf(e)){for(;s!==null;){var o=oa(s);if(o!==null&&mv(o),o=rd(e,t,n,r),o===null&&ou(e,t,r,yl,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else ou(e,t,r,null,n)}}var yl=null;function rd(e,t,n,r){if(yl=null,e=Sf(r),e=gs(e),e!==null)if(t=Ls(e),t===null)e=null;else if(n=t.tag,n===13){if(e=iv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yl=e,null}function xv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QS()){case jf:return 1;case uv:return 4;case pl:case YS:return 16;case dv:return 536870912;default:return 16}default:return 16}}var $r=null,Tf=null,Ya=null;function wv(){if(Ya)return Ya;var e,t=Tf,n=t.length,r,s="value"in $r?$r.value:$r.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[o-r];r++);return Ya=s.slice(e,1<r?1-r:void 0)}function Ja(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _a(){return!0}function dm(){return!1}function Qt(e){function t(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_a:dm,this.isPropagationStopped=dm,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),t}var Ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kf=Qt(Ho),sa=et({},Ho,{view:0,detail:0}),c1=Qt(sa),Yc,Jc,oi,Yl=et({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ef,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(Yc=e.screenX-oi.screenX,Jc=e.screenY-oi.screenY):Jc=Yc=0,oi=e),Yc)},movementY:function(e){return"movementY"in e?e.movementY:Jc}}),fm=Qt(Yl),u1=et({},Yl,{dataTransfer:0}),d1=Qt(u1),f1=et({},sa,{relatedTarget:0}),Xc=Qt(f1),h1=et({},Ho,{animationName:0,elapsedTime:0,pseudoElement:0}),m1=Qt(h1),p1=et({},Ho,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g1=Qt(p1),v1=et({},Ho,{data:0}),hm=Qt(v1),y1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=w1[e])?!!t[e]:!1}function Ef(){return b1}var S1=et({},sa,{key:function(e){if(e.key){var t=y1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?x1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ef,charCode:function(e){return e.type==="keypress"?Ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),j1=Qt(S1),N1=et({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mm=Qt(N1),_1=et({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ef}),C1=Qt(_1),T1=et({},Ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),k1=Qt(T1),E1=et({},Yl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P1=Qt(E1),A1=[9,13,27,32],Pf=lr&&"CompositionEvent"in window,bi=null;lr&&"documentMode"in document&&(bi=document.documentMode);var R1=lr&&"TextEvent"in window&&!bi,bv=lr&&(!Pf||bi&&8<bi&&11>=bi),pm=" ",gm=!1;function Sv(e,t){switch(e){case"keyup":return A1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var to=!1;function O1(e,t){switch(e){case"compositionend":return jv(t);case"keypress":return t.which!==32?null:(gm=!0,pm);case"textInput":return e=t.data,e===pm&&gm?null:e;default:return null}}function I1(e,t){if(to)return e==="compositionend"||!Pf&&Sv(e,t)?(e=wv(),Ya=Tf=$r=null,to=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bv&&t.locale!=="ko"?null:t.data;default:return null}}var M1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M1[e.type]:t==="textarea"}function Nv(e,t,n,r){tv(r),t=xl(t,"onChange"),0<t.length&&(n=new kf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Si=null,$i=null;function B1(e){Mv(e,0)}function Jl(e){var t=so(e);if(qg(t))return e}function $1(e,t){if(e==="change")return t}var _v=!1;if(lr){var Zc;if(lr){var eu="oninput"in document;if(!eu){var ym=document.createElement("div");ym.setAttribute("oninput","return;"),eu=typeof ym.oninput=="function"}Zc=eu}else Zc=!1;_v=Zc&&(!document.documentMode||9<document.documentMode)}function xm(){Si&&(Si.detachEvent("onpropertychange",Cv),$i=Si=null)}function Cv(e){if(e.propertyName==="value"&&Jl($i)){var t=[];Nv(t,$i,e,Sf(e)),ov(B1,t)}}function L1(e,t,n){e==="focusin"?(xm(),Si=t,$i=n,Si.attachEvent("onpropertychange",Cv)):e==="focusout"&&xm()}function D1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jl($i)}function F1(e,t){if(e==="click")return Jl(t)}function U1(e,t){if(e==="input"||e==="change")return Jl(t)}function z1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:z1;function Li(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Du.call(t,s)||!kn(e[s],t[s]))return!1}return!0}function wm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bm(e,t){var n=wm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wm(n)}}function Tv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kv(){for(var e=window,t=fl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fl(e.document)}return t}function Af(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function W1(e){var t=kv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tv(n.ownerDocument.documentElement,n)){if(r!==null&&Af(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=bm(n,o);var a=bm(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var V1=lr&&"documentMode"in document&&11>=document.documentMode,no=null,sd=null,ji=null,od=!1;function Sm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;od||no==null||no!==fl(r)||(r=no,"selectionStart"in r&&Af(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ji&&Li(ji,r)||(ji=r,r=xl(sd,"onSelect"),0<r.length&&(t=new kf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=no)))}function Ca(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ro={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionend:Ca("Transition","TransitionEnd")},tu={},Ev={};lr&&(Ev=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function Xl(e){if(tu[e])return tu[e];if(!ro[e])return e;var t=ro[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ev)return tu[e]=t[n];return e}var Pv=Xl("animationend"),Av=Xl("animationiteration"),Rv=Xl("animationstart"),Ov=Xl("transitionend"),Iv=new Map,jm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(e,t){Iv.set(e,t),$s(t,[e])}for(var nu=0;nu<jm.length;nu++){var ru=jm[nu],H1=ru.toLowerCase(),G1=ru[0].toUpperCase()+ru.slice(1);rs(H1,"on"+G1)}rs(Pv,"onAnimationEnd");rs(Av,"onAnimationIteration");rs(Rv,"onAnimationStart");rs("dblclick","onDoubleClick");rs("focusin","onFocus");rs("focusout","onBlur");rs(Ov,"onTransitionEnd");Po("onMouseEnter",["mouseout","mouseover"]);Po("onMouseLeave",["mouseout","mouseover"]);Po("onPointerEnter",["pointerout","pointerover"]);Po("onPointerLeave",["pointerout","pointerover"]);$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$s("onBeforeInput",["compositionend","keypress","textInput","paste"]);$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K1=new Set("cancel close invalid load scroll toggle".split(" ").concat(pi));function Nm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,HS(r,t,void 0,e),e.currentTarget=null}function Mv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Nm(s,l,u),o=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Nm(s,l,u),o=c}}}if(ml)throw e=ed,ml=!1,ed=null,e}function Ge(e,t){var n=t[ud];n===void 0&&(n=t[ud]=new Set);var r=e+"__bubble";n.has(r)||(Bv(t,e,2,!1),n.add(r))}function su(e,t,n){var r=0;t&&(r|=4),Bv(n,e,r,t)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function Di(e){if(!e[Ta]){e[Ta]=!0,Wg.forEach(function(n){n!=="selectionchange"&&(K1.has(n)||su(n,!1,e),su(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ta]||(t[Ta]=!0,su("selectionchange",!1,t))}}function Bv(e,t,n,r){switch(xv(t)){case 1:var s=a1;break;case 4:s=l1;break;default:s=Cf}n=s.bind(null,t,n,e),s=void 0,!Zu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ou(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=gs(l),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}l=l.parentNode}}r=r.return}ov(function(){var u=o,d=Sf(n),f=[];e:{var h=Iv.get(e);if(h!==void 0){var m=kf,g=e;switch(e){case"keypress":if(Ja(n)===0)break e;case"keydown":case"keyup":m=j1;break;case"focusin":g="focus",m=Xc;break;case"focusout":g="blur",m=Xc;break;case"beforeblur":case"afterblur":m=Xc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=d1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=C1;break;case Pv:case Av:case Rv:m=m1;break;case Ov:m=k1;break;case"scroll":m=c1;break;case"wheel":m=P1;break;case"copy":case"cut":case"paste":m=g1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=mm}var v=(t&4)!==0,x=!v&&e==="scroll",w=v?h!==null?h+"Capture":null:h;v=[];for(var y=u,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,w!==null&&(S=Oi(y,w),S!=null&&v.push(Fi(y,S,b)))),x)break;y=y.return}0<v.length&&(h=new m(h,g,null,n,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Ju&&(g=n.relatedTarget||n.fromElement)&&(gs(g)||g[cr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?gs(g):null,g!==null&&(x=Ls(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=fm,S="onMouseLeave",w="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=mm,S="onPointerLeave",w="onPointerEnter",y="pointer"),x=m==null?h:so(m),b=g==null?h:so(g),h=new v(S,y+"leave",m,n,d),h.target=x,h.relatedTarget=b,S=null,gs(d)===u&&(v=new v(w,y+"enter",g,n,d),v.target=b,v.relatedTarget=x,S=v),x=S,m&&g)t:{for(v=m,w=g,y=0,b=v;b;b=Us(b))y++;for(b=0,S=w;S;S=Us(S))b++;for(;0<y-b;)v=Us(v),y--;for(;0<b-y;)w=Us(w),b--;for(;y--;){if(v===w||w!==null&&v===w.alternate)break t;v=Us(v),w=Us(w)}v=null}else v=null;m!==null&&_m(f,h,m,v,!1),g!==null&&x!==null&&_m(f,x,g,v,!0)}}e:{if(h=u?so(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=$1;else if(vm(h))if(_v)j=U1;else{j=D1;var N=L1}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=F1);if(j&&(j=j(e,u))){Nv(f,j,n,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Gu(h,"number",h.value)}switch(N=u?so(u):window,e){case"focusin":(vm(N)||N.contentEditable==="true")&&(no=N,sd=u,ji=null);break;case"focusout":ji=sd=no=null;break;case"mousedown":od=!0;break;case"contextmenu":case"mouseup":case"dragend":od=!1,Sm(f,n,d);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":Sm(f,n,d)}var _;if(Pf)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else to?Sv(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(bv&&n.locale!=="ko"&&(to||O!=="onCompositionStart"?O==="onCompositionEnd"&&to&&(_=wv()):($r=d,Tf="value"in $r?$r.value:$r.textContent,to=!0)),N=xl(u,O),0<N.length&&(O=new hm(O,e,null,n,d),f.push({event:O,listeners:N}),_?O.data=_:(_=jv(n),_!==null&&(O.data=_)))),(_=R1?O1(e,n):I1(e,n))&&(u=xl(u,"onBeforeInput"),0<u.length&&(d=new hm("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}Mv(f,t)})}function Fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Oi(e,n),o!=null&&r.unshift(Fi(e,o,s)),o=Oi(e,t),o!=null&&r.push(Fi(e,o,s))),e=e.return}return r}function Us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _m(e,t,n,r,s){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Oi(n,o),c!=null&&a.unshift(Fi(n,c,l))):s||(c=Oi(n,o),c!=null&&a.push(Fi(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var q1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function Cm(e){return(typeof e=="string"?e:""+e).replace(q1,`
`).replace(Q1,"")}function ka(e,t,n){if(t=Cm(t),Cm(e)!==t&&n)throw Error(X(425))}function wl(){}var id=null,ad=null;function ld(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cd=typeof setTimeout=="function"?setTimeout:void 0,Y1=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,J1=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(e){return Tm.resolve(null).then(e).catch(X1)}:cd;function X1(e){setTimeout(function(){throw e})}function iu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Bi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Bi(t)}function Wr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function km(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Go=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Go,Ui="__reactProps$"+Go,cr="__reactContainer$"+Go,ud="__reactEvents$"+Go,Z1="__reactListeners$"+Go,ej="__reactHandles$"+Go;function gs(e){var t=e[Ln];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cr]||n[Ln]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=km(e);e!==null;){if(n=e[Ln])return n;e=km(e)}return t}e=n,n=e.parentNode}return null}function oa(e){return e=e[Ln]||e[cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function so(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Zl(e){return e[Ui]||null}var dd=[],oo=-1;function ss(e){return{current:e}}function Ke(e){0>oo||(e.current=dd[oo],dd[oo]=null,oo--)}function ze(e,t){oo++,dd[oo]=e.current,e.current=t}var Zr={},Nt=ss(Zr),Lt=ss(!1),ks=Zr;function Ao(e,t){var n=e.type.contextTypes;if(!n)return Zr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Dt(e){return e=e.childContextTypes,e!=null}function bl(){Ke(Lt),Ke(Nt)}function Em(e,t,n){if(Nt.current!==Zr)throw Error(X(168));ze(Nt,t),ze(Lt,n)}function $v(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(X(108,LS(e)||"Unknown",s));return et({},n,r)}function Sl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zr,ks=Nt.current,ze(Nt,e),ze(Lt,Lt.current),!0}function Pm(e,t,n){var r=e.stateNode;if(!r)throw Error(X(169));n?(e=$v(e,t,ks),r.__reactInternalMemoizedMergedChildContext=e,Ke(Lt),Ke(Nt),ze(Nt,e)):Ke(Lt),ze(Lt,n)}var er=null,ec=!1,au=!1;function Lv(e){er===null?er=[e]:er.push(e)}function tj(e){ec=!0,Lv(e)}function os(){if(!au&&er!==null){au=!0;var e=0,t=Be;try{var n=er;for(Be=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}er=null,ec=!1}catch(s){throw er!==null&&(er=er.slice(e+1)),cv(jf,os),s}finally{Be=t,au=!1}}return null}var io=[],ao=0,jl=null,Nl=0,Xt=[],Zt=0,Es=null,nr=1,rr="";function fs(e,t){io[ao++]=Nl,io[ao++]=jl,jl=e,Nl=t}function Dv(e,t,n){Xt[Zt++]=nr,Xt[Zt++]=rr,Xt[Zt++]=Es,Es=e;var r=nr;e=rr;var s=32-Cn(r)-1;r&=~(1<<s),n+=1;var o=32-Cn(t)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,nr=1<<32-Cn(t)+s|n<<s|r,rr=o+e}else nr=1<<o|n<<s|r,rr=e}function Rf(e){e.return!==null&&(fs(e,1),Dv(e,1,0))}function Of(e){for(;e===jl;)jl=io[--ao],io[ao]=null,Nl=io[--ao],io[ao]=null;for(;e===Es;)Es=Xt[--Zt],Xt[Zt]=null,rr=Xt[--Zt],Xt[Zt]=null,nr=Xt[--Zt],Xt[Zt]=null}var Ht=null,Vt=null,Qe=!1,Nn=null;function Fv(e,t){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Am(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ht=e,Vt=Wr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ht=e,Vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Es!==null?{id:nr,overflow:rr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ht=e,Vt=null,!0):!1;default:return!1}}function fd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hd(e){if(Qe){var t=Vt;if(t){var n=t;if(!Am(e,t)){if(fd(e))throw Error(X(418));t=Wr(n.nextSibling);var r=Ht;t&&Am(e,t)?Fv(r,n):(e.flags=e.flags&-4097|2,Qe=!1,Ht=e)}}else{if(fd(e))throw Error(X(418));e.flags=e.flags&-4097|2,Qe=!1,Ht=e}}}function Rm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ht=e}function Ea(e){if(e!==Ht)return!1;if(!Qe)return Rm(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ld(e.type,e.memoizedProps)),t&&(t=Vt)){if(fd(e))throw Uv(),Error(X(418));for(;t;)Fv(e,t),t=Wr(t.nextSibling)}if(Rm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Vt=Wr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Vt=null}}else Vt=Ht?Wr(e.stateNode.nextSibling):null;return!0}function Uv(){for(var e=Vt;e;)e=Wr(e.nextSibling)}function Ro(){Vt=Ht=null,Qe=!1}function If(e){Nn===null?Nn=[e]:Nn.push(e)}var nj=mr.ReactCurrentBatchConfig;function ii(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function Pa(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Om(e){var t=e._init;return t(e._payload)}function zv(e){function t(w,y){if(e){var b=w.deletions;b===null?(w.deletions=[y],w.flags|=16):b.push(y)}}function n(w,y){if(!e)return null;for(;y!==null;)t(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function s(w,y){return w=Kr(w,y),w.index=0,w.sibling=null,w}function o(w,y,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<y?(w.flags|=2,y):b):(w.flags|=2,y)):(w.flags|=1048576,y)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,y,b,S){return y===null||y.tag!==6?(y=mu(b,w.mode,S),y.return=w,y):(y=s(y,b),y.return=w,y)}function c(w,y,b,S){var j=b.type;return j===eo?d(w,y,b.props.children,S,b.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Cr&&Om(j)===y.type)?(S=s(y,b.props),S.ref=ii(w,y,b),S.return=w,S):(S=sl(b.type,b.key,b.props,null,w.mode,S),S.ref=ii(w,y,b),S.return=w,S)}function u(w,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=pu(b,w.mode,S),y.return=w,y):(y=s(y,b.children||[]),y.return=w,y)}function d(w,y,b,S,j){return y===null||y.tag!==7?(y=Cs(b,w.mode,S,j),y.return=w,y):(y=s(y,b),y.return=w,y)}function f(w,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=mu(""+y,w.mode,b),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xa:return b=sl(y.type,y.key,y.props,null,w.mode,b),b.ref=ii(w,null,y),b.return=w,b;case Zs:return y=pu(y,w.mode,b),y.return=w,y;case Cr:var S=y._init;return f(w,S(y._payload),b)}if(hi(y)||ti(y))return y=Cs(y,w.mode,b,null),y.return=w,y;Pa(w,y)}return null}function h(w,y,b,S){var j=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(w,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xa:return b.key===j?c(w,y,b,S):null;case Zs:return b.key===j?u(w,y,b,S):null;case Cr:return j=b._init,h(w,y,j(b._payload),S)}if(hi(b)||ti(b))return j!==null?null:d(w,y,b,S,null);Pa(w,b)}return null}function m(w,y,b,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(b)||null,l(y,w,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case xa:return w=w.get(S.key===null?b:S.key)||null,c(y,w,S,j);case Zs:return w=w.get(S.key===null?b:S.key)||null,u(y,w,S,j);case Cr:var N=S._init;return m(w,y,b,N(S._payload),j)}if(hi(S)||ti(S))return w=w.get(b)||null,d(y,w,S,j,null);Pa(y,S)}return null}function g(w,y,b,S){for(var j=null,N=null,_=y,O=y=0,L=null;_!==null&&O<b.length;O++){_.index>O?(L=_,_=null):L=_.sibling;var M=h(w,_,b[O],S);if(M===null){_===null&&(_=L);break}e&&_&&M.alternate===null&&t(w,_),y=o(M,y,O),N===null?j=M:N.sibling=M,N=M,_=L}if(O===b.length)return n(w,_),Qe&&fs(w,O),j;if(_===null){for(;O<b.length;O++)_=f(w,b[O],S),_!==null&&(y=o(_,y,O),N===null?j=_:N.sibling=_,N=_);return Qe&&fs(w,O),j}for(_=r(w,_);O<b.length;O++)L=m(_,w,O,b[O],S),L!==null&&(e&&L.alternate!==null&&_.delete(L.key===null?O:L.key),y=o(L,y,O),N===null?j=L:N.sibling=L,N=L);return e&&_.forEach(function(Y){return t(w,Y)}),Qe&&fs(w,O),j}function v(w,y,b,S){var j=ti(b);if(typeof j!="function")throw Error(X(150));if(b=j.call(b),b==null)throw Error(X(151));for(var N=j=null,_=y,O=y=0,L=null,M=b.next();_!==null&&!M.done;O++,M=b.next()){_.index>O?(L=_,_=null):L=_.sibling;var Y=h(w,_,M.value,S);if(Y===null){_===null&&(_=L);break}e&&_&&Y.alternate===null&&t(w,_),y=o(Y,y,O),N===null?j=Y:N.sibling=Y,N=Y,_=L}if(M.done)return n(w,_),Qe&&fs(w,O),j;if(_===null){for(;!M.done;O++,M=b.next())M=f(w,M.value,S),M!==null&&(y=o(M,y,O),N===null?j=M:N.sibling=M,N=M);return Qe&&fs(w,O),j}for(_=r(w,_);!M.done;O++,M=b.next())M=m(_,w,O,M.value,S),M!==null&&(e&&M.alternate!==null&&_.delete(M.key===null?O:M.key),y=o(M,y,O),N===null?j=M:N.sibling=M,N=M);return e&&_.forEach(function(H){return t(w,H)}),Qe&&fs(w,O),j}function x(w,y,b,S){if(typeof b=="object"&&b!==null&&b.type===eo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case xa:e:{for(var j=b.key,N=y;N!==null;){if(N.key===j){if(j=b.type,j===eo){if(N.tag===7){n(w,N.sibling),y=s(N,b.props.children),y.return=w,w=y;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Cr&&Om(j)===N.type){n(w,N.sibling),y=s(N,b.props),y.ref=ii(w,N,b),y.return=w,w=y;break e}n(w,N);break}else t(w,N);N=N.sibling}b.type===eo?(y=Cs(b.props.children,w.mode,S,b.key),y.return=w,w=y):(S=sl(b.type,b.key,b.props,null,w.mode,S),S.ref=ii(w,y,b),S.return=w,w=S)}return a(w);case Zs:e:{for(N=b.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(w,y.sibling),y=s(y,b.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else t(w,y);y=y.sibling}y=pu(b,w.mode,S),y.return=w,w=y}return a(w);case Cr:return N=b._init,x(w,y,N(b._payload),S)}if(hi(b))return g(w,y,b,S);if(ti(b))return v(w,y,b,S);Pa(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(w,y.sibling),y=s(y,b),y.return=w,w=y):(n(w,y),y=mu(b,w.mode,S),y.return=w,w=y),a(w)):n(w,y)}return x}var Oo=zv(!0),Wv=zv(!1),_l=ss(null),Cl=null,lo=null,Mf=null;function Bf(){Mf=lo=Cl=null}function $f(e){var t=_l.current;Ke(_l),e._currentValue=t}function md(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function go(e,t){Cl=e,Mf=lo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($t=!0),e.firstContext=null)}function on(e){var t=e._currentValue;if(Mf!==e)if(e={context:e,memoizedValue:t,next:null},lo===null){if(Cl===null)throw Error(X(308));lo=e,Cl.dependencies={lanes:0,firstContext:e}}else lo=lo.next=e;return t}var vs=null;function Lf(e){vs===null?vs=[e]:vs.push(e)}function Vv(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Lf(t)):(n.next=s.next,s.next=n),t.interleaved=n,ur(e,r)}function ur(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tr=!1;function Df(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ir(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ur(e,n)}return s=r.interleaved,s===null?(t.next=t,Lf(r)):(t.next=s.next,s.next=t),r.interleaved=t,ur(e,n)}function Xa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nf(e,n)}}function Im(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Tl(e,t,n,r){var s=e.updateQueue;Tr=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;a=0,d=u=c=null,l=o;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(h=t,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=et({},f,h);break e;case 2:Tr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);As|=a,e.lanes=a,e.memoizedState=f}}function Mm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var ia={},Vn=ss(ia),zi=ss(ia),Wi=ss(ia);function ys(e){if(e===ia)throw Error(X(174));return e}function Ff(e,t){switch(ze(Wi,t),ze(zi,e),ze(Vn,ia),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qu(t,e)}Ke(Vn),ze(Vn,t)}function Io(){Ke(Vn),Ke(zi),Ke(Wi)}function Gv(e){ys(Wi.current);var t=ys(Vn.current),n=qu(t,e.type);t!==n&&(ze(zi,e),ze(Vn,n))}function Uf(e){zi.current===e&&(Ke(Vn),Ke(zi))}var Xe=ss(0);function kl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lu=[];function zf(){for(var e=0;e<lu.length;e++)lu[e]._workInProgressVersionPrimary=null;lu.length=0}var Za=mr.ReactCurrentDispatcher,cu=mr.ReactCurrentBatchConfig,Ps=0,Ze=null,ct=null,ft=null,El=!1,Ni=!1,Vi=0,rj=0;function xt(){throw Error(X(321))}function Wf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kn(e[n],t[n]))return!1;return!0}function Vf(e,t,n,r,s,o){if(Ps=o,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Za.current=e===null||e.memoizedState===null?aj:lj,e=n(r,s),Ni){o=0;do{if(Ni=!1,Vi=0,25<=o)throw Error(X(301));o+=1,ft=ct=null,t.updateQueue=null,Za.current=cj,e=n(r,s)}while(Ni)}if(Za.current=Pl,t=ct!==null&&ct.next!==null,Ps=0,ft=ct=Ze=null,El=!1,t)throw Error(X(300));return e}function Hf(){var e=Vi!==0;return Vi=0,e}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ze.memoizedState=ft=e:ft=ft.next=e,ft}function an(){if(ct===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=ft===null?Ze.memoizedState:ft.next;if(t!==null)ft=t,ct=e;else{if(e===null)throw Error(X(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},ft===null?Ze.memoizedState=ft=e:ft=ft.next=e}return ft}function Hi(e,t){return typeof t=="function"?t(e):t}function uu(e){var t=an(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=ct,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((Ps&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Ze.lanes|=d,As|=d}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=l,kn(r,t.memoizedState)||($t=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ze.lanes|=o,As|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function du(e){var t=an(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);kn(o,t.memoizedState)||($t=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Kv(){}function qv(e,t){var n=Ze,r=an(),s=t(),o=!kn(r.memoizedState,s);if(o&&(r.memoizedState=s,$t=!0),r=r.queue,Gf(Jv.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,Gi(9,Yv.bind(null,n,r,s,t),void 0,null),ht===null)throw Error(X(349));Ps&30||Qv(n,t,s)}return s}function Qv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yv(e,t,n,r){t.value=n,t.getSnapshot=r,Xv(t)&&Zv(e)}function Jv(e,t,n){return n(function(){Xv(t)&&Zv(e)})}function Xv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kn(e,n)}catch{return!0}}function Zv(e){var t=ur(e,1);t!==null&&Tn(t,e,1,-1)}function Bm(e){var t=In();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},t.queue=e,e=e.dispatch=ij.bind(null,Ze,e),[t.memoizedState,e]}function Gi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ey(){return an().memoizedState}function el(e,t,n,r){var s=In();Ze.flags|=e,s.memoizedState=Gi(1|t,n,void 0,r===void 0?null:r)}function tc(e,t,n,r){var s=an();r=r===void 0?null:r;var o=void 0;if(ct!==null){var a=ct.memoizedState;if(o=a.destroy,r!==null&&Wf(r,a.deps)){s.memoizedState=Gi(t,n,o,r);return}}Ze.flags|=e,s.memoizedState=Gi(1|t,n,o,r)}function $m(e,t){return el(8390656,8,e,t)}function Gf(e,t){return tc(2048,8,e,t)}function ty(e,t){return tc(4,2,e,t)}function ny(e,t){return tc(4,4,e,t)}function ry(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sy(e,t,n){return n=n!=null?n.concat([e]):null,tc(4,4,ry.bind(null,t,e),n)}function Kf(){}function oy(e,t){var n=an();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function iy(e,t){var n=an();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ay(e,t,n){return Ps&21?(kn(n,t)||(n=fv(),Ze.lanes|=n,As|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=n)}function sj(e,t){var n=Be;Be=n!==0&&4>n?n:4,e(!0);var r=cu.transition;cu.transition={};try{e(!1),t()}finally{Be=n,cu.transition=r}}function ly(){return an().memoizedState}function oj(e,t,n){var r=Gr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cy(e))uy(t,n);else if(n=Vv(e,t,n,r),n!==null){var s=kt();Tn(n,e,r,s),dy(n,t,r)}}function ij(e,t,n){var r=Gr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cy(e))uy(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(s.hasEagerState=!0,s.eagerState=l,kn(l,a)){var c=t.interleaved;c===null?(s.next=s,Lf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Vv(e,t,s,r),n!==null&&(s=kt(),Tn(n,e,r,s),dy(n,t,r))}}function cy(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function uy(e,t){Ni=El=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nf(e,n)}}var Pl={readContext:on,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},aj={readContext:on,useCallback:function(e,t){return In().memoizedState=[e,t===void 0?null:t],e},useContext:on,useEffect:$m,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,el(4194308,4,ry.bind(null,t,e),n)},useLayoutEffect:function(e,t){return el(4194308,4,e,t)},useInsertionEffect:function(e,t){return el(4,2,e,t)},useMemo:function(e,t){var n=In();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=In();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oj.bind(null,Ze,e),[r.memoizedState,e]},useRef:function(e){var t=In();return e={current:e},t.memoizedState=e},useState:Bm,useDebugValue:Kf,useDeferredValue:function(e){return In().memoizedState=e},useTransition:function(){var e=Bm(!1),t=e[0];return e=sj.bind(null,e[1]),In().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ze,s=In();if(Qe){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),ht===null)throw Error(X(349));Ps&30||Qv(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,$m(Jv.bind(null,r,o,e),[e]),r.flags|=2048,Gi(9,Yv.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=In(),t=ht.identifierPrefix;if(Qe){var n=rr,r=nr;n=(r&~(1<<32-Cn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lj={readContext:on,useCallback:oy,useContext:on,useEffect:Gf,useImperativeHandle:sy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:iy,useReducer:uu,useRef:ey,useState:function(){return uu(Hi)},useDebugValue:Kf,useDeferredValue:function(e){var t=an();return ay(t,ct.memoizedState,e)},useTransition:function(){var e=uu(Hi)[0],t=an().memoizedState;return[e,t]},useMutableSource:Kv,useSyncExternalStore:qv,useId:ly,unstable_isNewReconciler:!1},cj={readContext:on,useCallback:oy,useContext:on,useEffect:Gf,useImperativeHandle:sy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:iy,useReducer:du,useRef:ey,useState:function(){return du(Hi)},useDebugValue:Kf,useDeferredValue:function(e){var t=an();return ct===null?t.memoizedState=e:ay(t,ct.memoizedState,e)},useTransition:function(){var e=du(Hi)[0],t=an().memoizedState;return[e,t]},useMutableSource:Kv,useSyncExternalStore:qv,useId:ly,unstable_isNewReconciler:!1};function yn(e,t){if(e&&e.defaultProps){t=et({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:et({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nc={isMounted:function(e){return(e=e._reactInternals)?Ls(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kt(),s=Gr(e),o=ir(r,s);o.payload=t,n!=null&&(o.callback=n),t=Vr(e,o,s),t!==null&&(Tn(t,e,s,r),Xa(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kt(),s=Gr(e),o=ir(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Vr(e,o,s),t!==null&&(Tn(t,e,s,r),Xa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kt(),r=Gr(e),s=ir(n,r);s.tag=2,t!=null&&(s.callback=t),t=Vr(e,s,r),t!==null&&(Tn(t,e,r,n),Xa(t,e,r))}};function Lm(e,t,n,r,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Li(n,r)||!Li(s,o):!0}function fy(e,t,n){var r=!1,s=Zr,o=t.contextType;return typeof o=="object"&&o!==null?o=on(o):(s=Dt(t)?ks:Nt.current,r=t.contextTypes,o=(r=r!=null)?Ao(e,s):Zr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Dm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nc.enqueueReplaceState(t,t.state,null)}function gd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Df(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=on(o):(o=Dt(t)?ks:Nt.current,s.context=Ao(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(pd(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&nc.enqueueReplaceState(s,s.state,null),Tl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Mo(e,t){try{var n="",r=t;do n+=$S(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uj=typeof WeakMap=="function"?WeakMap:Map;function hy(e,t,n){n=ir(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rl||(Rl=!0,Td=r),vd(e,t)},n}function my(e,t,n){n=ir(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){vd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){vd(e,t),typeof r!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Fm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new uj;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Nj.bind(null,e,t,n),t.then(e,e))}function Um(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ir(-1,1),t.tag=2,Vr(n,t,1))),n.lanes|=1),e)}var dj=mr.ReactCurrentOwner,$t=!1;function Ct(e,t,n,r){t.child=e===null?Wv(t,null,n,r):Oo(t,e.child,n,r)}function Wm(e,t,n,r,s){n=n.render;var o=t.ref;return go(t,s),r=Vf(e,t,n,r,o,s),n=Hf(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,dr(e,t,s)):(Qe&&n&&Rf(t),t.flags|=1,Ct(e,t,r,s),t.child)}function Vm(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!th(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,py(e,t,o,r,s)):(e=sl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Li,n(a,r)&&e.ref===t.ref)return dr(e,t,s)}return t.flags|=1,e=Kr(o,r),e.ref=t.ref,e.return=t,t.child=e}function py(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Li(o,r)&&e.ref===t.ref)if($t=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&($t=!0);else return t.lanes=e.lanes,dr(e,t,s)}return yd(e,t,n,r,s)}function gy(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(uo,zt),zt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(uo,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ze(uo,zt),zt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ze(uo,zt),zt|=r;return Ct(e,t,s,n),t.child}function vy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yd(e,t,n,r,s){var o=Dt(n)?ks:Nt.current;return o=Ao(t,o),go(t,s),n=Vf(e,t,n,r,o,s),r=Hf(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,dr(e,t,s)):(Qe&&r&&Rf(t),t.flags|=1,Ct(e,t,n,s),t.child)}function Hm(e,t,n,r,s){if(Dt(n)){var o=!0;Sl(t)}else o=!1;if(go(t,s),t.stateNode===null)tl(e,t),fy(t,n,r),gd(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=on(u):(u=Dt(n)?ks:Nt.current,u=Ao(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Dm(t,a,r,u),Tr=!1;var h=t.memoizedState;a.state=h,Tl(t,r,a,s),c=t.memoizedState,l!==r||h!==c||Lt.current||Tr?(typeof d=="function"&&(pd(t,n,d,r),c=t.memoizedState),(l=Tr||Lm(t,n,l,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Hv(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:yn(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=on(c):(c=Dt(n)?ks:Nt.current,c=Ao(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Dm(t,a,r,c),Tr=!1,h=t.memoizedState,a.state=h,Tl(t,r,a,s);var g=t.memoizedState;l!==f||h!==g||Lt.current||Tr?(typeof m=="function"&&(pd(t,n,m,r),g=t.memoizedState),(u=Tr||Lm(t,n,u,r,h,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return xd(e,t,n,r,o,s)}function xd(e,t,n,r,s,o){vy(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Pm(t,n,!1),dr(e,t,o);r=t.stateNode,dj.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Oo(t,e.child,null,o),t.child=Oo(t,null,l,o)):Ct(e,t,l,o),t.memoizedState=r.state,s&&Pm(t,n,!0),t.child}function yy(e){var t=e.stateNode;t.pendingContext?Em(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Em(e,t.context,!1),Ff(e,t.containerInfo)}function Gm(e,t,n,r,s){return Ro(),If(s),t.flags|=256,Ct(e,t,n,r),t.child}var wd={dehydrated:null,treeContext:null,retryLane:0};function bd(e){return{baseLanes:e,cachePool:null,transitions:null}}function xy(e,t,n){var r=t.pendingProps,s=Xe.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ze(Xe,s&1),e===null)return hd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=oc(a,r,0,null),e=Cs(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=bd(n),t.memoizedState=wd,e):qf(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return fj(e,t,a,r,l,s,n);if(o){o=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Kr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Kr(l,o):(o=Cs(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?bd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=wd,r}return o=e.child,e=o.sibling,r=Kr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qf(e,t){return t=oc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Aa(e,t,n,r){return r!==null&&If(r),Oo(t,e.child,null,n),e=qf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fj(e,t,n,r,s,o,a){if(n)return t.flags&256?(t.flags&=-257,r=fu(Error(X(422))),Aa(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=oc({mode:"visible",children:r.children},s,0,null),o=Cs(o,s,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Oo(t,e.child,null,a),t.child.memoizedState=bd(a),t.memoizedState=wd,o);if(!(t.mode&1))return Aa(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(X(419)),r=fu(o,r,void 0),Aa(e,t,a,r)}if(l=(a&e.childLanes)!==0,$t||l){if(r=ht,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,ur(e,s),Tn(r,e,s,-1))}return eh(),r=fu(Error(X(421))),Aa(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=_j.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Vt=Wr(s.nextSibling),Ht=t,Qe=!0,Nn=null,e!==null&&(Xt[Zt++]=nr,Xt[Zt++]=rr,Xt[Zt++]=Es,nr=e.id,rr=e.overflow,Es=t),t=qf(t,r.children),t.flags|=4096,t)}function Km(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),md(e.return,t,n)}function hu(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function wy(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Ct(e,t,r.children,n),r=Xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Km(e,n,t);else if(e.tag===19)Km(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ze(Xe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&kl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),hu(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&kl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}hu(t,!0,n,null,o);break;case"together":hu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),As|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=Kr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hj(e,t,n){switch(t.tag){case 3:yy(t),Ro();break;case 5:Gv(t);break;case 1:Dt(t.type)&&Sl(t);break;case 4:Ff(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ze(_l,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ze(Xe,Xe.current&1),t.flags|=128,null):n&t.child.childLanes?xy(e,t,n):(ze(Xe,Xe.current&1),e=dr(e,t,n),e!==null?e.sibling:null);ze(Xe,Xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(Xe,Xe.current),r)break;return null;case 22:case 23:return t.lanes=0,gy(e,t,n)}return dr(e,t,n)}var by,Sd,Sy,jy;by=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sd=function(){};Sy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ys(Vn.current);var o=null;switch(n){case"input":s=Vu(e,s),r=Vu(e,r),o=[];break;case"select":s=et({},s,{value:void 0}),r=et({},r,{value:void 0}),o=[];break;case"textarea":s=Ku(e,s),r=Ku(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wl)}Qu(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ai.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ai.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ge("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};jy=function(e,t,n,r){n!==r&&(t.flags|=4)};function ai(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mj(e,t,n){var r=t.pendingProps;switch(Of(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Dt(t.type)&&bl(),wt(t),null;case 3:return r=t.stateNode,Io(),Ke(Lt),Ke(Nt),zf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ea(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nn!==null&&(Pd(Nn),Nn=null))),Sd(e,t),wt(t),null;case 5:Uf(t);var s=ys(Wi.current);if(n=t.type,e!==null&&t.stateNode!=null)Sy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(X(166));return wt(t),null}if(e=ys(Vn.current),Ea(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ln]=t,r[Ui]=o,e=(t.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(s=0;s<pi.length;s++)Ge(pi[s],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":nm(r,o),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ge("invalid",r);break;case"textarea":sm(r,o),Ge("invalid",r)}Qu(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&ka(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ka(r.textContent,l,e),s=["children",""+l]):Ai.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ge("scroll",r)}switch(n){case"input":wa(r),rm(r,o,!0);break;case"textarea":wa(r),om(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=wl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ln]=t,e[Ui]=r,by(e,t,!1,!1),t.stateNode=e;e:{switch(a=Yu(n,r),n){case"dialog":Ge("cancel",e),Ge("close",e),s=r;break;case"iframe":case"object":case"embed":Ge("load",e),s=r;break;case"video":case"audio":for(s=0;s<pi.length;s++)Ge(pi[s],e);s=r;break;case"source":Ge("error",e),s=r;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),s=r;break;case"details":Ge("toggle",e),s=r;break;case"input":nm(e,r),s=Vu(e,r),Ge("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=et({},r,{value:void 0}),Ge("invalid",e);break;case"textarea":sm(e,r),s=Ku(e,r),Ge("invalid",e);break;default:s=r}Qu(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?ev(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Xg(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ri(e,c):typeof c=="number"&&Ri(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ai.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ge("scroll",e):c!=null&&yf(e,o,c,a))}switch(n){case"input":wa(e),rm(e,r,!1);break;case"textarea":wa(e),om(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Xr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?fo(e,!!r.multiple,o,!1):r.defaultValue!=null&&fo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=wl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)jy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(n=ys(Wi.current),ys(Vn.current),Ea(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ln]=t,(o=r.nodeValue!==n)&&(e=Ht,e!==null))switch(e.tag){case 3:ka(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ka(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=t,t.stateNode=r}return wt(t),null;case 13:if(Ke(Xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&Vt!==null&&t.mode&1&&!(t.flags&128))Uv(),Ro(),t.flags|=98560,o=!1;else if(o=Ea(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(X(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[Ln]=t}else Ro(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),o=!1}else Nn!==null&&(Pd(Nn),Nn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Xe.current&1?ut===0&&(ut=3):eh())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return Io(),Sd(e,t),e===null&&Di(t.stateNode.containerInfo),wt(t),null;case 10:return $f(t.type._context),wt(t),null;case 17:return Dt(t.type)&&bl(),wt(t),null;case 19:if(Ke(Xe),o=t.memoizedState,o===null)return wt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)ai(o,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=kl(e),a!==null){for(t.flags|=128,ai(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ze(Xe,Xe.current&1|2),t.child}e=e.sibling}o.tail!==null&&at()>Bo&&(t.flags|=128,r=!0,ai(o,!1),t.lanes=4194304)}else{if(!r)if(e=kl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ai(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Qe)return wt(t),null}else 2*at()-o.renderingStartTime>Bo&&n!==1073741824&&(t.flags|=128,r=!0,ai(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=at(),t.sibling=null,n=Xe.current,ze(Xe,r?n&1|2:n&1),t):(wt(t),null);case 22:case 23:return Zf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zt&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function pj(e,t){switch(Of(t),t.tag){case 1:return Dt(t.type)&&bl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Io(),Ke(Lt),Ke(Nt),zf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uf(t),null;case 13:if(Ke(Xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));Ro()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(Xe),null;case 4:return Io(),null;case 10:return $f(t.type._context),null;case 22:case 23:return Zf(),null;case 24:return null;default:return null}}var Ra=!1,jt=!1,gj=typeof WeakSet=="function"?WeakSet:Set,ne=null;function co(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(e,t,r)}else n.current=null}function jd(e,t,n){try{n()}catch(r){rt(e,t,r)}}var qm=!1;function vj(e,t){if(id=vl,e=kv(),Af(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==o||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=a),h===o&&++d===r&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ad={focusedElem:e,selectionRange:n},vl=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,x=g.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?v:yn(t.type,v),x);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(S){rt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return g=qm,qm=!1,g}function _i(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&jd(t,n,o)}s=s.next}while(s!==r)}}function rc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Nd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ny(e){var t=e.alternate;t!==null&&(e.alternate=null,Ny(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ln],delete t[Ui],delete t[ud],delete t[Z1],delete t[ej])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _y(e){return e.tag===5||e.tag===3||e.tag===4}function Qm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_y(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _d(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wl));else if(r!==4&&(e=e.child,e!==null))for(_d(e,t,n),e=e.sibling;e!==null;)_d(e,t,n),e=e.sibling}function Cd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Cd(e,t,n),e=e.sibling;e!==null;)Cd(e,t,n),e=e.sibling}var pt=null,Sn=!1;function xr(e,t,n){for(n=n.child;n!==null;)Cy(e,t,n),n=n.sibling}function Cy(e,t,n){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(Ql,n)}catch{}switch(n.tag){case 5:jt||co(n,t);case 6:var r=pt,s=Sn;pt=null,xr(e,t,n),pt=r,Sn=s,pt!==null&&(Sn?(e=pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(Sn?(e=pt,n=n.stateNode,e.nodeType===8?iu(e.parentNode,n):e.nodeType===1&&iu(e,n),Bi(e)):iu(pt,n.stateNode));break;case 4:r=pt,s=Sn,pt=n.stateNode.containerInfo,Sn=!0,xr(e,t,n),pt=r,Sn=s;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&jd(n,t,a),s=s.next}while(s!==r)}xr(e,t,n);break;case 1:if(!jt&&(co(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){rt(n,t,l)}xr(e,t,n);break;case 21:xr(e,t,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,xr(e,t,n),jt=r):xr(e,t,n);break;default:xr(e,t,n)}}function Ym(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gj),t.forEach(function(r){var s=Cj.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function hn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:pt=l.stateNode,Sn=!1;break e;case 3:pt=l.stateNode.containerInfo,Sn=!0;break e;case 4:pt=l.stateNode.containerInfo,Sn=!0;break e}l=l.return}if(pt===null)throw Error(X(160));Cy(o,a,s),pt=null,Sn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){rt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ty(t,e),t=t.sibling}function Ty(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hn(t,e),On(e),r&4){try{_i(3,e,e.return),rc(3,e)}catch(v){rt(e,e.return,v)}try{_i(5,e,e.return)}catch(v){rt(e,e.return,v)}}break;case 1:hn(t,e),On(e),r&512&&n!==null&&co(n,n.return);break;case 5:if(hn(t,e),On(e),r&512&&n!==null&&co(n,n.return),e.flags&32){var s=e.stateNode;try{Ri(s,"")}catch(v){rt(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Qg(s,o),Yu(l,a);var u=Yu(l,o);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?ev(s,f):d==="dangerouslySetInnerHTML"?Xg(s,f):d==="children"?Ri(s,f):yf(s,d,f,u)}switch(l){case"input":Hu(s,o);break;case"textarea":Yg(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?fo(s,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?fo(s,!!o.multiple,o.defaultValue,!0):fo(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ui]=o}catch(v){rt(e,e.return,v)}}break;case 6:if(hn(t,e),On(e),r&4){if(e.stateNode===null)throw Error(X(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(v){rt(e,e.return,v)}}break;case 3:if(hn(t,e),On(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bi(t.containerInfo)}catch(v){rt(e,e.return,v)}break;case 4:hn(t,e),On(e);break;case 13:hn(t,e),On(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Jf=at())),r&4&&Ym(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(jt=(u=jt)||d,hn(t,e),jt=u):hn(t,e),On(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ne=e,d=e.child;d!==null;){for(f=ne=d;ne!==null;){switch(h=ne,m=h.child,h.tag){case 0:case 11:case 14:case 15:_i(4,h,h.return);break;case 1:co(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){rt(r,n,v)}}break;case 5:co(h,h.return);break;case 22:if(h.memoizedState!==null){Xm(f);continue}}m!==null?(m.return=h,ne=m):Xm(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Zg("display",a))}catch(v){rt(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){rt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hn(t,e),On(e),r&4&&Ym(e);break;case 21:break;default:hn(t,e),On(e)}}function On(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_y(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ri(s,""),r.flags&=-33);var o=Qm(e);Cd(e,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Qm(e);_d(e,l,a);break;default:throw Error(X(161))}}catch(c){rt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yj(e,t,n){ne=e,ky(e)}function ky(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var s=ne,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Ra;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||jt;l=Ra;var u=jt;if(Ra=a,(jt=c)&&!u)for(ne=s;ne!==null;)a=ne,c=a.child,a.tag===22&&a.memoizedState!==null?Zm(s):c!==null?(c.return=a,ne=c):Zm(s);for(;o!==null;)ne=o,ky(o),o=o.sibling;ne=s,Ra=l,jt=u}Jm(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ne=o):Jm(e)}}function Jm(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jt||rc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!jt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:yn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Mm(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mm(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Bi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}jt||t.flags&512&&Nd(t)}catch(h){rt(t,t.return,h)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function Xm(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function Zm(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){rt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){rt(t,s,c)}}var o=t.return;try{Nd(t)}catch(c){rt(t,o,c)}break;case 5:var a=t.return;try{Nd(t)}catch(c){rt(t,a,c)}}}catch(c){rt(t,t.return,c)}if(t===e){ne=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ne=l;break}ne=t.return}}var xj=Math.ceil,Al=mr.ReactCurrentDispatcher,Qf=mr.ReactCurrentOwner,nn=mr.ReactCurrentBatchConfig,Pe=0,ht=null,lt=null,gt=0,zt=0,uo=ss(0),ut=0,Ki=null,As=0,sc=0,Yf=0,Ci=null,Mt=null,Jf=0,Bo=1/0,Xn=null,Rl=!1,Td=null,Hr=null,Oa=!1,Lr=null,Ol=0,Ti=0,kd=null,nl=-1,rl=0;function kt(){return Pe&6?at():nl!==-1?nl:nl=at()}function Gr(e){return e.mode&1?Pe&2&&gt!==0?gt&-gt:nj.transition!==null?(rl===0&&(rl=fv()),rl):(e=Be,e!==0||(e=window.event,e=e===void 0?16:xv(e.type)),e):1}function Tn(e,t,n,r){if(50<Ti)throw Ti=0,kd=null,Error(X(185));ra(e,n,r),(!(Pe&2)||e!==ht)&&(e===ht&&(!(Pe&2)&&(sc|=n),ut===4&&Pr(e,gt)),Ft(e,r),n===1&&Pe===0&&!(t.mode&1)&&(Bo=at()+500,ec&&os()))}function Ft(e,t){var n=e.callbackNode;n1(e,t);var r=gl(e,e===ht?gt:0);if(r===0)n!==null&&lm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&lm(n),t===1)e.tag===0?tj(ep.bind(null,e)):Lv(ep.bind(null,e)),J1(function(){!(Pe&6)&&os()}),n=null;else{switch(hv(r)){case 1:n=jf;break;case 4:n=uv;break;case 16:n=pl;break;case 536870912:n=dv;break;default:n=pl}n=By(n,Ey.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ey(e,t){if(nl=-1,rl=0,Pe&6)throw Error(X(327));var n=e.callbackNode;if(vo()&&e.callbackNode!==n)return null;var r=gl(e,e===ht?gt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Il(e,r);else{t=r;var s=Pe;Pe|=2;var o=Ay();(ht!==e||gt!==t)&&(Xn=null,Bo=at()+500,_s(e,t));do try{Sj();break}catch(l){Py(e,l)}while(!0);Bf(),Al.current=o,Pe=s,lt!==null?t=0:(ht=null,gt=0,t=ut)}if(t!==0){if(t===2&&(s=td(e),s!==0&&(r=s,t=Ed(e,s))),t===1)throw n=Ki,_s(e,0),Pr(e,r),Ft(e,at()),n;if(t===6)Pr(e,r);else{if(s=e.current.alternate,!(r&30)&&!wj(s)&&(t=Il(e,r),t===2&&(o=td(e),o!==0&&(r=o,t=Ed(e,o))),t===1))throw n=Ki,_s(e,0),Pr(e,r),Ft(e,at()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(X(345));case 2:hs(e,Mt,Xn);break;case 3:if(Pr(e,r),(r&130023424)===r&&(t=Jf+500-at(),10<t)){if(gl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){kt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=cd(hs.bind(null,e,Mt,Xn),t);break}hs(e,Mt,Xn);break;case 4:if(Pr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Cn(r);o=1<<a,a=t[a],a>s&&(s=a),r&=~o}if(r=s,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xj(r/1960))-r,10<r){e.timeoutHandle=cd(hs.bind(null,e,Mt,Xn),r);break}hs(e,Mt,Xn);break;case 5:hs(e,Mt,Xn);break;default:throw Error(X(329))}}}return Ft(e,at()),e.callbackNode===n?Ey.bind(null,e):null}function Ed(e,t){var n=Ci;return e.current.memoizedState.isDehydrated&&(_s(e,t).flags|=256),e=Il(e,t),e!==2&&(t=Mt,Mt=n,t!==null&&Pd(t)),e}function Pd(e){Mt===null?Mt=e:Mt.push.apply(Mt,e)}function wj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!kn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pr(e,t){for(t&=~Yf,t&=~sc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Cn(t),r=1<<n;e[n]=-1,t&=~r}}function ep(e){if(Pe&6)throw Error(X(327));vo();var t=gl(e,0);if(!(t&1))return Ft(e,at()),null;var n=Il(e,t);if(e.tag!==0&&n===2){var r=td(e);r!==0&&(t=r,n=Ed(e,r))}if(n===1)throw n=Ki,_s(e,0),Pr(e,t),Ft(e,at()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hs(e,Mt,Xn),Ft(e,at()),null}function Xf(e,t){var n=Pe;Pe|=1;try{return e(t)}finally{Pe=n,Pe===0&&(Bo=at()+500,ec&&os())}}function Rs(e){Lr!==null&&Lr.tag===0&&!(Pe&6)&&vo();var t=Pe;Pe|=1;var n=nn.transition,r=Be;try{if(nn.transition=null,Be=1,e)return e()}finally{Be=r,nn.transition=n,Pe=t,!(Pe&6)&&os()}}function Zf(){zt=uo.current,Ke(uo)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Y1(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(Of(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bl();break;case 3:Io(),Ke(Lt),Ke(Nt),zf();break;case 5:Uf(r);break;case 4:Io();break;case 13:Ke(Xe);break;case 19:Ke(Xe);break;case 10:$f(r.type._context);break;case 22:case 23:Zf()}n=n.return}if(ht=e,lt=e=Kr(e.current,null),gt=zt=t,ut=0,Ki=null,Yf=sc=As=0,Mt=Ci=null,vs!==null){for(t=0;t<vs.length;t++)if(n=vs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}vs=null}return e}function Py(e,t){do{var n=lt;try{if(Bf(),Za.current=Pl,El){for(var r=Ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}El=!1}if(Ps=0,ft=ct=Ze=null,Ni=!1,Vi=0,Qf.current=null,n===null||n.return===null){ut=1,Ki=t,lt=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=gt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Um(a);if(m!==null){m.flags&=-257,zm(m,a,l,o,t),m.mode&1&&Fm(o,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){Fm(o,u,t),eh();break e}c=Error(X(426))}}else if(Qe&&l.mode&1){var x=Um(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),zm(x,a,l,o,t),If(Mo(c,l));break e}}o=c=Mo(c,l),ut!==4&&(ut=2),Ci===null?Ci=[o]:Ci.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=hy(o,c,t);Im(o,w);break e;case 1:l=c;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Hr===null||!Hr.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=my(o,l,t);Im(o,S);break e}}o=o.return}while(o!==null)}Oy(n)}catch(j){t=j,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function Ay(){var e=Al.current;return Al.current=Pl,e===null?Pl:e}function eh(){(ut===0||ut===3||ut===2)&&(ut=4),ht===null||!(As&268435455)&&!(sc&268435455)||Pr(ht,gt)}function Il(e,t){var n=Pe;Pe|=2;var r=Ay();(ht!==e||gt!==t)&&(Xn=null,_s(e,t));do try{bj();break}catch(s){Py(e,s)}while(!0);if(Bf(),Pe=n,Al.current=r,lt!==null)throw Error(X(261));return ht=null,gt=0,ut}function bj(){for(;lt!==null;)Ry(lt)}function Sj(){for(;lt!==null&&!KS();)Ry(lt)}function Ry(e){var t=My(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?Oy(e):lt=t,Qf.current=null}function Oy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pj(n,t),n!==null){n.flags&=32767,lt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,lt=null;return}}else if(n=mj(n,t,zt),n!==null){lt=n;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);ut===0&&(ut=5)}function hs(e,t,n){var r=Be,s=nn.transition;try{nn.transition=null,Be=1,jj(e,t,n,r)}finally{nn.transition=s,Be=r}return null}function jj(e,t,n,r){do vo();while(Lr!==null);if(Pe&6)throw Error(X(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(r1(e,o),e===ht&&(lt=ht=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oa||(Oa=!0,By(pl,function(){return vo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nn.transition,nn.transition=null;var a=Be;Be=1;var l=Pe;Pe|=4,Qf.current=null,vj(e,n),Ty(n,e),W1(ad),vl=!!id,ad=id=null,e.current=n,yj(n),qS(),Pe=l,Be=a,nn.transition=o}else e.current=n;if(Oa&&(Oa=!1,Lr=e,Ol=s),o=e.pendingLanes,o===0&&(Hr=null),JS(n.stateNode),Ft(e,at()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rl)throw Rl=!1,e=Td,Td=null,e;return Ol&1&&e.tag!==0&&vo(),o=e.pendingLanes,o&1?e===kd?Ti++:(Ti=0,kd=e):Ti=0,os(),null}function vo(){if(Lr!==null){var e=hv(Ol),t=nn.transition,n=Be;try{if(nn.transition=null,Be=16>e?16:e,Lr===null)var r=!1;else{if(e=Lr,Lr=null,Ol=0,Pe&6)throw Error(X(331));var s=Pe;for(Pe|=4,ne=e.current;ne!==null;){var o=ne,a=o.child;if(ne.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ne=u;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:_i(8,d,o)}var f=d.child;if(f!==null)f.return=d,ne=f;else for(;ne!==null;){d=ne;var h=d.sibling,m=d.return;if(Ny(d),d===u){ne=null;break}if(h!==null){h.return=m,ne=h;break}ne=m}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ne=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ne=a;else e:for(;ne!==null;){if(o=ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:_i(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,ne=w;break e}ne=o.return}}var y=e.current;for(ne=y;ne!==null;){a=ne;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ne=b;else e:for(a=y;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rc(9,l)}}catch(j){rt(l,l.return,j)}if(l===a){ne=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ne=S;break e}ne=l.return}}if(Pe=s,os(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(Ql,e)}catch{}r=!0}return r}finally{Be=n,nn.transition=t}}return!1}function tp(e,t,n){t=Mo(n,t),t=hy(e,t,1),e=Vr(e,t,1),t=kt(),e!==null&&(ra(e,1,t),Ft(e,t))}function rt(e,t,n){if(e.tag===3)tp(e,e,n);else for(;t!==null;){if(t.tag===3){tp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hr===null||!Hr.has(r))){e=Mo(n,e),e=my(t,e,1),t=Vr(t,e,1),e=kt(),t!==null&&(ra(t,1,e),Ft(t,e));break}}t=t.return}}function Nj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=kt(),e.pingedLanes|=e.suspendedLanes&n,ht===e&&(gt&n)===n&&(ut===4||ut===3&&(gt&130023424)===gt&&500>at()-Jf?_s(e,0):Yf|=n),Ft(e,t)}function Iy(e,t){t===0&&(e.mode&1?(t=ja,ja<<=1,!(ja&130023424)&&(ja=4194304)):t=1);var n=kt();e=ur(e,t),e!==null&&(ra(e,t,n),Ft(e,n))}function _j(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Iy(e,n)}function Cj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(t),Iy(e,n)}var My;My=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lt.current)$t=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $t=!1,hj(e,t,n);$t=!!(e.flags&131072)}else $t=!1,Qe&&t.flags&1048576&&Dv(t,Nl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;tl(e,t),e=t.pendingProps;var s=Ao(t,Nt.current);go(t,n),s=Vf(null,t,r,e,s,n);var o=Hf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dt(r)?(o=!0,Sl(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Df(t),s.updater=nc,t.stateNode=s,s._reactInternals=t,gd(t,r,e,n),t=xd(null,t,r,!0,o,n)):(t.tag=0,Qe&&o&&Rf(t),Ct(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(tl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=kj(r),e=yn(r,e),s){case 0:t=yd(null,t,r,e,n);break e;case 1:t=Hm(null,t,r,e,n);break e;case 11:t=Wm(null,t,r,e,n);break e;case 14:t=Vm(null,t,r,yn(r.type,e),n);break e}throw Error(X(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yn(r,s),yd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yn(r,s),Hm(e,t,r,s,n);case 3:e:{if(yy(t),e===null)throw Error(X(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Hv(e,t),Tl(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Mo(Error(X(423)),t),t=Gm(e,t,r,n,s);break e}else if(r!==s){s=Mo(Error(X(424)),t),t=Gm(e,t,r,n,s);break e}else for(Vt=Wr(t.stateNode.containerInfo.firstChild),Ht=t,Qe=!0,Nn=null,n=Wv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ro(),r===s){t=dr(e,t,n);break e}Ct(e,t,r,n)}t=t.child}return t;case 5:return Gv(t),e===null&&hd(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,ld(r,s)?a=null:o!==null&&ld(r,o)&&(t.flags|=32),vy(e,t),Ct(e,t,a,n),t.child;case 6:return e===null&&hd(t),null;case 13:return xy(e,t,n);case 4:return Ff(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Oo(t,null,r,n):Ct(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yn(r,s),Wm(e,t,r,s,n);case 7:return Ct(e,t,t.pendingProps,n),t.child;case 8:return Ct(e,t,t.pendingProps.children,n),t.child;case 12:return Ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,ze(_l,r._currentValue),r._currentValue=a,o!==null)if(kn(o.value,a)){if(o.children===s.children&&!Lt.current){t=dr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=ir(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),md(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(X(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),md(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ct(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,go(t,n),s=on(s),r=r(s),t.flags|=1,Ct(e,t,r,n),t.child;case 14:return r=t.type,s=yn(r,t.pendingProps),s=yn(r.type,s),Vm(e,t,r,s,n);case 15:return py(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yn(r,s),tl(e,t),t.tag=1,Dt(r)?(e=!0,Sl(t)):e=!1,go(t,n),fy(t,r,s),gd(t,r,s,n),xd(null,t,r,!0,e,n);case 19:return wy(e,t,n);case 22:return gy(e,t,n)}throw Error(X(156,t.tag))};function By(e,t){return cv(e,t)}function Tj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,t,n,r){return new Tj(e,t,n,r)}function th(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kj(e){if(typeof e=="function")return th(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wf)return 11;if(e===bf)return 14}return 2}function Kr(e,t){var n=e.alternate;return n===null?(n=tn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function sl(e,t,n,r,s,o){var a=2;if(r=e,typeof e=="function")th(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case eo:return Cs(n.children,s,o,t);case xf:a=8,s|=8;break;case Fu:return e=tn(12,n,t,s|2),e.elementType=Fu,e.lanes=o,e;case Uu:return e=tn(13,n,t,s),e.elementType=Uu,e.lanes=o,e;case zu:return e=tn(19,n,t,s),e.elementType=zu,e.lanes=o,e;case Gg:return oc(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vg:a=10;break e;case Hg:a=9;break e;case wf:a=11;break e;case bf:a=14;break e;case Cr:a=16,r=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=tn(a,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Cs(e,t,n,r){return e=tn(7,e,r,t),e.lanes=n,e}function oc(e,t,n,r){return e=tn(22,e,r,t),e.elementType=Gg,e.lanes=n,e.stateNode={isHidden:!1},e}function mu(e,t,n){return e=tn(6,e,null,t),e.lanes=n,e}function pu(e,t,n){return t=tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ej(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qc(0),this.expirationTimes=Qc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nh(e,t,n,r,s,o,a,l,c){return e=new Ej(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=tn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Df(o),e}function Pj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $y(e){if(!e)return Zr;e=e._reactInternals;e:{if(Ls(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(Dt(n))return $v(e,n,t)}return t}function Ly(e,t,n,r,s,o,a,l,c){return e=nh(n,r,!0,e,s,o,a,l,c),e.context=$y(null),n=e.current,r=kt(),s=Gr(n),o=ir(r,s),o.callback=t??null,Vr(n,o,s),e.current.lanes=s,ra(e,s,r),Ft(e,r),e}function ic(e,t,n,r){var s=t.current,o=kt(),a=Gr(s);return n=$y(n),t.context===null?t.context=n:t.pendingContext=n,t=ir(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vr(s,t,a),e!==null&&(Tn(e,s,a,o),Xa(e,s,a)),a}function Ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function np(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rh(e,t){np(e,t),(e=e.alternate)&&np(e,t)}function Aj(){return null}var Dy=typeof reportError=="function"?reportError:function(e){console.error(e)};function sh(e){this._internalRoot=e}ac.prototype.render=sh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));ic(e,t,null,null)};ac.prototype.unmount=sh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rs(function(){ic(null,e,null,null)}),t[cr]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=gv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Er.length&&t!==0&&t<Er[n].priority;n++);Er.splice(n,0,e),n===0&&yv(e)}};function oh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rp(){}function Rj(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Ml(a);o.call(u)}}var a=Ly(t,r,e,0,null,!1,!1,"",rp);return e._reactRootContainer=a,e[cr]=a.current,Di(e.nodeType===8?e.parentNode:e),Rs(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Ml(c);l.call(u)}}var c=nh(e,0,!1,null,null,!1,!1,"",rp);return e._reactRootContainer=c,e[cr]=c.current,Di(e.nodeType===8?e.parentNode:e),Rs(function(){ic(t,c,n,r)}),c}function cc(e,t,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=Ml(a);l.call(c)}}ic(t,a,e,s)}else a=Rj(n,t,e,s,r);return Ml(a)}mv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mi(t.pendingLanes);n!==0&&(Nf(t,n|1),Ft(t,at()),!(Pe&6)&&(Bo=at()+500,os()))}break;case 13:Rs(function(){var r=ur(e,1);if(r!==null){var s=kt();Tn(r,e,1,s)}}),rh(e,1)}};_f=function(e){if(e.tag===13){var t=ur(e,134217728);if(t!==null){var n=kt();Tn(t,e,134217728,n)}rh(e,134217728)}};pv=function(e){if(e.tag===13){var t=Gr(e),n=ur(e,t);if(n!==null){var r=kt();Tn(n,e,t,r)}rh(e,t)}};gv=function(){return Be};vv=function(e,t){var n=Be;try{return Be=e,t()}finally{Be=n}};Xu=function(e,t,n){switch(t){case"input":if(Hu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Zl(r);if(!s)throw Error(X(90));qg(r),Hu(r,s)}}}break;case"textarea":Yg(e,n);break;case"select":t=n.value,t!=null&&fo(e,!!n.multiple,t,!1)}};rv=Xf;sv=Rs;var Oj={usingClientEntryPoint:!1,Events:[oa,so,Zl,tv,nv,Xf]},li={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ij={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=av(e),e===null?null:e.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||Aj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ia.isDisabled&&Ia.supportsFiber)try{Ql=Ia.inject(Ij),Wn=Ia}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oj;qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oh(t))throw Error(X(200));return Pj(e,t,null,n)};qt.createRoot=function(e,t){if(!oh(e))throw Error(X(299));var n=!1,r="",s=Dy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=nh(e,1,!1,null,null,n,!1,r,s),e[cr]=t.current,Di(e.nodeType===8?e.parentNode:e),new sh(t)};qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=av(t),e=e===null?null:e.stateNode,e};qt.flushSync=function(e){return Rs(e)};qt.hydrate=function(e,t,n){if(!lc(t))throw Error(X(200));return cc(null,e,t,!0,n)};qt.hydrateRoot=function(e,t,n){if(!oh(e))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=Dy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Ly(t,null,e,1,n??null,s,!1,o,a),e[cr]=t.current,Di(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ac(t)};qt.render=function(e,t,n){if(!lc(t))throw Error(X(200));return cc(null,e,t,!1,n)};qt.unmountComponentAtNode=function(e){if(!lc(e))throw Error(X(40));return e._reactRootContainer?(Rs(function(){cc(null,null,e,!1,function(){e._reactRootContainer=null,e[cr]=null})}),!0):!1};qt.unstable_batchedUpdates=Xf;qt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!lc(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return cc(e,t,n,!1,r)};qt.version="18.3.1-next-f1338f8080-20240426";function Fy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fy)}catch(e){console.error(e)}}Fy(),Fg.exports=qt;var Ds=Fg.exports;const Uy=kg(Ds);var zy,sp=Ds;zy=sp.createRoot,sp.hydrateRoot;const Mj=1,Bj=1e6;let gu=0;function $j(){return gu=(gu+1)%Number.MAX_SAFE_INTEGER,gu.toString()}const vu=new Map,op=e=>{if(vu.has(e))return;const t=setTimeout(()=>{vu.delete(e),ki({type:"REMOVE_TOAST",toastId:e})},Bj);vu.set(e,t)},Lj=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Mj)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?op(n):e.toasts.forEach(r=>{op(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},ol=[];let il={toasts:[]};function ki(e){il=Lj(il,e),ol.forEach(t=>{t(il)})}function ae({...e}){const t=$j(),n=s=>ki({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>ki({type:"DISMISS_TOAST",toastId:t});return ki({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Dj(){const[e,t]=p.useState(il);return p.useEffect(()=>(ol.push(t),()=>{const n=ol.indexOf(t);n>-1&&ol.splice(n,1)}),[e]),{...e,toast:ae,dismiss:n=>ki({type:"DISMISS_TOAST",toastId:n})}}function le(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function ip(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Wy(...e){return t=>{let n=!1;const r=e.map(s=>{const o=ip(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():ip(e[s],null)}}}}function $e(...e){return p.useCallback(Wy(...e),e)}function Fj(e,t){const n=p.createContext(t),r=o=>{const{children:a,...l}=o,c=p.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(o){const a=p.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Kn(e,t=[]){let n=[];function r(o,a){const l=p.createContext(a),c=n.length;n=[...n,a];const u=f=>{var w;const{scope:h,children:m,...g}=f,v=((w=h==null?void 0:h[e])==null?void 0:w[c])||l,x=p.useMemo(()=>g,Object.values(g));return i.jsx(v.Provider,{value:x,children:m})};u.displayName=o+"Provider";function d(f,h){var v;const m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,g=p.useContext(m);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Uj(s,...t)]}function Uj(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function $o(e){const t=Wj(e),n=p.forwardRef((r,s)=>{const{children:o,...a}=r,l=p.Children.toArray(o),c=l.find(Hj);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...a,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return i.jsx(t,{...a,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var zj=$o("Slot");function Wj(e){const t=p.forwardRef((n,r)=>{const{children:s,...o}=n;if(p.isValidElement(s)){const a=Kj(s),l=Gj(o,s.props);return s.type!==p.Fragment&&(l.ref=r?Wy(r,a):a),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vy=Symbol("radix.slottable");function Vj(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Vy,t}function Hj(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vy}function Gj(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Kj(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ih(e){const t=e+"CollectionProvider",[n,r]=Kn(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:x,children:w}=v,y=J.useRef(null),b=J.useRef(new Map).current;return i.jsx(s,{scope:x,itemMap:b,collectionRef:y,children:w})};a.displayName=t;const l=e+"CollectionSlot",c=$o(l),u=J.forwardRef((v,x)=>{const{scope:w,children:y}=v,b=o(l,w),S=$e(x,b.collectionRef);return i.jsx(c,{ref:S,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=$o(d),m=J.forwardRef((v,x)=>{const{scope:w,children:y,...b}=v,S=J.useRef(null),j=$e(x,S),N=o(d,w);return J.useEffect(()=>(N.itemMap.set(S,{ref:S,...b}),()=>void N.itemMap.delete(S))),i.jsx(h,{[f]:"",ref:j,children:y})});m.displayName=d;function g(v){const x=o(e+"CollectionConsumer",v);return J.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((N,_)=>b.indexOf(N.ref.current)-b.indexOf(_.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},g,r]}var qj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fe=qj.reduce((e,t)=>{const n=$o(`Primitive.${t}`),r=p.forwardRef((s,o)=>{const{asChild:a,...l}=s,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Hy(e,t){e&&Ds.flushSync(()=>e.dispatchEvent(t))}function ln(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Qj(e,t=globalThis==null?void 0:globalThis.document){const n=ln(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Yj="DismissableLayer",Ad="dismissableLayer.update",Jj="dismissableLayer.pointerDownOutside",Xj="dismissableLayer.focusOutside",ap,Gy=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),aa=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=e,u=p.useContext(Gy),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),g=$e(t,_=>f(_)),v=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(x),y=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=w,j=eN(_=>{const O=_.target,L=[...u.branches].some(M=>M.contains(O));!S||L||(s==null||s(_),a==null||a(_),_.defaultPrevented||l==null||l())},h),N=tN(_=>{const O=_.target;[...u.branches].some(M=>M.contains(O))||(o==null||o(_),a==null||a(_),_.defaultPrevented||l==null||l())},h);return Qj(_=>{y===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ap=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),lp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ap)}},[d,h,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),lp())},[d,u]),p.useEffect(()=>{const _=()=>m({});return document.addEventListener(Ad,_),()=>document.removeEventListener(Ad,_)},[]),i.jsx(fe.div,{...c,ref:g,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:le(e.onFocusCapture,N.onFocusCapture),onBlurCapture:le(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:le(e.onPointerDownCapture,j.onPointerDownCapture)})});aa.displayName=Yj;var Zj="DismissableLayerBranch",Ky=p.forwardRef((e,t)=>{const n=p.useContext(Gy),r=p.useRef(null),s=$e(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(fe.div,{...e,ref:s})});Ky.displayName=Zj;function eN(e,t=globalThis==null?void 0:globalThis.document){const n=ln(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){qy(Jj,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function tN(e,t=globalThis==null?void 0:globalThis.document){const n=ln(e),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&qy(Xj,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lp(){const e=new CustomEvent(Ad);document.dispatchEvent(e)}function qy(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Hy(s,o):s.dispatchEvent(o)}var nN=aa,rN=Ky,mt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},sN="Portal",uc=p.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=p.useState(!1);mt(()=>o(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Uy.createPortal(i.jsx(fe.div,{...r,ref:t}),a):null});uc.displayName=sN;function oN(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var pr=e=>{const{present:t,children:n}=e,r=iN(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=$e(r.ref,aN(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};pr.displayName="Presence";function iN(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),o=p.useRef("none"),a=e?"mounted":"unmounted",[l,c]=oN(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Ma(r.current);o.current=l==="mounted"?u:"none"},[l]),mt(()=>{const u=r.current,d=s.current;if(d!==e){const h=o.current,m=Ma(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),mt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const v=Ma(r.current).includes(m.animationName);if(m.target===t&&v&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=m=>{m.target===t&&(o.current=Ma(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Ma(e){return(e==null?void 0:e.animationName)||"none"}function aN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var lN=pf[" useInsertionEffect ".trim().toString()]||mt;function es({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,a]=cN({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=p.useCallback(d=>{var f;if(l){const h=uN(d)?d(e):d;h!==e&&((f=a.current)==null||f.call(a,h))}else o(d)},[l,e,o,a]);return[c,u]}function cN({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),o=p.useRef(t);return lN(()=>{o.current=t},[t]),p.useEffect(()=>{var a;s.current!==n&&((a=o.current)==null||a.call(o,n),s.current=n)},[n,s]),[n,r,o]}function uN(e){return typeof e=="function"}var Qy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),dN="VisuallyHidden",dc=p.forwardRef((e,t)=>i.jsx(fe.span,{...e,ref:t,style:{...Qy,...e.style}}));dc.displayName=dN;var fN=dc,ah="ToastProvider",[lh,hN,mN]=ih("Toast"),[Yy,wO]=Kn("Toast",[mN]),[pN,fc]=Yy(ah),Jy=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:a}=e,[l,c]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ah}\`. Expected non-empty \`string\`.`),i.jsx(lh.Provider,{scope:t,children:i.jsx(pN,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};Jy.displayName=ah;var Xy="ToastViewport",gN=["F8"],Rd="toast.viewportPause",Od="toast.viewportResume",Zy=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=gN,label:s="Notifications ({hotkey})",...o}=e,a=fc(Xy,n),l=hN(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=$e(t,f,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;p.useEffect(()=>{const x=w=>{var b;r.length!==0&&r.every(S=>w[S]||w.code===S)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),p.useEffect(()=>{const x=c.current,w=f.current;if(g&&x&&w){const y=()=>{if(!a.isClosePausedRef.current){const N=new CustomEvent(Rd);w.dispatchEvent(N),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const N=new CustomEvent(Od);w.dispatchEvent(N),a.isClosePausedRef.current=!1}},S=N=>{!x.contains(N.relatedTarget)&&b()},j=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",y),x.addEventListener("focusout",S),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",j),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",j),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[g,a.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:x})=>{const y=l().map(b=>{const S=b.ref.current,j=[S,...EN(S)];return x==="forwards"?j:j.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return p.useEffect(()=>{const x=f.current;if(x){const w=y=>{var j,N,_;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const O=document.activeElement,L=y.shiftKey;if(y.target===x&&L){(j=u.current)==null||j.focus();return}const H=v({tabbingDirection:L?"backwards":"forwards"}),V=H.findIndex(T=>T===O);yu(H.slice(V+1))?y.preventDefault():L?(N=u.current)==null||N.focus():(_=d.current)==null||_.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[l,v]),i.jsxs(rN,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&i.jsx(Id,{ref:u,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});yu(x)}}),i.jsx(lh.Slot,{scope:n,children:i.jsx(fe.ol,{tabIndex:-1,...o,ref:h})}),g&&i.jsx(Id,{ref:d,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});yu(x)}})]})});Zy.displayName=Xy;var e0="ToastFocusProxy",Id=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=fc(e0,n);return i.jsx(dc,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});Id.displayName=e0;var la="Toast",vN="toast.swipeStart",yN="toast.swipeMove",xN="toast.swipeCancel",wN="toast.swipeEnd",t0=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...a}=e,[l,c]=es({prop:r,defaultProp:s??!0,onChange:o,caller:la});return i.jsx(pr,{present:n||l,children:i.jsx(jN,{open:l,...a,ref:t,onClose:()=>c(!1),onPause:ln(e.onPause),onResume:ln(e.onResume),onSwipeStart:le(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:le(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:le(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:le(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});t0.displayName=la;var[bN,SN]=Yy(la,{onClose(){}}),jN=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...g}=e,v=fc(la,n),[x,w]=p.useState(null),y=$e(t,T=>w(T)),b=p.useRef(null),S=p.useRef(null),j=s||v.duration,N=p.useRef(0),_=p.useRef(j),O=p.useRef(0),{onToastAdd:L,onToastRemove:M}=v,Y=ln(()=>{var P;(x==null?void 0:x.contains(document.activeElement))&&((P=v.viewport)==null||P.focus()),a()}),H=p.useCallback(T=>{!T||T===1/0||(window.clearTimeout(O.current),N.current=new Date().getTime(),O.current=window.setTimeout(Y,T))},[Y]);p.useEffect(()=>{const T=v.viewport;if(T){const P=()=>{H(_.current),u==null||u()},R=()=>{const E=new Date().getTime()-N.current;_.current=_.current-E,window.clearTimeout(O.current),c==null||c()};return T.addEventListener(Rd,R),T.addEventListener(Od,P),()=>{T.removeEventListener(Rd,R),T.removeEventListener(Od,P)}}},[v.viewport,j,c,u,H]),p.useEffect(()=>{o&&!v.isClosePausedRef.current&&H(j)},[o,j,v.isClosePausedRef,H]),p.useEffect(()=>(L(),()=>M()),[L,M]);const V=p.useMemo(()=>x?l0(x):null,[x]);return v.viewport?i.jsxs(i.Fragment,{children:[V&&i.jsx(NN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),i.jsx(bN,{scope:n,onClose:Y,children:Ds.createPortal(i.jsx(lh.ItemSlot,{scope:n,children:i.jsx(nN,{asChild:!0,onEscapeKeyDown:le(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||Y(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:le(e.onKeyDown,T=>{T.key==="Escape"&&(l==null||l(T.nativeEvent),T.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,Y()))}),onPointerDown:le(e.onPointerDown,T=>{T.button===0&&(b.current={x:T.clientX,y:T.clientY})}),onPointerMove:le(e.onPointerMove,T=>{if(!b.current)return;const P=T.clientX-b.current.x,R=T.clientY-b.current.y,E=!!S.current,k=["left","right"].includes(v.swipeDirection),A=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,D=k?A(0,P):0,F=k?0:A(0,R),Q=T.pointerType==="touch"?10:2,Z={x:D,y:F},q={originalEvent:T,delta:Z};E?(S.current=Z,Ba(yN,f,q,{discrete:!1})):cp(Z,v.swipeDirection,Q)?(S.current=Z,Ba(vN,d,q,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(P)>Q||Math.abs(R)>Q)&&(b.current=null)}),onPointerUp:le(e.onPointerUp,T=>{const P=S.current,R=T.target;if(R.hasPointerCapture(T.pointerId)&&R.releasePointerCapture(T.pointerId),S.current=null,b.current=null,P){const E=T.currentTarget,k={originalEvent:T,delta:P};cp(P,v.swipeDirection,v.swipeThreshold)?Ba(wN,m,k,{discrete:!0}):Ba(xN,h,k,{discrete:!0}),E.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),NN=e=>{const{__scopeToast:t,children:n,...r}=e,s=fc(la,t),[o,a]=p.useState(!1),[l,c]=p.useState(!1);return TN(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(uc,{asChild:!0,children:i.jsx(dc,{...r,children:o&&i.jsxs(i.Fragment,{children:[s.label," ",n]})})})},_N="ToastTitle",n0=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(fe.div,{...r,ref:t})});n0.displayName=_N;var CN="ToastDescription",r0=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(fe.div,{...r,ref:t})});r0.displayName=CN;var s0="ToastAction",o0=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(a0,{altText:n,asChild:!0,children:i.jsx(ch,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${s0}\`. Expected non-empty \`string\`.`),null)});o0.displayName=s0;var i0="ToastClose",ch=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=SN(i0,n);return i.jsx(a0,{asChild:!0,children:i.jsx(fe.button,{type:"button",...r,ref:t,onClick:le(e.onClick,s.onClose)})})});ch.displayName=i0;var a0=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return i.jsx(fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function l0(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),kN(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...l0(r))}}),t}function Ba(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Hy(s,o):s.dispatchEvent(o)}var cp=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function TN(e=()=>{}){const t=ln(e);mt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function kN(e){return e.nodeType===e.ELEMENT_NODE}function EN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yu(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var PN=Jy,c0=Zy,u0=t0,d0=n0,f0=r0,h0=o0,m0=ch;function p0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=p0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function g0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=p0(e))&&(r&&(r+=" "),r+=t);return r}const up=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,dp=g0,ca=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return dp(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=up(d)||up(f);return s[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[v,x]=g;return Array.isArray(x)?x.includes({...o,...l}[v]):{...o,...l}[v]===x})?[...u,f,h]:u},[]);return dp(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:a,...l},c)=>p.createElement("svg",{ref:c,...RN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:v0("lucide",s),...l},[...a.map(([u,d])=>p.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const n=p.forwardRef(({className:r,...s},o)=>p.createElement(ON,{ref:o,iconNode:t,className:v0(`lucide-${AN(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Ae("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=Ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=Ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=Ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=Ae("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=Ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=Ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=Ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=Ae("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=Ae("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=Ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=Ae("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=Ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=Ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=Ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=Ae("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=Ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=Ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=Ae("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mh="-",qN=e=>{const t=YN(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(mh);return l[0]===""&&l.length!==1&&l.shift(),j0(l,t)||QN(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},j0=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?j0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(mh);return(a=t.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},hp=/^\[(.+)\]$/,QN=e=>{if(hp.test(e)){const t=hp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},YN=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return XN(Object.entries(e.classGroups),n).forEach(([o,a])=>{Bd(a,r,o,t)}),r},Bd=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:mp(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(JN(s)){Bd(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,a])=>{Bd(a,mp(t,o),n,r)})})},mp=(e,t)=>{let n=e;return t.split(mh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},JN=e=>e.isThemeGetter,XN=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,l])=>[t+a,l])):o);return[n,s]}):e,ZN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set(o,a){n.has(o)?n.set(o,a):s(o,a)}}},N0="!",e_=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,a=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let w=l[x];if(u===0){if(w===s&&(r||l.slice(x,x+o)===t)){c.push(l.slice(d,x)),d=x+o;continue}if(w==="/"){f=x;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(N0),g=m?h.substring(1):h,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:a}):a},t_=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},n_=e=>({cache:ZN(e.cacheSize),parseClassName:e_(e),...qN(e)}),r_=/\s+/,s_=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],a=e.trim().split(r_);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let g=!!m,v=r(g?h.substring(0,m):h);if(!v){if(!g){l=u+(l.length>0?" "+l:l);continue}if(v=r(h),!v){l=u+(l.length>0?" "+l:l);continue}g=!1}const x=t_(d).join(":"),w=f?x+N0:x,y=w+v;if(o.includes(y))continue;o.push(y);const b=s(v,g);for(let S=0;S<b.length;++S){const j=b[S];o.push(w+j)}l=u+(l.length>0?" "+l:l)}return l};function o_(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=_0(t))&&(r&&(r+=" "),r+=n);return r}const _0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=_0(e[r]))&&(n&&(n+=" "),n+=t);return n};function i_(e,...t){let n,r,s,o=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return n=n_(u),r=n.cache.get,s=n.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=s_(c,n);return s(c,d),d}return function(){return o(o_.apply(null,arguments))}}const Ve=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},C0=/^\[(?:([a-z-]+):)?(.+)\]$/i,a_=/^\d+\/\d+$/,l_=new Set(["px","full","screen"]),c_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,u_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,d_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,f_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qn=e=>yo(e)||l_.has(e)||a_.test(e),wr=e=>Ko(e,"length",b_),yo=e=>!!e&&!Number.isNaN(Number(e)),xu=e=>Ko(e,"number",yo),ci=e=>!!e&&Number.isInteger(Number(e)),m_=e=>e.endsWith("%")&&yo(e.slice(0,-1)),xe=e=>C0.test(e),br=e=>c_.test(e),p_=new Set(["length","size","percentage"]),g_=e=>Ko(e,p_,T0),v_=e=>Ko(e,"position",T0),y_=new Set(["image","url"]),x_=e=>Ko(e,y_,j_),w_=e=>Ko(e,"",S_),ui=()=>!0,Ko=(e,t,n)=>{const r=C0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},b_=e=>u_.test(e)&&!d_.test(e),T0=()=>!1,S_=e=>f_.test(e),j_=e=>h_.test(e),N_=()=>{const e=Ve("colors"),t=Ve("spacing"),n=Ve("blur"),r=Ve("brightness"),s=Ve("borderColor"),o=Ve("borderRadius"),a=Ve("borderSpacing"),l=Ve("borderWidth"),c=Ve("contrast"),u=Ve("grayscale"),d=Ve("hueRotate"),f=Ve("invert"),h=Ve("gap"),m=Ve("gradientColorStops"),g=Ve("gradientColorStopPositions"),v=Ve("inset"),x=Ve("margin"),w=Ve("opacity"),y=Ve("padding"),b=Ve("saturate"),S=Ve("scale"),j=Ve("sepia"),N=Ve("skew"),_=Ve("space"),O=Ve("translate"),L=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",xe,t],H=()=>[xe,t],V=()=>["",Qn,wr],T=()=>["auto",yo,xe],P=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],E=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",xe],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[yo,xe];return{cacheSize:500,separator:":",theme:{colors:[ui],spacing:[Qn,wr],blur:["none","",br,xe],brightness:F(),borderColor:[e],borderRadius:["none","","full",br,xe],borderSpacing:H(),borderWidth:V(),contrast:F(),grayscale:A(),hueRotate:F(),invert:A(),gap:H(),gradientColorStops:[e],gradientColorStopPositions:[m_,wr],inset:Y(),margin:Y(),opacity:F(),padding:H(),saturate:F(),scale:F(),sepia:A(),skew:F(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[br]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...P(),xe]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ci,xe]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",ci,xe]}],"grid-cols":[{"grid-cols":[ui]}],"col-start-end":[{col:["auto",{span:["full",ci,xe]},xe]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[ui]}],"row-start-end":[{row:["auto",{span:[ci,xe]},xe]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xe,t]}],"min-w":[{"min-w":[xe,t,"min","max","fit"]}],"max-w":[{"max-w":[xe,t,"none","full","min","max","fit","prose",{screen:[br]},br]}],h:[{h:[xe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",br,wr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xu]}],"font-family":[{font:[ui]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",yo,xu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qn,xe]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qn,wr]}],"underline-offset":[{"underline-offset":["auto",Qn,xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...P(),v_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",g_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},x_]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:R()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[Qn,xe]}],"outline-w":[{outline:[Qn,wr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Qn,wr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",br,w_]}],"shadow-color":[{shadow:[ui]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...E(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":E()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",br,xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ci,xe]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qn,wr,xu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},__=i_(N_);function de(...e){return __(g0(e))}function al(e,t,n,r,s){const a=(n?Array.from(new Set(n.matches.flatMap(u=>[String(u.teamA),String(u.teamB)]).filter(u=>u!=="BYE"&&u!=="TBD"))):[]).map(u=>e.find(d=>String(d.id)===u)).filter(Boolean),l={};for(const u of a){const d=String(u.id);l[d]||(l[d]={});for(let h=1;h<=s;h++){const m=n==null?void 0:n.matches.find(v=>v.round===h&&(String(v.teamA)===d||String(v.teamB)===d));if(!m){l[d][h]={wl:"",points:0,hands:0,boston:0,isTie:!1};continue}const g=t.find(v=>v.matchId===m.id&&v.confirmed);if(g){const v=String(g.teamA),x=String(g.teamB);if(g.scoreA===g.scoreB){l[v]||(l[v]={}),l[x]||(l[x]={});const O=g.handsA??0,L=g.handsB??0;let M="T",Y="T";O>L?(M="TW",Y="TL"):O<L&&(M="TL",Y="TW"),l[v][h]={wl:M,points:g.scoreA,hands:O,boston:g.boston==="teamA"?1:0,isTie:!0},l[x][h]={wl:Y,points:g.scoreB,hands:L,boston:g.boston==="teamB"?1:0,isTie:!0};continue}const y=d===v,b=y?g.scoreA:g.scoreB,S=y?g.scoreB:g.scoreA,j=y?g.handsA:g.handsB,N=g.boston==="teamA"&&y||g.boston==="teamB"&&!y?1:0,_=b>S?"W":"L";l[d][h]={wl:_,points:b,hands:j??0,boston:N,isTie:!1}}else l[d][h]={wl:"",points:0,hands:0,boston:0,isTie:!1}}let f=0;for(let h=1;h<=s;h++){const m=l[d][h];m&&(m.wl==="TW"||m.wl==="TL"||m.wl==="T"?f+=.5:m.wl==="W"&&(f+=1))}l[d].totalPoints={wl:"",points:Object.entries(l[d]).filter(([h])=>h!=="totalPoints").reduce((h,[,m])=>h+(m.points||0),0),boston:0,hands:Object.entries(l[d]).filter(([h])=>h!=="totalPoints").reduce((h,[,m])=>h+(m.hands||0),0),wins:f}}return{sortedTeams:a.slice().sort((u,d)=>{var _,O,L,M;const f=l[u.id].totalPoints.wins,h=l[d.id].totalPoints.wins;if(h!==f)return h-f;const m=l[u.id].totalPoints.hands||0,g=l[d.id].totalPoints.hands||0;if(g!==m)return g-m;const v=l[u.id].totalPoints.points,x=l[d.id].totalPoints.points;if(x!==v)return x-v;const w=((_=l[u.id][1])==null?void 0:_.points)||0,y=((O=l[d.id][1])==null?void 0:O.points)||0;if(y!==w)return y-w;const b=((L=l[u.id][2])==null?void 0:L.points)||0,S=((M=l[d.id][2])==null?void 0:M.points)||0;if(S!==b)return S-b;const j=typeof u.teamNumber=="number"?u.teamNumber:Number(u.teamNumber)||Number(u.id),N=typeof d.teamNumber=="number"?d.teamNumber:Number(d.teamNumber)||Number(d.id);return j-N}),resultsMatrix:l}}const C_=PN,k0=p.forwardRef(({className:e,...t},n)=>i.jsx(c0,{ref:n,className:de("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));k0.displayName=c0.displayName;const T_=ca("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),E0=p.forwardRef(({className:e,variant:t,...n},r)=>i.jsx(u0,{ref:r,className:de(T_({variant:t}),e),...n}));E0.displayName=u0.displayName;const k_=p.forwardRef(({className:e,...t},n)=>i.jsx(h0,{ref:n,className:de("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));k_.displayName=h0.displayName;const P0=p.forwardRef(({className:e,...t},n)=>i.jsx(m0,{ref:n,className:de("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Lo,{className:"h-4 w-4"})}));P0.displayName=m0.displayName;const A0=p.forwardRef(({className:e,...t},n)=>i.jsx(d0,{ref:n,className:de("text-sm font-semibold",e),...t}));A0.displayName=d0.displayName;const R0=p.forwardRef(({className:e,...t},n)=>i.jsx(f0,{ref:n,className:de("text-sm opacity-90",e),...t}));R0.displayName=f0.displayName;function E_(){const{toasts:e}=Dj();return i.jsxs(C_,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return i.jsxs(E0,{...o,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(A0,{children:n}),r&&i.jsx(R0,{children:r})]}),s,i.jsx(P0,{})]},t)}),i.jsx(k0,{})]})}var P_=e=>{switch(e){case"success":return O_;case"info":return M_;case"warning":return I_;case"error":return B_;default:return null}},A_=Array(12).fill(0),R_=({visible:e,className:t})=>J.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},J.createElement("div",{className:"sonner-spinner"},A_.map((n,r)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),O_=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),I_=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),M_=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),B_=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$_=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),L_=()=>{let[e,t]=J.useState(document.hidden);return J.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},$d=1,D_=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:$d++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,o,a=r.then(async c=>{if(o=["resolve",c],J.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(U_(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>a.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||$d++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},It=new D_,F_=(e,t)=>{let n=(t==null?void 0:t.id)||$d++;return It.addToast({title:e,...t,id:n}),n},U_=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",z_=F_,W_=()=>It.toasts,V_=()=>It.getActiveToasts();Object.assign(z_,{success:It.success,info:It.info,warning:It.warning,error:It.error,custom:It.custom,message:It.message,promise:It.promise,dismiss:It.dismiss,loading:It.loading},{getHistory:W_,getToasts:V_});function H_(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}H_(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function $a(e){return e.label!==void 0}var G_=3,K_="32px",q_="16px",pp=4e3,Q_=356,Y_=14,J_=20,X_=200;function mn(...e){return e.filter(Boolean).join(" ")}function Z_(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var eC=e=>{var t,n,r,s,o,a,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:v,setHeights:x,visibleToasts:w,heights:y,index:b,toasts:S,expanded:j,removeToast:N,defaultRichColors:_,closeButton:O,style:L,cancelButtonStyle:M,actionButtonStyle:Y,className:H="",descriptionClassName:V="",duration:T,position:P,gap:R,loadingIcon:E,expandByDefault:k,classNames:A,icons:D,closeButtonAriaLabel:F="Close toast",pauseWhenPageIsHidden:Q}=e,[Z,q]=J.useState(null),[C,$]=J.useState(null),[I,G]=J.useState(!1),[W,z]=J.useState(!1),[B,U]=J.useState(!1),[ee,te]=J.useState(!1),[ce,_e]=J.useState(!1),[re,ie]=J.useState(0),[he,Oe]=J.useState(0),Ce=J.useRef(m.duration||T||pp),Ee=J.useRef(null),se=J.useRef(null),Ye=b===0,Fe=b+1<=w,we=m.type,Ie=m.dismissible!==!1,Le=m.className||"",st=m.descriptionClassName||"",We=J.useMemo(()=>y.findIndex(ge=>ge.toastId===m.id)||0,[y,m.id]),At=J.useMemo(()=>{var ge;return(ge=m.closeButton)!=null?ge:O},[m.closeButton,O]),ei=J.useMemo(()=>m.duration||T||pp,[m.duration,T]),Me=J.useRef(0),Je=J.useRef(0),ga=J.useRef(0),Rn=J.useRef(null),[cn,oS]=P.split("-"),Kh=J.useMemo(()=>y.reduce((ge,De,qe)=>qe>=We?ge:ge+De.height,0),[y,We]),qh=L_(),iS=m.invert||h,zc=we==="loading";Je.current=J.useMemo(()=>We*R+Kh,[We,Kh]),J.useEffect(()=>{Ce.current=ei},[ei]),J.useEffect(()=>{G(!0)},[]),J.useEffect(()=>{let ge=se.current;if(ge){let De=ge.getBoundingClientRect().height;return Oe(De),x(qe=>[{toastId:m.id,height:De,position:m.position},...qe]),()=>x(qe=>qe.filter(un=>un.toastId!==m.id))}},[x,m.id]),J.useLayoutEffect(()=>{if(!I)return;let ge=se.current,De=ge.style.height;ge.style.height="auto";let qe=ge.getBoundingClientRect().height;ge.style.height=De,Oe(qe),x(un=>un.find(dn=>dn.toastId===m.id)?un.map(dn=>dn.toastId===m.id?{...dn,height:qe}:dn):[{toastId:m.id,height:qe,position:m.position},...un])},[I,m.title,m.description,x,m.id]);let gr=J.useCallback(()=>{z(!0),ie(Je.current),x(ge=>ge.filter(De=>De.toastId!==m.id)),setTimeout(()=>{N(m)},X_)},[m,N,x,Je]);J.useEffect(()=>{if(m.promise&&we==="loading"||m.duration===1/0||m.type==="loading")return;let ge;return j||v||Q&&qh?(()=>{if(ga.current<Me.current){let De=new Date().getTime()-Me.current;Ce.current=Ce.current-De}ga.current=new Date().getTime()})():Ce.current!==1/0&&(Me.current=new Date().getTime(),ge=setTimeout(()=>{var De;(De=m.onAutoClose)==null||De.call(m,m),gr()},Ce.current)),()=>clearTimeout(ge)},[j,v,m,we,Q,qh,gr]),J.useEffect(()=>{m.delete&&gr()},[gr,m.delete]);function aS(){var ge,De,qe;return D!=null&&D.loading?J.createElement("div",{className:mn(A==null?void 0:A.loader,(ge=m==null?void 0:m.classNames)==null?void 0:ge.loader,"sonner-loader"),"data-visible":we==="loading"},D.loading):E?J.createElement("div",{className:mn(A==null?void 0:A.loader,(De=m==null?void 0:m.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":we==="loading"},E):J.createElement(R_,{className:mn(A==null?void 0:A.loader,(qe=m==null?void 0:m.classNames)==null?void 0:qe.loader),visible:we==="loading"})}return J.createElement("li",{tabIndex:0,ref:se,className:mn(H,Le,A==null?void 0:A.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[we],(n=m==null?void 0:m.classNames)==null?void 0:n[we]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:_,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":I,"data-promise":!!m.promise,"data-swiped":ce,"data-removed":W,"data-visible":Fe,"data-y-position":cn,"data-x-position":oS,"data-index":b,"data-front":Ye,"data-swiping":B,"data-dismissible":Ie,"data-type":we,"data-invert":iS,"data-swipe-out":ee,"data-swipe-direction":C,"data-expanded":!!(j||k&&I),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${W?re:Je.current}px`,"--initial-height":k?"auto":`${he}px`,...L,...m.style},onDragEnd:()=>{U(!1),q(null),Rn.current=null},onPointerDown:ge=>{zc||!Ie||(Ee.current=new Date,ie(Je.current),ge.target.setPointerCapture(ge.pointerId),ge.target.tagName!=="BUTTON"&&(U(!0),Rn.current={x:ge.clientX,y:ge.clientY}))},onPointerUp:()=>{var ge,De,qe,un;if(ee||!Ie)return;Rn.current=null;let dn=Number(((ge=se.current)==null?void 0:ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),vr=Number(((De=se.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),cs=new Date().getTime()-((qe=Ee.current)==null?void 0:qe.getTime()),fn=Z==="x"?dn:vr,yr=Math.abs(fn)/cs;if(Math.abs(fn)>=J_||yr>.11){ie(Je.current),(un=m.onDismiss)==null||un.call(m,m),$(Z==="x"?dn>0?"right":"left":vr>0?"down":"up"),gr(),te(!0),_e(!1);return}U(!1),q(null)},onPointerMove:ge=>{var De,qe,un,dn;if(!Rn.current||!Ie||((De=window.getSelection())==null?void 0:De.toString().length)>0)return;let vr=ge.clientY-Rn.current.y,cs=ge.clientX-Rn.current.x,fn=(qe=e.swipeDirections)!=null?qe:Z_(P);!Z&&(Math.abs(cs)>1||Math.abs(vr)>1)&&q(Math.abs(cs)>Math.abs(vr)?"x":"y");let yr={x:0,y:0};Z==="y"?(fn.includes("top")||fn.includes("bottom"))&&(fn.includes("top")&&vr<0||fn.includes("bottom")&&vr>0)&&(yr.y=vr):Z==="x"&&(fn.includes("left")||fn.includes("right"))&&(fn.includes("left")&&cs<0||fn.includes("right")&&cs>0)&&(yr.x=cs),(Math.abs(yr.x)>0||Math.abs(yr.y)>0)&&_e(!0),(un=se.current)==null||un.style.setProperty("--swipe-amount-x",`${yr.x}px`),(dn=se.current)==null||dn.style.setProperty("--swipe-amount-y",`${yr.y}px`)}},At&&!m.jsx?J.createElement("button",{"aria-label":F,"data-disabled":zc,"data-close-button":!0,onClick:zc||!Ie?()=>{}:()=>{var ge;gr(),(ge=m.onDismiss)==null||ge.call(m,m)},className:mn(A==null?void 0:A.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(o=D==null?void 0:D.close)!=null?o:$_):null,m.jsx||p.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:J.createElement(J.Fragment,null,we||m.icon||m.promise?J.createElement("div",{"data-icon":"",className:mn(A==null?void 0:A.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||aS():null,m.type!=="loading"?m.icon||(D==null?void 0:D[we])||P_(we):null):null,J.createElement("div",{"data-content":"",className:mn(A==null?void 0:A.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},J.createElement("div",{"data-title":"",className:mn(A==null?void 0:A.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?J.createElement("div",{"data-description":"",className:mn(V,st,A==null?void 0:A.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),p.isValidElement(m.cancel)?m.cancel:m.cancel&&$a(m.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||M,onClick:ge=>{var De,qe;$a(m.cancel)&&Ie&&((qe=(De=m.cancel).onClick)==null||qe.call(De,ge),gr())},className:mn(A==null?void 0:A.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,p.isValidElement(m.action)?m.action:m.action&&$a(m.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||Y,onClick:ge=>{var De,qe;$a(m.action)&&((qe=(De=m.action).onClick)==null||qe.call(De,ge),!ge.defaultPrevented&&gr())},className:mn(A==null?void 0:A.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function gp(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function tC(e,t){let n={};return[e,t].forEach((r,s)=>{let o=s===1,a=o?"--mobile-offset":"--offset",l=o?q_:K_;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var nC=p.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=G_,toastOptions:v,dir:x=gp(),gap:w=Y_,loadingIcon:y,icons:b,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:j}=e,[N,_]=J.useState([]),O=J.useMemo(()=>Array.from(new Set([r].concat(N.filter(Q=>Q.position).map(Q=>Q.position)))),[N,r]),[L,M]=J.useState([]),[Y,H]=J.useState(!1),[V,T]=J.useState(!1),[P,R]=J.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),E=J.useRef(null),k=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=J.useRef(null),D=J.useRef(!1),F=J.useCallback(Q=>{_(Z=>{var q;return(q=Z.find(C=>C.id===Q.id))!=null&&q.delete||It.dismiss(Q.id),Z.filter(({id:C})=>C!==Q.id)})},[]);return J.useEffect(()=>It.subscribe(Q=>{if(Q.dismiss){_(Z=>Z.map(q=>q.id===Q.id?{...q,delete:!0}:q));return}setTimeout(()=>{Uy.flushSync(()=>{_(Z=>{let q=Z.findIndex(C=>C.id===Q.id);return q!==-1?[...Z.slice(0,q),{...Z[q],...Q},...Z.slice(q+1)]:[Q,...Z]})})})}),[]),J.useEffect(()=>{if(d!=="system"){R(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:Z})=>{R(Z?"dark":"light")})}catch{Q.addListener(({matches:q})=>{try{R(q?"dark":"light")}catch(C){console.error(C)}})}},[d]),J.useEffect(()=>{N.length<=1&&H(!1)},[N]),J.useEffect(()=>{let Q=Z=>{var q,C;s.every($=>Z[$]||Z.code===$)&&(H(!0),(q=E.current)==null||q.focus()),Z.code==="Escape"&&(document.activeElement===E.current||(C=E.current)!=null&&C.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[s]),J.useEffect(()=>{if(E.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,D.current=!1)}},[E.current]),J.createElement("section",{ref:t,"aria-label":`${S} ${k}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((Q,Z)=>{var q;let[C,$]=Q.split("-");return N.length?J.createElement("ol",{key:Q,dir:x==="auto"?gp():x,tabIndex:-1,ref:E,className:l,"data-sonner-toaster":!0,"data-theme":P,"data-y-position":C,"data-lifted":Y&&N.length>1&&!o,"data-x-position":$,style:{"--front-toast-height":`${((q=L[0])==null?void 0:q.height)||0}px`,"--width":`${Q_}px`,"--gap":`${w}px`,...m,...tC(c,u)},onBlur:I=>{D.current&&!I.currentTarget.contains(I.relatedTarget)&&(D.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||D.current||(D.current=!0,A.current=I.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{V||H(!1)},onDragEnd:()=>H(!1),onPointerDown:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},N.filter(I=>!I.position&&Z===0||I.position===Q).map((I,G)=>{var W,z;return J.createElement(eC,{key:I.id,icons:b,index:G,toast:I,defaultRichColors:f,duration:(W=v==null?void 0:v.duration)!=null?W:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:g,closeButton:(z=v==null?void 0:v.closeButton)!=null?z:a,interacting:V,position:Q,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:F,toasts:N.filter(B=>B.position==I.position),heights:L.filter(B=>B.position==I.position),setHeights:M,expandByDefault:o,gap:w,loadingIcon:y,expanded:Y,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const O0=p.createContext(null);function rC({children:e,defaultTheme:t="system",value:n,...r}){const[s,o]=p.useState(()=>{if(typeof window<"u"){const l=localStorage.getItem("theme");return l&&(l==="dark"||l==="light"||l==="system")?l:t}return t});p.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(s)},[s]);const a={theme:s,setTheme:l=>{localStorage.setItem("theme",l),o(l)}};return i.jsx(O0.Provider,{value:a,...r,children:e})}const sC=()=>{const e=p.useContext(O0);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},oC=({...e})=>{const{theme:t}=sC();return i.jsx(nC,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var iC=pf[" useId ".trim().toString()]||(()=>{}),aC=0;function ar(e){const[t,n]=p.useState(iC());return mt(()=>{n(r=>r??String(aC++))},[e]),t?`radix-${t}`:""}const lC=["top","right","bottom","left"],ts=Math.min,Wt=Math.max,$l=Math.round,La=Math.floor,Hn=e=>({x:e,y:e}),cC={left:"right",right:"left",bottom:"top",top:"bottom"},uC={start:"end",end:"start"};function Ld(e,t,n){return Wt(e,ts(t,n))}function fr(e,t){return typeof e=="function"?e(t):e}function hr(e){return e.split("-")[0]}function qo(e){return e.split("-")[1]}function ph(e){return e==="x"?"y":"x"}function gh(e){return e==="y"?"height":"width"}const dC=new Set(["top","bottom"]);function Fn(e){return dC.has(hr(e))?"y":"x"}function vh(e){return ph(Fn(e))}function fC(e,t,n){n===void 0&&(n=!1);const r=qo(e),s=vh(e),o=gh(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Ll(a)),[a,Ll(a)]}function hC(e){const t=Ll(e);return[Dd(e),t,Dd(t)]}function Dd(e){return e.replace(/start|end/g,t=>uC[t])}const vp=["left","right"],yp=["right","left"],mC=["top","bottom"],pC=["bottom","top"];function gC(e,t,n){switch(e){case"top":case"bottom":return n?t?yp:vp:t?vp:yp;case"left":case"right":return t?mC:pC;default:return[]}}function vC(e,t,n,r){const s=qo(e);let o=gC(hr(e),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(Dd)))),o}function Ll(e){return e.replace(/left|right|bottom|top/g,t=>cC[t])}function yC(e){return{top:0,right:0,bottom:0,left:0,...e}}function I0(e){return typeof e!="number"?yC(e):{top:e,right:e,bottom:e,left:e}}function Dl(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function xp(e,t,n){let{reference:r,floating:s}=e;const o=Fn(t),a=vh(t),l=gh(a),c=hr(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(qo(t)){case"start":m[a]-=h*(n&&u?-1:1);break;case"end":m[a]+=h*(n&&u?-1:1);break}return m}const xC=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=xp(u,r,c),h=r,m={},g=0;for(let v=0;v<l.length;v++){const{name:x,fn:w}=l[v],{x:y,y:b,data:S,reset:j}=await w({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});d=y??d,f=b??f,m={...m,[x]:{...m[x],...S}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:f}=xp(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Qi(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=fr(t,e),g=I0(m),x=l[h?f==="floating"?"reference":"floating":f],w=Dl(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),S=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},j=Dl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(w.top-j.top+g.top)/S.y,bottom:(j.bottom-w.bottom+g.bottom)/S.y,left:(w.left-j.left+g.left)/S.x,right:(j.right-w.right+g.right)/S.x}}const wC=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=fr(e,t)||{};if(u==null)return{};const f=I0(d),h={x:n,y:r},m=vh(s),g=gh(m),v=await a.getDimensions(u),x=m==="y",w=x?"top":"left",y=x?"bottom":"right",b=x?"clientHeight":"clientWidth",S=o.reference[g]+o.reference[m]-h[m]-o.floating[g],j=h[m]-o.reference[m],N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let _=N?N[b]:0;(!_||!await(a.isElement==null?void 0:a.isElement(N)))&&(_=l.floating[b]||o.floating[g]);const O=S/2-j/2,L=_/2-v[g]/2-1,M=ts(f[w],L),Y=ts(f[y],L),H=M,V=_-v[g]-Y,T=_/2-v[g]/2+O,P=Ld(H,T,V),R=!c.arrow&&qo(s)!=null&&T!==P&&o.reference[g]/2-(T<H?M:Y)-v[g]/2<0,E=R?T<H?T-H:T-V:0;return{[m]:h[m]+E,data:{[m]:P,centerOffset:T-P-E,...R&&{alignmentOffset:E}},reset:R}}}),bC=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...x}=fr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=hr(s),y=Fn(l),b=hr(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(b||!v?[Ll(l)]:hC(l)),N=g!=="none";!h&&N&&j.push(...vC(l,v,g,S));const _=[l,...j],O=await Qi(t,x),L=[];let M=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&L.push(O[w]),f){const T=fC(s,a,S);L.push(O[T[0]],O[T[1]])}if(M=[...M,{placement:s,overflows:L}],!L.every(T=>T<=0)){var Y,H;const T=(((Y=o.flip)==null?void 0:Y.index)||0)+1,P=_[T];if(P&&(!(f==="alignment"?y!==Fn(P):!1)||M.every(k=>k.overflows[0]>0&&Fn(k.placement)===y)))return{data:{index:T,overflows:M},reset:{placement:P}};let R=(H=M.filter(E=>E.overflows[0]<=0).sort((E,k)=>E.overflows[1]-k.overflows[1])[0])==null?void 0:H.placement;if(!R)switch(m){case"bestFit":{var V;const E=(V=M.filter(k=>{if(N){const A=Fn(k.placement);return A===y||A==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(A=>A>0).reduce((A,D)=>A+D,0)]).sort((k,A)=>k[1]-A[1])[0])==null?void 0:V[0];E&&(R=E);break}case"initialPlacement":R=l;break}if(s!==R)return{reset:{placement:R}}}return{}}}};function wp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function bp(e){return lC.some(t=>e[t]>=0)}const SC=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=fr(e,t);switch(r){case"referenceHidden":{const o=await Qi(t,{...s,elementContext:"reference"}),a=wp(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:bp(a)}}}case"escaped":{const o=await Qi(t,{...s,altBoundary:!0}),a=wp(o,n.floating);return{data:{escapedOffsets:a,escaped:bp(a)}}}default:return{}}}}},M0=new Set(["left","top"]);async function jC(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=hr(n),l=qo(n),c=Fn(n)==="y",u=M0.has(a)?-1:1,d=o&&c?-1:1,f=fr(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const NC=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:a,middlewareData:l}=t,c=await jC(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},_C=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:w,y}=x;return{x:w,y}}},...c}=fr(e,t),u={x:n,y:r},d=await Qi(t,c),f=Fn(hr(s)),h=ph(f);let m=u[h],g=u[f];if(o){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=m+d[x],b=m-d[w];m=Ld(y,m,b)}if(a){const x=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=g+d[x],b=g-d[w];g=Ld(y,g,b)}const v=l.fn({...t,[h]:m,[f]:g});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:o,[f]:a}}}}}},CC=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=fr(e,t),d={x:n,y:r},f=Fn(s),h=ph(f);let m=d[h],g=d[f];const v=fr(l,t),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=h==="y"?"height":"width",S=o.reference[h]-o.floating[b]+x.mainAxis,j=o.reference[h]+o.reference[b]-x.mainAxis;m<S?m=S:m>j&&(m=j)}if(u){var w,y;const b=h==="y"?"width":"height",S=M0.has(hr(s)),j=o.reference[f]-o.floating[b]+(S&&((w=a.offset)==null?void 0:w[f])||0)+(S?0:x.crossAxis),N=o.reference[f]+o.reference[b]+(S?0:((y=a.offset)==null?void 0:y[f])||0)-(S?x.crossAxis:0);g<j?g=j:g>N&&(g=N)}return{[h]:m,[f]:g}}}},TC=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:a,elements:l}=t,{apply:c=()=>{},...u}=fr(e,t),d=await Qi(t,u),f=hr(s),h=qo(s),m=Fn(s)==="y",{width:g,height:v}=o.floating;let x,w;f==="top"||f==="bottom"?(x=f,w=h===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,x=h==="end"?"top":"bottom");const y=v-d.top-d.bottom,b=g-d.left-d.right,S=ts(v-d[x],y),j=ts(g-d[w],b),N=!t.middlewareData.shift;let _=S,O=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_=y),N&&!h){const M=Wt(d.left,0),Y=Wt(d.right,0),H=Wt(d.top,0),V=Wt(d.bottom,0);m?O=g-2*(M!==0||Y!==0?M+Y:Wt(d.left,d.right)):_=v-2*(H!==0||V!==0?H+V:Wt(d.top,d.bottom))}await c({...t,availableWidth:O,availableHeight:_});const L=await a.getDimensions(l.floating);return g!==L.width||v!==L.height?{reset:{rects:!0}}:{}}}};function vc(){return typeof window<"u"}function Qo(e){return B0(e)?(e.nodeName||"").toLowerCase():"#document"}function Gt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qn(e){var t;return(t=(B0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function B0(e){return vc()?e instanceof Node||e instanceof Gt(e).Node:!1}function En(e){return vc()?e instanceof Element||e instanceof Gt(e).Element:!1}function Gn(e){return vc()?e instanceof HTMLElement||e instanceof Gt(e).HTMLElement:!1}function Sp(e){return!vc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Gt(e).ShadowRoot}const kC=new Set(["inline","contents"]);function ua(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Pn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!kC.has(s)}const EC=new Set(["table","td","th"]);function PC(e){return EC.has(Qo(e))}const AC=[":popover-open",":modal"];function yc(e){return AC.some(t=>{try{return e.matches(t)}catch{return!1}})}const RC=["transform","translate","scale","rotate","perspective"],OC=["transform","translate","scale","rotate","perspective","filter"],IC=["paint","layout","strict","content"];function yh(e){const t=xh(),n=En(e)?Pn(e):e;return RC.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||OC.some(r=>(n.willChange||"").includes(r))||IC.some(r=>(n.contain||"").includes(r))}function MC(e){let t=ns(e);for(;Gn(t)&&!Do(t);){if(yh(t))return t;if(yc(t))return null;t=ns(t)}return null}function xh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const BC=new Set(["html","body","#document"]);function Do(e){return BC.has(Qo(e))}function Pn(e){return Gt(e).getComputedStyle(e)}function xc(e){return En(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ns(e){if(Qo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Sp(e)&&e.host||qn(e);return Sp(t)?t.host:t}function $0(e){const t=ns(e);return Do(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gn(t)&&ua(t)?t:$0(t)}function Yi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=$0(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),a=Gt(s);if(o){const l=Fd(a);return t.concat(a,a.visualViewport||[],ua(s)?s:[],l&&n?Yi(l):[])}return t.concat(s,Yi(s,[],n))}function Fd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function L0(e){const t=Pn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Gn(e),o=s?e.offsetWidth:n,a=s?e.offsetHeight:r,l=$l(n)!==o||$l(r)!==a;return l&&(n=o,r=a),{width:n,height:r,$:l}}function wh(e){return En(e)?e:e.contextElement}function xo(e){const t=wh(e);if(!Gn(t))return Hn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=L0(t);let a=(o?$l(n.width):n.width)/r,l=(o?$l(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const $C=Hn(0);function D0(e){const t=Gt(e);return!xh()||!t.visualViewport?$C:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function LC(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Gt(e)?!1:t}function Os(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=wh(e);let a=Hn(1);t&&(r?En(r)&&(a=xo(r)):a=xo(e));const l=LC(o,n,r)?D0(o):Hn(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(o){const h=Gt(o),m=r&&En(r)?Gt(r):r;let g=h,v=Fd(g);for(;v&&r&&m!==g;){const x=xo(v),w=v.getBoundingClientRect(),y=Pn(v),b=w.left+(v.clientLeft+parseFloat(y.paddingLeft))*x.x,S=w.top+(v.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=b,u+=S,g=Gt(v),v=Fd(g)}}return Dl({width:d,height:f,x:c,y:u})}function bh(e,t){const n=xc(e).scrollLeft;return t?t.left+n:Os(qn(e)).left+n}function F0(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:bh(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function DC(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",a=qn(r),l=t?yc(t.floating):!1;if(r===a||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Hn(1);const d=Hn(0),f=Gn(r);if((f||!f&&!o)&&((Qo(r)!=="body"||ua(a))&&(c=xc(r)),Gn(r))){const m=Os(r);u=xo(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=a&&!f&&!o?F0(a,c,!0):Hn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function FC(e){return Array.from(e.getClientRects())}function UC(e){const t=qn(e),n=xc(e),r=e.ownerDocument.body,s=Wt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Wt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+bh(e);const l=-n.scrollTop;return Pn(r).direction==="rtl"&&(a+=Wt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:l}}function zC(e,t){const n=Gt(e),r=qn(e),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const u=xh();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:l,y:c}}const WC=new Set(["absolute","fixed"]);function VC(e,t){const n=Os(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Gn(e)?xo(e):Hn(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:a,height:l,x:c,y:u}}function jp(e,t,n){let r;if(t==="viewport")r=zC(e,n);else if(t==="document")r=UC(qn(e));else if(En(t))r=VC(t,n);else{const s=D0(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Dl(r)}function U0(e,t){const n=ns(e);return n===t||!En(n)||Do(n)?!1:Pn(n).position==="fixed"||U0(n,t)}function HC(e,t){const n=t.get(e);if(n)return n;let r=Yi(e,[],!1).filter(l=>En(l)&&Qo(l)!=="body"),s=null;const o=Pn(e).position==="fixed";let a=o?ns(e):e;for(;En(a)&&!Do(a);){const l=Pn(a),c=yh(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&WC.has(s.position)||ua(a)&&!c&&U0(e,a))?r=r.filter(d=>d!==a):s=l,a=ns(a)}return t.set(e,r),r}function GC(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?yc(t)?[]:HC(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=jp(t,d,s);return u.top=Wt(f.top,u.top),u.right=ts(f.right,u.right),u.bottom=ts(f.bottom,u.bottom),u.left=Wt(f.left,u.left),u},jp(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function KC(e){const{width:t,height:n}=L0(e);return{width:t,height:n}}function qC(e,t,n){const r=Gn(t),s=qn(t),o=n==="fixed",a=Os(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Hn(0);function u(){c.x=bh(s)}if(r||!r&&!o)if((Qo(t)!=="body"||ua(s))&&(l=xc(t)),r){const m=Os(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?F0(s,l):Hn(0),f=a.left+l.scrollLeft-c.x-d.x,h=a.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function wu(e){return Pn(e).position==="static"}function Np(e,t){if(!Gn(e)||Pn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return qn(e)===n&&(n=n.ownerDocument.body),n}function z0(e,t){const n=Gt(e);if(yc(e))return n;if(!Gn(e)){let s=ns(e);for(;s&&!Do(s);){if(En(s)&&!wu(s))return s;s=ns(s)}return n}let r=Np(e,t);for(;r&&PC(r)&&wu(r);)r=Np(r,t);return r&&Do(r)&&wu(r)&&!yh(r)?n:r||MC(e)||n}const QC=async function(e){const t=this.getOffsetParent||z0,n=this.getDimensions,r=await n(e.floating);return{reference:qC(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function YC(e){return Pn(e).direction==="rtl"}const JC={convertOffsetParentRelativeRectToViewportRelativeRect:DC,getDocumentElement:qn,getClippingRect:GC,getOffsetParent:z0,getElementRects:QC,getClientRects:FC,getDimensions:KC,getScale:xo,isElement:En,isRTL:YC};function W0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function XC(e,t){let n=null,r;const s=qn(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=La(f),v=La(s.clientWidth-(d+h)),x=La(s.clientHeight-(f+m)),w=La(d),b={rootMargin:-g+"px "+-v+"px "+-x+"px "+-w+"px",threshold:Wt(0,ts(1,c))||1};let S=!0;function j(N){const _=N[0].intersectionRatio;if(_!==c){if(!S)return a();_?a(!1,_):r=setTimeout(()=>{a(!1,1e-7)},1e3)}_===1&&!W0(u,e.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(j,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,b)}n.observe(e)}return a(!0),o}function ZC(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=wh(e),d=s||o?[...u?Yi(u):[],...Yi(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const f=u&&l?XC(u,n):null;let h=-1,m=null;a&&(m=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let g,v=c?Os(e):null;c&&x();function x(){const w=Os(e);v&&!W0(v,w)&&n(),v=w,g=requestAnimationFrame(x)}return n(),()=>{var w;d.forEach(y=>{s&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const eT=NC,tT=_C,nT=bC,rT=TC,sT=SC,_p=wC,oT=CC,iT=(e,t,n)=>{const r=new Map,s={platform:JC,...n},o={...s.platform,_c:r};return xC(e,t,{...s,platform:o})};var aT=typeof document<"u",lT=function(){},ll=aT?p.useLayoutEffect:lT;function Fl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Fl(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Fl(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function V0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Cp(e,t){const n=V0(e);return Math.round(t*n)/n}function bu(e){const t=p.useRef(e);return ll(()=>{t.current=e}),t}function cT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);Fl(h,r)||m(r);const[g,v]=p.useState(null),[x,w]=p.useState(null),y=p.useCallback(k=>{k!==N.current&&(N.current=k,v(k))},[]),b=p.useCallback(k=>{k!==_.current&&(_.current=k,w(k))},[]),S=o||g,j=a||x,N=p.useRef(null),_=p.useRef(null),O=p.useRef(d),L=c!=null,M=bu(c),Y=bu(s),H=bu(u),V=p.useCallback(()=>{if(!N.current||!_.current)return;const k={placement:t,strategy:n,middleware:h};Y.current&&(k.platform=Y.current),iT(N.current,_.current,k).then(A=>{const D={...A,isPositioned:H.current!==!1};T.current&&!Fl(O.current,D)&&(O.current=D,Ds.flushSync(()=>{f(D)}))})},[h,t,n,Y,H]);ll(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(k=>({...k,isPositioned:!1})))},[u]);const T=p.useRef(!1);ll(()=>(T.current=!0,()=>{T.current=!1}),[]),ll(()=>{if(S&&(N.current=S),j&&(_.current=j),S&&j){if(M.current)return M.current(S,j,V);V()}},[S,j,V,M,L]);const P=p.useMemo(()=>({reference:N,floating:_,setReference:y,setFloating:b}),[y,b]),R=p.useMemo(()=>({reference:S,floating:j}),[S,j]),E=p.useMemo(()=>{const k={position:n,left:0,top:0};if(!R.floating)return k;const A=Cp(R.floating,d.x),D=Cp(R.floating,d.y);return l?{...k,transform:"translate("+A+"px, "+D+"px)",...V0(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:D}},[n,l,R.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:V,refs:P,elements:R,floatingStyles:E}),[d,V,P,R,E])}const uT=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?_p({element:r.current,padding:s}).fn(n):{}:r?_p({element:r,padding:s}).fn(n):{}}}},dT=(e,t)=>({...eT(e),options:[e,t]}),fT=(e,t)=>({...tT(e),options:[e,t]}),hT=(e,t)=>({...oT(e),options:[e,t]}),mT=(e,t)=>({...nT(e),options:[e,t]}),pT=(e,t)=>({...rT(e),options:[e,t]}),gT=(e,t)=>({...sT(e),options:[e,t]}),vT=(e,t)=>({...uT(e),options:[e,t]});var yT="Arrow",H0=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return i.jsx(fe.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});H0.displayName=yT;var xT=H0;function G0(e){const[t,n]=p.useState(void 0);return mt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Sh="Popper",[K0,wc]=Kn(Sh),[wT,q0]=K0(Sh),Q0=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return i.jsx(wT,{scope:t,anchor:r,onAnchorChange:s,children:n})};Q0.displayName=Sh;var Y0="PopperAnchor",J0=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=q0(Y0,n),a=p.useRef(null),l=$e(t,a);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:i.jsx(fe.div,{...s,ref:l})});J0.displayName=Y0;var jh="PopperContent",[bT,ST]=K0(jh),X0=p.forwardRef((e,t)=>{var I,G,W,z,B,U;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...v}=e,x=q0(jh,n),[w,y]=p.useState(null),b=$e(t,ee=>y(ee)),[S,j]=p.useState(null),N=G0(S),_=(N==null?void 0:N.width)??0,O=(N==null?void 0:N.height)??0,L=r+(o!=="center"?"-"+o:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},Y=Array.isArray(u)?u:[u],H=Y.length>0,V={padding:M,boundary:Y.filter(NT),altBoundary:H},{refs:T,floatingStyles:P,placement:R,isPositioned:E,middlewareData:k}=cT({strategy:"fixed",placement:L,whileElementsMounted:(...ee)=>ZC(...ee,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[dT({mainAxis:s+O,alignmentAxis:a}),c&&fT({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?hT():void 0,...V}),c&&mT({...V}),pT({...V,apply:({elements:ee,rects:te,availableWidth:ce,availableHeight:_e})=>{const{width:re,height:ie}=te.reference,he=ee.floating.style;he.setProperty("--radix-popper-available-width",`${ce}px`),he.setProperty("--radix-popper-available-height",`${_e}px`),he.setProperty("--radix-popper-anchor-width",`${re}px`),he.setProperty("--radix-popper-anchor-height",`${ie}px`)}}),S&&vT({element:S,padding:l}),_T({arrowWidth:_,arrowHeight:O}),h&&gT({strategy:"referenceHidden",...V})]}),[A,D]=tx(R),F=ln(g);mt(()=>{E&&(F==null||F())},[E,F]);const Q=(I=k.arrow)==null?void 0:I.x,Z=(G=k.arrow)==null?void 0:G.y,q=((W=k.arrow)==null?void 0:W.centerOffset)!==0,[C,$]=p.useState();return mt(()=>{w&&$(window.getComputedStyle(w).zIndex)},[w]),i.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:E?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:C,"--radix-popper-transform-origin":[(z=k.transformOrigin)==null?void 0:z.x,(B=k.transformOrigin)==null?void 0:B.y].join(" "),...((U=k.hide)==null?void 0:U.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(bT,{scope:n,placedSide:A,onArrowChange:j,arrowX:Q,arrowY:Z,shouldHideArrow:q,children:i.jsx(fe.div,{"data-side":A,"data-align":D,...v,ref:b,style:{...v.style,animation:E?void 0:"none"}})})})});X0.displayName=jh;var Z0="PopperArrow",jT={top:"bottom",right:"left",bottom:"top",left:"right"},ex=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=ST(Z0,r),a=jT[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(xT,{...s,ref:n,style:{...s.style,display:"block"}})})});ex.displayName=Z0;function NT(e){return e!==null}var _T=e=>({name:"transformOrigin",options:e,fn(t){var x,w,y;const{placement:n,rects:r,middlewareData:s}=t,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=tx(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let g="",v="";return u==="bottom"?(g=a?f:`${h}px`,v=`${-c}px`):u==="top"?(g=a?f:`${h}px`,v=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,v=a?f:`${m}px`):u==="left"&&(g=`${r.floating.width+c}px`,v=a?f:`${m}px`),{data:{x:g,y:v}}}});function tx(e){const[t,n="center"]=e.split("-");return[t,n]}var CT=Q0,nx=J0,rx=X0,sx=ex,[bc,bO]=Kn("Tooltip",[wc]),Nh=wc(),ox="TooltipProvider",TT=700,Tp="tooltip.open",[kT,ix]=bc(ox),ax=e=>{const{__scopeTooltip:t,delayDuration:n=TT,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,a=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(kT,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:o})};ax.displayName=ox;var lx="Tooltip",[SO,Sc]=bc(lx),Ud="TooltipTrigger",ET=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Sc(Ud,n),o=ix(Ud,n),a=Nh(n),l=p.useRef(null),c=$e(t,l,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(nx,{asChild:!0,...a,children:i.jsx(fe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:le(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:le(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:le(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:le(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:le(e.onBlur,s.onClose),onClick:le(e.onClick,s.onClose)})})});ET.displayName=Ud;var PT="TooltipPortal",[jO,AT]=bc(PT,{forceMount:void 0}),Fo="TooltipContent",cx=p.forwardRef((e,t)=>{const n=AT(Fo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,a=Sc(Fo,e.__scopeTooltip);return i.jsx(pr,{present:r||a.open,children:a.disableHoverableContent?i.jsx(ux,{side:s,...o,ref:t}):i.jsx(RT,{side:s,...o,ref:t})})}),RT=p.forwardRef((e,t)=>{const n=Sc(Fo,e.__scopeTooltip),r=ix(Fo,e.__scopeTooltip),s=p.useRef(null),o=$e(t,s),[a,l]=p.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=p.useCallback(()=>{l(null),f(!1)},[f]),m=p.useCallback((g,v)=>{const x=g.currentTarget,w={x:g.clientX,y:g.clientY},y=$T(w,x.getBoundingClientRect()),b=LT(w,y),S=DT(v.getBoundingClientRect()),j=UT([...b,...S]);l(j),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const g=x=>m(x,d),v=x=>m(x,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",v)}}},[c,d,m,h]),p.useEffect(()=>{if(a){const g=v=>{const x=v.target,w={x:v.clientX,y:v.clientY},y=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),b=!FT(w,a);y?h():b&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,a,u,h]),i.jsx(ux,{...e,ref:o})}),[OT,IT]=bc(lx,{isInside:!1}),MT=Vj("TooltipContent"),ux=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:a,...l}=e,c=Sc(Fo,n),u=Nh(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(Tp,d),()=>document.removeEventListener(Tp,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(aa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(rx,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(MT,{children:r}),i.jsx(OT,{scope:n,isInside:!0,children:i.jsx(fN,{id:c.contentId,role:"tooltip",children:s||r})})]})})});cx.displayName=Fo;var dx="TooltipArrow",BT=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Nh(n);return IT(dx,n).isInside?null:i.jsx(sx,{...s,...r,ref:t})});BT.displayName=dx;function $T(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function LT(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function DT(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function FT(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const l=t[o],c=t[a],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function UT(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),zT(t)}function zT(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var WT=ax,fx=cx;const VT=WT,HT=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(fx,{ref:r,sideOffset:t,className:de("z-50 overflow-hidden rounded-md border border-border/40 bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-lg animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));HT.displayName=fx.displayName;var jc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nc=typeof window>"u"||"Deno"in globalThis;function xn(){}function GT(e,t){return typeof e=="function"?e(t):e}function KT(e){return typeof e=="number"&&e>=0&&e!==1/0}function qT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function zd(e,t){return typeof e=="function"?e(t):e}function QT(e,t){return typeof e=="function"?e(t):e}function kp(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==_h(a,t.options))return!1}else if(!Xi(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function Ep(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ji(t.options.mutationKey)!==Ji(o))return!1}else if(!Xi(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function _h(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ji)(e)}function Ji(e){return JSON.stringify(e,(t,n)=>Wd(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Xi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Xi(e[n],t[n])):!1}function hx(e,t){if(e===t)return e;const n=Pp(e)&&Pp(t);if(n||Wd(e)&&Wd(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),a=o.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<a;d++){const f=n?d:o[d];(!n&&c.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=hx(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===a&&u===s?e:l}return t}function Pp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Wd(e){if(!Ap(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ap(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ap(e){return Object.prototype.toString.call(e)==="[object Object]"}function YT(e){return new Promise(t=>{setTimeout(t,e)})}function JT(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?hx(e,t):t}function XT(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function ZT(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Ch=Symbol();function mx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ch?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var xs,Rr,So,wg,ek=(wg=class extends jc{constructor(){super();Re(this,xs);Re(this,Rr);Re(this,So);ve(this,So,t=>{if(!Nc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){K(this,Rr)||this.setEventListener(K(this,So))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,Rr))==null||t.call(this),ve(this,Rr,void 0))}setEventListener(t){var n;ve(this,So,t),(n=K(this,Rr))==null||n.call(this),ve(this,Rr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){K(this,xs)!==t&&(ve(this,xs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof K(this,xs)=="boolean"?K(this,xs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},xs=new WeakMap,Rr=new WeakMap,So=new WeakMap,wg),px=new ek,jo,Or,No,bg,tk=(bg=class extends jc{constructor(){super();Re(this,jo,!0);Re(this,Or);Re(this,No);ve(this,No,t=>{if(!Nc&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){K(this,Or)||this.setEventListener(K(this,No))}onUnsubscribe(){var t;this.hasListeners()||((t=K(this,Or))==null||t.call(this),ve(this,Or,void 0))}setEventListener(t){var n;ve(this,No,t),(n=K(this,Or))==null||n.call(this),ve(this,Or,t(this.setOnline.bind(this)))}setOnline(t){K(this,jo)!==t&&(ve(this,jo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return K(this,jo)}},jo=new WeakMap,Or=new WeakMap,No=new WeakMap,bg),Ul=new tk;function nk(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function rk(e){return Math.min(1e3*2**e,3e4)}function gx(e){return(e??"online")==="online"?Ul.isOnline():!0}var vx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Su(e){return e instanceof vx}function yx(e){let t=!1,n=0,r=!1,s;const o=nk(),a=v=>{var x;r||(h(new vx(v)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>px.isFocused()&&(e.networkMode==="always"||Ul.isOnline())&&e.canRun(),d=()=>gx(e.networkMode)&&e.canRun(),f=v=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,v),s==null||s(),o.resolve(v))},h=v=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,v),s==null||s(),o.reject(v))},m=()=>new Promise(v=>{var x;s=w=>{(r||u())&&v(w)},(x=e.onPause)==null||x.call(e)}).then(()=>{var v;s=void 0,r||(v=e.onContinue)==null||v.call(e)}),g=()=>{if(r)return;let v;const x=n===0?e.initialPromise:void 0;try{v=x??e.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{var N;if(r)return;const y=e.retry??(Nc?0:3),b=e.retryDelay??rk,S=typeof b=="function"?b(n,w):b,j=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,w);if(t||!j){h(w);return}n++,(N=e.onFail)==null||N.call(e,n,w),YT(S).then(()=>u()?void 0:m()).then(()=>{t?h(w):g()})})};return{promise:o,cancel:a,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),o)}}var sk=e=>setTimeout(e,0);function ok(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=sk;const o=l=>{t?e.push(l):s(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Tt=ok(),ws,Sg,xx=(Sg=class{constructor(){Re(this,ws)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),KT(this.gcTime)&&ve(this,ws,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Nc?1/0:5*60*1e3))}clearGcTimeout(){K(this,ws)&&(clearTimeout(K(this,ws)),ve(this,ws,void 0))}},ws=new WeakMap,Sg),_o,bs,Jt,Ss,St,ea,js,wn,Yn,jg,ik=(jg=class extends xx{constructor(t){super();Re(this,wn);Re(this,_o);Re(this,bs);Re(this,Jt);Re(this,Ss);Re(this,St);Re(this,ea);Re(this,js);ve(this,js,!1),ve(this,ea,t.defaultOptions),this.setOptions(t.options),this.observers=[],ve(this,Ss,t.client),ve(this,Jt,K(this,Ss).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ve(this,_o,lk(this.options)),this.state=t.state??K(this,_o),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=K(this,St))==null?void 0:t.promise}setOptions(t){this.options={...K(this,ea),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,Jt).remove(this)}setData(t,n){const r=JT(this.state.data,t,this.options);return yt(this,wn,Yn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){yt(this,wn,Yn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=K(this,St))==null?void 0:r.promise;return(s=K(this,St))==null||s.cancel(t),n?n.then(xn).catch(xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,_o))}isActive(){return this.observers.some(t=>QT(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ch||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>zd(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qT(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=K(this,St))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=K(this,St))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),K(this,Jt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(K(this,St)&&(K(this,js)?K(this,St).cancel({revert:!0}):K(this,St).cancelRetry()),this.scheduleGc()),K(this,Jt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,wn,Yn).call(this,{type:"invalidate"})}fetch(t,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(K(this,St))return K(this,St).continueRetry(),K(this,St).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ve(this,js,!0),r.signal)})},o=()=>{const h=mx(this.options,n),g=(()=>{const v={client:K(this,Ss),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return ve(this,js,!1),this.options.persister?this.options.persister(h,g,this):h(g)},l=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:K(this,Ss),state:this.state,fetchFn:o};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),ve(this,bs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&yt(this,wn,Yn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,g,v,x;Su(h)&&h.silent||yt(this,wn,Yn).call(this,{type:"error",error:h}),Su(h)||((g=(m=K(this,Jt).config).onError)==null||g.call(m,h,this),(x=(v=K(this,Jt).config).onSettled)==null||x.call(v,this.state.data,h,this)),this.scheduleGc()};return ve(this,St,yx({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var m,g,v,x;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){c(w);return}(g=(m=K(this,Jt).config).onSuccess)==null||g.call(m,h,this),(x=(v=K(this,Jt).config).onSettled)==null||x.call(v,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{yt(this,wn,Yn).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{yt(this,wn,Yn).call(this,{type:"pause"})},onContinue:()=>{yt(this,wn,Yn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),K(this,St).start()}},_o=new WeakMap,bs=new WeakMap,Jt=new WeakMap,Ss=new WeakMap,St=new WeakMap,ea=new WeakMap,js=new WeakMap,wn=new WeakSet,Yn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ak(r.data,this.options),fetchMeta:t.meta??null};case"success":return ve(this,bs,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Su(s)&&s.revert&&K(this,bs)?{...K(this,bs),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Tt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),K(this,Jt).notify({query:this,type:"updated",action:t})})},jg);function ak(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lk(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Mn,Ng,ck=(Ng=class extends jc{constructor(t={}){super();Re(this,Mn);this.config=t,ve(this,Mn,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??_h(s,n);let a=this.get(o);return a||(a=new ik({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){K(this,Mn).has(t.queryHash)||(K(this,Mn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=K(this,Mn).get(t.queryHash);n&&(t.destroy(),n===t&&K(this,Mn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return K(this,Mn).get(t)}getAll(){return[...K(this,Mn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>kp(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>kp(t,r)):n}notify(t){Tt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Tt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Mn=new WeakMap,Ng),Bn,_t,Ns,$n,jr,_g,uk=(_g=class extends xx{constructor(t){super();Re(this,$n);Re(this,Bn);Re(this,_t);Re(this,Ns);this.mutationId=t.mutationId,ve(this,_t,t.mutationCache),ve(this,Bn,[]),this.state=t.state||dk(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){K(this,Bn).includes(t)||(K(this,Bn).push(t),this.clearGcTimeout(),K(this,_t).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ve(this,Bn,K(this,Bn).filter(n=>n!==t)),this.scheduleGc(),K(this,_t).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){K(this,Bn).length||(this.state.status==="pending"?this.scheduleGc():K(this,_t).remove(this))}continue(){var t;return((t=K(this,Ns))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,c,u,d,f,h,m,g,v,x,w,y,b,S,j,N,_,O;const n=()=>{yt(this,$n,jr).call(this,{type:"continue"})};ve(this,Ns,yx({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(L,M)=>{yt(this,$n,jr).call(this,{type:"failed",failureCount:L,error:M})},onPause:()=>{yt(this,$n,jr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,_t).canRun(this)}));const r=this.state.status==="pending",s=!K(this,Ns).canStart();try{if(r)n();else{yt(this,$n,jr).call(this,{type:"pending",variables:t,isPaused:s}),await((a=(o=K(this,_t).config).onMutate)==null?void 0:a.call(o,t,this));const M=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));M!==this.state.context&&yt(this,$n,jr).call(this,{type:"pending",context:M,variables:t,isPaused:s})}const L=await K(this,Ns).start();return await((d=(u=K(this,_t).config).onSuccess)==null?void 0:d.call(u,L,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,L,t,this.state.context)),await((g=(m=K(this,_t).config).onSettled)==null?void 0:g.call(m,L,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,L,null,t,this.state.context)),yt(this,$n,jr).call(this,{type:"success",data:L}),L}catch(L){try{throw await((y=(w=K(this,_t).config).onError)==null?void 0:y.call(w,L,t,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,L,t,this.state.context)),await((N=(j=K(this,_t).config).onSettled)==null?void 0:N.call(j,void 0,L,this.state.variables,this.state.context,this)),await((O=(_=this.options).onSettled)==null?void 0:O.call(_,void 0,L,t,this.state.context)),L}finally{yt(this,$n,jr).call(this,{type:"error",error:L})}}finally{K(this,_t).runNext(this)}}},Bn=new WeakMap,_t=new WeakMap,Ns=new WeakMap,$n=new WeakSet,jr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Tt.batch(()=>{K(this,Bn).forEach(r=>{r.onMutationUpdate(t)}),K(this,_t).notify({mutation:this,type:"updated",action:t})})},_g);function dk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tr,bn,ta,Cg,fk=(Cg=class extends jc{constructor(t={}){super();Re(this,tr);Re(this,bn);Re(this,ta);this.config=t,ve(this,tr,new Set),ve(this,bn,new Map),ve(this,ta,0)}build(t,n,r){const s=new uk({mutationCache:this,mutationId:++va(this,ta)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){K(this,tr).add(t);const n=Da(t);if(typeof n=="string"){const r=K(this,bn).get(n);r?r.push(t):K(this,bn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(K(this,tr).delete(t)){const n=Da(t);if(typeof n=="string"){const r=K(this,bn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&K(this,bn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Da(t);if(typeof n=="string"){const r=K(this,bn).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Da(t);if(typeof n=="string"){const s=(r=K(this,bn).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Tt.batch(()=>{K(this,tr).forEach(t=>{this.notify({type:"removed",mutation:t})}),K(this,tr).clear(),K(this,bn).clear()})}getAll(){return Array.from(K(this,tr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Ep(n,r))}findAll(t={}){return this.getAll().filter(n=>Ep(t,n))}notify(t){Tt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Tt.batch(()=>Promise.all(t.map(n=>n.continue().catch(xn))))}},tr=new WeakMap,bn=new WeakMap,ta=new WeakMap,Cg);function Da(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Rp(e){return{onFetch:(t,n)=>{var d,f,h,m,g;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((m=t.state.data)==null?void 0:m.pages)||[],a=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},w=mx(t.options,t.fetchOptions),y=async(b,S,j)=>{if(v)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const Y={client:t.client,queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};return x(Y),Y})(),O=await w(_),{maxPages:L}=t.options,M=j?ZT:XT;return{pages:M(b.pages,O,L),pageParams:M(b.pageParams,S,L)}};if(s&&o.length){const b=s==="backward",S=b?hk:Op,j={pages:o,pageParams:a},N=S(r,j);l=await y(j,N,b)}else{const b=e??o.length;do{const S=c===0?a[0]??r.initialPageParam:Op(r,l);if(c>0&&S==null)break;l=await y(l,S),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var v,x;return(x=(v=t.options).persister)==null?void 0:x.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Op(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function hk(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var nt,Ir,Mr,Co,To,Br,ko,Eo,Tg,mk=(Tg=class{constructor(e={}){Re(this,nt);Re(this,Ir);Re(this,Mr);Re(this,Co);Re(this,To);Re(this,Br);Re(this,ko);Re(this,Eo);ve(this,nt,e.queryCache||new ck),ve(this,Ir,e.mutationCache||new fk),ve(this,Mr,e.defaultOptions||{}),ve(this,Co,new Map),ve(this,To,new Map),ve(this,Br,0)}mount(){va(this,Br)._++,K(this,Br)===1&&(ve(this,ko,px.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,nt).onFocus())})),ve(this,Eo,Ul.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,nt).onOnline())})))}unmount(){var e,t;va(this,Br)._--,K(this,Br)===0&&((e=K(this,ko))==null||e.call(this),ve(this,ko,void 0),(t=K(this,Eo))==null||t.call(this),ve(this,Eo,void 0))}isFetching(e){return K(this,nt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return K(this,Ir).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=K(this,nt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=K(this,nt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(zd(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return K(this,nt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=K(this,nt).get(r.queryHash),o=s==null?void 0:s.state.data,a=GT(t,o);if(a!==void 0)return K(this,nt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Tt.batch(()=>K(this,nt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=K(this,nt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=K(this,nt);Tt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=K(this,nt);return Tt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Tt.batch(()=>K(this,nt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(xn).catch(xn)}invalidateQueries(e,t={}){return Tt.batch(()=>(K(this,nt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Tt.batch(()=>K(this,nt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(xn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(xn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=K(this,nt).build(this,t);return n.isStaleByTime(zd(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xn).catch(xn)}fetchInfiniteQuery(e){return e.behavior=Rp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xn).catch(xn)}ensureInfiniteQueryData(e){return e.behavior=Rp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ul.isOnline()?K(this,Ir).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,nt)}getMutationCache(){return K(this,Ir)}getDefaultOptions(){return K(this,Mr)}setDefaultOptions(e){ve(this,Mr,e)}setQueryDefaults(e,t){K(this,Co).set(Ji(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...K(this,Co).values()],n={};return t.forEach(r=>{Xi(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){K(this,To).set(Ji(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...K(this,To).values()],n={};return t.forEach(r=>{Xi(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...K(this,Mr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_h(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ch&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...K(this,Mr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){K(this,nt).clear(),K(this,Ir).clear()}},nt=new WeakMap,Ir=new WeakMap,Mr=new WeakMap,Co=new WeakMap,To=new WeakMap,Br=new WeakMap,ko=new WeakMap,Eo=new WeakMap,Tg),pk=p.createContext(void 0),gk=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(pk.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zl.apply(this,arguments)}var Dr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dr||(Dr={}));const Ip="popstate";function vk(e){e===void 0&&(e={});function t(s,o){let{pathname:a="/",search:l="",hash:c=""}=da(s.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Vd("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let a=s.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof o=="string"?o:wx(o))}function r(s,o){Th(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return xk(t,n,r,e)}function Ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Th(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yk(){return Math.random().toString(36).substr(2,8)}function Mp(e,t){return{usr:e.state,key:e.key,idx:t}}function Vd(e,t,n,r){return n===void 0&&(n=null),zl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?da(t):t,{state:n,key:t&&t.key||r||yk()})}function wx(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function da(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xk(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,l=Dr.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(zl({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=Dr.Pop;let x=d(),w=x==null?null:x-u;u=x,c&&c({action:l,location:v.location,delta:w})}function h(x,w){l=Dr.Push;let y=Vd(v.location,x,w);n&&n(y,x),u=d()+1;let b=Mp(y,u),S=v.createHref(y);try{a.pushState(b,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}o&&c&&c({action:l,location:v.location,delta:1})}function m(x,w){l=Dr.Replace;let y=Vd(v.location,x,w);n&&n(y,x),u=d();let b=Mp(y,u),S=v.createHref(y);a.replaceState(b,"",S),o&&c&&c({action:l,location:v.location,delta:0})}function g(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:wx(x);return y=y.replace(/ $/,"%20"),Ut(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let v={get action(){return l},get location(){return e(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ip,f),c=x,()=>{s.removeEventListener(Ip,f),c=null}},createHref(x){return t(s,x)},createURL:g,encodeLocation(x){let w=g(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:m,go(x){return a.go(x)}};return v}var Bp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Bp||(Bp={}));function wk(e,t,n){return n===void 0&&(n="/"),bk(e,t,n)}function bk(e,t,n,r){let s=typeof t=="string"?da(t):t,o=jx(s.pathname||"/",n);if(o==null)return null;let a=bx(e);Sk(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Ik(o);l=Ak(a[c],u)}return l}function bx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Ut(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=wo([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(Ut(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bx(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Ek(u,o.index),routesMeta:d})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of Sx(o.path))s(o,a,c)}),t}function Sx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=Sx(r.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Sk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Pk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jk=/^:[\w-]+$/,Nk=3,_k=2,Ck=1,Tk=10,kk=-2,$p=e=>e==="*";function Ek(e,t){let n=e.split("/"),r=n.length;return n.some($p)&&(r+=kk),t&&(r+=_k),n.filter(s=>!$p(s)).reduce((s,o)=>s+(jk.test(o)?Nk:o===""?Ck:Tk),r)}function Pk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Ak(e,t,n){let{routesMeta:r}=e,s={},o="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Rk({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:wo([o,f.pathname]),pathnameBase:Mk(wo([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=wo([o,f.pathnameBase]))}return a}function Rk(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ok(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let v=l[f]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function Ok(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Th(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Ik(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Th(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function jx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const wo=e=>e.join("/").replace(/\/\/+/g,"/"),Mk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function Bk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Nx=["post","put","patch","delete"];new Set(Nx);const $k=["get",...Nx];new Set($k);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wl.apply(this,arguments)}const Lk=p.createContext(null),Dk=p.createContext(null),_x=p.createContext(null),_c=p.createContext(null),Cc=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Cx=p.createContext(null);function kh(){return p.useContext(_c)!=null}function Tx(){return kh()||Ut(!1),p.useContext(_c).location}function Fk(e,t){return Uk(e,t)}function Uk(e,t,n,r){kh()||Ut(!1);let{navigator:s}=p.useContext(_x),{matches:o}=p.useContext(Cc),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Tx(),d;if(t){var f;let x=typeof t=="string"?da(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Ut(!1),d=x}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=wk(e,{pathname:m}),v=Gk(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:wo([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:wo([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&v?p.createElement(_c.Provider,{value:{location:Wl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Dr.Pop}},v):v}function zk(){let e=Yk(),t=Bk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const Wk=p.createElement(zk,null);class Vk extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(Cc.Provider,{value:this.props.routeContext},p.createElement(Cx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Hk(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(Lk);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Cc.Provider,{value:t},r)}function Gk(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ut(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let m,g=!1,v=null,x=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||Wk,c&&(u<0&&h===0?(Jk("route-fallback"),g=!0,x=null):u===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,h+1)),y=()=>{let b;return m?b=v:g?b=x:f.route.Component?b=p.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,p.createElement(Hk,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(Vk,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var kx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kx||{});function Kk(e){let t=p.useContext(Dk);return t||Ut(!1),t}function qk(e){let t=p.useContext(Cc);return t||Ut(!1),t}function Qk(e){let t=qk(),n=t.matches[t.matches.length-1];return n.route.id||Ut(!1),n.route.id}function Yk(){var e;let t=p.useContext(Cx),n=Kk(kx.UseRouteError),r=Qk();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}const Lp={};function Jk(e,t,n){Lp[e]||(Lp[e]=!0)}function Xk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function cl(e){Ut(!1)}function Zk(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Dr.Pop,navigator:o,static:a=!1,future:l}=e;kh()&&Ut(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:o,static:a,future:Wl({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof r=="string"&&(r=da(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=r,v=p.useMemo(()=>{let x=jx(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:g},navigationType:s}},[c,d,f,h,m,g,s]);return v==null?null:p.createElement(_x.Provider,{value:u},p.createElement(_c.Provider,{children:n,value:v}))}function eE(e){let{children:t,location:n}=e;return Fk(Hd(t),n)}new Promise(()=>{});function Hd(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let o=[...t,s];if(r.type===p.Fragment){n.push.apply(n,Hd(r.props.children,o));return}r.type!==cl&&Ut(!1),!r.props.index||!r.props.children||Ut(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Hd(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const tE="6";try{window.__reactRouterVersion=tE}catch{}const nE="startTransition",Dp=pf[nE];function rE(e){let{basename:t,children:n,future:r,window:s}=e,o=p.useRef();o.current==null&&(o.current=vk({window:s,v5Compat:!0}));let a=o.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=p.useCallback(f=>{u&&Dp?Dp(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>a.listen(d),[a,d]),p.useEffect(()=>Xk(r),[r]),p.createElement(Zk,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}var Fp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fp||(Fp={}));var Up;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Up||(Up={}));const sE="modulepreload",oE=function(e){return"/BidWhist/"+e},zp={},_n=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=oE(c),c in zp)return;zp[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":sE,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},iE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>_n(async()=>{const{default:r}=await Promise.resolve().then(()=>Yo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Eh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class aE extends Eh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Wp extends Eh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Vp extends Eh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gd||(Gd={}));var lE=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class cE{constructor(t,{headers:n={},customFetch:r,region:s=Gd.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=iE(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return lE(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(v=>{throw new aE(v)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Wp(f);if(!f.ok)throw new Vp(f);let m=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield f.json():m==="application/octet-stream"?g=yield f.blob():m==="text/event-stream"?g=f:m==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Vp||s instanceof Wp?s.context:void 0}}})}}var Bt={},Ph={},Tc={},fa={},kc={},Ec={},uE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Uo=uE();const dE=Uo.fetch,Ex=Uo.fetch.bind(Uo),Px=Uo.Headers,fE=Uo.Request,hE=Uo.Response,Yo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Px,Request:fE,Response:hE,default:Ex,fetch:dE},Symbol.toStringTag,{value:"Module"})),mE=cS(Yo);var Pc={};Object.defineProperty(Pc,"__esModule",{value:!0});let pE=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Pc.default=pE;var Ax=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ec,"__esModule",{value:!0});const gE=Ax(mE),vE=Ax(Pc);let yE=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=gE.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,l,c;let u=null,d=null,f=null,h=o.status,m=o.statusText;if(o.ok){if(this.method!=="HEAD"){const w=await o.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}const v=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await o.text();try{u=JSON.parse(v),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,m="OK")}catch{o.status===404&&v===""?(h=204,m="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new vE.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(o=>{var a,l,c;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Ec.default=yE;var xE=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kc,"__esModule",{value:!0});const wE=xE(Ec);let bE=class extends wE.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};kc.default=bE;var SE=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fa,"__esModule",{value:!0});const jE=SE(kc);let NE=class extends jE.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};fa.default=NE;var _E=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tc,"__esModule",{value:!0});const di=_E(fa);let CE=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new di.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new di.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const a="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new di.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new di.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new di.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Tc.default=CE;var Ac={},Rc={};Object.defineProperty(Rc,"__esModule",{value:!0});Rc.version=void 0;Rc.version="0.0.0-automated";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.DEFAULT_HEADERS=void 0;const TE=Rc;Ac.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${TE.version}`};var Rx=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ph,"__esModule",{value:!0});const kE=Rx(Tc),EE=Rx(fa),PE=Ac;let AE=class Ox{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},PE.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new kE.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ox(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new EE.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Ph.default=AE;var Jo=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.PostgrestError=Bt.PostgrestBuilder=Bt.PostgrestTransformBuilder=Bt.PostgrestFilterBuilder=Bt.PostgrestQueryBuilder=Bt.PostgrestClient=void 0;const Ix=Jo(Ph);Bt.PostgrestClient=Ix.default;const Mx=Jo(Tc);Bt.PostgrestQueryBuilder=Mx.default;const Bx=Jo(fa);Bt.PostgrestFilterBuilder=Bx.default;const $x=Jo(kc);Bt.PostgrestTransformBuilder=$x.default;const Lx=Jo(Ec);Bt.PostgrestBuilder=Lx.default;const Dx=Jo(Pc);Bt.PostgrestError=Dx.default;var RE=Bt.default={PostgrestClient:Ix.default,PostgrestQueryBuilder:Mx.default,PostgrestFilterBuilder:Bx.default,PostgrestTransformBuilder:$x.default,PostgrestBuilder:Lx.default,PostgrestError:Dx.default};const{PostgrestClient:OE,PostgrestQueryBuilder:EO,PostgrestFilterBuilder:PO,PostgrestTransformBuilder:AO,PostgrestBuilder:RO,PostgrestError:OO}=RE;function IE(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const ME=IE(),BE="2.11.15",$E=`realtime-js/${BE}`,LE="1.0.0",Fx=1e4,DE=1e3;var Ei;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ei||(Ei={}));var bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(bt||(bt={}));var jn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jn||(jn={}));var Kd;(function(e){e.websocket="websocket"})(Kd||(Kd={}));var ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ps||(ps={}));class FE{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+s));a=a+s;const c=r.decode(t.slice(a,a+o));a=a+o;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Ux{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ue||(Ue={}));const Hp=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,a)=>(o[a]=UE(a,e,t,s),o),{})},UE=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,a=n[e];return o&&!r.includes(o)?zx(o,a):qd(a)},zx=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return HE(t,n)}switch(e){case Ue.bool:return zE(t);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return WE(t);case Ue.json:case Ue.jsonb:return VE(t);case Ue.timestamp:return GE(t);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return qd(t);default:return qd(t)}},qd=e=>e,zE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},WE=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},VE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},HE=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(l=>zx(t,l))}return e},GE=e=>typeof e=="string"?e.replace(" ","T"):e,Wx=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ju{constructor(t,n,r={},s=Fx){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Gp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Gp||(Gp={}));class Pi{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pi.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=Pi.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Pi.syncDiff(this.state,s,o,a),l())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(o,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=o[u];if(f){const h=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),g=d.filter(x=>m.indexOf(x.presence_ref)<0),v=f.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(l[u]=g),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Kp||(Kp={}));var qp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qp||(qp={}));var Zn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zn||(Zn={}));class Ah{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ju(this,jn.join,this.params,this.timeout),this.rejoinTimer=new Ux(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Pi(this),this.broadcastEndpointURL=Wx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==bt.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Zn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Zn.CLOSED));const c={},u={broadcast:o,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Zn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let v=0;v<m;v++){const x=h[v],{filter:{event:w,schema:y,table:b,filter:S}}=x,j=d&&d[v];if(j&&j.event===w&&j.schema===y&&j.table===b&&j.filter===S)g.push(Object.assign(Object.assign({},x),{id:j.id}));else{this.unsubscribe(),this.state=bt.errored,t==null||t(Zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Zn.SUBSCRIBED);return}}).receive("error",d=>{this.state=bt.errored,t==null||t(Zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new ju(this,jn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ju(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=jn;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,v,x;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(v=m.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var g,v,x,w,y,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const S=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return S&&((v=n.ids)===null||v===void 0?void 0:v.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(y=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:v,table:x,commit_timestamp:w,type:y,errors:b}=g;h=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:w,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(g))}m.callback(h,r)})}_isClosed(){return this.state===bt.closed}_isJoined(){return this.state===bt.joined}_isJoining(){return this.state===bt.joining}_isLeaving(){return this.state===bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Ah.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jn.close,{},t)}_onError(t){this._on(jn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Hp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Hp(t.columns,t.old_record)),n}}const Qp=()=>{},KE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qE{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fx,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qp,this.ref=0,this.logger=Qp,this.conn=null,this.sendBuffer=[],this.serializer=new FE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...l)=>_n(async()=>{const{default:c}=await Promise.resolve().then(()=>Yo);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${Kd.websocket}`,this.httpEndpoint=Wx(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,a)=>a(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ux(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ME),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:LE}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ei.connecting:return ps.Connecting;case Ei.open:return ps.Open;case Ei.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Ah(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:$E};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(jn.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(DE,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:a}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,o,a)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(jn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([KE],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Rh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class QE extends Rh{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Qd extends Rh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var YE=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Vx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>_n(async()=>{const{default:r}=await Promise.resolve().then(()=>Yo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},JE=()=>YE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _n(()=>Promise.resolve().then(()=>Yo),void 0)).Response:Response}),Yd=e=>{if(Array.isArray(e))return e.map(n=>Yd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Yd(r)}),t};var Fs=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Nu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XE=(e,t,n)=>Fs(void 0,void 0,void 0,function*(){const r=yield JE();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new QE(Nu(s),e.status||500))}).catch(s=>{t(new Qd(Nu(s),s))}):t(new Qd(Nu(e),e))}),ZE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ha(e,t,n,r,s,o){return Fs(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,ZE(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>XE(c,l,r))})})}function Vl(e,t,n,r){return Fs(this,void 0,void 0,function*(){return ha(e,"GET",t,n,r)})}function kr(e,t,n,r,s){return Fs(this,void 0,void 0,function*(){return ha(e,"POST",t,r,s,n)})}function e2(e,t,n,r,s){return Fs(this,void 0,void 0,function*(){return ha(e,"PUT",t,r,s,n)})}function t2(e,t,n,r){return Fs(this,void 0,void 0,function*(){return ha(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Hx(e,t,n,r,s){return Fs(this,void 0,void 0,function*(){return ha(e,"DELETE",t,r,s,n)})}var Rt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const n2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class r2{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Vx(s)}uploadOrUpdate(t,n,r,s){return Rt(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Yp),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Rt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Yp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(dt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Rt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield kr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+o.url),l=a.searchParams.get("token");if(!l)throw new Rh("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Rt(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Rt(this,void 0,void 0,function*(){try{return{data:{path:(yield kr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Rt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield kr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Rt(this,void 0,void 0,function*(){try{const s=yield kr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}download(t,n){return Rt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Vl(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(dt(l))return{data:null,error:l};throw l}})}info(t){return Rt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Vl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Yd(r),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}exists(t){return Rt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield t2(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(dt(r)&&r instanceof Qd){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Rt(this,void 0,void 0,function*(){try{return{data:yield Hx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Rt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},n2),n),{prefix:t||""});return{data:yield kr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const s2="2.7.1",o2={"X-Client-Info":`storage-js/${s2}`};var zs=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class i2{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},o2),n),this.fetch=Vx(r)}listBuckets(){return zs(this,void 0,void 0,function*(){try{return{data:yield Vl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(dt(t))return{data:null,error:t};throw t}})}getBucket(t){return zs(this,void 0,void 0,function*(){try{return{data:yield Vl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return zs(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return zs(this,void 0,void 0,function*(){try{return{data:yield e2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return zs(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return zs(this,void 0,void 0,function*(){try{return{data:yield Hx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}}class a2 extends i2{constructor(t,n={},r){super(t,n,r)}from(t){return new r2(this.url,this.headers,t,this.fetch)}}const l2="2.52.0";let gi="";typeof Deno<"u"?gi="deno":typeof document<"u"?gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gi="react-native":gi="node";const c2={"X-Client-Info":`supabase-js-${gi}/${l2}`},u2={headers:c2},d2={schema:"public"},f2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h2={};var m2=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const p2=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ex:t=fetch,(...n)=>t(...n)},g2=()=>typeof Headers>"u"?Px:Headers,v2=(e,t,n)=>{const r=p2(n),s=g2();return(o,a)=>m2(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},a),{headers:u}))})};var y2=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function x2(e){return e.endsWith("/")?e:e+"/"}function w2(e,t){var n,r;const{db:s,auth:o,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>y2(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Gx="2.71.1",Js=30*1e3,Jd=3,_u=Jd*Js,b2="http://localhost:9999",S2="supabase.auth.token",j2={"X-Client-Info":`gotrue-js/${Gx}`},Xd="X-Supabase-Api-Version",Kx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},N2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_2=10*60*1e3;class Oh extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class C2 extends Oh{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function T2(e){return ye(e)&&e.name==="AuthApiError"}class qx extends Oh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class is extends Oh{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Nr extends is{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function k2(e){return ye(e)&&e.name==="AuthSessionMissingError"}class Fa extends is{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ua extends is{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class za extends is{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function E2(e){return ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class Jp extends is{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zd extends is{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Cu(e){return ye(e)&&e.name==="AuthRetryableFetchError"}class Xp extends is{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ef extends is{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Hl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zp=` 	
\r=`.split(""),P2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zp.length;t+=1)e[Zp[t].charCodeAt(0)]=-2;for(let t=0;t<Hl.length;t+=1)e[Hl[t].charCodeAt(0)]=t;return e})();function eg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Hl[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Hl[r]),t.queuedBits-=6}}function Qx(e,t,n){const r=P2[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function tg(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{O2(a,r,n)};for(let a=0;a<e.length;a+=1)Qx(e.charCodeAt(a),s,o);return t.join("")}function A2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function R2(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}A2(r,t)}}function O2(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function I2(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Qx(e.charCodeAt(s),n,r);return new Uint8Array(t)}function M2(e){const t=[];return R2(e,n=>t.push(n)),new Uint8Array(t)}function B2(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>eg(s,n,r)),eg(null,n,r),t.join("")}function $2(e){return Math.round(Date.now()/1e3)+e}function L2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const pn=()=>typeof window<"u"&&typeof document<"u",us={tested:!1,writable:!1},Yx=()=>{if(!pn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(us.tested)return us.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),us.tested=!0,us.writable=!0}catch{us.tested=!0,us.writable=!1}return us.writable};function D2(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Jx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>_n(async()=>{const{default:r}=await Promise.resolve().then(()=>Yo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},F2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ds=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Sr=async(e,t)=>{await e.removeItem(t)};class Oc{constructor(){this.promise=new Oc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Oc.promiseConstructor=Promise;function Tu(e){const t=e.split(".");if(t.length!==3)throw new ef("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!N2.test(t[r]))throw new ef("JWT not in base64url format");return{header:JSON.parse(tg(t[0])),payload:JSON.parse(tg(t[1])),signature:I2(t[2]),raw:{header:t[0],payload:t[1]}}}async function U2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function z2(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function W2(e){return("0"+e.toString(16)).substr(-2)}function V2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,W2).join("")}async function H2(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function G2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await H2(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ws(e,t,n=!1){const r=V2();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Xs(e,`${t}-code-verifier`,s);const o=await G2(r);return[o,r===o?"plain":"s256"]}const K2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q2(e){const t=e.headers.get(Xd);if(!t||!t.match(K2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Q2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Y2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const J2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vs(e){if(!J2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ku(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ng(e){return JSON.parse(JSON.stringify(e))}var X2=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const ms=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Z2=[502,503,504];async function rg(e){var t;if(!F2(e))throw new Zd(ms(e),0);if(Z2.includes(e.status))throw new Zd(ms(e),e.status);let n;try{n=await e.json()}catch(o){throw new qx(ms(o),o)}let r;const s=q2(e);if(s&&s.getTime()>=Kx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Xp(ms(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Nr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Xp(ms(n),e.status,n.weak_password.reasons);throw new C2(ms(n),e.status||500,r)}const eP=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function je(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Xd]||(o[Xd]=Kx["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await tP(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function tP(e,t,n,r,s,o){const a=eP(t,r,s,o);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Zd(ms(c),0)}if(l.ok||await rg(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await rg(c)}}function Jn(e){var t;let n=null;oP(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=$2(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function sg(e){const t=Jn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ar(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nP(e){return{data:e,error:null}}function rP(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,a=X2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function sP(e){return e}function oP(e){return e.access_token&&e.refresh_token&&e.expires_in}const Eu=["global","local","others"];var iP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class aP{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Jx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Eu[0]){if(Eu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Eu.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ar})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=iP(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:rP,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ye(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ar})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:sP});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ye(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Vs(t);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ar})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Vs(t);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ar})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Vs(t);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ar})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Vs(t.userId);try{const{data:n,error:r}=await je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Vs(t.userId),Vs(t.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}}function og(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function lP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Hs={debug:!!(globalThis&&Yx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cP extends Xx{}async function uP(e,t,n){Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cP(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Hs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}lP();const dP={url:b2,storageKey:S2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:j2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ig(e,t,n){return await n()}const Gs={};class Zi{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zi.nextInstanceID,Zi.nextInstanceID+=1,this.instanceID>0&&pn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},dP),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new aP({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Jx(s.fetch),this.lock=s.lock||ig,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:pn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=uP:this.lock=ig,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Yx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=og(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=og(this.memoryStorage)),pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Gs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Gs[this.storageKey]=Object.assign(Object.assign({},Gs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Gs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Gs[this.storageKey]=Object.assign(Object.assign({},Gs[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Gx}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=D2(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),pn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),E2(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ye(n)?{error:n}:{error:new qx("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Jn}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Ws(this.storage,this.storageKey)),o=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Jn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Jn})}else throw new Ua("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:l}=t;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sg})}else if("phone"in t){const{phone:o,password:a,options:l}=t;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sg})}else throw new Ua("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Fa}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,a,l,c,u,d,f,h,m;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:x,wallet:w,statement:y,options:b}=t;let S;if(pn())if(typeof w=="object")S=w;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))S=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const j=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const N=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),y?{statement:y}:null));let _;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")_=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)_=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)g=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),v=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const N=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=N}}try{const{data:x,error:w}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:B2(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Jn});if(w)throw w;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Fa}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:w})}catch(x){if(ye(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await ds(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:a}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Jn});if(await Sr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Fa}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(ye(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:a}=t,l=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Jn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Fa}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ws(this.storage,this.storageKey));const{error:f}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ua("You must provide either an email or phone number.")}catch(l){if(ye(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Jn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ye(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await Ws(this.storage,this.storageKey)),await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:nP})}catch(o){if(ye(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Nr;const{error:s}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:a}=await je(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:a,error:l}=await je(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Ua("You must provide either an email or phone number and a type")}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ds(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<_u:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await ds(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=ku()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ar}):await this._useSession(async n=>{var r,s,o;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nr}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Ar})})}catch(n){if(ye(n))return k2(n)&&(await this._removeSession(),await Sr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Nr;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ws(this.storage,this.storageKey));const{data:u,error:d}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Ar});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Nr;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:a}=Tu(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ye(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Nr;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ye(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!pn())throw new za("No browser detected.");if(t.error||t.error_description||t.error_code)throw new za(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Jp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new za("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Jp("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!a||!u)throw new za("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Js&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:v,error:x}=await this._getUser(o);if(x)throw x;const w={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(r){if(ye(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ds(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(T2(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Sr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=L2(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ws(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ye(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var a,l,c,u,d;const{data:f,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return pn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ye(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)throw a;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await z2(async s=>(s>0&&await U2(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jn})),(s,o)=>{const a=200*Math.pow(2,s);return o&&Cu(o)&&Date.now()+a-r<Js})}catch(r){if(this._debug(n,"error",r),ye(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),pn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ds(this.storage,this.storageKey);if(s&&this.userStorage){let a=await ds(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Xs(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:ku()}else if(s&&!s.user&&!s.user){const a=await ds(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Sr(this.storage,this.storageKey+"-user"),await Xs(this.storage,this.storageKey,s)):s.user=ku()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<_u;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${_u}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Cu(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Nr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Oc;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new Nr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),ye(o)){const a={session:null,error:o};return Cu(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Xs(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=ng(s);await Xs(this.storage,this.storageKey,o)}else{const s=ng(n);await Xs(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Sr(this.storage,this.storageKey),await Sr(this.storage,this.storageKey+"-code-verifier"),await Sr(this.storage,this.storageKey+"-user"),this.userStorage&&await Sr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Js);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Js);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Js}ms, refresh threshold is ${Jd} ticks`),s<=Jd&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Xx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await Ws(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ye(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:a,error:l}=await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ye(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Tu(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+_2>s)return r;const{data:o,error:a}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};r=m.session.access_token}const{header:s,payload:o,signature:a,raw:{header:l,payload:c}}=Tu(r);n!=null&&n.allowExpired||Q2(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:s,signature:a},error:null}}const d=Y2(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,M2(`${l}.${c}`)))throw new ef("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}}Zi.nextInstanceID=0;const fP=Zi;class hP extends fP{constructor(t){super(t)}}var mP=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class pP{constructor(t,n,r){var s,o,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=x2(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:d2,realtime:h2,auth:Object.assign(Object.assign({},f2),{storageKey:u}),global:u2},f=w2(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=v2(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new OE(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new cE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new a2(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return mP(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hP({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new qE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gP=(e,t,n)=>new pP(e,t,n),vP="https://awfupnyqnmkhhihjwtjp.supabase.co",yP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF3ZnVwbnlxbm1raGhpaGp3dGpwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI3ODY2OTgsImV4cCI6MjA2ODM2MjY5OH0.ThT4hwPe9mddo8GV8rE3nDueRHKttHaYp7S676JUREg",Ot=gP(vP,yP),Ks=Object.freeze(Object.defineProperty({__proto__:null,supabase:Ot},Symbol.toStringTag,{value:"Module"})),Zx=p.createContext({}),tt=()=>p.useContext(Zx),xP=(e,t,n)=>({updateTournamentResult:(a,l,c,u,d)=>{t(f=>{const m=(f[a]||[]).map(g=>{if(g.teamId===l){const v={...g.rounds};v[c]||(v[c]={points:0,wl:"",boston:0}),v[c]={...v[c],[u]:d};const x=Object.values(v).reduce((b,S)=>b+(S.points||0),0),w=Object.values(v).filter(b=>b.wl==="W").length,y=Object.values(v).reduce((b,S)=>b+(S.boston||0),0);return{...g,rounds:v,totalPoints:x,totalWins:w,totalBoston:y}}return g});return{...f,[a]:m}})},getTournamentResults:a=>{const l=n.filter(f=>{var h;return(h=f.registeredTournaments)==null?void 0:h.includes(a)}),c=e[a]||[],u={};return c.forEach(f=>{u[f.teamId]=f}),l.map(f=>u[f.id]?u[f.id]:{teamId:f.id,teamNumber:f.teamNumber,teamName:f.name,rounds:{},totalPoints:0,totalWins:0,totalBoston:0})},formatTeamName:(a,l)=>{if(!a.trim()||!l.trim())return"";const c=l.trim().charAt(0).toUpperCase();return`${a.trim()} ${c}`}}),ew=({children:e})=>{J.useEffect(()=>{_n(async()=>{const{supabase:C}=await Promise.resolve().then(()=>Ks);return{supabase:C}},void 0).then(({supabase:C})=>{C.from("teams").select("*").limit(1).then($=>{}).catch($=>{})})},[]);const t=C=>{if(C){const U=f.find(te=>te.tournamentId===C),ee=U?U.matches.map(te=>te.id):[];l(te=>te.filter(ce=>!ce.matchId||!ee.includes(ce.matchId))),localStorage.setItem("games",JSON.stringify(JSON.parse(localStorage.getItem("games")||"[]").filter(te=>!te.matchId||!ee.includes(te.matchId)))),d(te=>te.filter(ce=>!ce.matchId||!ee.includes(ce.matchId))),localStorage.setItem("scoreSubmissions",JSON.stringify(JSON.parse(localStorage.getItem("scoreSubmissions")||"[]").filter(te=>!te.matchId||!ee.includes(te.matchId))))}else l([]),localStorage.setItem("games",JSON.stringify([])),d([]),localStorage.setItem("scoreSubmissions",JSON.stringify([]));x(U=>{if(!C)return{};const ee={...U};return delete ee[C],ee});const $=localStorage.getItem("tournamentResults");let I=$?JSON.parse($):{};C&&typeof I=="object"&&I!==null?(delete I[C],localStorage.setItem("tournamentResults",JSON.stringify(I))):C||localStorage.setItem("tournamentResults",JSON.stringify({}));const G=localStorage.getItem("resultsOverrides");let W=G?JSON.parse(G):{};C&&typeof W=="object"&&W!==null?localStorage.setItem("resultsOverrides",JSON.stringify({})):C||localStorage.setItem("resultsOverrides",JSON.stringify({})),h(U=>C?U.filter(ee=>ee.tournamentId!==C):[]),localStorage.setItem("schedules",JSON.stringify(C?JSON.parse(localStorage.getItem("schedules")||"[]").filter(U=>U.tournamentId!==C):[])),y(U=>{if(!C)return{};const ee={...U};return delete ee[C],ee});const z=localStorage.getItem("brackets");let B=z?JSON.parse(z):{};C&&typeof B=="object"&&B!==null?(delete B[C],localStorage.setItem("brackets",JSON.stringify(B))):C||localStorage.setItem("brackets",JSON.stringify({}))},[n,r]=p.useState(!1),[s,o]=p.useState([]);p.useEffect(()=>{_n(()=>Promise.resolve().then(()=>Ks),void 0).then(async({supabase:C})=>{const{data:$,error:I}=await C.from("teams").select("*");if(I){o([]);return}const{data:G,error:W}=await C.from("team_registrations").select("*");if(W){const B=($||[]).map(U=>({...U,id:String(U.id),teamNumber:U.teamNumber,phoneNumber:String(U.phone_number??U.phoneNumber??""),registeredTournaments:(U.registeredTournaments||[]).map(String)}));o(B);return}const z=($||[]).map(B=>{const ee=G.filter(te=>String(te.team_id)===String(B.id)).map(te=>te.tournament_id);return{...B,phoneNumber:String(B.phone_number??B.phoneNumber??""),registeredTournaments:ee}});o(z)})},[]);const[a,l]=p.useState([]);p.useEffect(()=>{async function C(){const{data:$,error:I}=await Ot.from("games").select("*");if(I){ae({title:"Failed to fetch games from Supabase",description:I.message,variant:"destructive"}),l([]);return}if(!$){l([]);return}const G=$.map(W=>({...W,id:String(W.id),teamA:String(W.teamA),teamB:String(W.teamB),matchId:String(W.matchId),handsA:W.handsA??W.hands_a??0,handsB:W.handsB??W.hands_b??0}));l(G)}C()},[]);const c=async()=>{try{const{data:C,error:$}=await Ot.from("games").select("*");if($){ae({title:"Failed to refresh games from Supabase",description:$.message,variant:"destructive"});return}const I=(C||[]).map(G=>({...G,handsA:G.handsA??G.hands_a??0,handsB:G.handsB??G.hands_b??0}));l(I)}catch(C){ae({title:"Unexpected error refreshing games",description:String(C),variant:"destructive"})}},[u,d]=p.useState(()=>{const C=localStorage.getItem("scoreSubmissions");return C?JSON.parse(C):[]}),[f,h]=p.useState([]);p.useEffect(()=>{async function C(){try{const{data:$,error:I}=await Ot.from("matches").select("*");if(I){ae({title:"Failed to fetch schedules from Supabase",description:I.message,variant:"destructive"});return}if(!$){h([]);return}const G={};$.forEach(z=>{const B={id:String(z.id),teamA:String(z.team_a),teamB:String(z.team_b),round:z.round,tournamentId:String(z.tournament_id),isBye:z.is_bye,isSameCity:z.is_same_city,table:z.table_number};G[B.tournamentId]||(G[B.tournamentId]=[]),G[B.tournamentId].push(B)});const W=Object.entries(G).map(([z,B])=>({tournamentId:z,rounds:Math.max(...B.map(U=>U.round)),matches:B}));h(W)}catch($){ae({title:"Unexpected error fetching schedules",description:String($),variant:"destructive"}),h([])}}C()},[]),p.useEffect(()=>{const C=Ot.channel("public:matches").on("postgres_changes",{event:"*",schema:"public",table:"matches"},async()=>{try{const{data:$,error:I}=await Ot.from("matches").select("*");if(I||!$)return;const G={};$.forEach(z=>{const B={id:String(z.id),teamA:String(z.team_a),teamB:String(z.team_b),round:z.round,tournamentId:String(z.tournament_id),isBye:z.is_bye,isSameCity:z.is_same_city,table:z.table_number};G[B.tournamentId]||(G[B.tournamentId]=[]),G[B.tournamentId].push(B)});const W=Object.entries(G).map(([z,B])=>({tournamentId:z,rounds:Math.max(...B.map(U=>U.round)),matches:B}));h(W)}catch($){console.error("Realtime schedule refresh failed",$)}}).subscribe();return()=>{Ot.removeChannel(C)}},[]),p.useEffect(()=>{localStorage.setItem("schedules",JSON.stringify(f))},[f]),p.useEffect(()=>{localStorage.setItem("scoreSubmissions",JSON.stringify(u))},[u]);const[m,g]=p.useState([]),[v,x]=p.useState({}),[w,y]=p.useState(()=>{const C=localStorage.getItem("brackets");return C?JSON.parse(C):{}});p.useEffect(()=>{localStorage.setItem("brackets",JSON.stringify(w))},[w]);const[b,S]=p.useState(["Columbus","Cincinnati","Chicago","Detroit","Atlanta","DC/Maryland","Other"]),[j,N]=p.useState([]);p.useEffect(()=>{_n(async()=>{const{supabase:C}=await Promise.resolve().then(()=>Ks);return{supabase:C}},void 0).then(({supabase:C})=>{C.from("tournaments").select("*").then($=>{if(!$.error){const I=($.data||[]).map(G=>({...G,bostonPotCost:G.boston_pot_cost}));N(I)}})})},[]);const _=p.useCallback(()=>j.find(C=>C.status==="active")||null,[j]),O=async C=>{const $=String(C),{error:I}=await Ot.from("tournaments").update({status:"not_active"}).neq("id",$);I&&console.error("[setActiveTournament] Error setting all to not_active:",I);const{error:G}=await Ot.from("tournaments").update({status:"active"}).eq("id",$).select();G&&console.error("[setActiveTournament] Error setting selected to active:",G);const{data:W,error:z}=await Ot.from("tournaments").select("*");z?console.error("[setActiveTournament] Error refreshing tournaments:",z):N(W||[]),(I||G)&&ae({title:"Failed to set active tournament",description:((I==null?void 0:I.message)||"")+((G==null?void 0:G.message)||""),variant:"destructive"})},L=C=>{N($=>$.map(I=>I.id===C?{...I,status:"finished"}:I)),h($=>$.filter(I=>I.tournamentId!==C)),E(C),k(C),A(C),ae({title:"Tournament finished and cleared."})},[M,Y]=p.useState(""),{updateTournamentResult:H,getTournamentResults:V,formatTeamName:T}=xP(v,x,s),P=(C,$,I,G)=>{o(W=>W.map(z=>{if(z.id!==C)return z;const B=$==="player1"?"player1TournamentPayments":"player2TournamentPayments";return{...z,[B]:{...z[B],[I]:G}}}))};p.useEffect(()=>{a.forEach(C=>{if(!C.confirmed)return;let $="1";if(C.matchId){const te=f.find(ce=>ce.matches.some(_e=>_e.id===C.matchId));te&&($=te.tournamentId)}const I=C.round,G=typeof C.teamA=="object"?C.teamA.id:C.teamA,W=typeof C.teamB=="object"?C.teamB.id:C.teamB,z=C.scoreA>C.scoreB,B=C.scoreB>C.scoreA,U=C.boston==="teamA"?1:0,ee=C.boston==="teamB"?1:0;x(te=>{let _e=(te[$]||[]).map(re=>{if(re.teamId===G){const ie={...re.rounds};ie[I]={points:C.scoreA,wl:z?"W":"L",boston:U};const he=Object.values(ie).reduce((Ee,se)=>Ee+(se.points||0),0),Oe=Object.values(ie).filter(Ee=>Ee.wl==="W").length,Ce=Object.values(ie).reduce((Ee,se)=>Ee+(se.boston||0),0);return{...re,rounds:ie,totalPoints:he,totalWins:Oe,totalBoston:Ce}}return re});return _e=_e.map(re=>{if(re.teamId===W){const ie={...re.rounds};ie[I]={points:C.scoreB,wl:B?"W":"L",boston:ee};const he=Object.values(ie).reduce((Ee,se)=>Ee+(se.points||0),0),Oe=Object.values(ie).filter(Ee=>Ee.wl==="W").length,Ce=Object.values(ie).reduce((Ee,se)=>Ee+(se.boston||0),0);return{...re,rounds:ie,totalPoints:he,totalWins:Oe,totalBoston:Ce}}return re}),{...te,[$]:_e}})})},[a,f]);const R=async C=>{const $=C.matchId,I=C.submittedBy,G=u.filter(U=>U.matchId===$),W=G.find(U=>U.submittedBy===I),z=G.find(U=>U.submittedBy!==I),B={id:(W==null?void 0:W.id)||Date.now().toString(),matchId:$,teamA:C.teamA,teamB:C.teamB,scoreA:C.scoreA,scoreB:C.scoreB,boston:C.boston,handsA:C.handsA,handsB:C.handsB,submittedBy:I,timestamp:new Date,round:C.round};if(d(W?U=>U.map(ee=>ee.id===W.id?B:ee):U=>[...U,B]),z&&z.scoreA===C.scoreA&&z.scoreB===C.scoreB&&z.boston===C.boston){const U={id:Date.now().toString(),teamA:C.teamA,teamB:C.teamB,scoreA:C.scoreA,scoreB:C.scoreB,teamAScore:C.scoreA,teamBScore:C.scoreB,boston:C.boston,winner:C.scoreA>C.scoreB?"teamA":"teamB",submittedBy:"Both Teams",confirmed:!0,timestamp:new Date,matchId:$,round:C.round,handsA:C.handsA,handsB:C.handsB};try{const{error:ie}=await Ot.from("games").upsert([{id:U.id,matchId:U.matchId,teamA:String(U.teamA.id||U.teamA),teamB:String(U.teamB.id||U.teamB),scoreA:U.scoreA,scoreB:U.scoreB,boston:U.boston,winner:U.winner,submittedBy:U.submittedBy,confirmed:U.confirmed,confirmedBy:null,round:U.round,timestamp:U.timestamp,handsA:U.handsA,handsB:U.handsB}],{onConflict:["id"]});if(ie){ae({title:"Failed to save game to Supabase",description:ie.message,variant:"destructive"});return}ae({title:"Game result saved to Supabase!",variant:"default"}),l(he=>[...he,U]),await F(U.id,!0,U),await c()}catch(ie){ae({title:"Unexpected error saving game",description:String(ie),variant:"destructive"})}l(ie=>[...ie.filter(he=>he.matchId!==$),U]),d(ie=>ie.filter(he=>he.matchId!==$));const ee="1",te=C.scoreA>C.scoreB?C.teamA:C.teamB,ce=C.scoreA>C.scoreB?C.teamB:C.teamA,_e=Math.max(C.scoreA,C.scoreB),re=Math.min(C.scoreA,C.scoreB);H(ee,te.id,C.round,"wl","W"),H(ee,te.id,C.round,"points",_e),H(ee,ce.id,C.round,"wl","L"),H(ee,ce.id,C.round,"points",re),C.boston===(C.scoreA>C.scoreB?"teamA":"teamB")&&H(ee,te.id,C.round,"boston",1),C.boston===(C.scoreA>C.scoreB?"teamB":"teamA")&&H(ee,ce.id,C.round,"boston",1),C.round<4&&h(ie=>ie.map(he=>{if(he.tournamentId===ee){const Oe=he.matches.map(Ce=>{if(Ce.round===C.round+1){const se=he.matches.filter(Ie=>Ie.round===C.round).findIndex(Ie=>Ie.id===$),Ye=he.matches.filter(Ie=>Ie.round===C.round+1),Fe=Math.floor(se/2),we=Ye[Fe];if(Ce.id===(we==null?void 0:we.id))return se%2===0?{...Ce,teamA:te.id}:{...Ce,teamB:te.id}}return Ce});return{...he,matches:Oe}}return he})),ae({title:"Score confirmed! Results updated."})}else z?z.scoreA===C.scoreA&&z.scoreB===C.scoreB&&z.boston!==C.boston?ae({title:"Score Conflict",description:"Boston values do not match. Please resolve with opponent.",variant:"destructive"}):ae({title:"Score Conflict",description:"Scores dont match. Please resolve with opponent.",variant:"destructive"}):ae({title:"Score Submitted",description:"Waiting for opponent to confirm."})},E=C=>{x($=>{const I={...$};return delete I[C],I})},k=C=>{l($=>{const I=f.find(W=>W.tournamentId===C);if(!I)return $;const G=I.matches.map(W=>W.id);return $.filter(W=>!W.matchId||!G.includes(W.matchId))})},A=C=>{d($=>{const I=f.find(W=>W.tournamentId===C);if(!I)return $;const G=I.matches.map(W=>W.id);return $.filter(W=>!G.includes(W.matchId))})},D=async C=>{try{const{matches:$}=C,I=$.map(W=>({id:W.id,team_a:W.teamA,team_b:W.teamB,round:W.round,tournament_id:W.tournamentId,table_number:W.table!=null?W.table:1,is_bye:W.isBye??!1,is_same_city:W.isSameCity??!1})),{error:G}=await Ot.from("matches").upsert(I,{onConflict:["id"]});if(G){ae({title:"Failed to save schedule to Supabase",description:G.message,variant:"destructive"});return}ae({title:"Schedule saved to Supabase!",variant:"default"}),h(W=>[...W.filter(z=>z.tournamentId!==C.tournamentId),C])}catch($){ae({title:"Unexpected error saving schedule",description:String($),variant:"destructive"})}},F=async(C,$,I)=>{var _e;l(re=>re.map(ie=>ie.id===C?{...ie,confirmed:$}:ie));const W=a.find(re=>re.id===C)||I;if(!W)return;let z="",B,U;for(const re of f){const ie=re.matches.find(he=>he.id===W.matchId);if(ie){z=re.tournamentId,B=ie,U=re;break}}if(!z||!B||!U)return;const ee=U.matches.some(re=>{const ie=/^R\d+[LW]\d+$/;return typeof re.teamA=="string"&&ie.test(re.teamA)||typeof re.teamB=="string"&&ie.test(re.teamB)}),te=U.rounds<=1||U.matches.some(re=>re.opponentPlaceholder)||ee;if(te){const ie=B.round+1,he=W.scoreA>W.scoreB?B.teamA:B.teamB,Oe=W.scoreA>W.scoreB?B.teamB:B.teamA;let Ce=f;if(te){const Le=B.round,st=Le+1,We=`R${Le}L${B.table}`,At=`R${Le}W${B.table}`;console.log("--- confirmScore debug ---"),console.log("currentRound:",Le),console.log("match.table:",B.table),console.log("loserPlaceholder:",We),console.log("winnerPlaceholder:",At),(((_e=f.find(Je=>Je.tournamentId===z))==null?void 0:_e.matches.filter(Je=>Je.round===st))||[]).forEach(Je=>{console.log("Next round match:",Je.id,"teamA:",Je.teamA,"teamB:",Je.teamB)});const Me=Je=>typeof Je=="string"?Je.trim().toUpperCase():Je;Ce=f.map(Je=>{if(Je.tournamentId!==z)return Je;const ga=Je.matches.map(Rn=>{if(Rn.round===st){let cn={...Rn};return Me(cn.teamA)===Me(We)&&(cn.teamA=Oe),Me(cn.teamB)===Me(We)&&(cn.teamB=Oe),Me(cn.teamA)===Me(At)&&(cn.teamA=he),Me(cn.teamB)===Me(At)&&(cn.teamB=he),cn}return Rn});return{...Je,matches:ga}})}const Ee=B.table??1,se=Math.ceil(U.matches.filter(Le=>Le.round===1&&!Le.isBye).length/2),Ye=Math.ceil(Ee/2),Fe=se-Math.floor((se-Ee)/2),we=Ce.map(Le=>{if(Le.tournamentId!==z)return Le;let st=Le.matches.filter(Me=>Me.round===ie),We=st.find(Me=>Me.table===Ye);We||(We={id:`${z}-r${ie}-t${Ye}`,tournamentId:z,round:ie,table:Ye,teamA:null,teamB:null,isBye:!1,isSameCity:!1},st.push(We)),We.teamA?We.teamB||(We.teamB=Oe):We.teamA=Oe;let At=st.find(Me=>Me.table===Fe);At||(At={id:`${z}-r${ie}-t${Fe}`,tournamentId:z,round:ie,table:Fe,teamA:null,teamB:null,isBye:!1,isSameCity:!1},st.push(At)),At.teamA?At.teamB||(At.teamB=he):At.teamA=he,[We,At].forEach(Me=>{Me.teamA&&!Me.teamB?Me.opponentPlaceholder={type:"winner",table:Me.table}:!Me.teamA&&Me.teamB&&(Me.opponentPlaceholder={type:"winner",table:Me.table})});const ei=Math.max(Le.rounds,ie);return{...Le,matches:[...Le.matches.filter(Me=>Me.round!==ie),...st],rounds:ei}});h(we);const Ie=we.find(Le=>Le.tournamentId===z);Ie&&await D(Ie)}const ce=f.find(re=>re.tournamentId===z);ce&&await D(ce)},Q=async()=>{for(const C of a.filter($=>$.confirmed))await F(C.id,!0,C);ae({title:"Variables updated across schedule."})},Z=async()=>{try{const{data:C,error:$}=await Ot.from("matches").select("*");if($||!C)return;const I={};C.forEach(W=>{const z={id:String(W.id),teamA:String(W.team_a),teamB:String(W.team_b),round:W.round,tournamentId:String(W.tournament_id),isBye:W.is_bye,isSameCity:W.is_same_city,table:W.table_number};I[z.tournamentId]||(I[z.tournamentId]=[]),I[z.tournamentId].push(z)});const G=Object.entries(I).map(([W,z])=>({tournamentId:W,rounds:Math.max(...z.map(B=>B.round)),matches:z}));h(G),ae({title:"Schedule refreshed from database."})}catch(C){console.error("refreshSchedules error",C)}},q=()=>{h(C=>C.map($=>{const I=$.matches.map(z=>({...z})),G=(z,B)=>I.find(U=>U.round===z&&U.table===B),W=z=>{const B=/^R(\d+)([LW])(\d+)$/.exec(z.trim().toUpperCase());if(!B)return null;const[,U,ee,te]=B,ce=G(parseInt(U),parseInt(te));if(!ce)return null;const _e=a.find(he=>he.matchId===ce.id&&he.confirmed);if(!_e)return null;const re=_e.scoreA>_e.scoreB?ce.teamB:ce.teamA,ie=_e.scoreA>_e.scoreB?ce.teamA:ce.teamB;return ee==="L"?re:ie};return I.forEach(z=>{if(typeof z.teamA=="string"){const B=W(z.teamA);B&&(z.teamA=B)}if(typeof z.teamB=="string"){const B=W(z.teamB);B&&(z.teamB=B)}}),{...$,matches:I}})),ae({title:"Placeholders forcibly refreshed."})};return i.jsx(Zx.Provider,{value:{sidebarOpen:n,toggleSidebar:()=>r(C=>!C),teams:s,games:a,setGames:l,tournaments:j,setTournaments:N,schedules:f,scoreTexts:m,tournamentResults:v,setTournamentResults:x,brackets:w,cities:b,currentUser:M,setCurrentUser:Y,scoreSubmissions:u,setScoreSubmissions:d,resetAllTournamentData:t,updatePlaceholders:Q,forceReplaceAllPlaceholders:q,refreshSchedules:Z,deleteTeam:C=>{o($=>{const I=$.filter(G=>G.id!==C);return localStorage.setItem("teams",JSON.stringify(I)),I}),ae({title:"Team deleted successfully."})},addTeam:async(C,$,I,G,W,z,B,U)=>{const ee=T(C,$),te=T(I,G),ce=`${ee}/${te}`;Math.max(...s.map(Fe=>Fe.teamNumber||0))+1;const _e={name:ce,player1_first_name:C,player1_last_name:$,player2_first_name:I,player2_last_name:G,phone_number:W,city:z},{supabase:re}=await _n(async()=>{const{supabase:Fe}=await Promise.resolve().then(()=>Ks);return{supabase:Fe}},void 0),{data:ie,error:he}=await re.from("teams").insert([_e]).select();if(he||!ie||!ie[0])return ae({title:"Failed to register team in database.",description:(he==null?void 0:he.message)||"Unknown error",variant:"destructive"}),null;const Oe=ie[0].id;if(B&&B.length>0){const Fe=B.map(we=>({team_id:Oe,tournament_id:we}));await re.from("team_registrations").insert(Fe)}const{data:Ce,error:Ee}=await re.from("teams").select("*");Ee&&ae({title:"Error reloading teams from Supabase.",description:Ee.message,variant:"destructive"});const{data:se,error:Ye}=await re.from("team_registrations").select("*");if(!Ee&&!Ye){const Fe=(Ce||[]).map(we=>{const Le=se.filter(st=>String(st.team_id)===String(we.id)).map(st=>st.tournament_id);return{...we,registeredTournaments:Le}});o(Fe)}else Ce&&o(Ce);return ae({title:`Team ${ce} registered successfully!`}),Oe},updateTeam:async C=>{const{supabase:$}=await _n(async()=>{const{supabase:re}=await Promise.resolve().then(()=>Ks);return{supabase:re}},void 0),{id:I,registeredTournaments:G,...W}=C,z={teamNumber:"team_number",name:"name",player1FirstName:"player1_first_name",player1LastName:"player1_last_name",player2FirstName:"player2_first_name",player2LastName:"player2_last_name",phoneNumber:"phone_number",city:"city"},B={};for(const re in z)re in W&&(B[z[re]]=W[re]);const{error:U}=await $.from("teams").update(B).eq("id",I);if(U){ae({title:"Failed to update team in database.",description:U.message,variant:"destructive"});return}if(Array.isArray(G)&&(await $.from("team_registrations").delete().eq("team_id",I),G.length>0)){const re=G.map(ie=>({team_id:I,tournament_id:ie}));await $.from("team_registrations").insert(re)}const{data:ee,error:te}=await $.from("teams").select("*");if(te){ae({title:"Error reloading teams from Supabase.",description:te.message,variant:"destructive"});return}const{data:ce,error:_e}=await $.from("team_registrations").select("*");if(_e)o(ee||[]);else{const re=(ee||[]).map(ie=>{const Oe=ce.filter(Ce=>String(Ce.team_id)===String(ie.id)).map(Ce=>Ce.tournament_id);return{...ie,registeredTournaments:Oe}});o(re)}ae({title:"Team updated successfully!"})},submitGame:R,confirmGame:(C,$)=>{l(I=>I.map(G=>G.id===C?{...G,confirmed:!0,confirmedBy:$}:G))},updateGameScore:(C,$,I)=>{},saveSchedule:async C=>{try{const{matches:$}=C,I=$.map(W=>({id:W.id,team_a:W.teamA,team_b:W.teamB,round:W.round,tournament_id:W.tournamentId,table_number:W.table!=null?W.table:1,is_bye:W.isBye??!1,is_same_city:W.isSameCity??!1})),{error:G}=await Ot.from("matches").upsert(I,{onConflict:["id"]});if(G){ae({title:"Failed to save schedule to Supabase",description:G.message,variant:"destructive"});return}ae({title:"Schedule saved to Supabase!",variant:"default"}),h(W=>[...W.filter(z=>z.tournamentId!==C.tournamentId),C])}catch($){ae({title:"Unexpected error saving schedule",description:String($),variant:"destructive"})}},addScoreText:C=>{g($=>[...$,C])},updateScoreText:(C,$)=>{g(I=>I.map(G=>G.id===C?{...G,...$}:G))},getPendingGames:()=>a.filter(C=>!C.confirmed),getTeamStats:()=>({wins:0,losses:0,totalPoints:0,bostons:0}),updateTournamentResult:H,getTournamentResults:V,addTournament:(C,$,I,G)=>{if(!C||typeof C!="string"||C.trim()===""){ae({title:"Tournament name is required.",variant:"destructive"});return}if(typeof $!="number"||$<=0){ae({title:"Tournament cost must be greater than 0.",variant:"destructive"});return}if(typeof I!="number"||I<0){ae({title:"Boston Pot cost must be 0 or greater.",variant:"destructive"});return}const W={id:Date.now().toString(),name:C.trim(),cost:Number($),bostonPotCost:Number(I),description:typeof G=="string"?G:"",status:"active"};N(z=>{const U=[...z.filter(ee=>ee&&typeof ee.id=="string"&&typeof ee.name=="string"&&typeof ee.cost=="number"&&typeof ee.bostonPotCost=="number"&&(ee.status==="active"||ee.status==="finished")).map(ee=>({id:ee.id,name:ee.name,cost:Number(ee.cost),bostonPotCost:Number(ee.bostonPotCost),description:typeof ee.description=="string"?ee.description:"",status:ee.status})),W];return localStorage.setItem("tournaments",JSON.stringify(U)),U}),ae({title:`Tournament "${W.name}" added and set as active!`})},finishTournament:L,getActiveTournament:_,setActiveTournament:O,updateTournament:async(C,$,I,G,W,z)=>{const{supabase:B}=await _n(async()=>{const{supabase:ce}=await Promise.resolve().then(()=>Ks);return{supabase:ce}},void 0),{error:U}=await B.from("tournaments").update({name:$,cost:I,boston_pot_cost:G,status:z,description:W}).eq("id",C);if(U){ae({title:"Failed to update tournament in database.",description:U.message,variant:"destructive"});return}const{data:ee,error:te}=await B.from("tournaments").select("*");te||N(ee||[]),ae({title:`Tournament "${$}" updated successfully!`})},updatePaymentStatus:()=>{},updatePlayerPaymentStatus:()=>{},updatePlayerTournamentPayment:P,updateTeamPayment:()=>{},sendScoreSheetLinks:async()=>{},submitScore:async()=>{},confirmScore:F,saveBracket:C=>{y($=>({...$,[C.tournamentId]:C}))},getBracket:C=>w[C]||null,updateBracket:(C,$)=>{y(I=>{const G=I[C];return G?{...I,[C]:{...G,...$}}:I})},deleteBracket:C=>{y($=>{const I={...$};return delete I[C],I})},addCity:C=>{b.includes(C)?ae({title:"City already exists",description:`"${C}" is already in the list.`,variant:"destructive"}):(S($=>[...$,C]),ae({title:`City "${C}" added successfully!`}))},removeCity:C=>{const $=s.filter(I=>I.city===C);if($.length>0){ae({title:"Cannot remove city",description:`${$.length} team(s) are using "${C}". Remove or update teams first.`,variant:"destructive"});return}S(I=>I.filter(G=>G!==C)),ae({title:`City "${C}" removed successfully!`})},updateCities:C=>{S(C),ae({title:"Cities updated successfully!"})},clearTournamentResults:E,clearGames:k,clearScoreSubmissions:A,refreshGamesFromSupabase:c},children:e})},be=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:de("rounded-lg border border-border/40 bg-background shadow-sm",e),...t}));be.displayName="Card";const Te=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:de("flex flex-col space-y-1.5 p-6",e),...t}));Te.displayName="CardHeader";const ke=p.forwardRef(({className:e,...t},n)=>i.jsx("h3",{ref:n,className:de("text-2xl font-semibold leading-none tracking-tight text-foreground",e),...t}));ke.displayName="CardTitle";const wP=p.forwardRef(({className:e,...t},n)=>i.jsx("p",{ref:n,className:de("text-sm text-muted-foreground",e),...t}));wP.displayName="CardDescription";const Se=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:de("p-6 pt-0",e),...t}));Se.displayName="CardContent";const bP=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:de("flex items-center p-6 pt-0",e),...t}));bP.displayName="CardFooter";const SP=ca("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),oe=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const a=r?zj:"button";return i.jsx(a,{className:de(SP({variant:t,size:n,className:e})),ref:o,...s})});oe.displayName="Button";const pe=p.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:de("flex h-10 w-full rounded-md border border-border/60 bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));pe.displayName="Input";var jP="Label",tw=p.forwardRef((e,t)=>i.jsx(fe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));tw.displayName=jP;var nw=tw;const NP=ca("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",{variants:{variant:{default:"text-foreground",muted:"text-muted-foreground",accent:"text-primary"},size:{default:"text-sm",xs:"text-xs",sm:"text-sm",lg:"text-base"}},defaultVariants:{variant:"default",size:"default"}}),ue=p.forwardRef(({className:e,variant:t,size:n,...r},s)=>i.jsx(nw,{ref:s,className:de(NP({variant:t,size:n}),e),...r}));ue.displayName=nw.displayName;const _P=({onSetupComplete:e})=>{const{setCurrentUser:t,teams:n,fetchError:r}=tt(),[s,o]=p.useState(""),[a,l]=p.useState(null),[c,u]=p.useState(!1),d=()=>{s.trim()&&(t(s.trim()),e())},f=h=>{h.key==="Enter"&&d()};return n?i.jsxs("div",{className:"min-h-screen flex flex-col justify-between items-center bg-gradient-to-br from-black via-red-900 to-black p-4 relative",children:[i.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none select-none bg-[url('https://upload.wikimedia.org/wikipedia/commons/5/5a/Spades.svg')] bg-center bg-repeat",style:{zIndex:0}}),i.jsxs(be,{className:"w-full max-w-md shadow-2xl border-4 border-black rounded-2xl bg-gradient-to-br from-black via-gray-900 to-red-900/80 backdrop-blur relative z-10",children:[i.jsxs(Te,{className:"text-center space-y-4",children:[i.jsxs("div",{className:"mx-auto w-20 h-28 flex items-center justify-center bg-gradient-to-br from-black to-red-800 rounded-xl shadow-lg border-2 border-white relative",children:[i.jsxs("svg",{width:"48",height:"64",viewBox:"0 0 48 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("rect",{width:"48",height:"64",rx:"8",fill:"#fff",stroke:"#000",strokeWidth:"2"}),i.jsx("text",{x:"24",y:"40",textAnchor:"middle",fontSize:"36",fontWeight:"bold",fill:"#000",children:"🂡"})]}),i.jsx("span",{className:"absolute top-1 left-2 text-black text-lg font-bold",children:"A"}),i.jsx("span",{className:"absolute bottom-1 right-2 text-black text-lg font-bold rotate-180",children:"A"}),i.jsx("span",{className:"absolute top-5 left-3 text-black text-2xl",children:"♠"}),i.jsx("span",{className:"absolute bottom-5 right-3 text-black text-2xl rotate-180",children:"♠"})]}),i.jsx(ke,{className:"text-4xl font-extrabold bg-gradient-to-r from-red-600 to-black bg-clip-text text-transparent drop-shadow-lg tracking-wide",children:"My Tournaments"}),i.jsx("p",{className:"text-red-200 text-lg font-semibold drop-shadow",children:"Welcome Brian"})]}),i.jsxs(Se,{className:"space-y-6",children:[a&&i.jsx("div",{className:"bg-red-100 border border-red-300 text-red-800 rounded p-3 mb-2 text-center",children:a}),r&&i.jsx("div",{className:"bg-red-100 border border-red-300 text-red-800 rounded p-3 mb-2 text-center",children:r}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ue,{htmlFor:"playerName",className:"text-base font-semibold text-red-100 drop-shadow",children:"Please enter your pin to access the admin portal"}),i.jsx(pe,{id:"playerName",placeholder:"Enter pin",value:s,onChange:h=>o(h.target.value),onKeyPress:f,className:"text-center text-lg bg-black/80 text-white border-red-500 focus:border-red-700 focus:ring-red-700",autoFocus:!0})]}),i.jsxs(oe,{onClick:d,disabled:!s.trim()||c,className:"w-full bg-gradient-to-r from-black via-red-700 to-black hover:from-red-800 hover:to-black text-white font-bold py-3 px-4 rounded-xl shadow-xl transform transition hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2 border-2 border-red-700",children:[c&&i.jsx("span",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),i.jsx(WN,{size:20}),"Enter My Tournaments Admin portal"]}),(n==null?void 0:n.length)===0&&i.jsx("p",{className:"text-sm text-red-300 text-center italic",children:"Note: Add teams first in the Teams tab"})]}),i.jsx("div",{className:"mt-6 text-xs text-center text-red-200 font-mono tracking-wide",children:"Built and Managed by Brian Welch"})]}),i.jsx("div",{className:"w-full text-center text-xs text-red-300 mt-4 z-10",children:"Built and Managed by Brian Welch"})]}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:i.jsxs("div",{children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),i.jsx("div",{children:"Loading teams..."}),r&&i.jsx("div",{className:"mt-4 bg-red-100 border border-red-300 text-red-800 rounded p-3 text-center",children:r})]})})};function ag(e,[t,n]){return Math.min(n,Math.max(t,e))}var CP=p.createContext(void 0);function Ih(e){const t=p.useContext(CP);return e||t||"ltr"}var Pu=0;function rw(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??lg()),document.body.insertAdjacentElement("beforeend",e[1]??lg()),Pu++,()=>{Pu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Pu--}},[])}function lg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Au="focusScope.autoFocusOnMount",Ru="focusScope.autoFocusOnUnmount",cg={bubbles:!1,cancelable:!0},TP="FocusScope",Mh=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=e,[l,c]=p.useState(null),u=ln(s),d=ln(o),f=p.useRef(null),h=$e(t,v=>c(v)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(b){if(m.paused||!l)return;const S=b.target;l.contains(S)?f.current=S:_r(f.current,{select:!0})},x=function(b){if(m.paused||!l)return;const S=b.relatedTarget;S!==null&&(l.contains(S)||_r(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&_r(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const y=new MutationObserver(w);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),y.disconnect()}}},[r,l,m.paused]),p.useEffect(()=>{if(l){dg.add(m);const v=document.activeElement;if(!l.contains(v)){const w=new CustomEvent(Au,cg);l.addEventListener(Au,u),l.dispatchEvent(w),w.defaultPrevented||(kP(OP(sw(l)),{select:!0}),document.activeElement===v&&_r(l))}return()=>{l.removeEventListener(Au,u),setTimeout(()=>{const w=new CustomEvent(Ru,cg);l.addEventListener(Ru,d),l.dispatchEvent(w),w.defaultPrevented||_r(v??document.body,{select:!0}),l.removeEventListener(Ru,d),dg.remove(m)},0)}}},[l,u,d,m]);const g=p.useCallback(v=>{if(!n&&!r||m.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(x&&w){const y=v.currentTarget,[b,S]=EP(y);b&&S?!v.shiftKey&&w===S?(v.preventDefault(),n&&_r(b,{select:!0})):v.shiftKey&&w===b&&(v.preventDefault(),n&&_r(S,{select:!0})):w===y&&v.preventDefault()}},[n,r,m.paused]);return i.jsx(fe.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});Mh.displayName=TP;function kP(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(_r(r,{select:t}),document.activeElement!==n)return}function EP(e){const t=sw(e),n=ug(t,e),r=ug(t.reverse(),e);return[n,r]}function sw(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ug(e,t){for(const n of e)if(!PP(n,{upTo:t}))return n}function PP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function AP(e){return e instanceof HTMLInputElement&&"select"in e}function _r(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&AP(e)&&t&&e.select()}}var dg=RP();function RP(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=fg(e,t),e.unshift(t)},remove(t){var n;e=fg(e,t),(n=e[0])==null||n.resume()}}}function fg(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function OP(e){return e.filter(t=>t.tagName!=="A")}function ow(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var IP=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qs=new WeakMap,Wa=new WeakMap,Va={},Ou=0,iw=function(e){return e&&(e.host||iw(e.parentNode))},MP=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=iw(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},BP=function(e,t,n,r){var s=MP(t,Array.isArray(e)?e:[e]);Va[n]||(Va[n]=new WeakMap);var o=Va[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(r),g=m!==null&&m!=="false",v=(qs.get(h)||0)+1,x=(o.get(h)||0)+1;qs.set(h,v),o.set(h,x),a.push(h),v===1&&g&&Wa.set(h,!0),x===1&&h.setAttribute(n,"true"),g||h.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(t),l.clear(),Ou++,function(){a.forEach(function(f){var h=qs.get(f)-1,m=o.get(f)-1;qs.set(f,h),o.set(f,m),h||(Wa.has(f)||f.removeAttribute(r),Wa.delete(f)),m||f.removeAttribute(n)}),Ou--,Ou||(qs=new WeakMap,qs=new WeakMap,Wa=new WeakMap,Va={})}},aw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=IP(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),BP(r,s,n,"aria-hidden")):function(){return null}},Dn=function(){return Dn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Dn.apply(this,arguments)};function lw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function $P(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var ul="right-scroll-bar-position",dl="width-before-scroll-bar",LP="with-scroll-bars-hidden",DP="--removed-body-scroll-bar-size";function Iu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function FP(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var UP=typeof window<"u"?p.useLayoutEffect:p.useEffect,hg=new WeakMap;function zP(e,t){var n=FP(null,function(r){return e.forEach(function(s){return Iu(s,r)})});return UP(function(){var r=hg.get(n);if(r){var s=new Set(r),o=new Set(e),a=n.current;s.forEach(function(l){o.has(l)||Iu(l,null)}),o.forEach(function(l){s.has(l)||Iu(l,a)})}hg.set(n,e)},[e]),n}function WP(e){return e}function VP(e,t){t===void 0&&(t=WP);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(o),a=n}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function HP(e){e===void 0&&(e={});var t=VP(null);return t.options=Dn({async:!0,ssr:!1},e),t}var cw=function(e){var t=e.sideCar,n=lw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Dn({},n))};cw.isSideCarExport=!0;function GP(e,t){return e.useMedium(t),cw}var uw=HP(),Mu=function(){},Ic=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Mu,onWheelCapture:Mu,onTouchMoveCapture:Mu}),s=r[0],o=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,v=e.inert,x=e.allowPinchZoom,w=e.as,y=w===void 0?"div":w,b=e.gapMode,S=lw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=zP([n,t]),_=Dn(Dn({},S),s);return p.createElement(p.Fragment,null,d&&p.createElement(j,{sideCar:uw,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:v,setCallbacks:o,allowPinchZoom:!!x,lockRef:n,gapMode:b}),a?p.cloneElement(p.Children.only(l),Dn(Dn({},_),{ref:N})):p.createElement(y,Dn({},_,{className:c,ref:N}),l))});Ic.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ic.classNames={fullWidth:dl,zeroRight:ul};var KP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=KP();return t&&e.setAttribute("nonce",t),e}function QP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function YP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var JP=function(){var e=0,t=null;return{add:function(n){e==0&&(t=qP())&&(QP(t,n),YP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},XP=function(){var e=JP();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},dw=function(){var e=XP(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},ZP={left:0,top:0,right:0,gap:0},Bu=function(e){return parseInt(e||"",10)||0},eA=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Bu(n),Bu(r),Bu(s)]},tA=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ZP;var t=eA(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},nA=dw(),bo="data-scroll-locked",rA=function(e,t,n,r){var s=e.left,o=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(LP,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(bo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ul,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(dl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ul," .").concat(ul,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(dl," .").concat(dl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bo,`] {
    `).concat(DP,": ").concat(l,`px;
  }
`)},mg=function(){var e=parseInt(document.body.getAttribute(bo)||"0",10);return isFinite(e)?e:0},sA=function(){p.useEffect(function(){return document.body.setAttribute(bo,(mg()+1).toString()),function(){var e=mg()-1;e<=0?document.body.removeAttribute(bo):document.body.setAttribute(bo,e.toString())}},[])},oA=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;sA();var o=p.useMemo(function(){return tA(s)},[s]);return p.createElement(nA,{styles:rA(o,!t,s,n?"":"!important")})},tf=!1;if(typeof window<"u")try{var Ha=Object.defineProperty({},"passive",{get:function(){return tf=!0,!0}});window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{tf=!1}var Qs=tf?{passive:!1}:!1,iA=function(e){return e.tagName==="TEXTAREA"},fw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!iA(e)&&n[t]==="visible")},aA=function(e){return fw(e,"overflowY")},lA=function(e){return fw(e,"overflowX")},pg=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=hw(e,r);if(s){var o=mw(e,r),a=o[1],l=o[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},cA=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},uA=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},hw=function(e,t){return e==="v"?aA(t):lA(t)},mw=function(e,t){return e==="v"?cA(t):uA(t)},dA=function(e,t){return e==="h"&&t==="rtl"?-1:1},fA=function(e,t,n,r,s){var o=dA(e,window.getComputedStyle(t).direction),a=o*r,l=n.target,c=t.contains(l),u=!1,d=a>0,f=0,h=0;do{if(!l)break;var m=mw(e,l),g=m[0],v=m[1],x=m[2],w=v-x-o*g;(g||w)&&hw(e,l)&&(f+=w,h+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Ga=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},gg=function(e){return[e.deltaX,e.deltaY]},vg=function(e){return e&&"current"in e?e.current:e},hA=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mA=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pA=0,Ys=[];function gA(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(pA++)[0],o=p.useState(dw)[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=$P([e.lockRef.current],(e.shards||[]).map(vg),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var w=Ga(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-w[0],S="deltaY"in v?v.deltaY:y[1]-w[1],j,N=v.target,_=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in v&&_==="h"&&N.type==="range")return!1;var O=pg(_,N);if(!O)return!0;if(O?j=_:(j=_==="v"?"h":"v",O=pg(_,N)),!O)return!1;if(!r.current&&"changedTouches"in v&&(b||S)&&(r.current=j),!j)return!0;var L=r.current||j;return fA(L,x,v,L==="h"?b:S)},[]),c=p.useCallback(function(v){var x=v;if(!(!Ys.length||Ys[Ys.length-1]!==o)){var w="deltaY"in x?gg(x):Ga(x),y=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&hA(j.delta,w)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var b=(a.current.shards||[]).map(vg).filter(Boolean).filter(function(j){return j.contains(x.target)}),S=b.length>0?l(x,b[0]):!a.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=p.useCallback(function(v,x,w,y){var b={name:v,delta:x,target:w,should:y,shadowParent:vA(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=p.useCallback(function(v){n.current=Ga(v),r.current=void 0},[]),f=p.useCallback(function(v){u(v.type,gg(v),v.target,l(v,e.lockRef.current))},[]),h=p.useCallback(function(v){u(v.type,Ga(v),v.target,l(v,e.lockRef.current))},[]);p.useEffect(function(){return Ys.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Qs),document.addEventListener("touchmove",c,Qs),document.addEventListener("touchstart",d,Qs),function(){Ys=Ys.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Qs),document.removeEventListener("touchmove",c,Qs),document.removeEventListener("touchstart",d,Qs)}},[]);var m=e.removeScrollBar,g=e.inert;return p.createElement(p.Fragment,null,g?p.createElement(o,{styles:mA(s)}):null,m?p.createElement(oA,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function vA(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yA=GP(uw,gA);var Bh=p.forwardRef(function(e,t){return p.createElement(Ic,Dn({},e,{ref:t,sideCar:yA}))});Bh.classNames=Ic.classNames;var xA=[" ","Enter","ArrowUp","ArrowDown"],wA=[" ","Enter"],Is="Select",[Mc,Bc,bA]=ih(Is),[Xo,IO]=Kn(Is,[bA,wc]),$c=wc(),[SA,as]=Xo(Is),[jA,NA]=Xo(Is),pw=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,v=$c(t),[x,w]=p.useState(null),[y,b]=p.useState(null),[S,j]=p.useState(!1),N=Ih(u),[_,O]=es({prop:r,defaultProp:s??!1,onChange:o,caller:Is}),[L,M]=es({prop:a,defaultProp:l,onChange:c,caller:Is}),Y=p.useRef(null),H=x?g||!!x.closest("form"):!0,[V,T]=p.useState(new Set),P=Array.from(V).map(R=>R.props.value).join(";");return i.jsx(CT,{...v,children:i.jsxs(SA,{required:m,scope:t,trigger:x,onTriggerChange:w,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:ar(),value:L,onValueChange:M,open:_,onOpenChange:O,dir:N,triggerPointerDownPosRef:Y,disabled:h,children:[i.jsx(Mc.Provider,{scope:t,children:i.jsx(jA,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(R=>{T(E=>new Set(E).add(R))},[]),onNativeOptionRemove:p.useCallback(R=>{T(E=>{const k=new Set(E);return k.delete(R),k})},[]),children:n})}),H?i.jsxs(Dw,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:L,onChange:R=>M(R.target.value),disabled:h,form:g,children:[L===void 0?i.jsx("option",{value:""}):null,Array.from(V)]},P):null]})})};pw.displayName=Is;var gw="SelectTrigger",vw=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=$c(n),a=as(gw,n),l=a.disabled||r,c=$e(t,a.onTriggerChange),u=Bc(n),d=p.useRef("touch"),[f,h,m]=Uw(v=>{const x=u().filter(b=>!b.disabled),w=x.find(b=>b.value===a.value),y=zw(x,v,w);y!==void 0&&a.onValueChange(y.value)}),g=v=>{l||(a.onOpenChange(!0),m()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return i.jsx(nx,{asChild:!0,...o,children:i.jsx(fe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Fw(a.value)?"":void 0,...s,ref:c,onClick:le(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&g(v)}),onPointerDown:le(s.onPointerDown,v=>{d.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:le(s.onKeyDown,v=>{const x=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(x&&v.key===" ")&&xA.includes(v.key)&&(g(),v.preventDefault())})})})});vw.displayName=gw;var yw="SelectValue",xw=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:a="",...l}=e,c=as(yw,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=$e(t,c.onValueNodeChange);return mt(()=>{u(d)},[u,d]),i.jsx(fe.span,{...l,ref:f,style:{pointerEvents:"none"},children:Fw(c.value)?i.jsx(i.Fragment,{children:a}):o})});xw.displayName=yw;var _A="SelectIcon",ww=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return i.jsx(fe.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});ww.displayName=_A;var CA="SelectPortal",bw=e=>i.jsx(uc,{asChild:!0,...e});bw.displayName=CA;var Ms="SelectContent",Sw=p.forwardRef((e,t)=>{const n=as(Ms,e.__scopeSelect),[r,s]=p.useState();if(mt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Ds.createPortal(i.jsx(jw,{scope:e.__scopeSelect,children:i.jsx(Mc.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),o):null}return i.jsx(Nw,{...e,ref:t})});Sw.displayName=Ms;var vn=10,[jw,ls]=Xo(Ms),TA="SelectContentImpl",kA=$o("SelectContent.RemoveScroll"),Nw=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:x,...w}=e,y=as(Ms,n),[b,S]=p.useState(null),[j,N]=p.useState(null),_=$e(t,I=>S(I)),[O,L]=p.useState(null),[M,Y]=p.useState(null),H=Bc(n),[V,T]=p.useState(!1),P=p.useRef(!1);p.useEffect(()=>{if(b)return aw(b)},[b]),rw();const R=p.useCallback(I=>{const[G,...W]=H().map(U=>U.ref.current),[z]=W.slice(-1),B=document.activeElement;for(const U of I)if(U===B||(U==null||U.scrollIntoView({block:"nearest"}),U===G&&j&&(j.scrollTop=0),U===z&&j&&(j.scrollTop=j.scrollHeight),U==null||U.focus(),document.activeElement!==B))return},[H,j]),E=p.useCallback(()=>R([O,b]),[R,O,b]);p.useEffect(()=>{V&&E()},[V,E]);const{onOpenChange:k,triggerPointerDownPosRef:A}=y;p.useEffect(()=>{if(b){let I={x:0,y:0};const G=z=>{var B,U;I={x:Math.abs(Math.round(z.pageX)-(((B=A.current)==null?void 0:B.x)??0)),y:Math.abs(Math.round(z.pageY)-(((U=A.current)==null?void 0:U.y)??0))}},W=z=>{I.x<=10&&I.y<=10?z.preventDefault():b.contains(z.target)||k(!1),document.removeEventListener("pointermove",G),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",W,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",W,{capture:!0})}}},[b,k,A]),p.useEffect(()=>{const I=()=>k(!1);return window.addEventListener("blur",I),window.addEventListener("resize",I),()=>{window.removeEventListener("blur",I),window.removeEventListener("resize",I)}},[k]);const[D,F]=Uw(I=>{const G=H().filter(B=>!B.disabled),W=G.find(B=>B.ref.current===document.activeElement),z=zw(G,I,W);z&&setTimeout(()=>z.ref.current.focus())}),Q=p.useCallback((I,G,W)=>{const z=!P.current&&!W;(y.value!==void 0&&y.value===G||z)&&(L(I),z&&(P.current=!0))},[y.value]),Z=p.useCallback(()=>b==null?void 0:b.focus(),[b]),q=p.useCallback((I,G,W)=>{const z=!P.current&&!W;(y.value!==void 0&&y.value===G||z)&&Y(I)},[y.value]),C=r==="popper"?nf:_w,$=C===nf?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:v,avoidCollisions:x}:{};return i.jsx(jw,{scope:n,content:b,viewport:j,onViewportChange:N,itemRefCallback:Q,selectedItem:O,onItemLeave:Z,itemTextRefCallback:q,focusSelectedItem:E,selectedItemText:M,position:r,isPositioned:V,searchRef:D,children:i.jsx(Bh,{as:kA,allowPinchZoom:!0,children:i.jsx(Mh,{asChild:!0,trapped:y.open,onMountAutoFocus:I=>{I.preventDefault()},onUnmountAutoFocus:le(s,I=>{var G;(G=y.trigger)==null||G.focus({preventScroll:!0}),I.preventDefault()}),children:i.jsx(aa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:I=>I.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:i.jsx(C,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:I=>I.preventDefault(),...w,...$,onPlaced:()=>T(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:le(w.onKeyDown,I=>{const G=I.ctrlKey||I.altKey||I.metaKey;if(I.key==="Tab"&&I.preventDefault(),!G&&I.key.length===1&&F(I.key),["ArrowUp","ArrowDown","Home","End"].includes(I.key)){let z=H().filter(B=>!B.disabled).map(B=>B.ref.current);if(["ArrowUp","End"].includes(I.key)&&(z=z.slice().reverse()),["ArrowUp","ArrowDown"].includes(I.key)){const B=I.target,U=z.indexOf(B);z=z.slice(U+1)}setTimeout(()=>R(z)),I.preventDefault()}})})})})})})});Nw.displayName=TA;var EA="SelectItemAlignedPosition",_w=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=as(Ms,n),a=ls(Ms,n),[l,c]=p.useState(null),[u,d]=p.useState(null),f=$e(t,_=>d(_)),h=Bc(n),m=p.useRef(!1),g=p.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:w,focusSelectedItem:y}=a,b=p.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&v&&x&&w){const _=o.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),L=o.valueNode.getBoundingClientRect(),M=w.getBoundingClientRect();if(o.dir!=="rtl"){const B=M.left-O.left,U=L.left-B,ee=_.left-U,te=_.width+ee,ce=Math.max(te,O.width),_e=window.innerWidth-vn,re=ag(U,[vn,Math.max(vn,_e-ce)]);l.style.minWidth=te+"px",l.style.left=re+"px"}else{const B=O.right-M.right,U=window.innerWidth-L.right-B,ee=window.innerWidth-_.right-U,te=_.width+ee,ce=Math.max(te,O.width),_e=window.innerWidth-vn,re=ag(U,[vn,Math.max(vn,_e-ce)]);l.style.minWidth=te+"px",l.style.right=re+"px"}const Y=h(),H=window.innerHeight-vn*2,V=v.scrollHeight,T=window.getComputedStyle(u),P=parseInt(T.borderTopWidth,10),R=parseInt(T.paddingTop,10),E=parseInt(T.borderBottomWidth,10),k=parseInt(T.paddingBottom,10),A=P+R+V+k+E,D=Math.min(x.offsetHeight*5,A),F=window.getComputedStyle(v),Q=parseInt(F.paddingTop,10),Z=parseInt(F.paddingBottom,10),q=_.top+_.height/2-vn,C=H-q,$=x.offsetHeight/2,I=x.offsetTop+$,G=P+R+I,W=A-G;if(G<=q){const B=Y.length>0&&x===Y[Y.length-1].ref.current;l.style.bottom="0px";const U=u.clientHeight-v.offsetTop-v.offsetHeight,ee=Math.max(C,$+(B?Z:0)+U+E),te=G+ee;l.style.height=te+"px"}else{const B=Y.length>0&&x===Y[0].ref.current;l.style.top="0px";const ee=Math.max(q,P+v.offsetTop+(B?Q:0)+$)+W;l.style.height=ee+"px",v.scrollTop=G-q+v.offsetTop}l.style.margin=`${vn}px 0`,l.style.minHeight=D+"px",l.style.maxHeight=H+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,l,u,v,x,w,o.dir,r]);mt(()=>b(),[b]);const[S,j]=p.useState();mt(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const N=p.useCallback(_=>{_&&g.current===!0&&(b(),y==null||y(),g.current=!1)},[b,y]);return i.jsx(AA,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:i.jsx(fe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});_w.displayName=EA;var PA="SelectPopperPosition",nf=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=vn,...o}=e,a=$c(n);return i.jsx(rx,{...a,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nf.displayName=PA;var[AA,$h]=Xo(Ms,{}),rf="SelectViewport",Cw=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=ls(rf,n),a=$h(rf,n),l=$e(t,o.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(Mc.Slot,{scope:n,children:i.jsx(fe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:le(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-vn*2,v=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),w=Math.max(v,x);if(w<g){const y=w+m,b=Math.min(g,y),S=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Cw.displayName=rf;var Tw="SelectGroup",[RA,OA]=Xo(Tw),IA=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ar();return i.jsx(RA,{scope:n,id:s,children:i.jsx(fe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});IA.displayName=Tw;var kw="SelectLabel",Ew=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=OA(kw,n);return i.jsx(fe.div,{id:s.id,...r,ref:t})});Ew.displayName=kw;var Gl="SelectItem",[MA,Pw]=Xo(Gl),Aw=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...a}=e,l=as(Gl,n),c=ls(Gl,n),u=l.value===r,[d,f]=p.useState(o??""),[h,m]=p.useState(!1),g=$e(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,r,s)}),v=ar(),x=p.useRef("touch"),w=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(MA,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:p.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:i.jsx(Mc.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:i.jsx(fe.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:g,onFocus:le(a.onFocus,()=>m(!0)),onBlur:le(a.onBlur,()=>m(!1)),onClick:le(a.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:le(a.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:le(a.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:le(a.onPointerMove,y=>{var b;x.current=y.pointerType,s?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:le(a.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:le(a.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(wA.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});Aw.displayName=Gl;var vi="SelectItemText",Rw=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,a=as(vi,n),l=ls(vi,n),c=Pw(vi,n),u=NA(vi,n),[d,f]=p.useState(null),h=$e(t,w=>f(w),c.onItemTextChange,w=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,w,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=u;return mt(()=>(v(g),()=>x(g)),[v,x,g]),i.jsxs(i.Fragment,{children:[i.jsx(fe.span,{id:c.textId,...o,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ds.createPortal(o.children,a.valueNode):null]})});Rw.displayName=vi;var Ow="SelectItemIndicator",Iw=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Pw(Ow,n).isSelected?i.jsx(fe.span,{"aria-hidden":!0,...r,ref:t}):null});Iw.displayName=Ow;var sf="SelectScrollUpButton",Mw=p.forwardRef((e,t)=>{const n=ls(sf,e.__scopeSelect),r=$h(sf,e.__scopeSelect),[s,o]=p.useState(!1),a=$e(t,r.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx($w,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Mw.displayName=sf;var of="SelectScrollDownButton",Bw=p.forwardRef((e,t)=>{const n=ls(of,e.__scopeSelect),r=$h(of,e.__scopeSelect),[s,o]=p.useState(!1),a=$e(t,r.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx($w,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Bw.displayName=of;var $w=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=ls("SelectScrollButton",n),a=p.useRef(null),l=Bc(n),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),mt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(fe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:le(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:le(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:le(s.onPointerLeave,()=>{c()})})}),BA="SelectSeparator",Lw=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(fe.div,{"aria-hidden":!0,...r,ref:t})});Lw.displayName=BA;var af="SelectArrow",$A=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=$c(n),o=as(af,n),a=ls(af,n);return o.open&&a.position==="popper"?i.jsx(sx,{...s,...r,ref:t}):null});$A.displayName=af;var LA="SelectBubbleInput",Dw=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=p.useRef(null),o=$e(r,s),a=ow(t);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[a,t]),i.jsx(fe.select,{...n,style:{...Qy,...n.style},ref:o,defaultValue:t})});Dw.displayName=LA;function Fw(e){return e===""||e===void 0}function Uw(e){const t=ln(e),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function zw(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=DA(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function DA(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var FA=pw,Ww=vw,UA=xw,zA=ww,WA=bw,Vw=Sw,VA=Cw,Hw=Ew,Gw=Aw,HA=Rw,GA=Iw,Kw=Mw,qw=Bw,Qw=Lw;const sr=FA,or=UA,Un=p.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(Ww,{ref:r,className:de("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-colors",e),...n,children:[t,i.jsx(zA,{asChild:!0,children:i.jsx(hc,{className:"h-4 w-4 opacity-50 transition-transform duration-200 ease-in-out group-data-[state=open]:rotate-180"})})]}));Un.displayName=Ww.displayName;const Yw=p.forwardRef(({className:e,...t},n)=>i.jsx(Kw,{ref:n,className:de("flex cursor-default items-center justify-center py-1 text-muted-foreground",e),...t,children:i.jsx(IN,{className:"h-4 w-4"})}));Yw.displayName=Kw.displayName;const Jw=p.forwardRef(({className:e,...t},n)=>i.jsx(qw,{ref:n,className:de("flex cursor-default items-center justify-center py-1 text-muted-foreground",e),...t,children:i.jsx(hc,{className:"h-4 w-4"})}));Jw.displayName=qw.displayName;const zn=p.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>i.jsx(WA,{children:i.jsxs(Vw,{ref:s,className:de("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border/40 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(Yw,{}),i.jsx(VA,{className:de("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(Jw,{})]})}));zn.displayName=Vw.displayName;const KA=p.forwardRef(({className:e,...t},n)=>i.jsx(Hw,{ref:n,className:de("py-1.5 pl-8 pr-2 text-sm font-medium text-muted-foreground",e),...t}));KA.displayName=Hw.displayName;const en=p.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(Gw,{ref:r,className:de("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent/50 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(GA,{children:i.jsx(qi,{className:"h-4 w-4 text-primary"})})}),i.jsx(HA,{children:t})]}));en.displayName=Gw.displayName;const qA=p.forwardRef(({className:e,...t},n)=>i.jsx(Qw,{ref:n,className:de("-mx-1 my-1 h-px bg-muted",e),...t}));qA.displayName=Qw.displayName;var $u="rovingFocusGroup.onEntryFocus",QA={bubbles:!1,cancelable:!0},ma="RovingFocusGroup",[lf,Xw,YA]=ih(ma),[JA,Zw]=Kn(ma,[YA]),[XA,ZA]=JA(ma),eb=p.forwardRef((e,t)=>i.jsx(lf.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(lf.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(eR,{...e,ref:t})})}));eb.displayName=ma;var eR=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=$e(t,h),g=Ih(o),[v,x]=es({prop:a,defaultProp:l??null,onChange:c,caller:ma}),[w,y]=p.useState(!1),b=ln(u),S=Xw(n),j=p.useRef(!1),[N,_]=p.useState(0);return p.useEffect(()=>{const O=h.current;if(O)return O.addEventListener($u,b),()=>O.removeEventListener($u,b)},[b]),i.jsx(XA,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:v,onItemFocus:p.useCallback(O=>x(O),[x]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>_(O=>O+1),[]),onFocusableItemRemove:p.useCallback(()=>_(O=>O-1),[]),children:i.jsx(fe.div,{tabIndex:w||N===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:le(e.onMouseDown,()=>{j.current=!0}),onFocus:le(e.onFocus,O=>{const L=!j.current;if(O.target===O.currentTarget&&L&&!w){const M=new CustomEvent($u,QA);if(O.currentTarget.dispatchEvent(M),!M.defaultPrevented){const Y=S().filter(R=>R.focusable),H=Y.find(R=>R.active),V=Y.find(R=>R.id===v),P=[H,V,...Y].filter(Boolean).map(R=>R.ref.current);rb(P,d)}}j.current=!1}),onBlur:le(e.onBlur,()=>y(!1))})})}),tb="RovingFocusGroupItem",nb=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:a,...l}=e,c=ar(),u=o||c,d=ZA(tb,n),f=d.currentTabStopId===u,h=Xw(n),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:v}=d;return p.useEffect(()=>{if(r)return m(),()=>g()},[r,m,g]),i.jsx(lf.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:i.jsx(fe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:le(e.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:le(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:le(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const w=rR(x,d.orientation,d.dir);if(w!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=h().filter(S=>S.focusable).map(S=>S.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const S=b.indexOf(x.currentTarget);b=d.loop?sR(b,S+1):b.slice(S+1)}setTimeout(()=>rb(b))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:v!=null}):a})})});nb.displayName=tb;var tR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nR(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function rR(e,t,n){const r=nR(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return tR[r]}function rb(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function sR(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var oR=eb,iR=nb,Lc="Tabs",[aR,MO]=Kn(Lc,[Zw]),sb=Zw(),[lR,Lh]=aR(Lc),ob=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Ih(l),[f,h]=es({prop:r,onChange:s,defaultProp:o??"",caller:Lc});return i.jsx(lR,{scope:n,baseId:ar(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:i.jsx(fe.div,{dir:d,"data-orientation":a,...u,ref:t})})});ob.displayName=Lc;var ib="TabsList",ab=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Lh(ib,n),a=sb(n);return i.jsx(oR,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:i.jsx(fe.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});ab.displayName=ib;var lb="TabsTrigger",cb=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,a=Lh(lb,n),l=sb(n),c=fb(a.baseId,r),u=hb(a.baseId,r),d=r===a.value;return i.jsx(iR,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(fe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:le(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:le(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:le(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});cb.displayName=lb;var ub="TabsContent",db=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...a}=e,l=Lh(ub,n),c=fb(l.baseId,r),u=hb(l.baseId,r),d=r===l.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(pr,{present:s||d,children:({present:h})=>i.jsx(fe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});db.displayName=ub;function fb(e,t){return`${e}-trigger-${t}`}function hb(e,t){return`${e}-content-${t}`}var cR=ob,mb=ab,pb=cb,gb=db;const pa=cR,Zo=p.forwardRef(({className:e,...t},n)=>i.jsx(mb,{ref:n,className:de("inline-flex h-10 items-center justify-center rounded-md bg-muted/50 p-1 text-muted-foreground",e),...t}));Zo.displayName=mb.displayName;const ot=p.forwardRef(({className:e,...t},n)=>i.jsx(pb,{ref:n,className:de("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm hover:text-foreground",e),...t}));ot.displayName=pb.displayName;const it=p.forwardRef(({className:e,...t},n)=>i.jsx(gb,{ref:n,className:de("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 animate-in fade-in-0 data-[state=inactive]:animate-out data-[state=inactive]:fade-out-0 duration-200",e),...t}));it.displayName=gb.displayName;var Dc="Checkbox",[uR,BO]=Kn(Dc),[dR,Dh]=uR(Dc);function fR(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:o,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=es({prop:n,defaultProp:s??!1,onChange:c,caller:Dc}),[g,v]=p.useState(null),[x,w]=p.useState(null),y=p.useRef(!1),b=g?!!a||!!g.closest("form"):!0,S={checked:h,disabled:o,setChecked:m,control:g,setControl:v,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:qr(s)?!1:s,isFormControl:b,bubbleInput:x,setBubbleInput:w};return i.jsx(dR,{scope:t,...S,children:hR(f)?f(S):r})}var vb="CheckboxTrigger",yb=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:o,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=Dh(vb,e),v=$e(s,d),x=p.useRef(c);return p.useEffect(()=>{const w=o==null?void 0:o.form;if(w){const y=()=>f(x.current);return w.addEventListener("reset",y),()=>w.removeEventListener("reset",y)}},[o,f]),i.jsx(fe.button,{type:"button",role:"checkbox","aria-checked":qr(c)?"mixed":c,"aria-required":u,"data-state":jb(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:v,onKeyDown:le(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:le(n,w=>{f(y=>qr(y)?!0:!y),g&&m&&(h.current=w.isPropagationStopped(),h.current||w.stopPropagation())})})});yb.displayName=vb;var Fh=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(fR,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:l,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(yb,{...f,ref:t,__scopeCheckbox:n}),h&&i.jsx(Sb,{__scopeCheckbox:n})]})})});Fh.displayName=Dc;var xb="CheckboxIndicator",wb=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=Dh(xb,n);return i.jsx(pr,{present:r||qr(o.checked)||o.checked===!0,children:i.jsx(fe.span,{"data-state":jb(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});wb.displayName=xb;var bb="CheckboxBubbleInput",Sb=p.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=Dh(bb,e),g=$e(n,m),v=ow(o),x=G0(r);p.useEffect(()=>{const y=h;if(!y)return;const b=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(b,"checked").set,N=!s.current;if(v!==o&&j){const _=new Event("click",{bubbles:N});y.indeterminate=qr(o),j.call(y,qr(o)?!1:o),y.dispatchEvent(_)}},[h,v,o,s]);const w=p.useRef(qr(o)?!1:o);return i.jsx(fe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??w.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Sb.displayName=bb;function hR(e){return typeof e=="function"}function qr(e){return e==="indeterminate"}function jb(e){return qr(e)?"indeterminate":e?"checked":"unchecked"}const cf=p.forwardRef(({className:e,...t},n)=>i.jsx(Fh,{ref:n,className:de("peer h-4 w-4 shrink-0 rounded-sm border border-primary/60 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground transition-colors duration-200",e),...t,children:i.jsx(wb,{className:de("flex items-center justify-center text-current"),children:i.jsx(qi,{className:"h-3.5 w-3.5 transition-transform duration-200"})})}));cf.displayName=Fh.displayName;const mR=ca("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border",success:"border-transparent bg-green-500/20 text-green-700 dark:text-green-300 border-green-500/30",warning:"border-transparent bg-yellow-500/20 text-yellow-700 dark:text-yellow-300 border-yellow-500/30",info:"border-transparent bg-primary/10 text-primary border-primary/30"},size:{default:"px-2.5 py-0.5 text-xs",sm:"px-2 py-0.5 text-[10px]",lg:"px-3 py-0.5 text-sm"}},defaultVariants:{variant:"default",size:"default"}});function me({className:e,variant:t,size:n,...r}){return i.jsx("span",{className:de(mR({variant:t,size:n}),e),...r})}const pR=({selectedTournaments:e,bostonPotTournaments:t,onTournamentChange:n,onBostonPotChange:r})=>{const{tournaments:s}=tt(),o=e.reduce((l,c)=>{const u=s.find(f=>f.id===c);let d=(u==null?void 0:u.cost)||0;return t.includes(c)&&(d+=(u==null?void 0:u.bostonPotCost)||0),l+d},0),a=o/2;return i.jsxs(be,{className:"shadow-lg",children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(rn,{className:"w-5 h-5"}),"Select Tournaments"]})}),i.jsxs(Se,{className:"space-y-4",children:[i.jsx("div",{className:"grid gap-3",children:s.map(l=>{const c=e.includes(l.id),u=t.includes(l.id),d=l.cost+(u?l.bostonPotCost:0);return i.jsxs("div",{className:`p-3 rounded-lg border transition-colors ${c?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(cf,{id:l.id,checked:c,onCheckedChange:f=>n(l.id,f)}),i.jsx("label",{htmlFor:l.id,className:"text-sm font-medium cursor-pointer",children:l.name})]}),i.jsxs(me,{variant:"secondary",children:["$",d]})]}),c&&i.jsxs("div",{className:"ml-6 flex items-center space-x-3 pt-2 border-t border-gray-200",children:[i.jsx(cf,{id:`boston-${l.id}`,checked:u,onCheckedChange:f=>r(l.id,f)}),i.jsxs("label",{htmlFor:`boston-${l.id}`,className:"text-xs text-gray-600 cursor-pointer flex items-center gap-1",children:[i.jsx(S0,{className:"w-3 h-3"}),"Boston Pot (+$",l.bostonPotCost,")"]})]})]},l.id)})}),e.length>0&&i.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Total Cost:"}),i.jsxs("span",{className:"font-semibold",children:["$",o]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Cost per Player:"}),i.jsxs("span",{className:"font-semibold text-green-600",children:["$",a]})]}),t.length>0&&i.jsxs("div",{className:"flex justify-between text-xs text-orange-600",children:[i.jsx("span",{children:"Boston Pot Tournaments:"}),i.jsx("span",{children:t.length})]}),i.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:["Each player owes $",a," to participate in ",e.length," tournament",e.length>1?"s":"",t.length>0&&` (including ${t.length} Boston Pot${t.length>1?"s":""})`]})]})})]})]})};var Fc="Collapsible",[gR,$O]=Kn(Fc),[vR,Uh]=gR(Fc),Nb=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:a,...l}=e,[c,u]=es({prop:r,defaultProp:s??!1,onChange:a,caller:Fc});return i.jsx(vR,{scope:n,disabled:o,contentId:ar(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:i.jsx(fe.div,{"data-state":Wh(c),"data-disabled":o?"":void 0,...l,ref:t})})});Nb.displayName=Fc;var _b="CollapsibleTrigger",Cb=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=Uh(_b,n);return i.jsx(fe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Wh(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:le(e.onClick,s.onOpenToggle)})});Cb.displayName=_b;var zh="CollapsibleContent",Tb=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Uh(zh,e.__scopeCollapsible);return i.jsx(pr,{present:n||s.open,children:({present:o})=>i.jsx(yR,{...r,ref:t,present:o})})});Tb.displayName=zh;var yR=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=e,a=Uh(zh,n),[l,c]=p.useState(r),u=p.useRef(null),d=$e(t,u),f=p.useRef(0),h=f.current,m=p.useRef(0),g=m.current,v=a.open||l,x=p.useRef(v),w=p.useRef(void 0);return p.useEffect(()=>{const y=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(y)},[]),mt(()=>{const y=u.current;if(y){w.current=w.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const b=y.getBoundingClientRect();f.current=b.height,m.current=b.width,x.current||(y.style.transitionDuration=w.current.transitionDuration,y.style.animationName=w.current.animationName),c(r)}},[a.open,r]),i.jsx(fe.div,{"data-state":Wh(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!v,...o,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:v&&s})});function Wh(e){return e?"open":"closed"}var xR=Nb;const kb=xR,Eb=Cb,Pb=Tb,wR=()=>{const{teams:e,tournaments:t,updatePlayerTournamentPayment:n}=tt(),[r,s]=p.useState(""),[o,a]=p.useState(new Set),l=e.flatMap(g=>[{id:`${g.id}-player1`,firstName:g.player1_first_name||g.player1FirstName,lastName:g.player1_last_name||g.player1LastName,teamName:g.name,phone_Number:g.phone_Number||g.phoneNumber,city:g.city,tournamentPayments:g.player1TournamentPayments||{},teamId:g.id},{id:`${g.id}-player2`,firstName:g.player2_first_name||g.player2FirstName,lastName:g.player2_last_name||g.player2LastName,teamName:g.name,phone_Number:g.phone_Number||g.phoneNumber,city:g.city,tournamentPayments:g.player2TournamentPayments||{},teamId:g.id}]),c=(g,v,x)=>{const w=g.id.endsWith("-player1")?"player1":"player2";n(g.teamId,w,v,!x)},u=g=>{a(v=>{const x=new Set(v);return x.has(g)?x.delete(g):x.add(g),x})},d=l.filter(g=>g.firstName.toLowerCase().includes(r.toLowerCase())||g.lastName.toLowerCase().includes(r.toLowerCase())||g.teamName.toLowerCase().includes(r.toLowerCase())||g.city.toLowerCase().includes(r.toLowerCase())),f=t.reduce((g,v)=>{const x=d.filter(w=>{var b;const y=e.find(S=>S.id===w.teamId);return(b=y==null?void 0:y.registeredTournaments)==null?void 0:b.includes(v.id)});return x.length>0&&(g[v.id]={tournament:v,players:x}),g},{}),h=(g,v)=>{var _;const x=t.find(O=>O.id===v);if(!x)return{status:"pending",amount:0,details:""};const w=e.find(O=>O.id===g.teamId),y=x.cost/2,b=x.bostonPotCost/2,S=(_=w==null?void 0:w.bostonPotTournaments)==null?void 0:_.includes(v),j=y+(S?b:0);return g.tournamentPayments[v]||!1?{status:"paid",amount:j,details:`Paid $${j.toFixed(2)}`}:S?{status:"pending",amount:j,details:`Owes $${y.toFixed(2)} entry + $${b.toFixed(2)} Boston pot = $${j.toFixed(2)}`}:{status:"pending",amount:j,details:`Owes $${j.toFixed(2)} entry fee`}},m=({player:g,tournamentId:v})=>{const x=t.find(S=>S.id===v),w=h(g,v),y=w.status==="paid",b=e.find(S=>S.id===g.teamId);return i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"font-semibold text-lg",children:[g.firstName," ",g.lastName]}),i.jsx(me,{variant:y?"default":"secondary",className:y?"bg-green-500":"bg-red-500",children:y?"Paid":"Unpaid"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(w0,{className:"w-3 h-3"}),i.jsx("span",{children:g.phone_Number})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(dh,{className:"w-3 h-3"}),i.jsx("span",{children:g.city})]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Md,{className:"w-4 h-4"}),i.jsxs("span",{children:["Team: ",b?`Team ${b.teamNumber}: ${g.teamName}`:g.teamName]})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"font-medium",children:x==null?void 0:x.name}),i.jsx("div",{className:"text-sm text-gray-600",children:w.details})]}),i.jsx(oe,{size:"sm",variant:y?"secondary":"default",className:y?"bg-gray-400 hover:bg-gray-500":"bg-blue-500 hover:bg-blue-600",onClick:()=>c(g,v,y),children:y?"Reverse":"Pay Now"})]})]})};return i.jsx("div",{className:"space-y-6",children:i.jsxs(be,{className:"shadow-lg",children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(mc,{className:"w-5 h-5"}),"Player Payment Tracking (",l.length," players)"]})}),i.jsx(Se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(fh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx(pe,{placeholder:"Search by player name, team name, or city...",value:r,onChange:g=>s(g.target.value),className:"pl-10"})]}),l.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No players registered yet."}):d.length===0?i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No players match your search."}):i.jsx("div",{className:"space-y-4",children:Object.entries(f).map(([g,{tournament:v,players:x}])=>i.jsxs(kb,{open:o.has(g),children:[i.jsx(Eb,{onClick:()=>u(g),className:"flex items-center justify-between w-full p-3 bg-blue-50 hover:bg-blue-100 rounded-lg border border-blue-200",children:i.jsxs("div",{className:"flex items-center gap-2",children:[o.has(g)?i.jsx(hc,{className:"w-4 h-4"}):i.jsx(y0,{className:"w-4 h-4"}),i.jsx("span",{className:"font-semibold",children:v.name}),i.jsxs(me,{variant:"outline",children:[x.length," players"]})]})}),i.jsx(Pb,{className:"mt-2 space-y-3",children:x.map(w=>i.jsx(m,{player:w,tournamentId:g},w.id))})]},g))})]})})]})})};var Uc="Dialog",[Ab,LO]=Kn(Uc),[bR,An]=Ab(Uc),Rb=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=es({prop:r,defaultProp:s??!1,onChange:o,caller:Uc});return i.jsx(bR,{scope:t,triggerRef:l,contentRef:c,contentId:ar(),titleId:ar(),descriptionId:ar(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};Rb.displayName=Uc;var Ob="DialogTrigger",Ib=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=An(Ob,n),o=$e(t,s.triggerRef);return i.jsx(fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Gh(s.open),...r,ref:o,onClick:le(e.onClick,s.onOpenToggle)})});Ib.displayName=Ob;var Vh="DialogPortal",[SR,Mb]=Ab(Vh,{forceMount:void 0}),Bb=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=An(Vh,t);return i.jsx(SR,{scope:t,forceMount:n,children:p.Children.map(r,a=>i.jsx(pr,{present:n||o.open,children:i.jsx(uc,{asChild:!0,container:s,children:a})}))})};Bb.displayName=Vh;var Kl="DialogOverlay",$b=p.forwardRef((e,t)=>{const n=Mb(Kl,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=An(Kl,e.__scopeDialog);return o.modal?i.jsx(pr,{present:r||o.open,children:i.jsx(NR,{...s,ref:t})}):null});$b.displayName=Kl;var jR=$o("DialogOverlay.RemoveScroll"),NR=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=An(Kl,n);return i.jsx(Bh,{as:jR,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(fe.div,{"data-state":Gh(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Bs="DialogContent",Lb=p.forwardRef((e,t)=>{const n=Mb(Bs,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=An(Bs,e.__scopeDialog);return i.jsx(pr,{present:r||o.open,children:o.modal?i.jsx(_R,{...s,ref:t}):i.jsx(CR,{...s,ref:t})})});Lb.displayName=Bs;var _R=p.forwardRef((e,t)=>{const n=An(Bs,e.__scopeDialog),r=p.useRef(null),s=$e(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return aw(o)},[]),i.jsx(Db,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:le(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:le(e.onFocusOutside,o=>o.preventDefault())})}),CR=p.forwardRef((e,t)=>{const n=An(Bs,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return i.jsx(Db,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Db=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=e,l=An(Bs,n),c=p.useRef(null),u=$e(t,c);return rw(),i.jsxs(i.Fragment,{children:[i.jsx(Mh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(aa,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Gh(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(TR,{titleId:l.titleId}),i.jsx(ER,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Hh="DialogTitle",Fb=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=An(Hh,n);return i.jsx(fe.h2,{id:s.titleId,...r,ref:t})});Fb.displayName=Hh;var Ub="DialogDescription",zb=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=An(Ub,n);return i.jsx(fe.p,{id:s.descriptionId,...r,ref:t})});zb.displayName=Ub;var Wb="DialogClose",Vb=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=An(Wb,n);return i.jsx(fe.button,{type:"button",...r,ref:t,onClick:le(e.onClick,()=>s.onOpenChange(!1))})});Vb.displayName=Wb;function Gh(e){return e?"open":"closed"}var Hb="DialogTitleWarning",[DO,Gb]=Fj(Hb,{contentName:Bs,titleName:Hh,docsSlug:"dialog"}),TR=({titleId:e})=>{const t=Gb(Hb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},kR="DialogDescriptionWarning",ER=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Gb(kR).contentName}}.`;return p.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},PR=Rb,AR=Ib,RR=Bb,Kb=$b,qb=Lb,Qb=Fb,Yb=zb,OR=Vb;const Ts=PR,yg=AR,IR=RR,Jb=p.forwardRef(({className:e,...t},n)=>i.jsx(Kb,{ref:n,className:de("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Jb.displayName=Kb.displayName;const Qr=p.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(IR,{children:[i.jsx(Jb,{}),i.jsxs(qb,{ref:r,className:de("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border/40 bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(OR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Lo,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qr.displayName=qb.displayName;const Yr=({className:e,...t})=>i.jsx("div",{className:de("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Yr.displayName="DialogHeader";const Jr=p.forwardRef(({className:e,...t},n)=>i.jsx(Qb,{ref:n,className:de("text-lg font-semibold leading-none tracking-tight text-foreground",e),...t}));Jr.displayName=Qb.displayName;const MR=p.forwardRef(({className:e,...t},n)=>i.jsx(Yb,{ref:n,className:de("text-sm text-muted-foreground",e),...t}));MR.displayName=Yb.displayName;const Xb=({team:e,isOpen:t,onClose:n,onSave:r})=>{console.log("TeamEditor mounted. Props:",{team:e,isOpen:t}),console.log("TeamEditor team prop:",e);const[s,o]=p.useState(!1),{cities:a,tournaments:l,deleteTeam:c}=tt(),[u,d]=p.useState(e),[f,h]=p.useState({player1_first_name:e.player1_first_name||"",player1_last_name:e.player1_last_name||"",player2_first_name:e.player2_first_name||"",player2_last_name:e.player2_last_name||"",phone_number:e.phone_number||"",city:e.city||"",registeredTournaments:e.registeredTournaments||e.registered_tournaments||[],bostonPotOptOut:e.bostonPotOptOut||e.boston_pot_opt_out||{}});typeof window<"u"&&console.log("TeamEditor formData state:",f);const m=i.jsxs("div",{style:{fontSize:"10px",color:"purple",wordBreak:"break-all"},children:["[team prop] ",JSON.stringify(e)]});J.useEffect(()=>{h({player1_first_name:e.player1_first_name||"",player1_last_name:e.player1_last_name||"",player2_first_name:e.player2_first_name||"",player2_last_name:e.player2_last_name||"",phone_number:e.phone_number||"",city:e.city||"",registeredTournaments:e.registeredTournaments||e.registered_tournaments||[],bostonPotOptOut:e.bostonPotOptOut||e.boston_pot_opt_out||{}})},[e]);const g=()=>{window.confirm("Are you sure you want to delete this team? This action cannot be undone.")&&(o(!0),e&&e.id&&typeof c=="function"&&c(e.id),typeof n=="function"&&setTimeout(()=>{n()},200))},v=S=>{h(j=>({...j,registeredTournaments:j.registeredTournaments.includes(S)?j.registeredTournaments.filter(N=>N!==S):[...j.registeredTournaments,S],bostonPotOptOut:j.registeredTournaments.includes(S)?Object.fromEntries(Object.entries(j.bostonPotOptOut).filter(([N])=>N!==S)):j.bostonPotOptOut}))},x=S=>{h(j=>({...j,bostonPotOptOut:{...j.bostonPotOptOut,[S]:!j.bostonPotOptOut[S]}}))},w=S=>{const j=S.replace(/\D/g,"");return j.length===10?`(${j.slice(0,3)}) ${j.slice(3,6)}-${j.slice(6)}`:S},y=S=>{const j=w(S.target.value);h(N=>({...N,phone_Number:j}))},b=()=>{const S=f.registeredTournaments.filter(N=>!f.bostonPotOptOut[N]),j={...e,player1FirstName:f.player1_first_name,player1LastName:f.player1_last_name,player2FirstName:f.player2_first_name,player2LastName:f.player2_last_name,phoneNumber:f.phone_number,city:f.city,name:`${f.player1_first_name} ${f.player1_last_name}/${f.player2_first_name} ${f.player2_last_name}`,registeredTournaments:f.registeredTournaments,bostonPotOptOut:f.bostonPotOptOut,bostonPotTournaments:S};r(j),n()};return i.jsx(Ts,{open:t,onOpenChange:n,children:i.jsxs(Qr,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[i.jsx(Yr,{children:i.jsx(Jr,{children:"Edit Team"})}),i.jsxs("div",{style:{color:"red",fontWeight:"bold"},children:["[DEBUG] TeamEditor rendered. Team: ",e&&e.id?e.id:"no id"," | ",e&&e.name?e.name:"no name"]}),i.jsxs("div",{style:{color:"blue",fontWeight:"bold"},children:["[DEBUG] cities: ",Array.isArray(a)?a.length:"undefined"," | tournaments: ",Array.isArray(l)?l.length:"undefined"]}),m,i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{style:{color:"green",fontWeight:"bold"},children:["[DEBUG] Form section rendering. formData: ",JSON.stringify(f)]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx(ue,{children:"Player 1 First Name"}),i.jsx(pe,{value:f.player1_first_name,onChange:S=>h(j=>({...j,player1_first_name:S.target.value}))})]}),i.jsxs("div",{children:[i.jsx(ue,{children:"Player 1 Last Name"}),i.jsx(pe,{value:f.player1_last_name,onChange:S=>h(j=>({...j,player1_last_name:S.target.value}))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx(ue,{children:"Player 2 First Name"}),i.jsx(pe,{value:f.player2_first_name,onChange:S=>h(j=>({...j,player2_first_name:S.target.value}))})]}),i.jsxs("div",{children:[i.jsx(ue,{children:"Player 2 Last Name"}),i.jsx(pe,{value:f.player2_last_name,onChange:S=>h(j=>({...j,player2_last_name:S.target.value}))})]})]}),i.jsxs("div",{children:[i.jsx(ue,{children:"Phone Number"}),i.jsx(pe,{value:f.phone_number,onChange:y})]}),i.jsxs("div",{children:[i.jsx(ue,{children:"City"}),i.jsxs(sr,{value:f.city,onValueChange:S=>h(j=>({...j,city:S})),children:[i.jsx(Un,{children:i.jsx(or,{placeholder:"Select a city"})}),i.jsx(zn,{children:(Array.isArray(a)?a:[]).map(S=>i.jsx(en,{value:S,children:S},S))})]})]}),i.jsxs("div",{children:[i.jsx(ue,{children:"Tournaments"}),i.jsx("div",{className:"flex flex-col gap-2",children:(Array.isArray(l)?l:[]).map(S=>{const j=f.registeredTournaments.includes(S.id);return i.jsxs("div",{className:"flex flex-col border rounded p-2",children:[i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:j,onChange:()=>v(S.id)}),i.jsx("span",{children:S.name})]}),j&&i.jsxs("label",{className:"flex items-center gap-2 ml-6 mt-1",children:[i.jsx("input",{type:"checkbox",checked:!!f.bostonPotOptOut[S.id],onChange:()=>x(S.id)}),i.jsx("span",{children:"No Boston Pot"})]})]},S.id)})})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(oe,{variant:"outline",onClick:n,children:"Cancel"}),i.jsx(oe,{variant:"destructive",onClick:g,disabled:s,children:"Delete Team"}),i.jsx(oe,{onClick:b,disabled:s,children:"Save Changes"})]})]})]})})},BR=()=>{const{teams:e,tournaments:t,updateTeam:n}=tt(),[r,s]=p.useState(null),[o,a]=p.useState(""),[l,c]=p.useState(new Set);console.log("Available tournaments:",t.map(g=>`${g.id}: ${g.name}`)),console.log("Total teams:",e.length),console.log("Teams with registeredTournaments:",e.filter(g=>g.registeredTournaments&&g.registeredTournaments.length>0).length);const u=g=>{const v=e.filter(x=>{var w;return(w=x.registeredTournaments)==null?void 0:w.includes(g)});return console.log(`Tournament ${g} teams:`,v.length,v.map(x=>`${x.teamNumber}: ${x.name}`)),v},d=(g,v)=>{var y,b;const x=((y=g.player1TournamentPayments)==null?void 0:y[v])||!1,w=((b=g.player2TournamentPayments)==null?void 0:b[v])||!1;return x&&w?"fully-paid":x||w?"partially-paid":"unpaid"},f=g=>{switch(g){case"fully-paid":return i.jsx(me,{className:"bg-green-500",children:"Fully Paid"});case"partially-paid":return i.jsx(me,{variant:"secondary",className:"bg-yellow-500 text-white",children:"Partial"});default:return i.jsx(me,{variant:"secondary",children:"Unpaid"})}},h=g=>{if(!o)return g;const v=g.filter(x=>{const w=o.toLowerCase();return x.name.toLowerCase().includes(w)||x.city.toLowerCase().includes(w)||x.player1FirstName.toLowerCase().includes(w)||x.player1LastName.toLowerCase().includes(w)||x.player2FirstName.toLowerCase().includes(w)||x.player2LastName.toLowerCase().includes(w)});return console.log(`Filtered teams for search "${o}":`,v.length,"out of",g.length),v},m=g=>{const v=new Set(l);v.has(g)?v.delete(g):v.add(g),c(v)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(be,{className:"shadow-lg",children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(rn,{className:"w-5 h-5"}),"Teams by Tournament"]}),i.jsxs("div",{className:"relative",children:[i.jsx(fh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx(pe,{placeholder:"Search by team name, city, or player name...",value:o,onChange:g=>a(g.target.value),className:"pl-10"})]})]}),i.jsx(Se,{children:i.jsx("div",{className:"space-y-4",children:t.map(g=>{const v=u(g.id),x=h(v),w=l.has(g.id);return console.log(`Tournament ${g.name} (${g.id}): ${v.length} total teams, ${x.length} after filtering`),i.jsx(kb,{open:!w,children:i.jsxs("div",{className:"border rounded-lg",children:[i.jsx(Eb,{asChild:!0,children:i.jsxs(oe,{variant:"ghost",className:"w-full p-4 flex items-center justify-between hover:bg-gray-50",onClick:()=>m(g.id),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[w?i.jsx(y0,{className:"w-4 h-4"}):i.jsx(hc,{className:"w-4 h-4"}),i.jsx("h3",{className:"text-lg font-semibold",children:g.name})]}),i.jsxs(me,{variant:"outline",className:"flex items-center gap-1",children:[i.jsx(hh,{className:"w-3 h-3"}),x.length," teams"]})]})}),i.jsx(Pb,{children:i.jsx("div",{className:"p-4 pt-0",children:x.length===0?i.jsx("p",{className:"text-gray-500 text-center py-2",children:"No teams found"}):i.jsx("div",{className:"space-y-2",children:x.map(y=>{var j,N,_;const b=d(y,g.id),S=(j=y.bostonPotTournaments)==null?void 0:j.includes(g.id);return i.jsxs("div",{className:"p-3 bg-gray-50 rounded space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium",children:["Team ",y.teamNumber,": ",y.name]}),i.jsxs("div",{className:"text-sm",children:[i.jsxs("span",{className:(N=y.player1TournamentPayments)!=null&&N[g.id]?"text-green-600 font-semibold":"text-red-600 font-semibold",children:[y.player1FirstName," ",y.player1LastName]})," "," & "," ",i.jsxs("span",{className:(_=y.player2TournamentPayments)!=null&&_[g.id]?"text-green-600 font-semibold":"text-red-600 font-semibold",children:[y.player2FirstName," ",y.player2LastName]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(oe,{size:"sm",variant:"outline",onClick:()=>s(y),children:i.jsx(GN,{className:"w-3 h-3"})}),i.jsx("div",{className:"text-right",children:f(b)})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[i.jsx(w0,{className:"w-3 h-3"}),i.jsx("span",{children:y.phoneNumber})]}),i.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[i.jsx(dh,{className:"w-3 h-3"}),i.jsx("span",{children:y.city})]})]}),S&&i.jsx(me,{variant:"outline",className:"text-xs",children:"Boston Pot"})]})]},y.id)})})})})]})},g.id)})})})]}),r&&i.jsx(Xb,{team:r,isOpen:!!r,onClose:()=>s(null),onSave:n})]})},$R=({team:e,onComplete:t})=>{var d,f;const{updatePlayerTournamentPayment:n,tournaments:r}=tt(),s=h=>{var v;const m=r.find(x=>x.id===h);if(!m)return 0;let g=m.cost;return(v=e.bostonPotTournaments)!=null&&v.includes(h)&&(g+=m.bostonPotCost),g},o=()=>e.registeredTournaments?e.registeredTournaments.reduce((h,m)=>h+s(m),0):0,a=(h,m)=>{const g=h==="player1"?e.player1TournamentPayments:e.player2TournamentPayments;return(g==null?void 0:g[m])||!1};console.log("Registered tournaments:",e.registeredTournaments);const l=(h,m,g)=>{n(e.id,h,m,g)},c=h=>{e.registeredTournaments&&(console.log(`Paying all for ${h}:`,e.registeredTournaments),e.registeredTournaments.forEach(m=>{n(e.id,h,m,!0)}))},u=o();return i.jsxs(be,{className:"shadow-lg",children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(mc,{className:"w-5 h-5"}),"Individual Payment - ",e.name]})}),i.jsxs(Se,{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Team Details:"}),i.jsx("div",{className:"font-semibold",children:e.name}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Phone: ",e.phoneNumber," | City: ",e.city]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Md,{className:"w-4 h-4"}),i.jsxs("span",{className:"font-medium",children:[e.player1FirstName," ",e.player1LastName]})]}),i.jsxs("div",{className:"space-y-2 mb-3",children:[(d=e.registeredTournaments)==null?void 0:d.map(h=>{const m=r.find(x=>x.id===h),g=s(h),v=a("player1",h);return i.jsxs("div",{className:"flex items-center justify-between text-sm bg-gray-50 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:m==null?void 0:m.name}),i.jsx(me,{variant:v?"default":"secondary",className:v?"bg-green-500":"",children:v?"Paid":"Pending"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"font-medium",children:["$",g.toFixed(2)]}),v?i.jsx(oe,{onClick:()=>l("player1",h,!1),size:"sm",variant:"outline",className:"h-6 px-2",children:i.jsx(Lo,{className:"w-3 h-3"})}):i.jsx(oe,{onClick:()=>l("player1",h,!0),size:"sm",variant:"outline",className:"h-6 px-2",children:i.jsx(qi,{className:"w-3 h-3"})})]})]},h)}),i.jsxs("div",{className:"flex items-center justify-between font-medium pt-2 border-t",children:[i.jsx("span",{children:"Pay for All"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{children:["$",u.toFixed(2)]}),i.jsx(oe,{onClick:()=>c("player1"),size:"sm",className:"h-6 px-2",children:"Pay All"})]})]})]})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Md,{className:"w-4 h-4"}),i.jsxs("span",{className:"font-medium",children:[e.player2FirstName," ",e.player2LastName]})]}),i.jsxs("div",{className:"space-y-2 mb-3",children:[(f=e.registeredTournaments)==null?void 0:f.map(h=>{const m=r.find(x=>x.id===h),g=s(h),v=a("player2",h);return i.jsxs("div",{className:"flex items-center justify-between text-sm bg-gray-50 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:m==null?void 0:m.name}),i.jsx(me,{variant:v?"default":"secondary",className:v?"bg-green-500":"",children:v?"Paid":"Pending"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"font-medium",children:["$",g.toFixed(2)]}),v?i.jsx(oe,{onClick:()=>l("player2",h,!1),size:"sm",variant:"outline",className:"h-6 px-2",children:i.jsx(Lo,{className:"w-3 h-3"})}):i.jsx(oe,{onClick:()=>l("player2",h,!0),size:"sm",variant:"outline",className:"h-6 px-2",children:i.jsx(qi,{className:"w-3 h-3"})})]})]},h)}),i.jsxs("div",{className:"flex items-center justify-between font-medium pt-2 border-t",children:[i.jsx("span",{children:"Pay for All"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{children:["$",u.toFixed(2)]}),i.jsx(oe,{onClick:()=>c("player2"),size:"sm",className:"h-6 px-2",children:"Pay All"})]})]})]})]})]}),i.jsx("div",{className:"flex gap-3 pt-4",children:i.jsx(oe,{onClick:t,className:"flex-1",children:"Complete Registration"})})]})]})},LR=()=>{const{addTeam:e,cities:t,teams:n}=tt(),[r,s]=p.useState(""),[o,a]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(""),[m,g]=p.useState(""),[v,x]=p.useState([]),[w,y]=p.useState([]),[b,S]=p.useState(!1),[j,N]=p.useState(null),_=R=>{const E=R.replace(/\D/g,"");return E.length===10?`(${E.slice(0,3)}) ${E.slice(3,6)}-${E.slice(6)}`:R},O=R=>{const E=_(R.target.value);h(E)},L=(R,E)=>{x(k=>E?[...k,R]:k.filter(A=>A!==R)),E||y(k=>k.filter(A=>A!==R))},M=(R,E)=>{y(k=>E?[...k,R]:k.filter(A=>A!==R))},Y=(R,E)=>{if(!R.trim()||!E.trim())return"";const k=E.trim().charAt(0).toUpperCase();return`${R.trim()} ${k}`},H=()=>{if(!r.trim()||!o.trim()||!l.trim()||!u.trim()||!f.trim()||!m.trim()||v.length===0)return;const R=e(r.trim(),o.trim(),l.trim(),u.trim(),f.trim(),m.trim(),v,w);N(R),S(!0)},V=()=>{s(""),a(""),c(""),d(""),h(""),g(""),x([]),y([]),S(!1),N(null)},T=()=>{const R=Y(r,o),E=Y(l,u);return R&&E?`${R}/${E}`:""},P=j?n.find(R=>R.id===j):null;return i.jsx("div",{className:"space-y-6",children:i.jsxs(pa,{defaultValue:"register",className:"w-full",children:[i.jsxs(Zo,{className:"grid w-full grid-cols-3",children:[i.jsx(ot,{value:"register",children:"Register Team"}),i.jsx(ot,{value:"payments",children:"Payment Tracking"}),i.jsx(ot,{value:"tournaments",children:"Teams by Tournament"})]}),i.jsx(it,{value:"register",className:"space-y-6",children:b&&P?i.jsx($R,{team:P,onComplete:V}):i.jsxs(i.Fragment,{children:[i.jsxs(be,{className:"shadow-lg",children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(hh,{className:"w-5 h-5"}),"Team Registration"]})}),i.jsxs(Se,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"player1First",children:"Player 1 First Name *"}),i.jsx(pe,{id:"player1First",placeholder:"John",value:r,onChange:R=>s(R.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"player1Last",children:"Player 1 Last Name *"}),i.jsx(pe,{id:"player1Last",placeholder:"Smith",value:o,onChange:R=>a(R.target.value),required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"player2First",children:"Player 2 First Name *"}),i.jsx(pe,{id:"player2First",placeholder:"Frank",value:l,onChange:R=>c(R.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"player2Last",children:"Player 2 Last Name *"}),i.jsx(pe,{id:"player2Last",placeholder:"Stone",value:u,onChange:R=>d(R.target.value),required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"phoneNumber",children:"Team Phone Number *"}),i.jsx(pe,{id:"phoneNumber",placeholder:"(555) 123-4567",value:f,onChange:O,required:!0})]}),i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"city",children:"City/Location *"}),i.jsxs(sr,{value:m,onValueChange:g,children:[i.jsx(Un,{children:i.jsx(or,{placeholder:"Select a city"})}),i.jsx(zn,{children:t.map(R=>i.jsx(en,{value:R,children:R},R))})]})]})]})]}),T()&&i.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Team Name (Auto-generated):"}),i.jsx("div",{className:"font-semibold text-blue-700",children:T()})]})]})]}),i.jsx(pR,{selectedTournaments:v,bostonPotTournaments:w,onTournamentChange:L,onBostonPotChange:M}),i.jsxs(oe,{onClick:H,disabled:!r.trim()||!o.trim()||!l.trim()||!u.trim()||!f.trim()||!m.trim()||v.length===0,className:"w-full flex items-center gap-2",size:"lg",children:[i.jsx(pc,{className:"w-4 h-4"}),"Register Team"]})]})}),i.jsx(it,{value:"payments",children:i.jsx(wR,{})}),i.jsx(it,{value:"tournaments",children:i.jsx(BR,{})})]})})},DR=()=>{const{games:e,teams:t,getTournamentResults:n}=tt(),r=e.filter(a=>a.confirmed).sort((a,l)=>new Date(l.timestamp).getTime()-new Date(a.timestamp).getTime());n("1");const s={totalGames:r.length,totalPoints:r.reduce((a,l)=>a+l.scoreA+l.scoreB,0),bostons:r.filter(a=>a.boston!=="none").length,avgScore:r.length>0?(r.reduce((a,l)=>a+l.scoreA+l.scoreB,0)/r.length).toFixed(1):"0.0"},o=a=>{const l=t.find(m=>m.id===a.teamA.id)||a.teamA,c=t.find(m=>m.id===a.teamB.id)||a.teamB,u=a.scoreA>a.scoreB?l:c,d=a.scoreA>a.scoreB?c:l,f=Math.max(a.scoreA,a.scoreB),h=Math.min(a.scoreA,a.scoreB);return{winner:u,loser:d,winnerScore:f,loserScore:h,round:a.round,boston:a.boston,timestamp:a.timestamp}};return i.jsxs(be,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(rn,{className:"h-5 w-5"}),"Tournament Game History"]})}),i.jsxs(Se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.totalGames}),i.jsx("div",{className:"text-sm text-blue-600",children:"Total Games"})]}),i.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.totalPoints}),i.jsx("div",{className:"text-sm text-green-600",children:"Total Points"})]}),i.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.bostons}),i.jsx("div",{className:"text-sm text-yellow-600",children:"Bostons"})]}),i.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.avgScore}),i.jsx("div",{className:"text-sm text-purple-600",children:"Avg Score"})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(gc,{className:"h-4 w-4"}),"Recent Games"]}),r.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx("p",{children:"No completed games yet"}),i.jsx("p",{className:"text-sm",children:"Games will appear here after both teams confirm scores"})]}):i.jsxs("div",{className:"space-y-2",children:[r.slice(0,10).map(a=>{const l=o(a);return i.jsxs("div",{className:"p-3 rounded-lg border bg-gradient-to-r from-gray-50 to-white hover:from-gray-100 hover:to-gray-50 transition-all duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(me,{variant:"outline",className:"text-xs",children:["Round ",l.round]}),i.jsxs("span",{className:"text-sm font-medium",children:["Team ",l.winner.teamNumber||"Unknown"," ",l.winnerScore," - Team ",l.loser.teamNumber||"Unknown"," ",l.loserScore]}),l.boston!=="none"&&i.jsx(uh,{className:"h-4 w-4 text-yellow-500"})]}),i.jsx("div",{className:"text-xs text-gray-500",children:new Date(l.timestamp).toLocaleDateString()})]}),i.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[l.winner.player1FirstName," ",l.winner.player1LastName," & ",l.winner.player2FirstName," ",l.winner.player2LastName,i.jsx("span",{className:"mx-2",children:"vs"}),l.loser.player1FirstName," ",l.loser.player1LastName," & ",l.loser.player2FirstName," ",l.loser.player2LastName]})]},a.id)}),r.length>10&&i.jsxs("div",{className:"text-center text-sm text-gray-500 pt-2",children:["Showing 10 most recent games of ",r.length," total"]})]})]})]})]})},uf=p.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:de("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 transition-colors resize-none",e),ref:n,...t}));uf.displayName="Textarea";const FR=()=>{const{cities:e,addCity:t,removeCity:n}=tt(),[r,s]=p.useState(""),o=()=>{r.trim()&&(t(r.trim()),s(""))},a=c=>{n(c)},l=c=>{c.key==="Enter"&&o()};return i.jsxs(be,{className:"shadow-lg",children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(dh,{className:"w-5 h-5"}),"City Management"]})}),i.jsxs(Se,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ue,{htmlFor:"newCity",children:"Add New City"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(pe,{id:"newCity",placeholder:"Enter city name",value:r,onChange:c=>s(c.target.value),onKeyPress:l,className:"flex-1"}),i.jsxs(oe,{onClick:o,disabled:!r.trim(),className:"flex items-center gap-2",children:[i.jsx(pc,{className:"w-4 h-4"}),"Add"]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(ue,{children:["Current Cities (",e.length,")"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(c=>i.jsxs(me,{variant:"secondary",className:"flex items-center gap-2 px-3 py-1",children:[c,i.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>a(c),className:"h-4 w-4 p-0 hover:bg-red-100",children:i.jsx(Lo,{className:"w-3 h-3"})})]},c))}),e.length===0&&i.jsx("p",{className:"text-gray-500 text-sm",children:"No cities added yet."})]})]})]})},Lu=async(e,t)=>(console.log(`
=== SENDING SMS ===`),console.log("From: 3172506454"),console.log(`To: ${e}`),console.log(`Message: ${t}`),await new Promise(n=>setTimeout(n,500)),console.log("✅ SMS sent successfully (mock)!"),{success:!0,messageId:`sms-${Date.now()}`,status:"delivered",from:"3172506454",to:e,note:"Mock SMS - configure real SMS service for production"}),UR=({tournamentId:e})=>{const{schedules:t,teams:n,games:r,updateGameScore:s}=tt(),[o,a]=p.useState([]),[l,c]=p.useState(null),[u,d]=p.useState({scoreA:"",scoreB:"",boston:"none"}),[f,h]=p.useState(1),m=t.find(S=>S.tournamentId===e),g=(m==null?void 0:m.matches.filter(S=>!S.isBye&&S.round===f))||[],v=g.every(S=>r.some(j=>j.matchId===S.id&&j.confirmed));p.useEffect(()=>{if(v&&g.length>0){const S=(m==null?void 0:m.rounds)||1;f<S&&(h(j=>j+1),ae({title:`Round ${f} complete! Advanced to Round ${f+1}`}))}},[v,f,g.length,m==null?void 0:m.rounds]);const x=S=>{const j=n.find(N=>N.name===S);return(j==null?void 0:j.phone_Number)||""},w=async()=>{if(!l)return;const S=x(l.teamA),j=x(l.teamB);if(!S||!j){ae({title:"Missing phone numbers for teams",variant:"destructive"});return}const N=`Score request for Round ${l.round}: ${l.teamA} vs ${l.teamB}. Reply with format: "SCORE A-B BOSTON" (e.g., "SCORE 21-15 NONE" or "SCORE 21-19 TEAMB")`;try{await Lu(S,N),await Lu(j,N);const _={id:Date.now().toString(),matchId:l.id,teamA:l.teamA,teamB:l.teamB,round:l.round,sentTo:"both teams",sentAt:new Date,status:"sent"};a(O=>[...O,_]),c(null),ae({title:"Score request sent to both teams!"})}catch{ae({title:"Failed to send SMS",variant:"destructive"})}},y=()=>{if(!l||!u.scoreA||!u.scoreB)return;const S=o.find(O=>O.matchId===l.id&&O.status==="sent");if(!S){ae({title:"No pending request for this match",variant:"destructive"});return}const j={...S,status:"received",scoreA:parseInt(u.scoreA),scoreB:parseInt(u.scoreB),boston:u.boston,submittedBy:l.teamA};a(O=>O.map(L=>L.id===S.id?j:L));const N=x(l.teamB),_=`Score confirmation needed: ${l.teamA} ${u.scoreA} - ${u.scoreB} ${l.teamB}${u.boston!=="none"?` (Boston: ${u.boston==="teamA"?l.teamA:l.teamB})`:""}. Reply "CONFIRM" or "DISPUTE"`;Lu(N,_),d({scoreA:"",scoreB:"",boston:"none"}),ae({title:"Score received! Confirmation sent to opponent."})},b=S=>{const j=o.find(N=>N.id===S);!j||!j.scoreA||!j.scoreB||(s(j.matchId,j.scoreA,j.scoreB),a(N=>N.map(_=>_.id===S?{..._,status:"confirmed"}:_)),ae({title:"Score confirmed! Match completed."}))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(be,{children:[i.jsx(Te,{children:i.jsxs(ke,{children:["Current Round: ",f]})}),i.jsxs(Se,{children:[i.jsx("div",{className:"text-sm text-gray-600 mb-4",children:v&&g.length>0?"Round complete! Moving to next round...":`${g.length} matches available for scoring`}),g.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No active matches to score for Round ",f]})]})]}),g.length>0&&i.jsxs(be,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"Send Score Request via SMS"})}),i.jsxs(Se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs(ue,{children:["Select Match (Round ",f,")"]}),i.jsxs("select",{className:"w-full p-2 border rounded",value:(l==null?void 0:l.id)||"",onChange:S=>{const j=g.find(N=>N.id===S.target.value);c(j||null)},children:[i.jsx("option",{value:"",children:"Select a match..."}),g.map(S=>i.jsxs("option",{value:S.id,children:[S.teamA," vs ",S.teamB]},S.id))]})]}),l&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:["Will send to: ",x(l.teamA)," and ",x(l.teamB)]}),i.jsx(oe,{onClick:w,className:"w-full",children:"Send Score Request SMS"})]})]})]}),l&&i.jsxs(be,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"Simulate Incoming Score (Testing)"})}),i.jsxs(Se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs(ue,{children:[l.teamA," Score"]}),i.jsx(pe,{value:u.scoreA,onChange:S=>d(j=>({...j,scoreA:S.target.value})),type:"number"})]}),i.jsxs("div",{children:[i.jsxs(ue,{children:[l.teamB," Score"]}),i.jsx(pe,{value:u.scoreB,onChange:S=>d(j=>({...j,scoreB:S.target.value})),type:"number"})]})]}),i.jsxs("div",{children:[i.jsx(ue,{children:"Boston"}),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsx(oe,{variant:u.boston==="none"?"default":"outline",onClick:()=>d(S=>({...S,boston:"none"})),size:"sm",children:"None"}),i.jsx(oe,{variant:u.boston==="teamA"?"default":"outline",onClick:()=>d(S=>({...S,boston:"teamA"})),size:"sm",children:l.teamA}),i.jsx(oe,{variant:u.boston==="teamB"?"default":"outline",onClick:()=>d(S=>({...S,boston:"teamB"})),size:"sm",children:l.teamB})]})]}),i.jsx(oe,{onClick:y,className:"w-full",children:"Simulate Score Received"})]})]}),i.jsxs(be,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"Score Requests Status"})}),i.jsx(Se,{children:o.length===0?i.jsx("p",{className:"text-gray-500",children:"No score requests sent"}):i.jsx("div",{className:"space-y-3",children:o.map(S=>i.jsx("div",{className:"p-4 border rounded-lg",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:["Round ",S.round,": ",S.teamA," vs ",S.teamB]}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(me,{variant:S.status==="sent"?"secondary":S.status==="received"?"default":"outline",children:S.status.toUpperCase()}),i.jsx("span",{className:"text-sm text-gray-600",children:S.sentAt.toLocaleTimeString()})]}),S.status==="received"&&i.jsxs("p",{className:"text-sm mt-2",children:["Score: ",S.teamA," ",S.scoreA," - ",S.scoreB," ",S.teamB,S.boston!=="none"&&` (Boston: ${S.boston==="teamA"?S.teamA:S.teamB})`]})]}),S.status==="received"&&i.jsx(oe,{onClick:()=>b(S.id),size:"sm",children:"Confirm Score"})]})},S.id))})})]})]})},zR=ca("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground shadow-sm",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-600 dark:text-green-400 [&>svg]:text-green-600 dark:[&>svg]:text-green-400 bg-green-50 dark:bg-green-950/20",warning:"border-yellow-500/50 text-yellow-600 dark:text-yellow-400 [&>svg]:text-yellow-600 dark:[&>svg]:text-yellow-400 bg-yellow-50 dark:bg-yellow-950/20",info:"border-primary/50 text-primary dark:text-primary-foreground [&>svg]:text-primary bg-primary/10 dark:bg-primary/20"}},defaultVariants:{variant:"default"}}),zo=p.forwardRef(({className:e,variant:t,...n},r)=>i.jsx("div",{ref:r,role:"alert",className:de(zR({variant:t}),e),...n}));zo.displayName="Alert";const WR=p.forwardRef(({className:e,...t},n)=>i.jsx("h5",{ref:n,className:de("mb-1 font-medium leading-none tracking-tight",e),...t}));WR.displayName="AlertTitle";const Wo=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:de("text-sm [&_p]:leading-relaxed opacity-90",e),...t}));Wo.displayName="AlertDescription";const VR=({tournamentId:e})=>{const{games:t,confirmScore:n,teams:r,tournaments:s}=tt(),[o,a]=p.useState(null),l=s.find(f=>f.id===e),c=t.filter(f=>{var h;return!f.confirmed&&((h=f.matchId)==null?void 0:h.startsWith(e))}),u=async(f,h)=>{a(f),console.log("Confirming score for game:",f,"Confirmation status:",h);try{await n(f,h)}finally{a(null)}},d=f=>{const h=r.find(m=>m.id===f);return h?`#${h.teamNumber} ${h.name}`:"Unknown Team"};return l?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-semibold",children:["Score Confirmations - ",l.name]}),i.jsxs(me,{variant:"outline",children:[c.length," Pending"]})]}),c.length===0?i.jsxs(zo,{children:[i.jsx(fp,{className:"h-4 w-4"}),i.jsx(Wo,{children:"No pending score confirmations for this tournament."})]}):i.jsx("div",{className:"space-y-3",children:c.map(f=>i.jsx(be,{children:i.jsx(Se,{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(x0,{className:"h-4 w-4 text-orange-500"}),i.jsxs("span",{className:"font-medium",children:["Round ",f.round||1]})]}),i.jsxs("div",{className:"text-sm",children:[i.jsxs("div",{className:"font-medium",children:[d(f.teamA.id)," vs ",d(f.teamB.id)]}),i.jsxs("div",{className:"text-gray-600 mt-1",children:["Score: ",f.scoreA," - ",f.scoreB,f.boston!=="none"&&i.jsxs("span",{className:"ml-2 text-blue-600",children:["(Boston: ",f.boston==="teamA"?f.teamA.name:f.teamB.name,")"]})]}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Submitted by: ",f.submittedBy]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(oe,{size:"sm",variant:"outline",onClick:()=>u(f.id,!1),disabled:o===f.id,className:"text-red-600 hover:text-red-700",children:[i.jsx(BN,{className:"h-4 w-4 mr-1"}),"Reject"]}),i.jsxs(oe,{size:"sm",onClick:()=>u(f.id,!0),disabled:o===f.id,className:"bg-green-600 hover:bg-green-700",children:[i.jsx(fp,{className:"h-4 w-4 mr-1"}),"Confirm"]})]})]})})},f.id))})]}):i.jsx(zo,{children:i.jsx(Wo,{children:"Please select a tournament to view score confirmations."})})},HR=({tournamentId:e})=>{const{teams:t,tournaments:n,submitGame:r,currentUser:s}=tt(),[o,a]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(""),[m,g]=p.useState("none"),[v,x]=p.useState("1"),[w,y]=p.useState(!1),b=n.find(N=>N.id===e),S=t.filter(N=>{var _;return(_=N.registeredTournaments)==null?void 0:_.includes(e)}),j=async N=>{if(N.preventDefault(),!o||!l||!u||!f)return;const _=t.find(H=>H.id===o),O=t.find(H=>H.id===l),L=parseInt(u),M=parseInt(f),Y=L>M?"teamA":"teamB";y(!0);try{r({teamA:_,teamB:O,scoreA:L,scoreB:M,boston:m,winner:Y,matchId:`${e}-${v}-${Date.now()}`,round:parseInt(v),teamAScore:L,teamBScore:M}),a(""),c(""),d(""),h(""),g("none"),x("1")}finally{y(!1)}};return b?i.jsxs(be,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(pc,{className:"h-5 w-5"}),"Manual Score Entry - ",b.name]})}),i.jsx(Se,{children:i.jsxs("form",{onSubmit:j,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"teamA",children:"Team A"}),i.jsxs(sr,{value:o,onValueChange:a,children:[i.jsx(Un,{children:i.jsx(or,{placeholder:"Select Team A"})}),i.jsx(zn,{children:S.map(N=>i.jsxs(en,{value:N.id,children:["#",N.teamNumber," ",N.name]},N.id))})]})]}),i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"teamB",children:"Team B"}),i.jsxs(sr,{value:l,onValueChange:c,children:[i.jsx(Un,{children:i.jsx(or,{placeholder:"Select Team B"})}),i.jsx(zn,{children:S.filter(N=>N.id!==o).map(N=>i.jsxs(en,{value:N.id,children:["#",N.teamNumber," ",N.name]},N.id))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"scoreA",children:"Team A Score"}),i.jsx(pe,{id:"scoreA",type:"number",value:u,onChange:N=>d(N.target.value),placeholder:"0",min:"0"})]}),i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"scoreB",children:"Team B Score"}),i.jsx(pe,{id:"scoreB",type:"number",value:f,onChange:N=>h(N.target.value),placeholder:"0",min:"0"})]}),i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"round",children:"Round"}),i.jsxs(sr,{value:v,onValueChange:x,children:[i.jsx(Un,{children:i.jsx(or,{})}),i.jsx(zn,{children:[1,2,3,4,5].map(N=>i.jsxs(en,{value:N.toString(),children:["Round ",N]},N))})]})]})]}),i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"boston",children:"Boston"}),i.jsxs(sr,{value:m,onValueChange:N=>g(N),children:[i.jsx(Un,{children:i.jsx(or,{})}),i.jsxs(zn,{children:[i.jsx(en,{value:"none",children:"No Boston"}),i.jsx(en,{value:"teamA",children:"Team A Boston"}),i.jsx(en,{value:"teamB",children:"Team B Boston"})]})]})]}),i.jsx(oe,{type:"submit",disabled:w||!o||!l||!u||!f,children:w?"Submitting...":"Submit Score"})]})})]}):i.jsx(zo,{children:i.jsx(Wo,{children:"Please select a tournament to submit scores."})})},GR=({tournamentId:e})=>i.jsx("div",{className:"space-y-6",children:i.jsxs(be,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"Score Management System"})}),i.jsxs(Se,{children:[i.jsx(zo,{className:"mb-4",children:i.jsx(Wo,{children:"Complete score management system with SMS integration. Teams can submit scores via SMS, opponents receive confirmation requests, and all scores are tracked and verified."})}),i.jsxs(pa,{defaultValue:"sms",className:"w-full",children:[i.jsxs(Zo,{className:"grid w-full grid-cols-3",children:[i.jsx(ot,{value:"sms",children:"SMS Score Requests"}),i.jsx(ot,{value:"confirmations",children:"Score Confirmations"}),i.jsx(ot,{value:"manual",children:"Manual Entry"})]}),i.jsx(it,{value:"sms",className:"mt-6",children:i.jsx(UR,{tournamentId:e})}),i.jsx(it,{value:"confirmations",className:"mt-6",children:i.jsx(VR,{tournamentId:e})}),i.jsx(it,{value:"manual",className:"mt-6",children:i.jsx(HR,{tournamentId:e})})]})]})]})}),KR=()=>{const{tournaments:e,setTournaments:t,addTournament:n,updateTournament:r,getActiveTournament:s,setActiveTournament:o}=tt(),[a,l]=p.useState("tournaments"),[c,u]=p.useState(""),[d,f]=p.useState(""),[h,m]=p.useState("10"),[g,v]=p.useState(""),[x,w]=p.useState(null),[y,b]=p.useState(""),[S,j]=p.useState(""),[N,_]=p.useState(""),[O,L]=p.useState(""),[M,Y]=p.useState(""),H=s(),V=async()=>{if(!c.trim()||!d.trim()||!h.trim())return;const E=parseFloat(d),k=parseFloat(h);isNaN(E)||E<=0||isNaN(k)||k<=0||(await n(c.trim(),E,k,g.trim()||void 0),u(""),f(""),m("10"),v(""))},T=E=>{w(E.id),b(E.name),j(E.cost.toString()),_(E.bostonPotCost.toString()),L(E.description||"")},P=async()=>{if(!y.trim()||!S.trim()||!N.trim()||!x)return;const E=parseFloat(S),k=parseFloat(N);isNaN(E)||E<=0||isNaN(k)||k<=0||(await r(x,y.trim(),E,k,O.trim()||void 0),R())},R=()=>{w(null),b(""),j(""),_(""),L("")};return i.jsx("div",{className:"space-y-6",children:i.jsxs(pa,{defaultValue:"tournaments",className:"w-full",value:a,onValueChange:l,children:[i.jsxs(Zo,{className:"grid w-full grid-cols-3",children:[i.jsx(ot,{value:"tournaments",children:"Tournament Setup"}),i.jsx(ot,{value:"cities",children:"City Management"}),i.jsx(ot,{value:"scores",children:"Score Management"})]}),i.jsxs(it,{value:"tournaments",className:"space-y-6",children:[i.jsxs(be,{className:"shadow-lg",children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(rn,{className:"w-5 h-5"}),"Active Tournament"]})}),i.jsx(Se,{children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("label",{htmlFor:"active-tournament-select",className:"font-medium",children:"Select Active Tournament:"}),i.jsxs("select",{id:"active-tournament-select",className:"border rounded p-2",value:(H==null?void 0:H.id)||"",onChange:E=>{const k=e.find(A=>A.id===E.target.value);k&&o(k.id)},children:[i.jsx("option",{value:"",disabled:!0,children:"Select a tournament..."}),e.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))]}),H&&i.jsx(me,{variant:"default",className:"bg-green-500 text-white ml-2",children:"Active"})]})})]}),i.jsxs(be,{className:"shadow-lg",children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(b0,{className:"w-5 h-5"}),"Tournament Setup"]})}),i.jsxs(Se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"tournamentName",children:"Tournament Name"}),i.jsx(pe,{id:"tournamentName",placeholder:"e.g., Friday 3 AM Tournament",value:c,onChange:E=>u(E.target.value)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"tournamentCost",children:"Base Cost ($)"}),i.jsx(pe,{id:"tournamentCost",type:"number",placeholder:"30",value:d,onChange:E=>f(E.target.value)})]}),i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"bostonPotCost",children:"Boston Pot Cost ($)"}),i.jsx(pe,{id:"bostonPotCost",type:"number",placeholder:"10",value:h,onChange:E=>m(E.target.value)})]})]}),i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"tournamentDescription",children:"Description (Optional)"}),i.jsx(uf,{id:"tournamentDescription",placeholder:"Tournament details...",value:g,onChange:E=>v(E.target.value),rows:3})]}),i.jsxs(oe,{onClick:V,disabled:!c.trim()||!d.trim()||!h.trim(),className:"w-full flex items-center gap-2",children:[i.jsx(pc,{className:"w-4 h-4"}),"Add Tournament"]})]})]}),i.jsxs(be,{className:"shadow-lg",children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(rn,{className:"w-5 h-5"}),"Available Tournaments (",e.length,")"]})}),i.jsx(Se,{children:i.jsx("div",{className:"grid gap-3",children:e.map(E=>i.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${E.status==="active"?"bg-green-50 border border-green-300":E.status==="pending"?"bg-yellow-50 border border-yellow-300":"bg-gray-50"}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-semibold",children:E.name}),i.jsx(me,{variant:E.status==="active"?"default":E.status==="pending"?"secondary":"outline",children:E.status==="active"?"Active":E.status==="pending"?"Pending":"Finished"})]}),x===E.id?i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(pe,{value:y,onChange:k=>b(k.target.value),placeholder:"Tournament name"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx(pe,{type:"number",value:S,onChange:k=>j(k.target.value),placeholder:"Base cost"}),i.jsx(pe,{type:"number",value:N,onChange:k=>_(k.target.value),placeholder:"Boston cost"})]}),i.jsx(uf,{value:O,onChange:k=>L(k.target.value),placeholder:"Description",rows:2}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(oe,{size:"sm",onClick:P,children:i.jsx(HN,{className:"w-3 h-3"})}),i.jsx(oe,{size:"sm",variant:"outline",onClick:R,children:i.jsx(Lo,{className:"w-3 h-3"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-semibold",children:E.name}),E.status==="active"&&i.jsx(me,{variant:"default",className:"bg-green-500 text-white",children:"Active"}),E.status==="finished"&&i.jsx(me,{variant:"secondary",children:"Finished"})]}),E.description&&i.jsx("div",{className:"text-sm text-gray-600",children:E.description}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsxs(me,{variant:"secondary",children:["Per Team: $",E.cost]}),i.jsxs(me,{variant:"outline",className:"flex items-center gap-1",children:[i.jsx(S0,{className:"w-3 h-3"}),"Boston: $",E.bostonPotCost]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Total with Boston:"}),i.jsxs("div",{className:"font-semibold",children:["$",(E.cost||0)+(E.bostonPotCost||0)]})]}),i.jsx(oe,{size:"sm",variant:"outline",onClick:()=>T(E),children:i.jsx(UN,{className:"w-3 h-3"})})]})]})]},E.id))})})]})]}),i.jsx(it,{value:"cities",children:i.jsx(FR,{})}),i.jsx(it,{value:"scores",className:"space-y-6",children:i.jsxs(be,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(FN,{className:"w-5 h-5"}),"SMS Score Management"]})}),i.jsxs(Se,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ue,{children:"Select Tournament for Score Management"}),i.jsxs("select",{className:"w-full p-2 border rounded",value:M,onChange:E=>Y(E.target.value),children:[i.jsx("option",{value:"",children:"Select a tournament..."}),e.map(E=>i.jsx("option",{value:E.id,children:E.name},E.id))]})]}),M&&i.jsx(GR,{tournamentId:M})]})]})})]})})};var qR="Separator",xg="horizontal",QR=["horizontal","vertical"],Zb=p.forwardRef((e,t)=>{const{decorative:n,orientation:r=xg,...s}=e,o=YR(r)?r:xg,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return i.jsx(fe.div,{"data-orientation":o,...l,...s,ref:t})});Zb.displayName=qR;function YR(e){return QR.includes(e)}var eS=Zb;const tS=p.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,variant:r="default",...s},o)=>i.jsx(eS,{ref:o,decorative:n,orientation:t,className:de("shrink-0",r==="default"&&"bg-border",r==="muted"&&"bg-muted",r==="accent"&&"bg-primary/30",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));tS.displayName=eS.displayName;const JR=({schedule:e,tournamentName:t})=>{const{teams:n,games:r,scoreSubmissions:s}=tt(),o=l=>{const c=r.find(d=>d.matchId===l.id&&d.confirmed);if(c){const d=c.scoreA>c.scoreB?n.find(h=>String(h.id)===String(l.teamA)):n.find(h=>String(h.id)===String(l.teamB)),f=d===n.find(h=>String(h.id)===String(l.teamA))?n.find(h=>String(h.id)===String(l.teamB)):n.find(h=>String(h.id)===String(l.teamA));return`Winner - Team ${(d==null?void 0:d.teamNumber)??(d==null?void 0:d.id)??"Unknown"} ${Math.max(c.scoreA,c.scoreB)} ***** Loser - Team ${(f==null?void 0:f.teamNumber)??(f==null?void 0:f.id)??"Unknown"} ${Math.min(c.scoreA,c.scoreB)}`}const u=s.filter(d=>d.matchId===l.id);if(u.length===2)return u[0].scoreA===u[1].scoreA&&u[0].scoreB===u[1].scoreB?"Confirming scores":"Score conflict - needs resolution";if(u.length===1){const d=n.find(f=>String(f.id)===String(u[0].submittedBy));return`Waiting for opponent score (Team ${(d==null?void 0:d.teamNumber)||"Unknown"} submitted)`}if(l.teamA==="TBD"||l.teamB==="TBD"){if(l.round===1)return"Ready to start";{const f=e.matches.filter(h=>h.round===l.round-1).filter(h=>!r.find(m=>m.matchId===h.id&&m.confirmed));return f.length>0?`Waiting for ${f.length} Round ${l.round-1} match${f.length>1?"es":""} to complete`:"Waiting for team assignment"}}return"Ready to score"},a=l=>l.includes("Completed")||l.includes("Winner")?"bg-green-100 border-green-300 text-green-800":l.includes("Ready to score")?"bg-blue-100 border-blue-300 text-blue-800":l.includes("Waiting for opponent score")?"bg-yellow-100 border-yellow-300 text-yellow-800":l.includes("Confirming scores")?"bg-orange-100 border-orange-300 text-orange-800":l.includes("Score conflict")?"bg-red-100 border-red-300 text-red-800":l.includes("Ready to start")?"bg-blue-100 border-blue-300 text-blue-800":"bg-gray-100 border-gray-300 text-gray-600";return i.jsxs(be,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{children:["Complete Tournament Schedule - ",t]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.rounds," rounds total • ",e.matches.length," matches"]})]}),i.jsx(Se,{children:Array.from({length:e.rounds},(l,c)=>c+1).map(l=>{const c=e.matches.filter(u=>u.round===l);return i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsxs(me,{variant:"outline",className:"font-medium",children:["Round ",l]}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[c.length," match",c.length!==1?"es":""]})]}),i.jsx("div",{className:"space-y-3",children:c.map(u=>{if(u.isBye){const g=n.find(v=>String(v.id)===String(u.teamA))||{name:u.teamA,teamNumber:"",city:""};return i.jsx("div",{className:"p-2 md:p-4 border rounded-lg bg-green-100 border-green-300 text-green-800",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"font-bold text-xs md:text-sm",children:["Team ",g.teamNumber||g.id]}),i.jsx("div",{className:"text-[10px] md:text-xs font-medium",children:g.name}),i.jsx("div",{className:"text-[10px] md:text-xs text-blue-600",children:g.city})]}),i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(me,{variant:"outline",className:"text-[10px] md:text-xs px-2 py-1 bg-yellow-100 border-yellow-300 text-yellow-800",children:"BYE"})})]})},u.id)}const d=n.find(g=>String(g.id)===String(u.teamA)),f=n.find(g=>String(g.id)===String(u.teamB)),h=o(u),m=a(h);return i.jsxs("div",{className:`p-2 md:p-4 border rounded-lg ${m}`,children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-bold text-xs md:text-sm",children:u.teamA==="TBD"?"Team TBD":d?`Team ${d.teamNumber??d.id}`:`Team ${u.teamA}`}),d&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-[10px] md:text-xs font-medium",children:d.name}),i.jsx("div",{className:"text-[10px] md:text-xs text-blue-600",children:d.city})]})]}),i.jsxs("div",{className:"flex flex-col items-center mx-0 md:mx-3",children:[i.jsxs(me,{variant:"outline",className:"text-[10px] md:text-xs px-2 py-0.5 mb-0.5",children:["Table ",u.table??"?"]}),i.jsx("span",{className:"text-muted-foreground font-bold text-xs md:text-sm text-center",children:"vs"})]}),i.jsxs("div",{className:"flex-1 md:text-right",children:[i.jsx("div",{className:"font-bold text-xs md:text-sm",children:u.teamB==="TBD"?"Team TBD":f?`Team ${f.teamNumber??f.id}`:`Team ${u.teamB}`}),f&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-[10px] md:text-xs font-medium",children:f.name}),i.jsx("div",{className:"text-[10px] md:text-xs text-blue-600",children:f.city})]})]})]}),i.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-1 md:gap-2 mt-1",children:[h!=="Ready to score"&&i.jsx(me,{variant:"outline",className:"text-[10px] md:text-xs px-1.5 py-0.5 md:px-2 md:py-1",children:h}),!1]})]},u.id)})}),l<e.rounds&&i.jsx(tS,{className:"mt-4"})]},l)})})]})};function XR(e,t){const n={};for(const h of e)n[h.city]||(n[h.city]=[]),n[h.city].push(h);const r=Object.keys(n);let s=null;for(const h of r){const m=r.filter(v=>v!==h),g=[[]];for(const v of m){const x=[];for(const w of g)x.push([...w,v]),x.push(w);g.push(...x)}for(const v of g){const x=v,w=m.filter(j=>!x.includes(j)),y=x.reduce((j,N)=>j+n[N].length,0),b=w.reduce((j,N)=>j+n[N].length,0),S=n[h].length;for(let j=0;j<=S;j++){const N=S-j,_=y+j,O=b+N,L=Math.abs(_-O);(!s||L<s.diff)&&(s={splitCity:h,left:[...x,...Array(j).fill(h)],right:[...w,...Array(N).fill(h)],diff:L})}}}if(!s)throw new Error("Could not find a valid split");const o=[],a=[],l=[...n[s.splitCity]],c=s.left.filter(h=>h===s.splitCity).length;s.right.filter(h=>h===s.splitCity).length,o.push(...s.left.filter(h=>h!==s.splitCity).flatMap(h=>n[h])),a.push(...s.right.filter(h=>h!==s.splitCity).flatMap(h=>n[h])),o.push(...l.slice(0,c)),a.unshift(...l.slice(c));let u=o.length+a.length;if(u%2!==0){const h={id:"BYE",name:"BYE",city:"BYE"};o.length<a.length?o.push(h):a.push(h),u++}const d=[];for(let h=0;h<Math.min(t,o.length);h++){const m=[];for(let g=0;g<o.length;g++)if(!(o[g].id==="BYE"&&a[g].id==="BYE"))if(o[g].id==="BYE"){const v={teamA:a[g],teamB:{id:"BYE",name:"BYE",city:"BYE"},round:h+1};m.push(v)}else if(a[g].id==="BYE"){const v={teamA:o[g],teamB:{id:"BYE",name:"BYE",city:"BYE"},round:h+1};m.push(v)}else{const v={round:h+1,teamA:o[g],teamB:a[g]};m.push(v)}d.push(m),a.unshift(a.pop())}const f=[];for(const h of d)for(const m of h)"teamA"in m&&"teamB"in m&&(m.teamA.id!=="BYE"&&m.teamB.id==="BYE"&&f.push(m.teamA),m.teamB.id!=="BYE"&&m.teamA.id==="BYE"&&f.push(m.teamB));if(f.length>0){const h=[];for(let m=0;m<f.length;m+=2){const g=f[m],v=f[m+1];g&&v&&h.push({teamA:g,teamB:v,round:d.length+1})}h.length>0&&d.push(h)}return d}function ZR(e){const t=[...e].sort((a,l)=>a.id.localeCompare(l.id)),n=[];let r=[...t];const s=Math.floor(t.length/2);let o=1;for(;r.length>1;){const a=r.shift();let l=r.findIndex(u=>u.city!==a.city);l===-1&&(l=0);const c=r.splice(l,1)[0];n.push({teamA:a,teamB:c,round:1,table:o}),o++}if(r.length===1){const a=r.pop();n.push({teamA:a,teamB:null,round:1,table:s+1,isBye:!0})}return[n]}const eO=()=>{var z;const{teams:e,tournaments:t,schedules:n,saveSchedule:r,sendScoreSheetLinks:s,clearTournamentResults:o,clearGames:a,clearScoreSubmissions:l,updatePlaceholders:c,forceReplaceAllPlaceholders:u,refreshSchedules:d,refreshGamesFromSupabase:f,getActiveTournament:h}=tt(),m=h&&((z=h())==null?void 0:z.id)||"",[g,v]=p.useState(m),[x,w]=p.useState("4"),[y,b]=p.useState(null),[S,j]=p.useState(!1),[N,_]=p.useState(!1),[O,L]=p.useState(!1),[M,Y]=p.useState([]),[H,V]=p.useState(!1),[T,P]=p.useState(null),[R,E]=p.useState(null);p.useEffect(()=>{if(!g){const B=h?h():null;B&&v(String(B.id))}},[g,h,t]),p.useEffect(()=>{if(g){const B=n.find(U=>U.tournamentId===g)||null;B?(b(B),w(B.rounds?B.rounds.toString():"4")):(b(null),w("4")),j(!1)}},[g,n]),p.useEffect(()=>{if(!g)return;const B=n.find(U=>U.tournamentId===g)||null;b(B)},[n,g]);const k=B=>{E(B),V(!1),setTimeout(()=>{B==="A"?F():B==="B"&&Q()},0)},A=()=>{const B=parseInt(x);return isNaN(B)||B<2?4:B},D=()=>{if(!g||!x||isNaN(parseInt(x))||parseInt(x)<2){ae({title:"Please select tournament and a valid number of rounds (minimum 2)",variant:"destructive"});return}n.find(U=>U.tournamentId===g)&&!window.confirm("Generating a new schedule will clear all existing results, scores, and standings for this tournament. Are you sure you want to continue?")||V(!0)},F=()=>{const B=e.filter(Oe=>{var Ce;return(Ce=Oe.registeredTournaments)==null?void 0:Ce.includes(g)});if(B.length<2){ae({title:"Need at least 2 teams to generate schedule",variant:"destructive"});return}const U=B.map(Oe=>({id:Oe.id,name:Oe.name,city:Oe.city})),ee=A(),te=XR(U,ee),ce=[];let _e=1,re=1;const ie=Math.floor(B.length/2);te.forEach((Oe,Ce)=>{re=1,Oe.forEach(Ee=>{"teamA"in Ee&&"teamB"in Ee&&ce.push({id:`${g}-r${Ce+1}-m${_e++}`,teamA:Ee.teamA.id,teamB:Ee.teamB.id,round:Ce+1,table:Math.min(re++,ie),tournamentId:g,isBye:Ee.teamA.id==="BYE"||Ee.teamB.id==="BYE",isSameCity:Ee.teamA.city===Ee.teamB.city})})});const he={tournamentId:g,matches:ce,rounds:ee};r(he),b(he),j(!0),_(!1)},Q=()=>{const B=e.filter(se=>{var Ye;return(Ye=se.registeredTournaments)==null?void 0:Ye.includes(g)});if(B.length<2){ae({title:"Need at least 2 teams to generate schedule",variant:"destructive"});return}const U=B.map(se=>({id:String(se.id),name:se.name,city:se.city})),ee=A(),te=[];let ce=1;const _e=Math.floor(U.length/2);U.length%2;const re=[],ie=ZR(U)[0];let he=null;ie.forEach((se,Ye)=>{"teamA"in se&&"teamB"in se&&se.teamA&&se.teamB?te.push({id:`${g}-r1-m${ce++}`,teamA:String(se.teamA.id),teamB:String(se.teamB.id),round:1,table:se.table,tournamentId:g,isBye:!1,isSameCity:se.teamA.city===se.teamB.city}):"teamA"in se&&se.teamA&&!se.teamB&&(he=String(se.teamA.id),re.push(he),te.push({id:`${g}-r1-m${ce++}`,teamA:String(se.teamA.id),teamB:null,round:1,table:_e+1,tournamentId:g,isBye:!0,isSameCity:!1}))});let Oe=he;for(let se=2;se<=ee;se++){let Ye=1,Fe=[];for(let We=1;We<=_e;We++)Fe.push(`R${se-1}L${We}`);let we=[];for(let We=1;We<=_e;We++)we.push(`R${se-1}W${We}`);let Ie=0,Le=null;for(Oe&&(te.push({id:`${g}-r${se}-m${ce++}`,teamA:Fe[Ie],teamB:Oe,round:se,table:Ye++,tournamentId:g,isBye:!1,isSameCity:!1,opponentPlaceholder:void 0}),Le=Fe[Ie+1],Le&&(re.push(Le),te.push({id:`${g}-r${se}-byem${ce++}`,teamA:Le,teamB:null,round:se,table:_e+1,tournamentId:g,isBye:!0,isSameCity:!1,opponentPlaceholder:void 0})),Ie+=2);Ie+1<Fe.length;)te.push({id:`${g}-r${se}-m${ce++}`,teamA:Fe[Ie],teamB:Fe[Ie+1],round:se,table:Ye++,tournamentId:g,isBye:!1,isSameCity:!1,opponentPlaceholder:void 0}),Ie+=2;let st=0;for(Ie<Fe.length&&(te.push({id:`${g}-r${se}-m${ce++}`,teamA:Fe[Ie],teamB:we[st],round:se,table:Ye++,tournamentId:g,isBye:!1,isSameCity:!1,opponentPlaceholder:void 0}),st++);st+1<we.length;)te.push({id:`${g}-r${se}-m${ce++}`,teamA:we[st],teamB:we[st+1],round:se,table:Ye++,tournamentId:g,isBye:!1,isSameCity:!1,opponentPlaceholder:void 0}),st+=2;Oe=Le}let Ce=ee;if(re.length>0){Ce=ee+1;let se=Ce,Ye=re.map(we=>{const Ie=U.find(Le=>Le.id===we);return Ie?Ie.id:we}),Fe=1;for(let we=0;we<Ye.length;we+=2)te.push({id:`${g}-r${se}-byem${ce++}`,teamA:Ye[we],teamB:Ye[we+1]||null,round:se,table:Fe++,tournamentId:g,isBye:!Ye[we+1],isSameCity:!1,opponentPlaceholder:void 0})}const Ee={tournamentId:g,matches:te,rounds:Ce};r(Ee),b(Ee),j(!0),_(!1),ae({title:"Option B schedule generated!",description:"All rounds pre-created with correct loser/winner and bye rotation logic for any number of teams."})},Z=async()=>{if(y)try{const B=window.location.origin;await s(y.tournamentId,B),_(!0),ae({title:"Score sheet links sent to all teams!"})}catch{ae({title:"Failed to send score sheet links",variant:"destructive"})}},q=t.find(B=>B.id===g),C=e.filter(B=>{var U;return(U=B.registeredTournaments)==null?void 0:U.includes(g)}),$=n.find(B=>B.tournamentId===g),I=C.length>0?Math.floor(C.length/2):0,G=C.length%2===1,W=C.reduce((B,U)=>(B[U.city]||(B[U.city]=0),B[U.city]++,B),{});return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(be,{children:[i.jsx(Te,{children:i.jsx("div",{className:"flex justify-between items-center",children:i.jsx(ke,{children:"Tournament Scheduler (Smart Algorithm)"})})}),i.jsxs(Se,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"tournament",children:"Select Tournament"}),i.jsxs(sr,{value:g,onValueChange:v,children:[i.jsx(Un,{children:i.jsx(or,{placeholder:"Choose tournament"})}),i.jsx(zn,{children:t.map(B=>i.jsx(en,{value:B.id,children:B.name},B.id))})]})]}),i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"rounds",children:"Number of Rounds"}),i.jsx(pe,{id:"rounds",type:"number",value:x,onChange:B=>w(B.target.value),placeholder:"e.g., 4"})]})]}),g&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("p",{className:"text-sm font-medium",children:["Teams: ",C.length," ",G&&i.jsx(me,{variant:"secondary",className:"ml-1",children:"Odd - Byes Required"})]}),i.jsx("div",{className:"flex gap-1",children:Object.entries(W).map(([B,U])=>i.jsxs(me,{variant:"outline",className:"text-xs",children:[B,": ",U]},B))})]}),i.jsxs("p",{className:"text-sm text-blue-600",children:["Tables: ",I]}),i.jsxs("p",{className:"text-xs text-green-600",children:["✓ Avoids same-city matchups and rematches",G&&" ✓ Handles byes with final bye round"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(oe,{onClick:D,disabled:!g||!x||isNaN(parseInt(x))||parseInt(x)<2,className:"flex-1",children:$?"Regenerate Schedule (Clears Results)":"Generate Schedule"}),S&&y&&i.jsx(oe,{onClick:Z,disabled:N,variant:"secondary",className:"flex-1",children:N?"Links Sent ✓":"Send Score Sheet Out"}),y&&i.jsx(oe,{onClick:async()=>{await d(),await f()},variant:"outline",className:"flex-1",children:"Refresh from DB"}),y&&i.jsx(oe,{onClick:async()=>{await c(),u()},variant:"outline",className:"flex-1",children:"Update Schedule"})]})]})]}),y&&i.jsx(JR,{schedule:y,tournamentName:(q==null?void 0:q.name)||""}),i.jsx(Ts,{open:H,onOpenChange:V,children:i.jsxs(Qr,{children:[i.jsx(Yr,{children:i.jsx(Jr,{children:"Choose Schedule Type"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(oe,{variant:"outline",className:"w-full",onClick:()=>k("A"),children:"Option A: Full Schedule (all matchups, avoids same-city, existing logic)"}),i.jsx(oe,{variant:"outline",className:"w-full",onClick:()=>k("B"),children:"Option B: Win/Loss Dictated Rotation (dynamic, round-by-round)"})]})]})}),i.jsx(Ts,{open:O,onOpenChange:L,children:i.jsxs(Qr,{children:[i.jsx(Yr,{children:i.jsx(Jr,{children:"Teams with Byes"})}),i.jsx("div",{className:"space-y-2",children:M.length===0?i.jsx("div",{className:"text-gray-600",children:"No teams received a bye."}):i.jsx("ul",{className:"list-disc pl-6",children:M.map(B=>i.jsx("li",{children:B},B))})}),i.jsx("div",{className:"flex justify-end pt-2",children:i.jsx(oe,{onClick:()=>L(!1),children:"OK"})})]})})]})},nS=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:de("w-full caption-bottom text-sm",e),...t})}));nS.displayName="Table";const rS=p.forwardRef(({className:e,...t},n)=>i.jsx("thead",{ref:n,className:de("[&_tr]:border-b",e),...t}));rS.displayName="TableHeader";const sS=p.forwardRef(({className:e,...t},n)=>i.jsx("tbody",{ref:n,className:de("[&_tr:last-child]:border-0",e),...t}));sS.displayName="TableBody";const tO=p.forwardRef(({className:e,...t},n)=>i.jsx("tfoot",{ref:n,className:de("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));tO.displayName="TableFooter";const yi=p.forwardRef(({className:e,...t},n)=>i.jsx("tr",{ref:n,className:de("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));yi.displayName="TableRow";const Yt=p.forwardRef(({className:e,...t},n)=>i.jsx("th",{ref:n,className:de("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Yt.displayName="TableHead";const gn=p.forwardRef(({className:e,...t},n)=>i.jsx("td",{ref:n,className:de("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));gn.displayName="TableCell";const nO=p.forwardRef(({className:e,...t},n)=>i.jsx("caption",{ref:n,className:de("mt-4 text-sm text-muted-foreground",e),...t}));nO.displayName="TableCaption";const He=(e,t,n)=>`${e}_${t}_${n}`,rO=({tournamentId:e})=>{const{tournaments:t,teams:n,schedules:r,games:s,clearTournamentResults:o,submitGame:a,scoreSubmissions:l,resetAllTournamentData:c,setGames:u,setScoreSubmissions:d,tournamentResults:f,setTournamentResults:h}=tt(),[m,g]=p.useState(e||"1"),v=e||m,[x,w]=p.useState(!0),[y,b]=p.useState({}),[S,j]=p.useState(0);p.useEffect(()=>{const V=localStorage.getItem("resultsOverrides");V&&b(JSON.parse(V))},[]),p.useEffect(()=>{localStorage.setItem("resultsOverrides",JSON.stringify(y))},[y]),p.useEffect(()=>{j(V=>V+1)},[s,l]);const N=t.find(V=>V.id===v),_=r.find(V=>V.tournamentId===v),O=p.useMemo(()=>_?Array.from(new Set(_.matches.flatMap(T=>[String(T.teamA),String(T.teamB)]).filter(T=>T!=="BYE"&&T!=="TBD"))).map(T=>n.find(P=>String(P.id)===T)).filter(T=>!!T):[],[_,n]),L=_?_.rounds:5;p.useEffect(()=>{_&&b(V=>{let T=!1;const P={...V};return O.forEach(R=>{for(let E=1;E<=L;E++){const k=_.matches.find(F=>{const Q=typeof F.teamA=="object"&&F.teamA&&"id"in F.teamA?String(F.teamA.id):String(F.teamA),Z=typeof F.teamB=="object"&&F.teamB&&"id"in F.teamB?String(F.teamB.id):String(F.teamB);return F.round===E&&(Q===String(R.id)||Z===String(R.id))});if(!k)continue;const A=[k.teamA,k.teamB].map(F=>F==null?"":typeof F=="object"&&F&&"id"in F&&F.id!=null?String(F.id):String(F)).filter(Boolean).sort();s.find(F=>{if(!F.confirmed||F.round!==k.round)return!1;const Q=typeof F.teamA=="object"?F.teamA.id:F.teamA,Z=typeof F.teamB=="object"?F.teamB.id:F.teamB,q=[String(Q),String(Z)].sort();return A[0]===q[0]&&A[1]===q[1]})&&[He(R.id,E,"wl"),He(R.id,E,"points"),He(R.id,E,"boston")].forEach(Q=>{Q in P&&(delete P[Q],T=!0)})}}),T?P:V})},[s,_,O,L]);const{sortedTeams:M,resultsMatrix:Y}=al(n,s,_,y,L),H=()=>{if(!O.length)return;const V={};O.forEach(T=>{for(let P=1;P<=L;P++)V[He(String(T.id),P,"wl")]="",V[He(String(T.id),P,"points")]="0",V[He(String(T.id),P,"boston")]="0";V[He(String(T.id),"total","wins")]="0",V[He(String(T.id),"total","points")]="0",V[He(String(T.id),"total","bostons")]="0"}),b(V);try{const T=_?_.matches.map(A=>A.id):[];let P=JSON.parse(localStorage.getItem("games")||"[]");P=P.filter(A=>!(!A.matchId||!T.includes(A.matchId))),localStorage.setItem("games",JSON.stringify(P)),typeof u=="function"&&u(P);let R=JSON.parse(localStorage.getItem("scoreSubmissions")||"[]");R=R.filter(A=>!(!A.matchId||!T.includes(A.matchId))),localStorage.setItem("scoreSubmissions",JSON.stringify(R)),typeof d=="function"&&d(R),localStorage.setItem("resultsOverrides",JSON.stringify(V));const E=localStorage.getItem("tournamentResults");let k=E?JSON.parse(E):{};typeof k=="object"&&k!==null?(delete k[v],localStorage.setItem("tournamentResults",JSON.stringify(k)),typeof h=="function"&&h(k)):console.warn("tournamentResults was not an object:",k)}catch(T){console.error("Error resetting localStorage:",T),window.alert("Error during reset: "+T.message);return}typeof o=="function"&&o(v),window.alert("Table display and results for this tournament have been reset. Teams remain.")};return i.jsxs(be,{children:[i.jsxs(Te,{children:[i.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(rn,{className:"h-5 w-5"}),((N==null?void 0:N.name)||"Tournament")+" - Results"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xs font-bold",onClick:()=>{window.confirm("Are you sure you want to reset ALL tournament data? This will clear all games, schedules, results, brackets, and start fresh with preloaded teams.")&&(typeof c=="function"&&c(v),window.alert("All tournament data except teams has been reset."))},children:"Reset ALL Tournament Data"}),i.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-xs font-bold",onClick:H,children:"Reset Table Display Only"}),i.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-xs font-bold",onClick:()=>{w(V=>!V)},children:"Sort"}),i.jsx("button",{className:"px-3 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 text-xs font-bold",onClick:()=>{if(!_||O.length<2)return;const V=_.matches.find(R=>R.round===1&&R.teamA!=="BYE"&&R.teamB!=="BYE");if(!V)return;const T=n.find(R=>R.id===V.teamA),P=n.find(R=>R.id===V.teamB);!T||!P||(b(R=>{const E=[He(T.id,1,"wl"),He(T.id,1,"points"),He(T.id,1,"boston"),He(P.id,1,"wl"),He(P.id,1,"points"),He(P.id,1,"boston")],k={...R};return E.forEach(A=>{delete k[A]}),k}),a({matchId:V.id,teamA:T,teamB:P,scoreA:50,scoreB:40,boston:"",submittedBy:T.id,round:1}),a({matchId:V.id,teamA:T,teamB:P,scoreA:50,scoreB:40,boston:"",submittedBy:P.id,round:1}),window.alert(`Simulated: ${T.name} (Team #${T.teamNumber}) vs ${P.name} (Team #${P.teamNumber}) in Round 1. Score: 50-40`))},children:"Simulate Confirm Round 1 (2 Teams)"})]})]}),!N&&i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"text-sm font-medium",children:"Select Tournament:"}),i.jsxs("select",{className:"w-full mt-1 p-2 border rounded",value:m,onChange:V=>g(V.target.value),children:[i.jsx("option",{value:"",children:"Choose a tournament..."}),t.map(V=>i.jsx("option",{value:V.id,children:V.name},V.id))]})]})]}),i.jsx(Se,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(nS,{children:[i.jsxs(rS,{children:[i.jsxs(yi,{children:[i.jsxs(Yt,{rowSpan:2,className:"bg-yellow-200 border border-gray-400 text-center align-middle",children:["TEAM",i.jsx("br",{}),"#"]}),Array.from({length:L},(V,T)=>i.jsxs(Yt,{colSpan:4,className:`text-center border border-gray-400 ${T%2===0?"bg-pink-200":"bg-green-200"}`,children:["Round ",T+1]},T)),i.jsx(Yt,{colSpan:3,className:"bg-blue-200 border border-gray-400 text-center align-middle",children:"TOTALS"})]}),i.jsxs(yi,{children:[Array.from({length:L},(V,T)=>i.jsxs(J.Fragment,{children:[i.jsxs(Yt,{className:`text-center text-xs border border-gray-400 ${T%2===0?"bg-pink-200":"bg-green-200"}`,children:["Game",i.jsx("br",{}),"Win=W",i.jsx("br",{}),"Loss=L"]}),i.jsx(Yt,{className:`text-center text-xs border border-gray-400 ${T%2===0?"bg-pink-200":"bg-green-200"}`,children:"Points"}),i.jsx(Yt,{className:`text-center text-xs border border-gray-400 ${T%2===0?"bg-pink-200":"bg-green-200"}`,children:"Hands Won"}),i.jsx(Yt,{className:`text-center text-xs border border-gray-400 ${T%2===0?"bg-pink-200":"bg-green-200"}`,children:"Boston"})]},T)),i.jsx(Yt,{className:"text-center text-xs border border-gray-400 bg-blue-200",children:"Wins"}),i.jsx(Yt,{className:"text-center text-xs border border-gray-400 bg-blue-200",children:"Points"}),i.jsx(Yt,{className:"text-center text-xs border border-gray-400 bg-blue-200",children:"Hands"}),i.jsx(Yt,{className:"text-center text-xs border border-gray-400 bg-blue-200",children:"Bostons"})]})]}),i.jsx(sS,{children:O.length===0?i.jsx(yi,{children:i.jsxs(gn,{colSpan:1+L*4+3,className:"text-center text-gray-500 py-8",children:["No results yet. ",!N||!_?"Set up a tournament and schedule to begin.":""]})}):M.map(V=>{const T=String(V.id),P=V.teamNumber?`Team # ${V.teamNumber}`:`Team # ${V.id}`,R=V.name||"";return i.jsxs(yi,{children:[i.jsx(gn,{className:"font-medium border border-gray-400 bg-yellow-100",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(me,{variant:"outline",className:"mb-1",children:P}),i.jsx("span",{className:"text-sm",children:R})]})}),Array.from({length:L},(E,k)=>{const A=k+1,D=Y[T][A]||{wl:"",points:0,hands:0,boston:0};return i.jsxs(J.Fragment,{children:[i.jsx(gn,{className:"text-center border border-gray-400 p-0",children:i.jsx("input",{className:"w-10 text-center bg-transparent outline-none",value:y[He(T,A,"wl")]??D.wl,onChange:F=>{const Q=F.target.value;b(Z=>{const q=He(T,A,"wl");if(Q===""){const{[q]:C,...$}=Z;return $}return{...Z,[q]:Q}})}})}),i.jsx(gn,{className:"text-center border border-gray-400 p-0",children:i.jsx("input",{type:"number",className:"w-14 text-center bg-transparent outline-none",value:y[He(T,A,"points")]??D.points,onChange:F=>{const Q=F.target.value;b(Z=>{const q=He(T,A,"points");if(Q===""){const{[q]:C,...$}=Z;return $}return{...Z,[q]:Q}})}})}),i.jsx(gn,{className:"text-center border border-gray-400 p-0",children:i.jsx("input",{type:"number",className:"w-12 text-center bg-transparent outline-none",value:y[He(T,A,"hands")]??D.hands,onChange:F=>{const Q=F.target.value;b(Z=>{const q=He(T,A,"hands");if(Q===""){const{[q]:C,...$}=Z;return $}return{...Z,[q]:Q}})}})}),i.jsx(gn,{className:"text-center border border-gray-400 p-0",children:i.jsx("input",{type:"number",className:"w-10 text-center bg-transparent outline-none",value:y[He(T,A,"boston")]??D.boston,onChange:F=>{const Q=F.target.value;b(Z=>{const q=He(T,A,"boston");if(Q===""){const{[q]:C,...$}=Z;return $}return{...Z,[q]:Q}})}})})]},A)}),i.jsx(gn,{className:"text-center border border-gray-400 bg-blue-100 font-medium p-0",children:i.jsx("input",{type:"number",className:"w-12 text-center bg-transparent outline-none font-bold",value:Y[T].totalPoints.wins??0,readOnly:!0})}),i.jsx(gn,{className:"text-center border border-gray-400 bg-blue-100 font-medium p-0",children:i.jsx("input",{type:"number",className:"w-16 text-center bg-transparent outline-none font-bold",value:Array.from({length:L},(E,k)=>{var F;const A=k+1,D=y[He(T,A,"points")];return D!==void 0?Number(D):((F=Y[T][A])==null?void 0:F.points)||0}).reduce((E,k)=>E+k,0),readOnly:!0})}),i.jsx(gn,{className:"text-center border border-gray-400 bg-blue-100 font-medium p-0",children:i.jsx("input",{type:"number",className:"w-12 text-center bg-transparent outline-none font-bold",value:Array.from({length:L},(E,k)=>{var D;const A=k+1;return((D=Y[T][A])==null?void 0:D.hands)||0}).reduce((E,k)=>E+k,0),readOnly:!0})}),i.jsx(gn,{className:"text-center border border-gray-400 bg-blue-100 font-medium p-0",children:i.jsx("input",{type:"number",className:"w-12 text-center bg-transparent outline-none font-bold",value:Array.from({length:L},(E,k)=>{var F;const A=k+1,D=y[He(T,A,"boston")];return D!==void 0?Number(D):((F=Y[T][A])==null?void 0:F.boston)||0}).reduce((E,k)=>E+k,0),readOnly:!0})})]},V.id)})})]})})})]})},sO=()=>{const{games:e,teams:t,getTournamentResults:n,tournaments:r,getActiveTournament:s}=tt(),o=s(),a=J.useMemo(()=>o?n(o.id):[],[o,n]),l=o,c=o?e.filter(d=>d.confirmed&&d.matchId&&(r&&r.length,a.some(f=>f.teamId===d.teamA.id||f.teamId===d.teamB.id))).sort((d,f)=>new Date(f.timestamp).getTime()-new Date(d.timestamp).getTime()):[],u=d=>{const f=t.find(w=>w.id===d.teamA.id)||d.teamA,h=t.find(w=>w.id===d.teamB.id)||d.teamB,m=d.scoreA>d.scoreB?f:h,g=d.scoreA>d.scoreB?h:f,v=Math.max(d.scoreA,d.scoreB),x=Math.min(d.scoreA,d.scoreB);return{winner:m,loser:g,winnerScore:v,loserScore:x,round:d.round,boston:d.boston,timestamp:d.timestamp}};return o?i.jsxs("div",{className:"space-y-6",children:[i.jsx(rO,{tournamentId:o.id}),i.jsxs(be,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Bl,{className:"h-5 w-5"}),"Game Results - ",(l==null?void 0:l.name)||"Tournament"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.length," completed game",c.length!==1?"s":""]})]}),i.jsx(Se,{children:c.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(rn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:"font-medium",children:"No completed games yet"}),i.jsx("p",{className:"text-sm",children:"Games will appear here after both teams confirm scores"})]}):i.jsx("div",{className:"space-y-4",children:c.map(d=>{const f=u(d);return i.jsx("div",{className:"p-4 rounded-lg border bg-gradient-to-r from-gray-50 to-white hover:from-gray-100 hover:to-gray-50 transition-all duration-200",children:i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(me,{variant:"outline",className:"font-medium px-3 py-1",children:["Round ",f.round]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rn,{className:"h-4 w-4 text-yellow-500"}),i.jsxs("span",{className:"font-semibold text-green-700",children:["Team # ",f.winner.teamNumber??f.winner.id]}),i.jsxs("span",{className:"font-bold text-lg mx-2",children:[f.winnerScore," - ",f.loserScore]}),i.jsxs("span",{className:"font-medium text-red-600",children:["Team # ",f.loser.teamNumber??f.loser.id]})]}),d.boston!=="none"&&i.jsxs(me,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[i.jsx(uh,{className:"h-3 w-3 mr-1"}),"Boston"]})]}),i.jsxs("div",{className:"text-xs text-gray-500 text-right",children:[i.jsx("div",{children:new Date(f.timestamp).toLocaleDateString()}),i.jsx("div",{children:new Date(f.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},d.id)})})})]})]}):i.jsx("div",{className:"space-y-6",children:i.jsxs(be,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"No Active Tournament"})}),i.jsx(Se,{children:i.jsx("p",{className:"text-gray-600 text-center",children:"Please select an active tournament to view results."})})]})})},oO=({size:e,matches:t,teams:n,onScoreUpdate:r,onAdvanceWinner:s})=>{const o=Math.log2(e),a=u=>u===o?"Final":u===o-1?"Semi-Final":u===o-2?"Quarter-Final":`Round ${u}`,l=(u,d,f)=>{const h=f/Math.pow(2,u),m=f/Math.pow(2,u+1);let g=`Table ${d}`;if(u===1)g+=` (Seed ${d} home table)`;else if(u>1&&h>m)if(d<=m)g+=" (Winners stay)";else{const v=d-m;g+=` (Winner moves to Table ${v})`}return g},c=u=>{const d=t.find(f=>f.id===u);!d||!d.team1||!d.team2||s(u)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-center",children:[e," Team Elimination Bracket"]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"text-sm text-gray-600 p-3 bg-blue-50 rounded-lg",children:[i.jsx("strong",{children:"Table Assignment Rules:"}),i.jsxs("ul",{className:"mt-2 space-y-1",children:[i.jsx("li",{children:"• Round 1: Table number = Lower seed number (Seed #1 plays at Table #1)"}),i.jsx("li",{children:"• Later rounds: Winners from higher tables move to join winners at lower tables"}),i.jsx("li",{children:"• Example: Table 1 winner plays Table 8 winner at Table 1"})]})]})}),i.jsx("div",{className:"grid gap-6",children:Array.from({length:o},(u,d)=>{const f=d+1,h=t.filter(m=>m.round===f).sort((m,g)=>m.table-g.table);return i.jsxs(be,{className:"w-full",children:[i.jsx(Te,{children:i.jsxs(ke,{className:"text-center",children:[a(f)," - ",h.length," Tables"]})}),i.jsx(Se,{children:i.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${Math.max(1,Math.min(4,h.length))}, 1fr)`},children:h.map(m=>i.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[i.jsx("div",{className:"text-center font-medium text-sm text-blue-600",children:l(m.round,m.table,e)}),i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[m.team1&&i.jsxs(i.Fragment,{children:[i.jsxs(me,{variant:"outline",children:["#",m.team1.seed]}),i.jsxs("span",{className:"text-sm font-medium",children:[m.team1.teamName,(()=>{const g=m.team1.teamNumber??m.team1.teamId;return g?i.jsxs("span",{className:"text-xs text-gray-500",children:[" (Team # ",g,")"]}):null})()]})]}),!m.team1&&i.jsx("span",{className:"text-sm text-gray-500",children:"TBD"})]}),m.team1&&i.jsx(pe,{type:"number",className:"w-16 h-8 text-center",value:m.team1Score||"",onChange:g=>{const v=parseInt(g.target.value)||0;r(m.id,v,m.team2Score||0)},min:"0"})]}),i.jsx("div",{className:"text-center text-xs text-gray-500",children:"vs"}),i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[m.team2&&i.jsxs(i.Fragment,{children:[i.jsxs(me,{variant:"outline",children:["#",m.team2.seed]}),i.jsxs("span",{className:"text-sm font-medium",children:[m.team2.teamName,(()=>{const g=m.team2.teamNumber??m.team2.teamId;return g?i.jsxs("span",{className:"text-xs text-gray-500",children:[" (Team # ",g,")"]}):null})()]})]}),!m.team2&&i.jsx("span",{className:"text-sm text-gray-500",children:"TBD"})]}),m.team2&&i.jsx(pe,{type:"number",className:"w-16 h-8 text-center",value:m.team2Score||"",onChange:g=>{const v=parseInt(g.target.value)||0;r(m.id,m.team1Score||0,v)},min:"0"})]}),m.team1&&m.team2&&typeof m.team1Score=="number"&&typeof m.team2Score=="number"&&i.jsx(oe,{size:"sm",className:"w-full",onClick:()=>c(m.id),disabled:m.winner!==void 0,children:m.winner?`Winner: ${m.winner.teamName}`:"Advance Winner"}),m.winner&&i.jsx("div",{className:"text-center p-2 bg-green-100 rounded",children:i.jsxs(me,{className:"bg-green-600",children:["Winner: #",m.winner.seed," ",m.winner.teamName,(()=>{const g=m.winner.teamNumber??m.winner.teamId;return g?` (Team # ${g})`:""})()]})})]},m.id))})})]},f)})})]})},iO=()=>{const{tournaments:e,getTournamentResults:t,saveBracket:n,getBracket:r,updateBracket:s,deleteBracket:o,teams:a,schedules:l,games:c}=tt(),[u,d]=p.useState("1"),[f,h]=p.useState(null),[m,g]=p.useState(!1),[v,x]=p.useState(!1),[w,y]=p.useState(!1),[b,S]=p.useState([]),[j,N]=p.useState({});p.useEffect(()=>{const T=localStorage.getItem("resultsOverrides");T&&N(JSON.parse(T))},[]),p.useEffect(()=>{const T=r(u);h(T)},[u,r]);const _=T=>{const P=l.find(F=>F.tournamentId===u),R=P?P.rounds:5,{sortedTeams:E}=al(a,c,P,j,R),k=E.slice(0,T).map((F,Q)=>({seed:Q+1,teamId:F.id,teamName:F.name,teamNumber:F.teamNumber})),A=O(T,k),D={id:`bracket-${Date.now()}`,tournamentId:u,size:T,teams:k,matches:A,createdAt:new Date};h(D),n(D),S(k.slice(0,5)),g(!1),y(!0)},O=(T,P)=>{const R=[];let E=1;L(T).forEach(D=>{const F=P.find(q=>q.seed===D[0]),Q=P.find(q=>q.seed===D[1]),Z=Math.min(D[0],D[1]);R.push({id:`match-${E++}`,round:1,table:Z,team1:F,team2:Q})});const A=Math.log2(T);for(let D=2;D<=A;D++){const F=T/Math.pow(2,D);for(let Q=0;Q<F;Q++)R.push({id:`match-${E++}`,round:D,table:Q+1})}return R},L=T=>{switch(T){case 4:return[[1,4],[2,3]];case 8:return[[1,8],[4,5],[2,7],[3,6]];case 16:return[[1,16],[8,9],[4,13],[5,12],[2,15],[7,10],[3,14],[6,11]];case 32:return[[1,32],[16,17],[8,25],[9,24],[4,29],[13,20],[5,28],[12,21],[2,31],[15,18],[7,26],[10,23],[3,30],[14,19],[6,27],[11,22]];default:return[]}},M=(T,P,R)=>{if(!f)return;const E=f.matches.map(A=>A.id===T?{...A,team1Score:P,team2Score:R}:A),k={...f,matches:E};h(k),s(u,{matches:E})},Y=T=>{if(!f)return;const P=f.matches.find(F=>F.id===T);if(!P||!P.team1||!P.team2)return;const R=(P.team1Score||0)>(P.team2Score||0)?P.team1:P.team2,E=f.matches.map(F=>F.id===T?{...F,winner:R}:F),k=H(P.table,P.round,f.size),D=f.matches.filter(F=>F.round===P.round+1).find(F=>F.table===k);if(D){const F=E.map(Z=>{if(Z.id===D.id)if(Z.team1){if(!Z.team2)return{...Z,team2:{...R,seed:R.seed}}}else return{...Z,team1:{...R,seed:R.seed}};return Z}),Q={...f,matches:F};h(Q),s(u,{matches:F})}else{const F={...f,matches:E};h(F),s(u,{matches:E})}},H=(T,P,R)=>{const E=R/Math.pow(2,P+1);return T<=E?T:E+1-(T-E)},V=()=>{o(u),h(null),x(!1)};return i.jsxs(be,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(gc,{className:"h-5 w-5"}),"Tournament Bracket Generator"]})}),i.jsx(Se,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Universal Bracket Rule:"}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsx("li",{children:"• Lowest table number always plays highest table number at lowest table"}),i.jsx("li",{children:"• 16 tables: 1v16@1, 2v15@2, 3v14@3, 4v13@4..."}),i.jsx("li",{children:"• 8 tables: 1v8@1, 2v7@2, 3v6@3, 4v5@4"}),i.jsx("li",{children:"• 4 tables: 1v4@1, 2v3@2"}),i.jsx("li",{children:"• Finals: Winner 1 vs Winner 2"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Select Tournament:"}),i.jsx("select",{className:"w-full mt-1 p-2 border rounded",value:u,onChange:T=>d(T.target.value),children:e.map(T=>i.jsx("option",{value:T.id,children:T.name},T.id))})]}),i.jsxs("div",{className:"flex gap-2",children:[!f&&i.jsxs(Ts,{open:m,onOpenChange:g,children:[i.jsx(yg,{asChild:!0,children:i.jsx(oe,{onClick:()=>g(!0),children:"Create Bracket"})}),i.jsxs(Qr,{children:[i.jsx(Yr,{children:i.jsx(Jr,{children:"Select Bracket Size"})}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-6 p-2",children:[i.jsxs("div",{className:"flex-1 border rounded p-2 bg-gray-50",children:[i.jsx("h4",{className:"font-semibold mb-2 text-blue-700",children:"Tournament Results Order"}),i.jsx("ol",{className:"list-decimal pl-4",children:(()=>{const T=l.find(E=>E.tournamentId===u),P=T?T.rounds:5,{sortedTeams:R}=al(a,c,T,j,P);return R.map((E,k)=>i.jsxs("li",{className:"mb-1",children:[i.jsxs(me,{variant:"outline",children:["#",k+1]})," ",i.jsx("span",{className:"font-medium",children:E.name})," ",i.jsxs("span",{className:"text-xs text-gray-500",children:["(Team # ",E.teamNumber??E.id,")"]})]},E.id))})()})]}),i.jsxs("div",{className:"flex-1 border rounded p-2 bg-gray-50",children:[i.jsx("h4",{className:"font-semibold mb-2 text-green-700",children:"Bracket Seeding Order (Preview)"}),i.jsx("ol",{className:"list-decimal pl-4",children:(()=>{const T=l.find(E=>E.tournamentId===u),P=T?T.rounds:5,{sortedTeams:R}=al(a,c,T,j,P);return R.map((E,k)=>i.jsxs("li",{className:"mb-1",children:[i.jsxs(me,{variant:"outline",children:["#",k+1]})," ",i.jsx("span",{className:"font-medium",children:E.name})," ",i.jsxs("span",{className:"text-xs text-gray-500",children:["(Team # ",E.teamNumber??E.id,")"]})]},E.id))})()})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4",children:[i.jsx(oe,{onClick:()=>_(32),variant:"outline",children:"32 Team Bracket"}),i.jsx(oe,{onClick:()=>_(16),variant:"outline",children:"16 Team Bracket"}),i.jsx(oe,{onClick:()=>_(8),variant:"outline",children:"8 Team Bracket"}),i.jsx(oe,{onClick:()=>_(4),variant:"outline",children:"4 Team Bracket"})]})]})]}),f&&i.jsxs(Ts,{open:v,onOpenChange:x,children:[i.jsx(yg,{asChild:!0,children:i.jsxs(oe,{variant:"destructive",className:"flex items-center gap-2",children:[i.jsx(VN,{className:"h-4 w-4"}),"Restart Bracket"]})}),i.jsxs(Qr,{children:[i.jsx(Yr,{children:i.jsx(Jr,{children:"Restart Bracket?"})}),i.jsxs("div",{className:"p-4",children:[i.jsx("p",{className:"mb-4",children:"Are you sure you want to restart the bracket? This will delete all current progress and cannot be undone."}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(oe,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),i.jsx(oe,{variant:"destructive",onClick:V,children:"Yes, Restart"})]})]})]})]})]}),f&&i.jsxs(i.Fragment,{children:[i.jsx(oO,{size:f.size,matches:f.matches,teams:f.teams,onScoreUpdate:M,onAdvanceWinner:Y}),i.jsx(Ts,{open:w,onOpenChange:y,children:i.jsxs(Qr,{children:[i.jsx(Yr,{children:i.jsx(Jr,{children:"Top 5 Seeds"})}),i.jsxs("div",{className:"space-y-2",children:[b.length===0&&i.jsx("div",{className:"text-red-600 font-semibold",children:"No teams could be seeded. Please check that your tournament has a valid schedule and teams."}),b.map((T,P)=>{const R=T.teamNumber??T.teamId;return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(me,{variant:"outline",children:["#",T.seed]}),i.jsx("span",{className:"font-medium",children:T.teamName}),R&&i.jsxs("span",{className:"text-xs text-gray-500",children:["(Team # ",R,")"]})]},T.teamId)})]}),i.jsx("div",{className:"flex justify-end pt-2",children:i.jsx(oe,{onClick:()=>y(!1),children:"OK"})})]})})]})]})})]})},aO=()=>{const[e,t]=p.useState(0),[n,r]=p.useState(1),s=n>0?e/n:0,{tournaments:o,teams:a}=tt(),[l,c]=p.useState(""),[u,d]=p.useState(0),[f,h]=p.useState(0),[m,g]=p.useState(30),[v,x]=p.useState(50),[w,y]=p.useState(25),[b,S]=p.useState(15),[j,N]=p.useState(10);p.useEffect(()=>{if(l){const T=o.find(P=>P.id===l);if(T){let P=0,R=0;a.forEach(k=>{var A,D,F,Q;if((A=k.registeredTournaments)!=null&&A.includes(l)){const Z=T.cost,q=(D=k.bostonPotTournaments)!=null&&D.includes(l)?T.bostonPotCost:0,C=Z+q;((F=k.player1TournamentPayments)==null?void 0:F[l])||!1?P+=C/2:R+=C/2,((Q=k.player2TournamentPayments)==null?void 0:Q[l])||!1?P+=C/2:R+=C/2}});const E=a.reduce((k,A)=>{var D;return(D=A.bostonPotTournaments)!=null&&D.includes(l)?k+(T.bostonPotCost||0):k},0);d(P),h(R),t(E)}}else d(0),h(0),t(0)},[l,o,a]);const _=u+f,O=_*m/100,L=_-O,M=L*v/100,Y=L*w/100,H=L*b/100,V=L*j/100;return i.jsxs("div",{className:"space-y-6",children:[i.jsx(be,{className:"mb-4",children:i.jsx(Se,{children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ue,{htmlFor:"tournamentSelect",children:"Select Tournament"}),i.jsxs(sr,{value:l,onValueChange:c,children:[i.jsx(Un,{id:"tournamentSelect",className:"w-64",children:i.jsx(or,{placeholder:"Choose a tournament"})}),i.jsx(zn,{children:o.map(T=>i.jsx(en,{value:T.id,children:T.name},T.id))})]})]})})}),i.jsxs(be,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(mc,{className:"h-5 w-5"}),"Tournament Finance Manager"]})}),i.jsx(Se,{className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx(ue,{children:"Money Collected ($)"}),i.jsxs("div",{className:"p-2 bg-green-100 rounded border font-semibold text-green-700",children:["$",u.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx(ue,{children:"Money Owed ($)"}),i.jsxs("div",{className:"p-2 bg-red-100 rounded border font-semibold text-red-700",children:["$",f.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx(ue,{children:"Total Expected ($)"}),i.jsxs("div",{className:"p-2 bg-blue-100 rounded border font-semibold text-blue-700",children:["$",_.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx(ue,{htmlFor:"bostonPotCollected",children:"Boston Pot Collected ($)"}),i.jsxs("div",{className:"p-2 bg-yellow-100 rounded border font-semibold text-yellow-700",children:["$",e.toFixed(2)]})]})]})})]}),i.jsxs(be,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(zN,{className:"h-5 w-5"}),"Payout Distribution"]})}),i.jsxs(Se,{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ue,{htmlFor:"clubShare",className:"min-w-0 flex-1",children:"Club Share (%)"}),i.jsx(pe,{id:"clubShare",type:"number",value:m,onChange:T=>g(Number(T.target.value)),className:"w-20"}),i.jsxs("div",{className:"font-semibold text-green-600 min-w-0",children:["$",O.toFixed(2)]})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"font-semibold",children:["Prize Pool: $",L.toFixed(2)]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ue,{htmlFor:"first",className:"min-w-0 flex-1",children:"1st Place (%)"}),i.jsx(pe,{id:"first",type:"number",value:v,onChange:T=>x(Number(T.target.value)),className:"w-20"}),i.jsxs("div",{className:"font-semibold text-yellow-600 min-w-0",children:["$",M.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ue,{htmlFor:"second",className:"min-w-0 flex-1",children:"2nd Place (%)"}),i.jsx(pe,{id:"second",type:"number",value:w,onChange:T=>y(Number(T.target.value)),className:"w-20"}),i.jsxs("div",{className:"font-semibold text-gray-600 min-w-0",children:["$",Y.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ue,{htmlFor:"third",className:"min-w-0 flex-1",children:"3rd Place (%)"}),i.jsx(pe,{id:"third",type:"number",value:b,onChange:T=>S(Number(T.target.value)),className:"w-20"}),i.jsxs("div",{className:"font-semibold text-orange-600 min-w-0",children:["$",H.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ue,{htmlFor:"fourth",className:"min-w-0 flex-1",children:"4th Place (%)"}),i.jsx(pe,{id:"fourth",type:"number",value:j,onChange:T=>N(Number(T.target.value)),className:"w-20"}),i.jsxs("div",{className:"font-semibold text-blue-600 min-w-0",children:["$",V.toFixed(2)]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 font-semibold mt-4",children:[i.jsxs("div",{children:["Boston Pot Split per Team: ",i.jsxs("span",{className:"text-green-700",children:["$",s.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ue,{htmlFor:"bostonWinners",children:"Number of Boston Winners"}),i.jsx(pe,{id:"bostonWinners",type:"number",min:1,value:n,onChange:T=>r(Number(T.target.value)),placeholder:"Enter number of winning teams",className:"w-32"})]})]})]})]})]})]})},lO=({player:e,isOpen:t,onClose:n,onSave:r})=>{console.log("PlayerEditor mounted. Props:",{player:e,isOpen:t});const[s,o]=p.useState({firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||"",city:e.city||""});J.useEffect(()=>{o({firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||"",city:e.city||""})},[e]);const a=()=>{r({...e,...s}),n()};return i.jsx(Ts,{open:t,onOpenChange:n,children:i.jsxs(Qr,{className:"sm:max-w-md",children:[i.jsx(Yr,{children:i.jsx(Jr,{children:"Edit Player"})}),i.jsxs("div",{style:{color:"red",fontWeight:"bold"},children:["[DEBUG] PlayerEditor rendered. Player: ",e&&e.playerId?e.playerId:"no id"," | ",e&&e.firstName?e.firstName:"no fname"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ue,{children:"First Name"}),i.jsx(pe,{value:s.firstName,onChange:l=>o(c=>({...c,firstName:l.target.value}))})]}),i.jsxs("div",{children:[i.jsx(ue,{children:"Last Name"}),i.jsx(pe,{value:s.lastName,onChange:l=>o(c=>({...c,lastName:l.target.value}))})]}),i.jsxs("div",{children:[i.jsx(ue,{children:"Phone"}),i.jsx(pe,{value:s.phone,onChange:l=>o(c=>({...c,phone:l.target.value}))})]}),i.jsxs("div",{children:[i.jsx(ue,{children:"City"}),i.jsx(pe,{value:s.city,onChange:l=>o(c=>({...c,city:l.target.value}))})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(oe,{variant:"outline",onClick:n,children:"Cancel"}),i.jsx(oe,{onClick:a,children:"Save"})]})]})]})})},cO=()=>{var v,x,w,y,b,S,j;const{teams:e,tournaments:t,updateTeam:n}=tt(),[r,s]=p.useState(""),[o,a]=p.useState(null),[l,c]=p.useState(!1),[u,d]=p.useState(!1);J.useEffect(()=>{o&&(console.log("Selected Player:",o),console.log("PlayerEditor props:",{firstName:o.firstName,lastName:o.lastName,phone:o.phone,city:o.city,team:o.team,role:o.role}))},[o]);const h=p.useMemo(()=>{const N=[];return e.forEach(_=>{["player1","player2"].forEach(O=>{const L=_[O+"FirstName"]||_[O+"_first_name"]||"",M=_[O+"LastName"]||_[O+"_last_name"]||"",Y=_[O+"Phone"]||_.phoneNumber||_.phone_number||"",H=_.city||"",V=`${L}|${M}|${Y}`,T=O==="player1"?(_.player2FirstName||_.player2_first_name||"")+" "+(_.player2LastName||_.player2_last_name||""):(_.player1FirstName||_.player1_first_name||"")+" "+(_.player1LastName||_.player1_last_name||"");N.push({playerId:V,firstName:L,lastName:M,phone:Y,city:H,team:_,role:O,tournaments:_.registeredTournaments||[],payments:_[O+"TournamentPayments"]||{},partner:T,teamName:_.name,teamNumber:_.id})})}),N},[e]).filter(N=>{const _=r.toLowerCase();return(N.firstName||"").toLowerCase().includes(_)||(N.lastName||"").toLowerCase().includes(_)||(N.phone||"").toLowerCase().includes(_)||(N.city||"").toLowerCase().includes(_)}),m=(N,_,O)=>{const L={...N.team};L[N.role+"TournamentPayments"]||(L[N.role+"TournamentPayments"]={}),L[N.role+"TournamentPayments"][_]=O,n(L),a({...N,payments:{...N.payments,[_]:O}})},g=N=>{const _={...o.team};o.role==="player1"?(_.player1FirstName=N.firstName,_.player1LastName=N.lastName,_.phoneNumber=N.phone,_.city=N.city):(_.player2FirstName=N.firstName,_.player2LastName=N.lastName,_.phoneNumber=N.phone,_.city=N.city),n(_),a({...o,...N})};return i.jsxs(be,{className:"mt-6",children:[i.jsx(Te,{children:i.jsx(ke,{children:"Player Tracking"})}),i.jsxs(Se,{children:[i.jsx("div",{className:"mb-4",children:i.jsx(pe,{placeholder:"Search by first name, last name, phone, or city...",value:r,onChange:N=>s(N.target.value)})}),o?i.jsxs("div",{children:[i.jsx(oe,{variant:"outline",className:"mb-2",onClick:()=>a(null),children:"Back to Search"}),i.jsxs("div",{className:"mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"font-bold text-lg",children:[o.firstName," ",o.lastName]}),i.jsx(oe,{size:"sm",variant:"outline",onClick:()=>c(!0),children:"Edit Player"}),i.jsx(oe,{size:"sm",variant:"outline",onClick:()=>{console.log("Edit Team button clicked. Team:",o==null?void 0:o.team),d(!0)},children:"Edit Team"})]}),i.jsxs("div",{children:["Phone: ",o.phone]}),i.jsxs("div",{children:["City: ",o.city]}),i.jsxs("div",{children:["Partner: ",o.partner]}),i.jsxs("div",{children:["Team: ",o.teamName," (#",o.teamNumber,")"]})]}),i.jsx(lO,{player:{...o,firstName:(o==null?void 0:o.firstName)||((v=o==null?void 0:o.team)==null?void 0:v.player1FirstName)||((x=o==null?void 0:o.team)==null?void 0:x.player1_first_name)||"",lastName:(o==null?void 0:o.lastName)||((w=o==null?void 0:o.team)==null?void 0:w.player1LastName)||((y=o==null?void 0:o.team)==null?void 0:y.player1_last_name)||"",phone:(o==null?void 0:o.phone)||((b=o==null?void 0:o.team)==null?void 0:b.phoneNumber)||((S=o==null?void 0:o.team)==null?void 0:S.phone_number)||"",city:(o==null?void 0:o.city)||((j=o==null?void 0:o.team)==null?void 0:j.city)||"",team:(o==null?void 0:o.team)||{},role:(o==null?void 0:o.role)||""},isOpen:l,onClose:()=>c(!1),onSave:g}),(o==null?void 0:o.team)&&i.jsxs(i.Fragment,{children:[console.log("TeamEditor props:",o.team),i.jsx(Xb,{team:o.team,isOpen:u,onClose:()=>d(!1),onSave:n})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold mb-1",children:"Tournaments:"}),o.tournaments.length===0&&i.jsx("div",{className:"text-gray-500",children:"Not registered in any tournaments."}),i.jsx("ul",{className:"space-y-1",children:o.tournaments.map(N=>{const _=t.find(L=>L.id===N),O=o.payments[N];return i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{children:_?_.name:N}),O?i.jsxs(i.Fragment,{children:[i.jsx(me,{className:"bg-green-600",children:"Paid"}),i.jsx(oe,{size:"sm",variant:"destructive",onClick:()=>m(o,N,!1),children:"Reverse"})]}):i.jsx(oe,{size:"sm",onClick:()=>m(o,N,!0),children:"Mark Paid"})]},N)})})]})]}):i.jsxs("div",{className:"space-y-2",children:[h.slice(0,30).map((N,_)=>i.jsxs("div",{className:"p-2 border rounded cursor-pointer hover:bg-gray-50",onClick:()=>a(N),children:[i.jsxs("span",{className:"font-semibold",children:[N.firstName," ",N.lastName]})," — ",N.phone," — ",N.city," ",i.jsxs(me,{variant:"outline",children:["Team ",N.teamNumber,": ",N.teamName]})]},N.playerId&&N.team&&N.team.id?`${N.playerId}|${N.team.id}`:_)),h.length>30&&i.jsx("div",{className:"text-xs text-gray-400",children:"Showing first 30 results..."})]})]})]})};class uO extends J.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught error:",t,n)}render(){return this.state.hasError?i.jsxs("div",{style:{color:"red",padding:32},children:[i.jsx("h2",{children:"Something went wrong in AppLayout."}),i.jsx("pre",{children:String(this.state.error)})]}):this.props.children}}const dO=()=>{var u;const{currentUser:e,teams:t,getActiveTournament:n,setActiveTournament:r,tournaments:s}=tt(),[o,a]=p.useState(!0),l=()=>{console.log("AppLayout handleSetupComplete called"),a(!1)},c=d=>{r(d)};return o||!e?i.jsx(_P,{onSetupComplete:l}):i.jsx(uO,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 p-4",children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsx(be,{className:"bg-white/90 backdrop-blur shadow-lg",children:i.jsx(Se,{className:"p-4",children:i.jsx("div",{className:"flex flex-col items-center justify-center gap-2",children:i.jsxs("div",{className:"flex justify-between items-center w-full",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:["Welcome, ",e]}),i.jsxs("p",{className:"text-sm text-gray-600",children:[t.length," teams registered"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{htmlFor:"active-tournament-select",className:"font-medium text-sm",children:"Active Tournament:"}),i.jsxs("select",{id:"active-tournament-select",className:"border rounded p-2 text-sm",value:((u=n())==null?void 0:u.id)||"",onChange:d=>c(d.target.value),children:[i.jsx("option",{value:"",disabled:!0,children:"Select a tournament..."}),s.map(d=>i.jsx("option",{value:d.id,children:d.name},d.id))]})]})]})})})}),i.jsx(pa,{defaultValue:"teams",className:"w-full",children:i.jsxs("div",{className:"flex gap-6",children:[i.jsx("div",{className:"w-64 flex-shrink-0",children:i.jsx(be,{className:"bg-white/90 backdrop-blur shadow-lg",children:i.jsx(Se,{className:"p-4",children:i.jsxs(Zo,{className:"grid w-full grid-cols-1 gap-2 h-auto",children:[i.jsxs(ot,{value:"teams",className:"flex items-center gap-2 justify-start text-sm px-3 py-2 h-auto",children:[i.jsx(hh,{size:16}),i.jsx("span",{children:"Teams"})]}),i.jsxs(ot,{value:"player-tracking",className:"flex items-center gap-2 justify-start text-sm px-3 py-2 h-auto",children:[i.jsx(fh,{size:16}),i.jsx("span",{children:"Players"})]}),i.jsxs(ot,{value:"schedule",className:"flex items-center gap-2 justify-start text-sm px-3 py-2 h-auto",children:[i.jsx(Bl,{size:16}),i.jsx("span",{children:"Schedule"})]}),i.jsxs(ot,{value:"results",className:"flex items-center gap-2 justify-start text-sm px-3 py-2 h-auto",children:[i.jsx(uh,{size:16}),i.jsx("span",{children:"Results"})]}),i.jsxs(ot,{value:"bracket",className:"flex items-center gap-2 justify-start text-sm px-3 py-2 h-auto",children:[i.jsx(gc,{size:16}),i.jsx("span",{children:"Bracket"})]}),i.jsxs(ot,{value:"finance",className:"flex items-center gap-2 justify-start text-sm px-3 py-2 h-auto",children:[i.jsx(mc,{size:16}),i.jsx("span",{children:"Finance"})]}),i.jsxs(ot,{value:"history",className:"flex items-center gap-2 justify-start text-sm px-3 py-2 h-auto",children:[i.jsx(DN,{size:16}),i.jsx("span",{children:"History"})]}),i.jsxs(ot,{value:"admin",className:"flex items-center gap-2 justify-start text-sm px-3 py-2 h-auto",children:[i.jsx(b0,{size:16}),i.jsx("span",{children:"Admin"})]})]})})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx(it,{value:"teams",className:"mt-0",children:i.jsx(LR,{})}),i.jsx(it,{value:"schedule",className:"mt-0",children:i.jsx(eO,{})}),i.jsx(it,{value:"results",className:"mt-0",children:i.jsx(sO,{})}),i.jsx(it,{value:"bracket",className:"mt-0",children:i.jsx(iO,{})}),i.jsx(it,{value:"finance",className:"mt-0",children:i.jsx(aO,{})}),i.jsx(it,{value:"player-tracking",className:"mt-0",children:i.jsx(cO,{})}),i.jsx(it,{value:"history",className:"mt-0",children:i.jsx(DR,{})}),i.jsx(it,{value:"admin",className:"mt-0",children:i.jsx(KR,{})})]})]})})]})})})},fO=()=>i.jsx("div",{className:"min-h-screen bg-gray-50",children:i.jsxs("div",{className:"container mx-auto p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("div",{})," ",i.jsxs(oe,{onClick:()=>window.open("#/portal?admin=1","_blank"),className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(LN,{className:"h-4 w-4 mr-2"}),"Go to Player Portal"]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-full max-w-6xl",children:i.jsx(dO,{})})})]})}),hO=()=>{const e=Tx();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsxs("div",{className:"text-center p-8 rounded-lg border border-border bg-card shadow-md animate-slide-in",children:[i.jsx("h1",{className:"text-5xl font-bold mb-6 text-primary",children:"404"}),i.jsx("p",{className:"text-xl text-card-foreground mb-6",children:"Page not found"}),i.jsx("a",{href:"/",className:"text-primary hover:text-primary/80 underline transition-colors",children:"Return to Home"})]})})},mO=({team:e})=>{const[t,n]=p.useState(null),[r,s]=p.useState(""),[o,a]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState("none"),[m,g]=p.useState(0),{schedules:v,games:x,tournaments:w,teams:y,submitGame:b,scoreSubmissions:S,getActiveTournament:j}=tt(),N=J.useMemo(()=>{const M=j&&j();if(!M)return[];const Y=v.find(T=>T.tournamentId===M.id);if(!Y)return[];const H=[],V=Y.matches.filter(T=>(String(T.teamA)===String(e.id)||String(T.teamB)===String(e.id))&&!T.isBye);V.sort((T,P)=>T.round-P.round);for(const T of V)if(!x.find(R=>String(R.matchId)===String(T.id)&&R.confirmed)){if(T.teamA!=="TBD"&&T.teamB!=="TBD"){const R=M,E=String(T.teamA)===String(e.id)?T.teamB:T.teamA,k=y.find(Z=>String(Z.id)===String(E)),A=S.find(Z=>String(Z.matchId)===String(T.id)&&String(Z.submittedBy)===String(e.id)),D=S.find(Z=>String(Z.matchId)===String(T.id)&&String(Z.submittedBy)!==String(e.id));let F="Ready to Score",Q="";A&&D?A.scoreA!==D.scoreA||A.scoreB!==D.scoreB||A.boston!==D.boston||A.handsA!==D.handsA||A.handsB!==D.handsB?(F="Score Conflict",Q="Scores, Boston, or Hands Won don't match - resolve with opponent"):(F="Confirming scores",Q="Scores, Boston, and Hands Won match - confirming game"):A&&(F="Waiting for opponent",Q="Waiting for opponent to enter score"),H.push({...T,tournamentName:(R==null?void 0:R.name)||"Unknown Tournament",opponentId:E,opponentTeam:k,mySubmission:A,opponentSubmission:D,status:F,statusMessage:Q});break}if(T.teamA==="TBD"||T.teamB==="TBD"){const R=M;H.push({...T,tournamentName:(R==null?void 0:R.name)||"Unknown Tournament",opponentId:"TBD",opponentTeam:null,mySubmission:null,opponentSubmission:null,status:"Waiting for opponent",statusMessage:`Waiting for Round ${T.round-1} to complete`});break}}return H},[v,x,S,w,y,e.id,m,j]),_=()=>{if(!t||!r||!o||!l||!u)return;const M=String(t.teamA)===String(e.id)?parseInt(r):parseInt(o),Y=String(t.teamA)===String(e.id)?parseInt(o):parseInt(r),H=String(t.teamA)===String(e.id)?parseInt(l):parseInt(u),V=String(t.teamA)===String(e.id)?parseInt(u):parseInt(l),T=y.find(E=>String(E.id)===String(t.teamA)),P=y.find(E=>String(E.id)===String(t.teamB));if(!T||!P)return;const R={teamA:T.id,teamB:P.id,scoreA:M,scoreB:Y,handsA:H,handsB:V,boston:f,winner:M>Y?"teamA":"teamB",matchId:t.id,round:t.round,submittedBy:e.id};console.log("Calling submitGame with data:",R),b(R),n(null),s(""),a(""),c(""),d(""),h("none"),g(E=>E+1)};J.useEffect(()=>{if(t&&t.status==="Score Conflict"&&t.mySubmission){const M=t.teamA===e.id?t.mySubmission.scoreA:t.mySubmission.scoreB,Y=t.teamA===e.id?t.mySubmission.scoreB:t.mySubmission.scoreA,H=t.teamA===e.id?t.mySubmission.handsA:t.mySubmission.handsB,V=t.teamA===e.id?t.mySubmission.handsB:t.mySubmission.handsA;s(M.toString()),a(Y.toString()),c(H?H.toString():""),d(V?V.toString():""),h(t.mySubmission.boston||"none")}},[t,e.id]),J.useEffect(()=>{t||(s(""),a(""),c(""),d(""),h("none"))},[t,S]);const O=N;O.length>0&&O[0].round;const L=j&&j();return L?i.jsxs(be,{children:[i.jsx("div",{className:"w-full flex justify-center REMOVE_ME_FILENAME",style:{position:"sticky",top:0,zIndex:999},children:i.jsx("span",{className:"text-xs text-gray-400 py-2 bg-white/80 px-2 rounded shadow",style:{zIndex:999},children:"ScoreEntryCard.tsx"})}),i.jsxs(Te,{children:[i.jsx("p",{className:"mb-1",style:{fontWeight:"bold",color:"red",fontSize:28},children:L==null?void 0:L.name}),i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(rn,{className:"h-5 w-5"}),"Score Entry"]})]}),i.jsx(Se,{className:"space-y-4",children:v.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-gray-500 mb-2",children:"No tournament schedule found"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Please wait for the tournament to be scheduled"})]}):O.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-gray-500 mb-2",children:"No active matches found"}),i.jsx("p",{className:"text-sm text-gray-400",children:"All rounds completed or waiting for next round"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"space-y-2",children:i.jsx("div",{className:"space-y-2",children:O.map((M,Y)=>{var H;return i.jsx("div",{className:`border rounded-lg p-3 cursor-pointer transition-colors ${(t==null?void 0:t.id)===M.id?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>(M.status==="Ready to Score"||M.status==="Score Conflict")&&n(M),children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-xs text-gray-600 font-bold",style:{fontWeight:"bold"},children:["Round ",M.round]}),M.teamB==="TBD"||M.teamA==="TBD"?i.jsx("p",{className:"text-sm text-orange-600",children:"Waiting for opponent from previous round"}):i.jsx(i.Fragment,{children:i.jsxs("p",{className:"text-sm",children:["Your Team is Playing Team ",((H=M.opponentTeam)==null?void 0:H.id)||M.opponentId,M.opponentTeam&&i.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["( ",M.opponentTeam.name," — ",M.opponentTeam.player1FirstName," ",M.opponentTeam.player1LastName," & ",M.opponentTeam.player2FirstName," ",M.opponentTeam.player2LastName," )"]})]})})]}),i.jsxs("div",{children:[i.jsxs(me,{variant:M.status==="Ready to Score"?"outline":M.status==="Waiting for opponent"?"secondary":"destructive",className:"text-xs",children:[M.status==="Waiting for opponent"&&i.jsx(x0,{className:"h-3 w-3 mr-1"}),M.status]}),M.statusMessage&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:M.statusMessage})]})]})},Y)})})}),t&&i.jsxs("div",{className:"space-y-4 border-t pt-4",children:[i.jsxs("h3",{className:"font-medium",children:[t.status==="Score Conflict"?"Fix Score Conflict for Round":"Enter Score for Round"," ",t.round]}),t.status==="Score Conflict"&&i.jsxs(zo,{variant:"destructive",children:[i.jsx(KN,{className:"h-4 w-4"}),i.jsx(Wo,{children:"Your scores don't match your opponent's scores. Please review and correct your entry."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-gray-600",children:"Your Score"}),i.jsx(pe,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:r,onChange:M=>s(M.target.value),placeholder:"0",className:"text-center",autoFocus:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-gray-600",children:"Your Hands Won"}),i.jsx(pe,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:l,onChange:M=>c(M.target.value),placeholder:"0",className:"text-center"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-gray-600",children:"Opponent Score"}),i.jsx(pe,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:o,onChange:M=>a(M.target.value),placeholder:"0",className:"text-center"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-gray-600",children:"Opponent Hands Won"}),i.jsx(pe,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:u,onChange:M=>d(M.target.value),placeholder:"0",className:"text-center"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-gray-600",children:"Boston (if any)"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx(oe,{variant:f==="none"?"default":"outline",size:"sm",onClick:()=>h("none"),children:"None"}),i.jsx(oe,{variant:f!=="none"&&(t.teamA===e.id&&f==="teamA"||t.teamB===e.id&&f==="teamB")?"default":"outline",size:"sm",onClick:()=>h(t.teamA===e.id?"teamA":"teamB"),children:"You"}),i.jsx(oe,{variant:f!=="none"&&(t.teamA===e.id&&f==="teamB"||t.teamB===e.id&&f==="teamA")?"default":"outline",size:"sm",onClick:()=>h(t.teamA===e.id?"teamB":"teamA"),children:"Opponent"})]})]}),i.jsxs(oe,{onClick:_,className:"w-full",disabled:!r||!o,children:[i.jsx(qi,{className:"h-4 w-4 mr-2"}),t.status==="Score Conflict"?"Resubmit Score":`Submit Round ${t.round} Score`]})]})]})})]}):i.jsxs(be,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"No Active Tournament"})}),i.jsx(Se,{children:i.jsx("p",{className:"text-gray-600 text-center",children:"There is currently no active tournament. Please check back later."})})]})},pO=()=>{const[e,t]=p.useState(""),[n,r]=p.useState(null),[s,o]=p.useState(""),[a,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(""),{teams:h,schedules:m,games:g,tournaments:v,getActiveTournament:x,scoreSubmissions:w}=tt(),y=P=>P.replace(/\D/g,""),b=()=>{o("");const P=y(e);if(P.length!==10){o("Please enter a valid 10-digit phone number");return}const R=h.find(E=>y(E.phoneNumber)===P);R?r(R):o("Team not found. Please check your phone number.")},S=P=>{const R=h.find(E=>String(E.id)===String(P));R&&(r(R),u(!0))};p.useEffect(()=>{},[g]);const j=x(),N=()=>{if(!n)return[];if(!j)return[];const P=m.find(D=>D.tournamentId===j.id);if(!P)return[];const R=P.matches.some(D=>D.opponentPlaceholder)||P.rounds<2,E=P.matches.filter(D=>String(D.teamA)===String(n.id)||String(D.teamB)===String(n.id)).sort((D,F)=>D.round-F.round);if(!R)return E.map(_);const k=[];let A=null;for(const D of E)g.find(Q=>Q.matchId===D.id&&Q.confirmed)?k.push(_(D)):A||(A=_(D));return A&&k.push(A),k};function _(P,R){const E=String(P.teamA)===String(n.id)?P.teamB:P.teamA;let k=h.find($=>String($.id)===String(E)),A=k?`Team ${k.teamNumber||k.id}`:"TBD";P.isBye&&(A="BYE"),P.opponentPlaceholder&&!k&&(A=`Winner of Table ${P.opponentPlaceholder.table}`);const D=g.find($=>$.matchId===P.id&&$.confirmed),F=w.filter($=>$.matchId===P.id),Q=F.find($=>String($.submittedBy)===String(n.id));F.find($=>String($.submittedBy)!==String(n.id));let Z="pending",q="",C="bg-blue-100 border-blue-300 text-blue-800";if(D){Z="completed";const $=D.scoreA>D.scoreB?P.teamA:P.teamB,I=h.find(z=>String(z.id)===String($)),G=Math.max(D.scoreA,D.scoreB),W=Math.min(D.scoreA,D.scoreB);q=`Completed - Team ${(I==null?void 0:I.teamNumber)||(I==null?void 0:I.id)||"Unknown"} won ${G}-${W}`,C="bg-green-100 border-green-300 text-green-800"}else F.length===2?F[0].scoreA===F[1].scoreA&&F[0].scoreB===F[1].scoreB?(Z="confirming",q="Confirming scores",C="bg-orange-100 border-orange-300 text-orange-800"):(Z="conflict",q="Score conflict - needs resolution",C="bg-red-100 border-red-300 text-red-800"):Q&&(Z="waiting",q="Waiting for opponent score",C="bg-yellow-100 border-yellow-300 text-yellow-800");return{...P,tournamentName:j.name,opponentTeam:k,opponentDisplay:A,gameStatus:Z,statusMessage:q,statusColor:C,completedGame:D}}const O=p.useMemo(()=>{if(!n||!j)return{wins:0,totalGames:0,totalPoints:0,avgPoints:"0.0",results:[]};const P=m.find(q=>q.tournamentId===j.id);if(!P)return{wins:0,totalGames:0,totalPoints:0,avgPoints:"0.0",results:[]};const R=new Set(P.matches.map(q=>q.id)),E=g.filter(q=>(q.teamA===String(n.id)||q.teamB===String(n.id))&&q.confirmed&&q.matchId&&R.has(q.matchId)).map(q=>{const C=q.teamA===String(n.id),$=C?q.teamB:q.teamA,I=h.find(G=>String(G.id)===$)||null;return{...q,isWin:C&&q.winner==="teamA"||!C&&q.winner==="teamB",teamScore:C?q.scoreA:q.scoreB,opponentScore:C?q.scoreB:q.scoreA,teamHands:C?q.handsA??0:q.handsB??0,opponent:I}}),k=E.filter(q=>q.isWin).length,A=E.length,D=E.reduce((q,C)=>q+C.teamScore,0),F=E.reduce((q,C)=>q+(C.teamHands??0),0),Q=A>0?(D/A).toFixed(1):"0.0",Z=A>0?(F/A).toFixed(1):"0.0";return{wins:k,totalGames:A,totalPoints:D,avgPoints:Q,totalHands:F,avgHands:Z,results:E}},[g,n,m,x,h]);if(!n)return i.jsxs("div",{className:"min-h-screen flex flex-col justify-between items-center bg-gradient-to-br from-black via-red-900 to-black p-4 relative",children:[i.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none select-none bg-[url('https://upload.wikimedia.org/wikipedia/commons/5/5a/Spades.svg')] bg-center bg-repeat",style:{zIndex:0}}),i.jsxs(be,{className:"w-full max-w-md shadow-2xl border-4 border-black rounded-2xl bg-gradient-to-br from-black via-gray-900 to-red-900/80 backdrop-blur relative z-10",children:[i.jsxs(Te,{className:"text-center pb-2 space-y-4",children:[i.jsx("div",{className:"mx-auto w-20 h-28 flex items-center justify-center bg-gradient-to-br from-black to-red-800 rounded-xl shadow-lg border-2 border-white relative mb-2",children:i.jsx("img",{src:"/logo.png",alt:"Logo",style:{maxWidth:"100%",maxHeight:"100%"}})}),i.jsx(ke,{className:"text-4xl font-extrabold bg-gradient-to-r from-red-600 to-black bg-clip-text text-transparent drop-shadow-lg tracking-wide",children:"Smokin' Aces"}),i.jsx("div",{className:"mb-2",children:i.jsx("span",{className:"block font-serif text-2xl text-yellow-300 font-bold drop-shadow-lg",children:"Welcome to the 2025 Columbus Tourney!"})}),i.jsx("p",{className:"text-red-200 text-lg font-semibold drop-shadow",children:"View your schedule, scores, and standings. GOOD LUCK"})]}),i.jsxs(Se,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{placeholder:"Enter 10-digit phone number",value:e,onChange:P=>{t(P.target.value),o("")},className:"text-center text-lg bg-black/80 text-white border-red-500 focus:border-red-700 focus:ring-red-700",maxLength:14,autoFocus:!0}),i.jsx(oe,{onClick:b,className:"w-full bg-gradient-to-r from-black via-red-700 to-black hover:from-red-800 hover:to-black text-white font-bold py-3 px-4 rounded-xl shadow-xl transform transition hover:scale-105",children:"Enter My Tournaments Portal"})]}),s&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[i.jsx(MN,{className:"h-4 w-4 text-red-600 mt-0.5 flex-shrink-0"}),i.jsx("p",{className:"text-sm text-red-800",children:s})]})]}),typeof window<"u"&&window.location.hash.includes("admin=1")&&i.jsxs("div",{className:"border-t pt-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx($N,{className:"h-4 w-4 text-purple-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Admin Access"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(sr,{onValueChange:S,children:[i.jsx(Un,{children:i.jsx(or,{placeholder:"Select any team to view their portal"})}),i.jsx(zn,{children:h.map(P=>i.jsxs(en,{value:P.id,children:["Team ",P.id,": ",P.name," (",P.city,")"]},P.id))})]}),i.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Select any team to view their portal as admin"})]})]}),i.jsx("div",{className:"mt-6 text-xs text-center text-red-200 font-mono tracking-wide",children:"Built and Managed by Brian Welch"})]})]}),i.jsx("div",{className:"w-full text-center text-xs text-red-300 mt-4 z-10",children:"Built and Managed by Brian Welch"})]});const L=N(),M=m.find(P=>String(P.tournamentId)===String(j==null?void 0:j.id)),Y=M?Math.max(...M.matches.map(P=>P.round)):0,V=h.filter(P=>{var R;return(R=P.registeredTournaments)==null?void 0:R.includes(j==null?void 0:j.id)}).length%2===1,T=O;return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-red-900 to-black",children:[i.jsxs("div",{className:"relative w-full bg-gradient-to-r from-black via-red-800 to-black shadow-lg border-b-4 border-red-700 py-4 px-2 flex flex-col items-center justify-center",children:[i.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:i.jsxs("div",{className:"w-14 h-20 flex items-center justify-center bg-gradient-to-br from-black to-red-800 rounded-xl shadow-lg border-2 border-white relative",children:[i.jsxs("svg",{width:"48",height:"64",viewBox:"0 0 48 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("rect",{width:"48",height:"64",rx:"8",fill:"#fff",stroke:"#000",strokeWidth:"2"}),i.jsx("text",{x:"24",y:"40",textAnchor:"middle",fontSize:"36",fontWeight:"bold",fill:"#000",children:"🂡"})]}),i.jsx("span",{className:"absolute top-1 left-2 text-black text-lg font-bold",children:"A"}),i.jsx("span",{className:"absolute bottom-1 right-2 text-black text-lg font-bold rotate-180",children:"A"}),i.jsx("span",{className:"absolute top-5 left-3 text-black text-2xl",children:"♠"}),i.jsx("span",{className:"absolute bottom-5 right-3 text-black text-2xl rotate-180",children:"♠"})]})}),i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold bg-gradient-to-r from-red-600 to-black bg-clip-text text-transparent drop-shadow-lg tracking-wide mb-1",children:"Smokin' Aces"}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-1 md:gap-4",children:[i.jsxs("span",{className:"text-lg md:text-xl font-bold text-red-100 drop-shadow",children:["Team ",n.id,": ",n.name]}),i.jsxs("span",{className:"text-sm text-red-200",children:[n.player1FirstName," ",n.player1LastName," & ",n.player2FirstName," ",n.player2LastName]}),i.jsxs("span",{className:"text-xs text-red-300",children:["Phone: ",n.phoneNumber]}),a&&i.jsx(me,{variant:"secondary",className:"mt-1 text-xs bg-yellow-700",children:"Test Mode"}),c&&i.jsx(me,{variant:"default",className:"mt-1 text-xs bg-purple-700",children:"Admin Mode"})]})]}),i.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:i.jsx(oe,{variant:"outline",size:"sm",onClick:()=>{r(null),l(!1),u(!1),f("")},className:"text-red-600 border-white hover:bg-white hover:text-black font-bold",children:"Logout"})})]}),i.jsx("div",{className:"max-w-4xl mx-auto p-4",children:i.jsxs(pa,{defaultValue:"scores",className:"space-y-4",children:[i.jsxs(Zo,{className:"grid w-full grid-cols-3",children:[i.jsxs(ot,{value:"scores",children:[i.jsx(gc,{className:"h-4 w-4 mr-1"}),"Scores"]}),i.jsxs(ot,{value:"schedule",children:[i.jsx(Bl,{className:"h-4 w-4 mr-1"}),"Schedule"]}),i.jsxs(ot,{value:"results",children:[i.jsx(rn,{className:"h-4 w-4 mr-1"}),"Results & Record"]})]}),i.jsx(it,{value:"scores",children:i.jsx(mO,{team:n})}),i.jsx(it,{value:"schedule",children:i.jsxs(be,{children:[i.jsxs(Te,{children:[i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(Bl,{className:"h-5 w-5"}),"My Tournament Schedule"]}),(j==null?void 0:j.name)&&i.jsx("div",{className:"text-blue-600 text-xl font-bold mt-1",children:j.name})]}),i.jsx(Se,{children:L.length===0?i.jsx("div",{className:"text-center text-gray-500 py-8",children:i.jsx("p",{children:"No scheduled matches found"})}):i.jsx("div",{className:"space-y-4",children:L.map((P,R)=>i.jsxs("div",{className:`p-4 border rounded-lg ${P.statusColor} relative`,children:[i.jsxs("div",{className:"flex flex-col items-center mb-2",children:[i.jsxs("span",{className:"font-bold text-base text-black",children:["Table ",P.table||"?"]}),i.jsxs("div",{className:"flex w-full justify-between items-center",children:[i.jsxs("div",{className:"text-left flex-1",children:[i.jsxs("div",{className:"font-bold text-base",children:["Team ",n.teamNumber||n.id]}),i.jsx("div",{className:"text-sm",children:n.name}),i.jsx("div",{className:"text-xs text-gray-500",children:n.city})]}),i.jsx("div",{className:"text-center px-4 font-bold text-lg",children:"vs"}),i.jsx("div",{className:"text-right flex-1",children:P.opponentTeam?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"font-bold text-base",children:["Team ",P.opponentTeam.teamNumber||P.opponentTeam.id]}),i.jsx("div",{className:"text-sm",children:P.opponentTeam.name}),i.jsx("div",{className:"text-xs text-gray-500",children:P.opponentTeam.city})]}):P.opponentDisplay})]})]}),i.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2 mt-2",children:[V&&P.round===Y?i.jsx(me,{variant:"outline",className:"text-xs px-2 py-1 bg-yellow-100 border-yellow-300 text-yellow-800",children:`Round ${P.round} - BYE ROUND`}):i.jsx(me,{variant:"outline",className:"text-xs px-2 py-1",children:`Round ${P.round}`}),P.isBye&&i.jsx("div",{className:"text-red-600 italic text-sm absolute right-4 bottom-2",children:"Completed - BYE"}),P.gameStatus==="confirming"&&i.jsx(me,{variant:"outline",className:"text-xs px-2 py-1 bg-orange-100 border-orange-300 text-orange-800",children:P.statusMessage}),P.gameStatus==="waiting"&&i.jsx(me,{variant:"outline",className:"text-xs px-2 py-1 bg-yellow-100 border-yellow-300 text-yellow-800",children:P.statusMessage}),P.gameStatus==="conflict"&&i.jsx(me,{variant:"outline",className:"text-xs px-2 py-1 bg-red-100 border-red-300 text-red-800",children:P.statusMessage})]}),P.gameStatus==="completed"&&i.jsx("div",{className:"text-red-600 italic text-sm absolute right-4 bottom-2",children:P.statusMessage})]},R))})})]})}),i.jsx(it,{value:"results",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(be,{children:[i.jsx(Te,{children:i.jsx(ke,{children:"My Team Record"})}),i.jsx(Se,{children:i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"order-1 text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:T.wins}),i.jsx("p",{className:"text-sm text-gray-600",children:"Wins"})]}),i.jsxs("div",{className:"order-4 text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold",children:T.totalGames}),i.jsx("p",{className:"text-sm text-gray-600",children:"Games Played"})]}),i.jsxs("div",{className:"order-6 text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:T.avgPoints}),i.jsx("p",{className:"text-sm text-gray-600",children:"Avg Points/Game"})]}),i.jsxs("div",{className:"order-3 text-center p-4 bg-purple-50 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:T.totalPoints}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total Points"})]}),i.jsxs("div",{className:"order-2 text-center p-4 bg-teal-50 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-teal-600",children:T.totalHands}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total Hands Won"})]}),i.jsxs("div",{className:"order-5 text-center p-4 bg-amber-50 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-amber-600",children:T.avgHands}),i.jsx("p",{className:"text-sm text-gray-600",children:"Avg Hands/Game"})]})]})})]}),i.jsxs(be,{children:[i.jsx(Te,{children:i.jsxs(ke,{className:"flex items-center gap-2",children:[i.jsx(rn,{className:"h-5 w-5"}),"My Game Results"]})}),i.jsx(Se,{children:T.results.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(rn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:"font-medium",children:"No completed games yet"})]}):i.jsx("div",{className:"space-y-4",children:T.results.map(P=>{let R="TBD",E="",k="";return P.opponent&&typeof P.opponent=="object"&&"id"in P.opponent&&(R=`Team ${P.opponent.teamNumber??P.opponent.id}`,E=P.opponent.name??"",k=P.opponent.city??""),(!R||R.toLowerCase().includes("unknown")||R==="undefined")&&(R="TBD"),i.jsx("div",{className:`p-4 rounded-lg border ${P.isWin?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(me,{variant:"outline",children:["Round ",P.round]}),i.jsx("span",{className:`font-semibold ${P.isWin?"text-green-700":"text-red-700"}`,children:P.isWin?"WIN":"LOSS"}),i.jsxs("span",{className:"font-bold",children:[P.teamScore," - ",P.opponentScore]}),i.jsxs("span",{className:"text-sm text-gray-600",children:["vs ",i.jsx("span",{className:"font-bold text-red-600",children:R}),E&&i.jsxs("span",{className:"text-xs text-gray-700 font-semibold ml-1",children:[E,k?` - ${k}`:""]})]})]})})},P.id)})})})]})]})})]})})]})},gO=()=>i.jsx(pO,{}),vO=new mk,yO=()=>i.jsx(rC,{defaultTheme:"light",children:i.jsx(gk,{client:vO,children:i.jsx(VT,{children:i.jsxs(ew,{children:[i.jsx(E_,{}),i.jsx(oC,{}),i.jsx(rE,{basename:"/",children:i.jsxs(eE,{children:[i.jsx(cl,{path:"/",element:i.jsx(fO,{})}),i.jsx(cl,{path:"/portal",element:i.jsx(gO,{})}),i.jsx(cl,{path:"*",element:i.jsx(hO,{})})]})})]})})})});zy(document.getElementById("root")).render(i.jsx(ew,{children:i.jsx(yO,{})}));
