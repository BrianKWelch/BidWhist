var Xg=e=>{throw TypeError(e)};var Jd=(e,t,r)=>t.has(e)||Xg("Cannot "+r);var te=(e,t,r)=>(Jd(e,t,"read from private field"),r?r.call(e):t.get(e)),ot=(e,t,r)=>t.has(e)?Xg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ze=(e,t,r,n)=>(Jd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),rr=(e,t,r)=>(Jd(e,t,"access private method"),r);var Gl=(e,t,r,n)=>({set _(s){ze(e,t,s,r)},get _(){return te(e,t,n)}});function NE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var sn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Op(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function EE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Sb={exports:{}},Fu={},jb={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Symbol.for("react.element"),CE=Symbol.for("react.portal"),TE=Symbol.for("react.fragment"),PE=Symbol.for("react.strict_mode"),kE=Symbol.for("react.profiler"),AE=Symbol.for("react.provider"),RE=Symbol.for("react.context"),IE=Symbol.for("react.forward_ref"),DE=Symbol.for("react.suspense"),OE=Symbol.for("react.memo"),ME=Symbol.for("react.lazy"),Zg=Symbol.iterator;function BE(e){return e===null||typeof e!="object"?null:(e=Zg&&e[Zg]||e["@@iterator"],typeof e=="function"?e:null)}var _b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nb=Object.assign,Eb={};function Qi(e,t,r){this.props=e,this.context=t,this.refs=Eb,this.updater=r||_b}Qi.prototype.isReactComponent={};Qi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cb(){}Cb.prototype=Qi.prototype;function Mp(e,t,r){this.props=e,this.context=t,this.refs=Eb,this.updater=r||_b}var Bp=Mp.prototype=new Cb;Bp.constructor=Mp;Nb(Bp,Qi.prototype);Bp.isPureReactComponent=!0;var ev=Array.isArray,Tb=Object.prototype.hasOwnProperty,Lp={current:null},Pb={key:!0,ref:!0,__self:!0,__source:!0};function kb(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Tb.call(t,n)&&!Pb.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:jl,type:e,key:a,ref:o,props:s,_owner:Lp.current}}function LE(e,t){return{$$typeof:jl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $p(e){return typeof e=="object"&&e!==null&&e.$$typeof===jl}function $E(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var tv=/\/+/g;function Xd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$E(""+e.key):t.toString(36)}function Ec(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case jl:case CE:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Xd(o,0):n,ev(s)?(r="",e!=null&&(r=e.replace(tv,"$&/")+"/"),Ec(s,t,r,"",function(u){return u})):s!=null&&($p(s)&&(s=LE(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(tv,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",ev(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Xd(a,l);o+=Ec(a,t,r,c,s)}else if(c=BE(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Xd(a,l++),o+=Ec(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ql(e,t,r){if(e==null)return e;var n=[],s=0;return Ec(e,n,"","",function(a){return t.call(r,a,s++)}),n}function FE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yr={current:null},Cc={transition:null},UE={ReactCurrentDispatcher:yr,ReactCurrentBatchConfig:Cc,ReactCurrentOwner:Lp};function Ab(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:ql,forEach:function(e,t,r){ql(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ql(e,function(){t++}),t},toArray:function(e){return ql(e,function(t){return t})||[]},only:function(e){if(!$p(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Qe.Component=Qi;Qe.Fragment=TE;Qe.Profiler=kE;Qe.PureComponent=Mp;Qe.StrictMode=PE;Qe.Suspense=DE;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UE;Qe.act=Ab;Qe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Nb({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Lp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Tb.call(t,c)&&!Pb.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:jl,type:e.type,key:s,ref:a,props:n,_owner:o}};Qe.createContext=function(e){return e={$$typeof:RE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:AE,_context:e},e.Consumer=e};Qe.createElement=kb;Qe.createFactory=function(e){var t=kb.bind(null,e);return t.type=e,t};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(e){return{$$typeof:IE,render:e}};Qe.isValidElement=$p;Qe.lazy=function(e){return{$$typeof:ME,_payload:{_status:-1,_result:e},_init:FE}};Qe.memo=function(e,t){return{$$typeof:OE,type:e,compare:t===void 0?null:t}};Qe.startTransition=function(e){var t=Cc.transition;Cc.transition={};try{e()}finally{Cc.transition=t}};Qe.unstable_act=Ab;Qe.useCallback=function(e,t){return yr.current.useCallback(e,t)};Qe.useContext=function(e){return yr.current.useContext(e)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(e){return yr.current.useDeferredValue(e)};Qe.useEffect=function(e,t){return yr.current.useEffect(e,t)};Qe.useId=function(){return yr.current.useId()};Qe.useImperativeHandle=function(e,t,r){return yr.current.useImperativeHandle(e,t,r)};Qe.useInsertionEffect=function(e,t){return yr.current.useInsertionEffect(e,t)};Qe.useLayoutEffect=function(e,t){return yr.current.useLayoutEffect(e,t)};Qe.useMemo=function(e,t){return yr.current.useMemo(e,t)};Qe.useReducer=function(e,t,r){return yr.current.useReducer(e,t,r)};Qe.useRef=function(e){return yr.current.useRef(e)};Qe.useState=function(e){return yr.current.useState(e)};Qe.useSyncExternalStore=function(e,t,r){return yr.current.useSyncExternalStore(e,t,r)};Qe.useTransition=function(){return yr.current.useTransition()};Qe.version="18.3.1";jb.exports=Qe;var m=jb.exports;const Z=Op(m),Fp=NE({__proto__:null,default:Z},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE=m,WE=Symbol.for("react.element"),VE=Symbol.for("react.fragment"),HE=Object.prototype.hasOwnProperty,GE=zE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qE={key:!0,ref:!0,__self:!0,__source:!0};function Rb(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)HE.call(t,n)&&!qE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:WE,type:e,key:a,ref:o,props:s,_owner:GE.current}}Fu.Fragment=VE;Fu.jsx=Rb;Fu.jsxs=Rb;Sb.exports=Fu;var i=Sb.exports,Ib={exports:{}},Hr={},Db={exports:{}},Ob={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,B){var H=M.length;M.push(B);e:for(;0<H;){var re=H-1>>>1,W=M[re];if(0<s(W,B))M[re]=B,M[H]=W,H=re;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var B=M[0],H=M.pop();if(H!==B){M[0]=H;e:for(var re=0,W=M.length,ce=W>>>1;re<ce;){var K=2*(re+1)-1,ae=M[K],be=K+1,C=M[be];if(0>s(ae,H))be<W&&0>s(C,ae)?(M[re]=C,M[be]=H,re=be):(M[re]=ae,M[K]=H,re=K);else if(be<W&&0>s(C,H))M[re]=C,M[be]=H,re=be;else break e}}return B}function s(M,B){var H=M.sortIndex-B.sortIndex;return H!==0?H:M.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,x=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=M)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function S(M){if(g=!1,w(M),!x)if(r(c)!==null)x=!0,L(_);else{var B=r(u);B!==null&&J(S,B.startTime-M)}}function _(M,B){x=!1,g&&(g=!1,b(E),E=-1),p=!0;var H=h;try{for(w(B),f=r(c);f!==null&&(!(f.expirationTime>B)||M&&!z());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var W=re(f.expirationTime<=B);B=e.unstable_now(),typeof W=="function"?f.callback=W:f===r(c)&&n(c),w(B)}else n(c);f=r(c)}if(f!==null)var ce=!0;else{var K=r(u);K!==null&&J(S,K.startTime-B),ce=!1}return ce}finally{f=null,h=H,p=!1}}var j=!1,N=null,E=-1,D=5,k=-1;function z(){return!(e.unstable_now()-k<D)}function I(){if(N!==null){var M=e.unstable_now();k=M;var B=!0;try{B=N(!0,M)}finally{B?q():(j=!1,N=null)}}else j=!1}var q;if(typeof v=="function")q=function(){v(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,T=R.port2;R.port1.onmessage=I,q=function(){T.postMessage(null)}}else q=function(){y(I,0)};function L(M){N=M,j||(j=!0,q())}function J(M,B){E=y(function(){M(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,L(_))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var H=h;h=B;try{return M()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=h;h=M;try{return B()}finally{h=H}},e.unstable_scheduleCallback=function(M,B,H){var re=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?re+H:re):H=re,M){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,M={id:d++,callback:B,priorityLevel:M,startTime:H,expirationTime:W,sortIndex:-1},H>re?(M.sortIndex=H,t(u,M),r(c)===null&&M===r(u)&&(g?(b(E),E=-1):g=!0,J(S,H-re))):(M.sortIndex=W,t(c,M),x||p||(x=!0,L(_))),M},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(M){var B=h;return function(){var H=h;h=B;try{return M.apply(this,arguments)}finally{h=H}}}})(Ob);Db.exports=Ob;var KE=Db.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE=m,Vr=KE;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mb=new Set,Go={};function Ua(e,t){Mi(e,t),Mi(e+"Capture",t)}function Mi(e,t){for(Go[e]=t,e=0;e<t.length;e++)Mb.add(t[e])}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ih=Object.prototype.hasOwnProperty,QE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rv={},nv={};function JE(e){return ih.call(nv,e)?!0:ih.call(rv,e)?!1:QE.test(e)?nv[e]=!0:(rv[e]=!0,!1)}function XE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZE(e,t,r,n){if(t===null||typeof t>"u"||XE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xr(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tr[e]=new xr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tr[t]=new xr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tr[e]=new xr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tr[e]=new xr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tr[e]=new xr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tr[e]=new xr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tr[e]=new xr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tr[e]=new xr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tr[e]=new xr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Up=/[\-:]([a-z])/g;function zp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Up,zp);tr[t]=new xr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Up,zp);tr[t]=new xr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Up,zp);tr[t]=new xr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tr[e]=new xr(e,1,!1,e.toLowerCase(),null,!1,!1)});tr.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tr[e]=new xr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wp(e,t,r,n){var s=tr.hasOwnProperty(t)?tr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZE(t,r,s,n)&&(r=null),n||s===null?JE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ds=YE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kl=Symbol.for("react.element"),ai=Symbol.for("react.portal"),ii=Symbol.for("react.fragment"),Vp=Symbol.for("react.strict_mode"),oh=Symbol.for("react.profiler"),Bb=Symbol.for("react.provider"),Lb=Symbol.for("react.context"),Hp=Symbol.for("react.forward_ref"),lh=Symbol.for("react.suspense"),ch=Symbol.for("react.suspense_list"),Gp=Symbol.for("react.memo"),js=Symbol.for("react.lazy"),$b=Symbol.for("react.offscreen"),sv=Symbol.iterator;function co(e){return e===null||typeof e!="object"?null:(e=sv&&e[sv]||e["@@iterator"],typeof e=="function"?e:null)}var kt=Object.assign,Zd;function _o(e){if(Zd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zd=t&&t[1]||""}return`
`+Zd+e}var ef=!1;function tf(e,t){if(!e||ef)return"";ef=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ef=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_o(e):""}function eC(e){switch(e.tag){case 5:return _o(e.type);case 16:return _o("Lazy");case 13:return _o("Suspense");case 19:return _o("SuspenseList");case 0:case 2:case 15:return e=tf(e.type,!1),e;case 11:return e=tf(e.type.render,!1),e;case 1:return e=tf(e.type,!0),e;default:return""}}function uh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ii:return"Fragment";case ai:return"Portal";case oh:return"Profiler";case Vp:return"StrictMode";case lh:return"Suspense";case ch:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lb:return(e.displayName||"Context")+".Consumer";case Bb:return(e._context.displayName||"Context")+".Provider";case Hp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gp:return t=e.displayName||null,t!==null?t:uh(e.type)||"Memo";case js:t=e._payload,e=e._init;try{return uh(e(t))}catch{}}return null}function tC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uh(t);case 8:return t===Vp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ys(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rC(e){var t=Fb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yl(e){e._valueTracker||(e._valueTracker=rC(e))}function Ub(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Fb(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function qc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dh(e,t){var r=t.checked;return kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function av(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ys(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zb(e,t){t=t.checked,t!=null&&Wp(e,"checked",t,!1)}function fh(e,t){zb(e,t);var r=Ys(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hh(e,t.type,r):t.hasOwnProperty("defaultValue")&&hh(e,t.type,Ys(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function hh(e,t,r){(t!=="number"||qc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var No=Array.isArray;function vi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ys(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ph(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ov(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ue(92));if(No(r)){if(1<r.length)throw Error(ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ys(r)}}function Wb(e,t){var r=Ys(t.value),n=Ys(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function lv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ql,Hb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ql=Ql||document.createElement("div"),Ql.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ql.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nC=["Webkit","ms","Moz","O"];Object.keys(Ao).forEach(function(e){nC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ao[t]=Ao[e]})});function Gb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ao.hasOwnProperty(e)&&Ao[e]?(""+t).trim():t+"px"}function qb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Gb(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var sC=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gh(e,t){if(t){if(sC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function vh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yh=null;function qp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xh=null,yi=null,xi=null;function cv(e){if(e=El(e)){if(typeof xh!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=Hu(t),xh(e.stateNode,e.type,t))}}function Kb(e){yi?xi?xi.push(e):xi=[e]:yi=e}function Yb(){if(yi){var e=yi,t=xi;if(xi=yi=null,cv(e),t)for(e=0;e<t.length;e++)cv(t[e])}}function Qb(e,t){return e(t)}function Jb(){}var rf=!1;function Xb(e,t,r){if(rf)return e(t,r);rf=!0;try{return Qb(e,t,r)}finally{rf=!1,(yi!==null||xi!==null)&&(Jb(),Yb())}}function Ko(e,t){var r=e.stateNode;if(r===null)return null;var n=Hu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,t,typeof r));return r}var bh=!1;if(as)try{var uo={};Object.defineProperty(uo,"passive",{get:function(){bh=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch{bh=!1}function aC(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ro=!1,Kc=null,Yc=!1,wh=null,iC={onError:function(e){Ro=!0,Kc=e}};function oC(e,t,r,n,s,a,o,l,c){Ro=!1,Kc=null,aC.apply(iC,arguments)}function lC(e,t,r,n,s,a,o,l,c){if(oC.apply(this,arguments),Ro){if(Ro){var u=Kc;Ro=!1,Kc=null}else throw Error(ue(198));Yc||(Yc=!0,wh=u)}}function za(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Zb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uv(e){if(za(e)!==e)throw Error(ue(188))}function cC(e){var t=e.alternate;if(!t){if(t=za(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return uv(s),e;if(a===n)return uv(s),t;a=a.sibling}throw Error(ue(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(ue(189))}}if(r.alternate!==n)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:t}function e0(e){return e=cC(e),e!==null?t0(e):null}function t0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=t0(e);if(t!==null)return t;e=e.sibling}return null}var r0=Vr.unstable_scheduleCallback,dv=Vr.unstable_cancelCallback,uC=Vr.unstable_shouldYield,dC=Vr.unstable_requestPaint,It=Vr.unstable_now,fC=Vr.unstable_getCurrentPriorityLevel,Kp=Vr.unstable_ImmediatePriority,n0=Vr.unstable_UserBlockingPriority,Qc=Vr.unstable_NormalPriority,hC=Vr.unstable_LowPriority,s0=Vr.unstable_IdlePriority,Uu=null,Fn=null;function pC(e){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(Uu,e,void 0,(e.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:vC,mC=Math.log,gC=Math.LN2;function vC(e){return e>>>=0,e===0?32:31-(mC(e)/gC|0)|0}var Jl=64,Xl=4194304;function Eo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Eo(l):(a&=o,a!==0&&(n=Eo(a)))}else o=r&~s,o!==0?n=Eo(o):a!==0&&(n=Eo(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_n(t),s=1<<r,n|=e[r],t&=~s;return n}function yC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-_n(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=yC(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Sh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function a0(){var e=Jl;return Jl<<=1,!(Jl&4194240)&&(Jl=64),e}function nf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _l(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_n(t),e[t]=r}function bC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-_n(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Yp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_n(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ft=0;function i0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var o0,Qp,l0,c0,u0,jh=!1,Zl=[],Bs=null,Ls=null,$s=null,Yo=new Map,Qo=new Map,Es=[],wC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fv(e,t){switch(e){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":Yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(t.pointerId)}}function fo(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=El(t),t!==null&&Qp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function SC(e,t,r,n,s){switch(t){case"focusin":return Bs=fo(Bs,e,t,r,n,s),!0;case"dragenter":return Ls=fo(Ls,e,t,r,n,s),!0;case"mouseover":return $s=fo($s,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Yo.set(a,fo(Yo.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Qo.set(a,fo(Qo.get(a)||null,e,t,r,n,s)),!0}return!1}function d0(e){var t=xa(e.target);if(t!==null){var r=za(t);if(r!==null){if(t=r.tag,t===13){if(t=Zb(r),t!==null){e.blockedOn=t,u0(e.priority,function(){l0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_h(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);yh=n,r.target.dispatchEvent(n),yh=null}else return t=El(r),t!==null&&Qp(t),e.blockedOn=r,!1;t.shift()}return!0}function hv(e,t,r){Tc(e)&&r.delete(t)}function jC(){jh=!1,Bs!==null&&Tc(Bs)&&(Bs=null),Ls!==null&&Tc(Ls)&&(Ls=null),$s!==null&&Tc($s)&&($s=null),Yo.forEach(hv),Qo.forEach(hv)}function ho(e,t){e.blockedOn===t&&(e.blockedOn=null,jh||(jh=!0,Vr.unstable_scheduleCallback(Vr.unstable_NormalPriority,jC)))}function Jo(e){function t(s){return ho(s,e)}if(0<Zl.length){ho(Zl[0],e);for(var r=1;r<Zl.length;r++){var n=Zl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bs!==null&&ho(Bs,e),Ls!==null&&ho(Ls,e),$s!==null&&ho($s,e),Yo.forEach(t),Qo.forEach(t),r=0;r<Es.length;r++)n=Es[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Es.length&&(r=Es[0],r.blockedOn===null);)d0(r),r.blockedOn===null&&Es.shift()}var bi=ds.ReactCurrentBatchConfig,Xc=!0;function _C(e,t,r,n){var s=ft,a=bi.transition;bi.transition=null;try{ft=1,Jp(e,t,r,n)}finally{ft=s,bi.transition=a}}function NC(e,t,r,n){var s=ft,a=bi.transition;bi.transition=null;try{ft=4,Jp(e,t,r,n)}finally{ft=s,bi.transition=a}}function Jp(e,t,r,n){if(Xc){var s=_h(e,t,r,n);if(s===null)pf(e,t,n,Zc,r),fv(e,n);else if(SC(s,e,t,r,n))n.stopPropagation();else if(fv(e,n),t&4&&-1<wC.indexOf(e)){for(;s!==null;){var a=El(s);if(a!==null&&o0(a),a=_h(e,t,r,n),a===null&&pf(e,t,n,Zc,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else pf(e,t,n,null,r)}}var Zc=null;function _h(e,t,r,n){if(Zc=null,e=qp(n),e=xa(e),e!==null)if(t=za(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Zb(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zc=e,null}function f0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fC()){case Kp:return 1;case n0:return 4;case Qc:case hC:return 16;case s0:return 536870912;default:return 16}default:return 16}}var Ds=null,Xp=null,Pc=null;function h0(){if(Pc)return Pc;var e,t=Xp,r=t.length,n,s="value"in Ds?Ds.value:Ds.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Pc=s.slice(e,1<n?1-n:void 0)}function kc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ec(){return!0}function pv(){return!1}function Gr(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ec:pv,this.isPropagationStopped=pv,this}return kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),t}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zp=Gr(Ji),Nl=kt({},Ji,{view:0,detail:0}),EC=Gr(Nl),sf,af,po,zu=kt({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:em,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==po&&(po&&e.type==="mousemove"?(sf=e.screenX-po.screenX,af=e.screenY-po.screenY):af=sf=0,po=e),sf)},movementY:function(e){return"movementY"in e?e.movementY:af}}),mv=Gr(zu),CC=kt({},zu,{dataTransfer:0}),TC=Gr(CC),PC=kt({},Nl,{relatedTarget:0}),of=Gr(PC),kC=kt({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),AC=Gr(kC),RC=kt({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IC=Gr(RC),DC=kt({},Ji,{data:0}),gv=Gr(DC),OC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BC[e])?!!t[e]:!1}function em(){return LC}var $C=kt({},Nl,{key:function(e){if(e.key){var t=OC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=kc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?MC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:em,charCode:function(e){return e.type==="keypress"?kc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FC=Gr($C),UC=kt({},zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vv=Gr(UC),zC=kt({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:em}),WC=Gr(zC),VC=kt({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),HC=Gr(VC),GC=kt({},zu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qC=Gr(GC),KC=[9,13,27,32],tm=as&&"CompositionEvent"in window,Io=null;as&&"documentMode"in document&&(Io=document.documentMode);var YC=as&&"TextEvent"in window&&!Io,p0=as&&(!tm||Io&&8<Io&&11>=Io),yv=" ",xv=!1;function m0(e,t){switch(e){case"keyup":return KC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oi=!1;function QC(e,t){switch(e){case"compositionend":return g0(t);case"keypress":return t.which!==32?null:(xv=!0,yv);case"textInput":return e=t.data,e===yv&&xv?null:e;default:return null}}function JC(e,t){if(oi)return e==="compositionend"||!tm&&m0(e,t)?(e=h0(),Pc=Xp=Ds=null,oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return p0&&t.locale!=="ko"?null:t.data;default:return null}}var XC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XC[e.type]:t==="textarea"}function v0(e,t,r,n){Kb(n),t=eu(t,"onChange"),0<t.length&&(r=new Zp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Do=null,Xo=null;function ZC(e){T0(e,0)}function Wu(e){var t=ui(e);if(Ub(t))return e}function eT(e,t){if(e==="change")return t}var y0=!1;if(as){var lf;if(as){var cf="oninput"in document;if(!cf){var wv=document.createElement("div");wv.setAttribute("oninput","return;"),cf=typeof wv.oninput=="function"}lf=cf}else lf=!1;y0=lf&&(!document.documentMode||9<document.documentMode)}function Sv(){Do&&(Do.detachEvent("onpropertychange",x0),Xo=Do=null)}function x0(e){if(e.propertyName==="value"&&Wu(Xo)){var t=[];v0(t,Xo,e,qp(e)),Xb(ZC,t)}}function tT(e,t,r){e==="focusin"?(Sv(),Do=t,Xo=r,Do.attachEvent("onpropertychange",x0)):e==="focusout"&&Sv()}function rT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wu(Xo)}function nT(e,t){if(e==="click")return Wu(t)}function sT(e,t){if(e==="input"||e==="change")return Wu(t)}function aT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var En=typeof Object.is=="function"?Object.is:aT;function Zo(e,t){if(En(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ih.call(t,s)||!En(e[s],t[s]))return!1}return!0}function jv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _v(e,t){var r=jv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jv(r)}}function b0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?b0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function w0(){for(var e=window,t=qc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qc(e.document)}return t}function rm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iT(e){var t=w0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&b0(r.ownerDocument.documentElement,r)){if(n!==null&&rm(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=_v(r,a);var o=_v(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oT=as&&"documentMode"in document&&11>=document.documentMode,li=null,Nh=null,Oo=null,Eh=!1;function Nv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Eh||li==null||li!==qc(n)||(n=li,"selectionStart"in n&&rm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Oo&&Zo(Oo,n)||(Oo=n,n=eu(Nh,"onSelect"),0<n.length&&(t=new Zp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=li)))}function tc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ci={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},uf={},S0={};as&&(S0=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function Vu(e){if(uf[e])return uf[e];if(!ci[e])return e;var t=ci[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in S0)return uf[e]=t[r];return e}var j0=Vu("animationend"),_0=Vu("animationiteration"),N0=Vu("animationstart"),E0=Vu("transitionend"),C0=new Map,Ev="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ta(e,t){C0.set(e,t),Ua(t,[e])}for(var df=0;df<Ev.length;df++){var ff=Ev[df],lT=ff.toLowerCase(),cT=ff[0].toUpperCase()+ff.slice(1);ta(lT,"on"+cT)}ta(j0,"onAnimationEnd");ta(_0,"onAnimationIteration");ta(N0,"onAnimationStart");ta("dblclick","onDoubleClick");ta("focusin","onFocus");ta("focusout","onBlur");ta(E0,"onTransitionEnd");Mi("onMouseEnter",["mouseout","mouseover"]);Mi("onMouseLeave",["mouseout","mouseover"]);Mi("onPointerEnter",["pointerout","pointerover"]);Mi("onPointerLeave",["pointerout","pointerover"]);Ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ua("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function Cv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,lC(n,t,void 0,e),e.currentTarget=null}function T0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Cv(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Cv(s,l,u),a=c}}}if(Yc)throw e=wh,Yc=!1,wh=null,e}function jt(e,t){var r=t[Ah];r===void 0&&(r=t[Ah]=new Set);var n=e+"__bubble";r.has(n)||(P0(t,e,2,!1),r.add(n))}function hf(e,t,r){var n=0;t&&(n|=4),P0(r,e,n,t)}var rc="_reactListening"+Math.random().toString(36).slice(2);function el(e){if(!e[rc]){e[rc]=!0,Mb.forEach(function(r){r!=="selectionchange"&&(uT.has(r)||hf(r,!1,e),hf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rc]||(t[rc]=!0,hf("selectionchange",!1,t))}}function P0(e,t,r,n){switch(f0(t)){case 1:var s=_C;break;case 4:s=NC;break;default:s=Jp}r=s.bind(null,t,r,e),s=void 0,!bh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function pf(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=xa(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}Xb(function(){var u=a,d=qp(r),f=[];e:{var h=C0.get(e);if(h!==void 0){var p=Zp,x=e;switch(e){case"keypress":if(kc(r)===0)break e;case"keydown":case"keyup":p=FC;break;case"focusin":x="focus",p=of;break;case"focusout":x="blur",p=of;break;case"beforeblur":case"afterblur":p=of;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=TC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=WC;break;case j0:case _0:case N0:p=AC;break;case E0:p=HC;break;case"scroll":p=EC;break;case"wheel":p=qC;break;case"copy":case"cut":case"paste":p=IC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=vv}var g=(t&4)!==0,y=!g&&e==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var v=u,w;v!==null;){w=v;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,b!==null&&(S=Ko(v,b),S!=null&&g.push(tl(v,S,w)))),y)break;v=v.return}0<g.length&&(h=new p(h,x,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==yh&&(x=r.relatedTarget||r.fromElement)&&(xa(x)||x[is]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=u,x=x?xa(x):null,x!==null&&(y=za(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(g=mv,S="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=vv,S="onPointerLeave",b="onPointerEnter",v="pointer"),y=p==null?h:ui(p),w=x==null?h:ui(x),h=new g(S,v+"leave",p,r,d),h.target=y,h.relatedTarget=w,S=null,xa(d)===u&&(g=new g(b,v+"enter",x,r,d),g.target=w,g.relatedTarget=y,S=g),y=S,p&&x)t:{for(g=p,b=x,v=0,w=g;w;w=Ga(w))v++;for(w=0,S=b;S;S=Ga(S))w++;for(;0<v-w;)g=Ga(g),v--;for(;0<w-v;)b=Ga(b),w--;for(;v--;){if(g===b||b!==null&&g===b.alternate)break t;g=Ga(g),b=Ga(b)}g=null}else g=null;p!==null&&Tv(f,h,p,g,!1),x!==null&&y!==null&&Tv(f,y,x,g,!0)}}e:{if(h=u?ui(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=eT;else if(bv(h))if(y0)_=sT;else{_=rT;var j=tT}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=nT);if(_&&(_=_(e,u))){v0(f,_,r,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&hh(h,"number",h.value)}switch(j=u?ui(u):window,e){case"focusin":(bv(j)||j.contentEditable==="true")&&(li=j,Nh=u,Oo=null);break;case"focusout":Oo=Nh=li=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,Nv(f,r,d);break;case"selectionchange":if(oT)break;case"keydown":case"keyup":Nv(f,r,d)}var N;if(tm)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else oi?m0(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(p0&&r.locale!=="ko"&&(oi||E!=="onCompositionStart"?E==="onCompositionEnd"&&oi&&(N=h0()):(Ds=d,Xp="value"in Ds?Ds.value:Ds.textContent,oi=!0)),j=eu(u,E),0<j.length&&(E=new gv(E,e,null,r,d),f.push({event:E,listeners:j}),N?E.data=N:(N=g0(r),N!==null&&(E.data=N)))),(N=YC?QC(e,r):JC(e,r))&&(u=eu(u,"onBeforeInput"),0<u.length&&(d=new gv("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}T0(f,t)})}function tl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function eu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ko(e,r),a!=null&&n.unshift(tl(e,a,s)),a=Ko(e,t),a!=null&&n.push(tl(e,a,s))),e=e.return}return n}function Ga(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Tv(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ko(r,a),c!=null&&o.unshift(tl(r,c,l))):s||(c=Ko(r,a),c!=null&&o.push(tl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var dT=/\r\n?/g,fT=/\u0000|\uFFFD/g;function Pv(e){return(typeof e=="string"?e:""+e).replace(dT,`
`).replace(fT,"")}function nc(e,t,r){if(t=Pv(t),Pv(e)!==t&&r)throw Error(ue(425))}function tu(){}var Ch=null,Th=null;function Ph(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kh=typeof setTimeout=="function"?setTimeout:void 0,hT=typeof clearTimeout=="function"?clearTimeout:void 0,kv=typeof Promise=="function"?Promise:void 0,pT=typeof queueMicrotask=="function"?queueMicrotask:typeof kv<"u"?function(e){return kv.resolve(null).then(e).catch(mT)}:kh;function mT(e){setTimeout(function(){throw e})}function mf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Jo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Jo(t)}function Fs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Av(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Xi=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Xi,rl="__reactProps$"+Xi,is="__reactContainer$"+Xi,Ah="__reactEvents$"+Xi,gT="__reactListeners$"+Xi,vT="__reactHandles$"+Xi;function xa(e){var t=e[Mn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[is]||r[Mn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Av(e);e!==null;){if(r=e[Mn])return r;e=Av(e)}return t}e=r,r=e.parentNode}return null}function El(e){return e=e[Mn]||e[is],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ui(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function Hu(e){return e[rl]||null}var Rh=[],di=-1;function ra(e){return{current:e}}function _t(e){0>di||(e.current=Rh[di],Rh[di]=null,di--)}function xt(e,t){di++,Rh[di]=e.current,e.current=t}var Qs={},cr=ra(Qs),Tr=ra(!1),Aa=Qs;function Bi(e,t){var r=e.type.contextTypes;if(!r)return Qs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pr(e){return e=e.childContextTypes,e!=null}function ru(){_t(Tr),_t(cr)}function Rv(e,t,r){if(cr.current!==Qs)throw Error(ue(168));xt(cr,t),xt(Tr,r)}function k0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ue(108,tC(e)||"Unknown",s));return kt({},r,n)}function nu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qs,Aa=cr.current,xt(cr,e),xt(Tr,Tr.current),!0}function Iv(e,t,r){var n=e.stateNode;if(!n)throw Error(ue(169));r?(e=k0(e,t,Aa),n.__reactInternalMemoizedMergedChildContext=e,_t(Tr),_t(cr),xt(cr,e)):_t(Tr),xt(Tr,r)}var Xn=null,Gu=!1,gf=!1;function A0(e){Xn===null?Xn=[e]:Xn.push(e)}function yT(e){Gu=!0,A0(e)}function na(){if(!gf&&Xn!==null){gf=!0;var e=0,t=ft;try{var r=Xn;for(ft=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Xn=null,Gu=!1}catch(s){throw Xn!==null&&(Xn=Xn.slice(e+1)),r0(Kp,na),s}finally{ft=t,gf=!1}}return null}var fi=[],hi=0,su=null,au=0,Xr=[],Zr=0,Ra=null,es=1,ts="";function ha(e,t){fi[hi++]=au,fi[hi++]=su,su=e,au=t}function R0(e,t,r){Xr[Zr++]=es,Xr[Zr++]=ts,Xr[Zr++]=Ra,Ra=e;var n=es;e=ts;var s=32-_n(n)-1;n&=~(1<<s),r+=1;var a=32-_n(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,es=1<<32-_n(t)+s|r<<s|n,ts=a+e}else es=1<<a|r<<s|n,ts=e}function nm(e){e.return!==null&&(ha(e,1),R0(e,1,0))}function sm(e){for(;e===su;)su=fi[--hi],fi[hi]=null,au=fi[--hi],fi[hi]=null;for(;e===Ra;)Ra=Xr[--Zr],Xr[Zr]=null,ts=Xr[--Zr],Xr[Zr]=null,es=Xr[--Zr],Xr[Zr]=null}var Fr=null,Lr=null,Et=!1,Sn=null;function I0(e,t){var r=en(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Dv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fr=e,Lr=Fs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fr=e,Lr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ra!==null?{id:es,overflow:ts}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=en(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fr=e,Lr=null,!0):!1;default:return!1}}function Ih(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dh(e){if(Et){var t=Lr;if(t){var r=t;if(!Dv(e,t)){if(Ih(e))throw Error(ue(418));t=Fs(r.nextSibling);var n=Fr;t&&Dv(e,t)?I0(n,r):(e.flags=e.flags&-4097|2,Et=!1,Fr=e)}}else{if(Ih(e))throw Error(ue(418));e.flags=e.flags&-4097|2,Et=!1,Fr=e}}}function Ov(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fr=e}function sc(e){if(e!==Fr)return!1;if(!Et)return Ov(e),Et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ph(e.type,e.memoizedProps)),t&&(t=Lr)){if(Ih(e))throw D0(),Error(ue(418));for(;t;)I0(e,t),t=Fs(t.nextSibling)}if(Ov(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Lr=Fs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Lr=null}}else Lr=Fr?Fs(e.stateNode.nextSibling):null;return!0}function D0(){for(var e=Lr;e;)e=Fs(e.nextSibling)}function Li(){Lr=Fr=null,Et=!1}function am(e){Sn===null?Sn=[e]:Sn.push(e)}var xT=ds.ReactCurrentBatchConfig;function mo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var n=r.stateNode}if(!n)throw Error(ue(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function ac(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mv(e){var t=e._init;return t(e._payload)}function O0(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function r(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function n(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function s(b,v){return b=Vs(b,v),b.index=0,b.sibling=null,b}function a(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=2,v):w):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,v,w,S){return v===null||v.tag!==6?(v=jf(w,b.mode,S),v.return=b,v):(v=s(v,w),v.return=b,v)}function c(b,v,w,S){var _=w.type;return _===ii?d(b,v,w.props.children,S,w.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===js&&Mv(_)===v.type)?(S=s(v,w.props),S.ref=mo(b,v,w),S.return=b,S):(S=Bc(w.type,w.key,w.props,null,b.mode,S),S.ref=mo(b,v,w),S.return=b,S)}function u(b,v,w,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=_f(w,b.mode,S),v.return=b,v):(v=s(v,w.children||[]),v.return=b,v)}function d(b,v,w,S,_){return v===null||v.tag!==7?(v=Pa(w,b.mode,S,_),v.return=b,v):(v=s(v,w),v.return=b,v)}function f(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=jf(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Kl:return w=Bc(v.type,v.key,v.props,null,b.mode,w),w.ref=mo(b,null,v),w.return=b,w;case ai:return v=_f(v,b.mode,w),v.return=b,v;case js:var S=v._init;return f(b,S(v._payload),w)}if(No(v)||co(v))return v=Pa(v,b.mode,w,null),v.return=b,v;ac(b,v)}return null}function h(b,v,w,S){var _=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:l(b,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kl:return w.key===_?c(b,v,w,S):null;case ai:return w.key===_?u(b,v,w,S):null;case js:return _=w._init,h(b,v,_(w._payload),S)}if(No(w)||co(w))return _!==null?null:d(b,v,w,S,null);ac(b,w)}return null}function p(b,v,w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(w)||null,l(v,b,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Kl:return b=b.get(S.key===null?w:S.key)||null,c(v,b,S,_);case ai:return b=b.get(S.key===null?w:S.key)||null,u(v,b,S,_);case js:var j=S._init;return p(b,v,w,j(S._payload),_)}if(No(S)||co(S))return b=b.get(w)||null,d(v,b,S,_,null);ac(v,S)}return null}function x(b,v,w,S){for(var _=null,j=null,N=v,E=v=0,D=null;N!==null&&E<w.length;E++){N.index>E?(D=N,N=null):D=N.sibling;var k=h(b,N,w[E],S);if(k===null){N===null&&(N=D);break}e&&N&&k.alternate===null&&t(b,N),v=a(k,v,E),j===null?_=k:j.sibling=k,j=k,N=D}if(E===w.length)return r(b,N),Et&&ha(b,E),_;if(N===null){for(;E<w.length;E++)N=f(b,w[E],S),N!==null&&(v=a(N,v,E),j===null?_=N:j.sibling=N,j=N);return Et&&ha(b,E),_}for(N=n(b,N);E<w.length;E++)D=p(N,b,E,w[E],S),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?E:D.key),v=a(D,v,E),j===null?_=D:j.sibling=D,j=D);return e&&N.forEach(function(z){return t(b,z)}),Et&&ha(b,E),_}function g(b,v,w,S){var _=co(w);if(typeof _!="function")throw Error(ue(150));if(w=_.call(w),w==null)throw Error(ue(151));for(var j=_=null,N=v,E=v=0,D=null,k=w.next();N!==null&&!k.done;E++,k=w.next()){N.index>E?(D=N,N=null):D=N.sibling;var z=h(b,N,k.value,S);if(z===null){N===null&&(N=D);break}e&&N&&z.alternate===null&&t(b,N),v=a(z,v,E),j===null?_=z:j.sibling=z,j=z,N=D}if(k.done)return r(b,N),Et&&ha(b,E),_;if(N===null){for(;!k.done;E++,k=w.next())k=f(b,k.value,S),k!==null&&(v=a(k,v,E),j===null?_=k:j.sibling=k,j=k);return Et&&ha(b,E),_}for(N=n(b,N);!k.done;E++,k=w.next())k=p(N,b,E,k.value,S),k!==null&&(e&&k.alternate!==null&&N.delete(k.key===null?E:k.key),v=a(k,v,E),j===null?_=k:j.sibling=k,j=k);return e&&N.forEach(function(I){return t(b,I)}),Et&&ha(b,E),_}function y(b,v,w,S){if(typeof w=="object"&&w!==null&&w.type===ii&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Kl:e:{for(var _=w.key,j=v;j!==null;){if(j.key===_){if(_=w.type,_===ii){if(j.tag===7){r(b,j.sibling),v=s(j,w.props.children),v.return=b,b=v;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===js&&Mv(_)===j.type){r(b,j.sibling),v=s(j,w.props),v.ref=mo(b,j,w),v.return=b,b=v;break e}r(b,j);break}else t(b,j);j=j.sibling}w.type===ii?(v=Pa(w.props.children,b.mode,S,w.key),v.return=b,b=v):(S=Bc(w.type,w.key,w.props,null,b.mode,S),S.ref=mo(b,v,w),S.return=b,b=S)}return o(b);case ai:e:{for(j=w.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(b,v.sibling),v=s(v,w.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else t(b,v);v=v.sibling}v=_f(w,b.mode,S),v.return=b,b=v}return o(b);case js:return j=w._init,y(b,v,j(w._payload),S)}if(No(w))return x(b,v,w,S);if(co(w))return g(b,v,w,S);ac(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(b,v.sibling),v=s(v,w),v.return=b,b=v):(r(b,v),v=jf(w,b.mode,S),v.return=b,b=v),o(b)):r(b,v)}return y}var $i=O0(!0),M0=O0(!1),iu=ra(null),ou=null,pi=null,im=null;function om(){im=pi=ou=null}function lm(e){var t=iu.current;_t(iu),e._currentValue=t}function Oh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function wi(e,t){ou=e,im=pi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Cr=!0),e.firstContext=null)}function an(e){var t=e._currentValue;if(im!==e)if(e={context:e,memoizedValue:t,next:null},pi===null){if(ou===null)throw Error(ue(308));pi=e,ou.dependencies={lanes:0,firstContext:e}}else pi=pi.next=e;return t}var ba=null;function cm(e){ba===null?ba=[e]:ba.push(e)}function B0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,cm(t)):(r.next=s.next,s.next=r),t.interleaved=r,os(e,n)}function os(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _s=!1;function um(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,os(e,r)}return s=n.interleaved,s===null?(t.next=t,cm(n)):(t.next=s.next,s.next=t),n.interleaved=t,os(e,r)}function Ac(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Yp(e,r)}}function Bv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function lu(e,t,r,n){var s=e.updateQueue;_s=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(h=t,p=r,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(p,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(p,f,h):x,h==null)break e;f=kt({},f,h);break e;case 2:_s=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Da|=o,e.lanes=o,e.memoizedState=f}}function Lv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ue(191,s));s.call(n)}}}var Cl={},Un=ra(Cl),nl=ra(Cl),sl=ra(Cl);function wa(e){if(e===Cl)throw Error(ue(174));return e}function dm(e,t){switch(xt(sl,t),xt(nl,e),xt(Un,Cl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mh(t,e)}_t(Un),xt(Un,t)}function Fi(){_t(Un),_t(nl),_t(sl)}function $0(e){wa(sl.current);var t=wa(Un.current),r=mh(t,e.type);t!==r&&(xt(nl,e),xt(Un,r))}function fm(e){nl.current===e&&(_t(Un),_t(nl))}var Tt=ra(0);function cu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vf=[];function hm(){for(var e=0;e<vf.length;e++)vf[e]._workInProgressVersionPrimary=null;vf.length=0}var Rc=ds.ReactCurrentDispatcher,yf=ds.ReactCurrentBatchConfig,Ia=0,Pt=null,Bt=null,Ut=null,uu=!1,Mo=!1,al=0,bT=0;function nr(){throw Error(ue(321))}function pm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!En(e[r],t[r]))return!1;return!0}function mm(e,t,r,n,s,a){if(Ia=a,Pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rc.current=e===null||e.memoizedState===null?_T:NT,e=r(n,s),Mo){a=0;do{if(Mo=!1,al=0,25<=a)throw Error(ue(301));a+=1,Ut=Bt=null,t.updateQueue=null,Rc.current=ET,e=r(n,s)}while(Mo)}if(Rc.current=du,t=Bt!==null&&Bt.next!==null,Ia=0,Ut=Bt=Pt=null,uu=!1,t)throw Error(ue(300));return e}function gm(){var e=al!==0;return al=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Pt.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function on(){if(Bt===null){var e=Pt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var t=Ut===null?Pt.memoizedState:Ut.next;if(t!==null)Ut=t,Bt=e;else{if(e===null)throw Error(ue(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Ut===null?Pt.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function il(e,t){return typeof t=="function"?t(e):t}function xf(e){var t=on(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=Bt,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Ia&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Pt.lanes|=d,Da|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,En(n,t.memoizedState)||(Cr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Pt.lanes|=a,Da|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bf(e){var t=on(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);En(a,t.memoizedState)||(Cr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function F0(){}function U0(e,t){var r=Pt,n=on(),s=t(),a=!En(n.memoizedState,s);if(a&&(n.memoizedState=s,Cr=!0),n=n.queue,vm(V0.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Ut!==null&&Ut.memoizedState.tag&1){if(r.flags|=2048,ol(9,W0.bind(null,r,n,s,t),void 0,null),zt===null)throw Error(ue(349));Ia&30||z0(r,t,s)}return s}function z0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function W0(e,t,r,n){t.value=r,t.getSnapshot=n,H0(t)&&G0(e)}function V0(e,t,r){return r(function(){H0(t)&&G0(e)})}function H0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!En(e,r)}catch{return!0}}function G0(e){var t=os(e,1);t!==null&&Nn(t,e,1,-1)}function $v(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:e},t.queue=e,e=e.dispatch=jT.bind(null,Pt,e),[t.memoizedState,e]}function ol(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function q0(){return on().memoizedState}function Ic(e,t,r,n){var s=Rn();Pt.flags|=e,s.memoizedState=ol(1|t,r,void 0,n===void 0?null:n)}function qu(e,t,r,n){var s=on();n=n===void 0?null:n;var a=void 0;if(Bt!==null){var o=Bt.memoizedState;if(a=o.destroy,n!==null&&pm(n,o.deps)){s.memoizedState=ol(t,r,a,n);return}}Pt.flags|=e,s.memoizedState=ol(1|t,r,a,n)}function Fv(e,t){return Ic(8390656,8,e,t)}function vm(e,t){return qu(2048,8,e,t)}function K0(e,t){return qu(4,2,e,t)}function Y0(e,t){return qu(4,4,e,t)}function Q0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function J0(e,t,r){return r=r!=null?r.concat([e]):null,qu(4,4,Q0.bind(null,t,e),r)}function ym(){}function X0(e,t){var r=on();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Z0(e,t){var r=on();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ew(e,t,r){return Ia&21?(En(r,t)||(r=a0(),Pt.lanes|=r,Da|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Cr=!0),e.memoizedState=r)}function wT(e,t){var r=ft;ft=r!==0&&4>r?r:4,e(!0);var n=yf.transition;yf.transition={};try{e(!1),t()}finally{ft=r,yf.transition=n}}function tw(){return on().memoizedState}function ST(e,t,r){var n=Ws(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},rw(e))nw(t,r);else if(r=B0(e,t,r,n),r!==null){var s=vr();Nn(r,e,n,s),sw(r,t,n)}}function jT(e,t,r){var n=Ws(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(rw(e))nw(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,En(l,o)){var c=t.interleaved;c===null?(s.next=s,cm(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=B0(e,t,s,n),r!==null&&(s=vr(),Nn(r,e,n,s),sw(r,t,n))}}function rw(e){var t=e.alternate;return e===Pt||t!==null&&t===Pt}function nw(e,t){Mo=uu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Yp(e,r)}}var du={readContext:an,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},_T={readContext:an,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:an,useEffect:Fv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ic(4194308,4,Q0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ic(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ic(4,2,e,t)},useMemo:function(e,t){var r=Rn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ST.bind(null,Pt,e),[n.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:$v,useDebugValue:ym,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=$v(!1),t=e[0];return e=wT.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Pt,s=Rn();if(Et){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=t(),zt===null)throw Error(ue(349));Ia&30||z0(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Fv(V0.bind(null,n,a,e),[e]),n.flags|=2048,ol(9,W0.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Rn(),t=zt.identifierPrefix;if(Et){var r=ts,n=es;r=(n&~(1<<32-_n(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=al++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=bT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},NT={readContext:an,useCallback:X0,useContext:an,useEffect:vm,useImperativeHandle:J0,useInsertionEffect:K0,useLayoutEffect:Y0,useMemo:Z0,useReducer:xf,useRef:q0,useState:function(){return xf(il)},useDebugValue:ym,useDeferredValue:function(e){var t=on();return ew(t,Bt.memoizedState,e)},useTransition:function(){var e=xf(il)[0],t=on().memoizedState;return[e,t]},useMutableSource:F0,useSyncExternalStore:U0,useId:tw,unstable_isNewReconciler:!1},ET={readContext:an,useCallback:X0,useContext:an,useEffect:vm,useImperativeHandle:J0,useInsertionEffect:K0,useLayoutEffect:Y0,useMemo:Z0,useReducer:bf,useRef:q0,useState:function(){return bf(il)},useDebugValue:ym,useDeferredValue:function(e){var t=on();return Bt===null?t.memoizedState=e:ew(t,Bt.memoizedState,e)},useTransition:function(){var e=bf(il)[0],t=on().memoizedState;return[e,t]},useMutableSource:F0,useSyncExternalStore:U0,useId:tw,unstable_isNewReconciler:!1};function gn(e,t){if(e&&e.defaultProps){t=kt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Mh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:kt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ku={isMounted:function(e){return(e=e._reactInternals)?za(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=vr(),s=Ws(e),a=rs(n,s);a.payload=t,r!=null&&(a.callback=r),t=Us(e,a,s),t!==null&&(Nn(t,e,s,n),Ac(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=vr(),s=Ws(e),a=rs(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Us(e,a,s),t!==null&&(Nn(t,e,s,n),Ac(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=vr(),n=Ws(e),s=rs(r,n);s.tag=2,t!=null&&(s.callback=t),t=Us(e,s,n),t!==null&&(Nn(t,e,n,r),Ac(t,e,n))}};function Uv(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Zo(r,n)||!Zo(s,a):!0}function aw(e,t,r){var n=!1,s=Qs,a=t.contextType;return typeof a=="object"&&a!==null?a=an(a):(s=Pr(t)?Aa:cr.current,n=t.contextTypes,a=(n=n!=null)?Bi(e,s):Qs),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ku,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function zv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ku.enqueueReplaceState(t,t.state,null)}function Bh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},um(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=an(a):(a=Pr(t)?Aa:cr.current,s.context=Bi(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Mh(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ku.enqueueReplaceState(s,s.state,null),lu(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ui(e,t){try{var r="",n=t;do r+=eC(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function wf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Lh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var CT=typeof WeakMap=="function"?WeakMap:Map;function iw(e,t,r){r=rs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hu||(hu=!0,Kh=n),Lh(e,t)},r}function ow(e,t,r){r=rs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Lh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Lh(e,t),typeof n!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Wv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new CT;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=UT.bind(null,e,t,r),t.then(e,e))}function Vv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hv(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=rs(-1,1),t.tag=2,Us(r,t,1))),r.lanes|=1),e)}var TT=ds.ReactCurrentOwner,Cr=!1;function mr(e,t,r,n){t.child=e===null?M0(t,null,r,n):$i(t,e.child,r,n)}function Gv(e,t,r,n,s){r=r.render;var a=t.ref;return wi(t,s),n=mm(e,t,r,n,a,s),r=gm(),e!==null&&!Cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ls(e,t,s)):(Et&&r&&nm(t),t.flags|=1,mr(e,t,n,s),t.child)}function qv(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Em(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,lw(e,t,a,n,s)):(e=Bc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Zo,r(o,n)&&e.ref===t.ref)return ls(e,t,s)}return t.flags|=1,e=Vs(a,n),e.ref=t.ref,e.return=t,t.child=e}function lw(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Zo(a,n)&&e.ref===t.ref)if(Cr=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Cr=!0);else return t.lanes=e.lanes,ls(e,t,s)}return $h(e,t,r,n,s)}function cw(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(gi,Mr),Mr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xt(gi,Mr),Mr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,xt(gi,Mr),Mr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,xt(gi,Mr),Mr|=n;return mr(e,t,s,r),t.child}function uw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function $h(e,t,r,n,s){var a=Pr(r)?Aa:cr.current;return a=Bi(t,a),wi(t,s),r=mm(e,t,r,n,a,s),n=gm(),e!==null&&!Cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ls(e,t,s)):(Et&&n&&nm(t),t.flags|=1,mr(e,t,r,s),t.child)}function Kv(e,t,r,n,s){if(Pr(r)){var a=!0;nu(t)}else a=!1;if(wi(t,s),t.stateNode===null)Dc(e,t),aw(t,r,n),Bh(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=an(u):(u=Pr(r)?Aa:cr.current,u=Bi(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&zv(t,o,n,u),_s=!1;var h=t.memoizedState;o.state=h,lu(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Tr.current||_s?(typeof d=="function"&&(Mh(t,r,d,n),c=t.memoizedState),(l=_s||Uv(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,L0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:gn(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=an(c):(c=Pr(r)?Aa:cr.current,c=Bi(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&zv(t,o,n,c),_s=!1,h=t.memoizedState,o.state=h,lu(t,n,o,s);var x=t.memoizedState;l!==f||h!==x||Tr.current||_s?(typeof p=="function"&&(Mh(t,r,p,n),x=t.memoizedState),(u=_s||Uv(t,r,u,n,h,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Fh(e,t,r,n,a,s)}function Fh(e,t,r,n,s,a){uw(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Iv(t,r,!1),ls(e,t,a);n=t.stateNode,TT.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=$i(t,e.child,null,a),t.child=$i(t,null,l,a)):mr(e,t,l,a),t.memoizedState=n.state,s&&Iv(t,r,!0),t.child}function dw(e){var t=e.stateNode;t.pendingContext?Rv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rv(e,t.context,!1),dm(e,t.containerInfo)}function Yv(e,t,r,n,s){return Li(),am(s),t.flags|=256,mr(e,t,r,n),t.child}var Uh={dehydrated:null,treeContext:null,retryLane:0};function zh(e){return{baseLanes:e,cachePool:null,transitions:null}}function fw(e,t,r){var n=t.pendingProps,s=Tt.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),xt(Tt,s&1),e===null)return Dh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ju(o,n,0,null),e=Pa(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=zh(r),t.memoizedState=Uh,e):xm(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return PT(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Vs(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Vs(l,a):(a=Pa(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?zh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Uh,n}return a=e.child,e=a.sibling,n=Vs(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function xm(e,t){return t=Ju({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ic(e,t,r,n){return n!==null&&am(n),$i(t,e.child,null,r),e=xm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function PT(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=wf(Error(ue(422))),ic(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Ju({mode:"visible",children:n.children},s,0,null),a=Pa(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&$i(t,e.child,null,o),t.child.memoizedState=zh(o),t.memoizedState=Uh,a);if(!(t.mode&1))return ic(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(ue(419)),n=wf(a,n,void 0),ic(e,t,o,n)}if(l=(o&e.childLanes)!==0,Cr||l){if(n=zt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,os(e,s),Nn(n,e,s,-1))}return Nm(),n=wf(Error(ue(421))),ic(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=zT.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Lr=Fs(s.nextSibling),Fr=t,Et=!0,Sn=null,e!==null&&(Xr[Zr++]=es,Xr[Zr++]=ts,Xr[Zr++]=Ra,es=e.id,ts=e.overflow,Ra=t),t=xm(t,n.children),t.flags|=4096,t)}function Qv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Oh(e.return,t,r)}function Sf(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function hw(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(mr(e,t,n.children,r),n=Tt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qv(e,r,t);else if(e.tag===19)Qv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(xt(Tt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&cu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Sf(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&cu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Sf(t,!0,r,null,a);break;case"together":Sf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ls(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Da|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,r=Vs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function kT(e,t,r){switch(t.tag){case 3:dw(t),Li();break;case 5:$0(t);break;case 1:Pr(t.type)&&nu(t);break;case 4:dm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;xt(iu,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(xt(Tt,Tt.current&1),t.flags|=128,null):r&t.child.childLanes?fw(e,t,r):(xt(Tt,Tt.current&1),e=ls(e,t,r),e!==null?e.sibling:null);xt(Tt,Tt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return hw(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xt(Tt,Tt.current),n)break;return null;case 22:case 23:return t.lanes=0,cw(e,t,r)}return ls(e,t,r)}var pw,Wh,mw,gw;pw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wh=function(){};mw=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,wa(Un.current);var a=null;switch(r){case"input":s=dh(e,s),n=dh(e,n),a=[];break;case"select":s=kt({},s,{value:void 0}),n=kt({},n,{value:void 0}),a=[];break;case"textarea":s=ph(e,s),n=ph(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=tu)}gh(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Go.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Go.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&jt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};gw=function(e,t,r,n){r!==n&&(t.flags|=4)};function go(e,t){if(!Et)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function sr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function AT(e,t,r){var n=t.pendingProps;switch(sm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(t),null;case 1:return Pr(t.type)&&ru(),sr(t),null;case 3:return n=t.stateNode,Fi(),_t(Tr),_t(cr),hm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(sc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sn!==null&&(Jh(Sn),Sn=null))),Wh(e,t),sr(t),null;case 5:fm(t);var s=wa(sl.current);if(r=t.type,e!==null&&t.stateNode!=null)mw(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ue(166));return sr(t),null}if(e=wa(Un.current),sc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Mn]=t,n[rl]=a,e=(t.mode&1)!==0,r){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(s=0;s<Co.length;s++)jt(Co[s],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":av(n,a),jt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},jt("invalid",n);break;case"textarea":ov(n,a),jt("invalid",n)}gh(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&nc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&nc(n.textContent,l,e),s=["children",""+l]):Go.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&jt("scroll",n)}switch(r){case"input":Yl(n),iv(n,a,!0);break;case"textarea":Yl(n),lv(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=tu)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Mn]=t,e[rl]=n,pw(e,t,!1,!1),t.stateNode=e;e:{switch(o=vh(r,n),r){case"dialog":jt("cancel",e),jt("close",e),s=n;break;case"iframe":case"object":case"embed":jt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Co.length;s++)jt(Co[s],e);s=n;break;case"source":jt("error",e),s=n;break;case"img":case"image":case"link":jt("error",e),jt("load",e),s=n;break;case"details":jt("toggle",e),s=n;break;case"input":av(e,n),s=dh(e,n),jt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=kt({},n,{value:void 0}),jt("invalid",e);break;case"textarea":ov(e,n),s=ph(e,n),jt("invalid",e);break;default:s=n}gh(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?qb(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Hb(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&qo(e,c):typeof c=="number"&&qo(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Go.hasOwnProperty(a)?c!=null&&a==="onScroll"&&jt("scroll",e):c!=null&&Wp(e,a,c,o))}switch(r){case"input":Yl(e),iv(e,n,!1);break;case"textarea":Yl(e),lv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ys(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?vi(e,!!n.multiple,a,!1):n.defaultValue!=null&&vi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=tu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return sr(t),null;case 6:if(e&&t.stateNode!=null)gw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ue(166));if(r=wa(sl.current),wa(Un.current),sc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Mn]=t,(a=n.nodeValue!==r)&&(e=Fr,e!==null))switch(e.tag){case 3:nc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Mn]=t,t.stateNode=n}return sr(t),null;case 13:if(_t(Tt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Et&&Lr!==null&&t.mode&1&&!(t.flags&128))D0(),Li(),t.flags|=98560,a=!1;else if(a=sc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ue(317));a[Mn]=t}else Li(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;sr(t),a=!1}else Sn!==null&&(Jh(Sn),Sn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Tt.current&1?Lt===0&&(Lt=3):Nm())),t.updateQueue!==null&&(t.flags|=4),sr(t),null);case 4:return Fi(),Wh(e,t),e===null&&el(t.stateNode.containerInfo),sr(t),null;case 10:return lm(t.type._context),sr(t),null;case 17:return Pr(t.type)&&ru(),sr(t),null;case 19:if(_t(Tt),a=t.memoizedState,a===null)return sr(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)go(a,!1);else{if(Lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=cu(e),o!==null){for(t.flags|=128,go(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return xt(Tt,Tt.current&1|2),t.child}e=e.sibling}a.tail!==null&&It()>zi&&(t.flags|=128,n=!0,go(a,!1),t.lanes=4194304)}else{if(!n)if(e=cu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),go(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Et)return sr(t),null}else 2*It()-a.renderingStartTime>zi&&r!==1073741824&&(t.flags|=128,n=!0,go(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=It(),t.sibling=null,r=Tt.current,xt(Tt,n?r&1|2:r&1),t):(sr(t),null);case 22:case 23:return _m(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Mr&1073741824&&(sr(t),t.subtreeFlags&6&&(t.flags|=8192)):sr(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function RT(e,t){switch(sm(t),t.tag){case 1:return Pr(t.type)&&ru(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fi(),_t(Tr),_t(cr),hm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fm(t),null;case 13:if(_t(Tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));Li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(Tt),null;case 4:return Fi(),null;case 10:return lm(t.type._context),null;case 22:case 23:return _m(),null;case 24:return null;default:return null}}var oc=!1,lr=!1,IT=typeof WeakSet=="function"?WeakSet:Set,we=null;function mi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Rt(e,t,n)}else r.current=null}function Vh(e,t,r){try{r()}catch(n){Rt(e,t,n)}}var Jv=!1;function DT(e,t){if(Ch=Xc,e=w0(),rm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===a&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Th={focusedElem:e,selectionRange:r},Xc=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,y=x.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:gn(t.type,g),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(S){Rt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return x=Jv,Jv=!1,x}function Bo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Vh(t,r,a)}s=s.next}while(s!==n)}}function Yu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Hh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function vw(e){var t=e.alternate;t!==null&&(e.alternate=null,vw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mn],delete t[rl],delete t[Ah],delete t[gT],delete t[vT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yw(e){return e.tag===5||e.tag===3||e.tag===4}function Xv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=tu));else if(n!==4&&(e=e.child,e!==null))for(Gh(e,t,r),e=e.sibling;e!==null;)Gh(e,t,r),e=e.sibling}function qh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(qh(e,t,r),e=e.sibling;e!==null;)qh(e,t,r),e=e.sibling}var Yt=null,bn=!1;function ps(e,t,r){for(r=r.child;r!==null;)xw(e,t,r),r=r.sibling}function xw(e,t,r){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(Uu,r)}catch{}switch(r.tag){case 5:lr||mi(r,t);case 6:var n=Yt,s=bn;Yt=null,ps(e,t,r),Yt=n,bn=s,Yt!==null&&(bn?(e=Yt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Yt.removeChild(r.stateNode));break;case 18:Yt!==null&&(bn?(e=Yt,r=r.stateNode,e.nodeType===8?mf(e.parentNode,r):e.nodeType===1&&mf(e,r),Jo(e)):mf(Yt,r.stateNode));break;case 4:n=Yt,s=bn,Yt=r.stateNode.containerInfo,bn=!0,ps(e,t,r),Yt=n,bn=s;break;case 0:case 11:case 14:case 15:if(!lr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Vh(r,t,o),s=s.next}while(s!==n)}ps(e,t,r);break;case 1:if(!lr&&(mi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Rt(r,t,l)}ps(e,t,r);break;case 21:ps(e,t,r);break;case 22:r.mode&1?(lr=(n=lr)||r.memoizedState!==null,ps(e,t,r),lr=n):ps(e,t,r);break;default:ps(e,t,r)}}function Zv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new IT),t.forEach(function(n){var s=WT.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function dn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Yt=l.stateNode,bn=!1;break e;case 3:Yt=l.stateNode.containerInfo,bn=!0;break e;case 4:Yt=l.stateNode.containerInfo,bn=!0;break e}l=l.return}if(Yt===null)throw Error(ue(160));xw(a,o,s),Yt=null,bn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Rt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bw(t,e),t=t.sibling}function bw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dn(t,e),An(e),n&4){try{Bo(3,e,e.return),Yu(3,e)}catch(g){Rt(e,e.return,g)}try{Bo(5,e,e.return)}catch(g){Rt(e,e.return,g)}}break;case 1:dn(t,e),An(e),n&512&&r!==null&&mi(r,r.return);break;case 5:if(dn(t,e),An(e),n&512&&r!==null&&mi(r,r.return),e.flags&32){var s=e.stateNode;try{qo(s,"")}catch(g){Rt(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&zb(s,a),vh(l,o);var u=vh(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?qb(s,f):d==="dangerouslySetInnerHTML"?Hb(s,f):d==="children"?qo(s,f):Wp(s,d,f,u)}switch(l){case"input":fh(s,a);break;case"textarea":Wb(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?vi(s,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?vi(s,!!a.multiple,a.defaultValue,!0):vi(s,!!a.multiple,a.multiple?[]:"",!1))}s[rl]=a}catch(g){Rt(e,e.return,g)}}break;case 6:if(dn(t,e),An(e),n&4){if(e.stateNode===null)throw Error(ue(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){Rt(e,e.return,g)}}break;case 3:if(dn(t,e),An(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Jo(t.containerInfo)}catch(g){Rt(e,e.return,g)}break;case 4:dn(t,e),An(e);break;case 13:dn(t,e),An(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Sm=It())),n&4&&Zv(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(lr=(u=lr)||d,dn(t,e),lr=u):dn(t,e),An(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(we=e,d=e.child;d!==null;){for(f=we=d;we!==null;){switch(h=we,p=h.child,h.tag){case 0:case 11:case 14:case 15:Bo(4,h,h.return);break;case 1:mi(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Rt(n,r,g)}}break;case 5:mi(h,h.return);break;case 22:if(h.memoizedState!==null){ty(f);continue}}p!==null?(p.return=h,we=p):ty(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Gb("display",o))}catch(g){Rt(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Rt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:dn(t,e),An(e),n&4&&Zv(e);break;case 21:break;default:dn(t,e),An(e)}}function An(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(yw(r)){var n=r;break e}r=r.return}throw Error(ue(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(qo(s,""),n.flags&=-33);var a=Xv(e);qh(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Xv(e);Gh(e,l,o);break;default:throw Error(ue(161))}}catch(c){Rt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function OT(e,t,r){we=e,ww(e)}function ww(e,t,r){for(var n=(e.mode&1)!==0;we!==null;){var s=we,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||oc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||lr;l=oc;var u=lr;if(oc=o,(lr=c)&&!u)for(we=s;we!==null;)o=we,c=o.child,o.tag===22&&o.memoizedState!==null?ry(s):c!==null?(c.return=o,we=c):ry(s);for(;a!==null;)we=a,ww(a),a=a.sibling;we=s,oc=l,lr=u}ey(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,we=a):ey(e)}}function ey(e){for(;we!==null;){var t=we;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lr||Yu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!lr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:gn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Lv(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Lv(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Jo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}lr||t.flags&512&&Hh(t)}catch(h){Rt(t,t.return,h)}}if(t===e){we=null;break}if(r=t.sibling,r!==null){r.return=t.return,we=r;break}we=t.return}}function ty(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var r=t.sibling;if(r!==null){r.return=t.return,we=r;break}we=t.return}}function ry(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Yu(4,t)}catch(c){Rt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Rt(t,s,c)}}var a=t.return;try{Hh(t)}catch(c){Rt(t,a,c)}break;case 5:var o=t.return;try{Hh(t)}catch(c){Rt(t,o,c)}}}catch(c){Rt(t,t.return,c)}if(t===e){we=null;break}var l=t.sibling;if(l!==null){l.return=t.return,we=l;break}we=t.return}}var MT=Math.ceil,fu=ds.ReactCurrentDispatcher,bm=ds.ReactCurrentOwner,rn=ds.ReactCurrentBatchConfig,st=0,zt=null,Ot=null,er=0,Mr=0,gi=ra(0),Lt=0,ll=null,Da=0,Qu=0,wm=0,Lo=null,Nr=null,Sm=0,zi=1/0,Qn=null,hu=!1,Kh=null,zs=null,lc=!1,Os=null,pu=0,$o=0,Yh=null,Oc=-1,Mc=0;function vr(){return st&6?It():Oc!==-1?Oc:Oc=It()}function Ws(e){return e.mode&1?st&2&&er!==0?er&-er:xT.transition!==null?(Mc===0&&(Mc=a0()),Mc):(e=ft,e!==0||(e=window.event,e=e===void 0?16:f0(e.type)),e):1}function Nn(e,t,r,n){if(50<$o)throw $o=0,Yh=null,Error(ue(185));_l(e,r,n),(!(st&2)||e!==zt)&&(e===zt&&(!(st&2)&&(Qu|=r),Lt===4&&Cs(e,er)),kr(e,n),r===1&&st===0&&!(t.mode&1)&&(zi=It()+500,Gu&&na()))}function kr(e,t){var r=e.callbackNode;xC(e,t);var n=Jc(e,e===zt?er:0);if(n===0)r!==null&&dv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&dv(r),t===1)e.tag===0?yT(ny.bind(null,e)):A0(ny.bind(null,e)),pT(function(){!(st&6)&&na()}),r=null;else{switch(i0(n)){case 1:r=Kp;break;case 4:r=n0;break;case 16:r=Qc;break;case 536870912:r=s0;break;default:r=Qc}r=Pw(r,Sw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Sw(e,t){if(Oc=-1,Mc=0,st&6)throw Error(ue(327));var r=e.callbackNode;if(Si()&&e.callbackNode!==r)return null;var n=Jc(e,e===zt?er:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=mu(e,n);else{t=n;var s=st;st|=2;var a=_w();(zt!==e||er!==t)&&(Qn=null,zi=It()+500,Ta(e,t));do try{$T();break}catch(l){jw(e,l)}while(!0);om(),fu.current=a,st=s,Ot!==null?t=0:(zt=null,er=0,t=Lt)}if(t!==0){if(t===2&&(s=Sh(e),s!==0&&(n=s,t=Qh(e,s))),t===1)throw r=ll,Ta(e,0),Cs(e,n),kr(e,It()),r;if(t===6)Cs(e,n);else{if(s=e.current.alternate,!(n&30)&&!BT(s)&&(t=mu(e,n),t===2&&(a=Sh(e),a!==0&&(n=a,t=Qh(e,a))),t===1))throw r=ll,Ta(e,0),Cs(e,n),kr(e,It()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ue(345));case 2:pa(e,Nr,Qn);break;case 3:if(Cs(e,n),(n&130023424)===n&&(t=Sm+500-It(),10<t)){if(Jc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){vr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=kh(pa.bind(null,e,Nr,Qn),t);break}pa(e,Nr,Qn);break;case 4:if(Cs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-_n(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=It()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*MT(n/1960))-n,10<n){e.timeoutHandle=kh(pa.bind(null,e,Nr,Qn),n);break}pa(e,Nr,Qn);break;case 5:pa(e,Nr,Qn);break;default:throw Error(ue(329))}}}return kr(e,It()),e.callbackNode===r?Sw.bind(null,e):null}function Qh(e,t){var r=Lo;return e.current.memoizedState.isDehydrated&&(Ta(e,t).flags|=256),e=mu(e,t),e!==2&&(t=Nr,Nr=r,t!==null&&Jh(t)),e}function Jh(e){Nr===null?Nr=e:Nr.push.apply(Nr,e)}function BT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!En(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cs(e,t){for(t&=~wm,t&=~Qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_n(t),n=1<<r;e[r]=-1,t&=~n}}function ny(e){if(st&6)throw Error(ue(327));Si();var t=Jc(e,0);if(!(t&1))return kr(e,It()),null;var r=mu(e,t);if(e.tag!==0&&r===2){var n=Sh(e);n!==0&&(t=n,r=Qh(e,n))}if(r===1)throw r=ll,Ta(e,0),Cs(e,t),kr(e,It()),r;if(r===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pa(e,Nr,Qn),kr(e,It()),null}function jm(e,t){var r=st;st|=1;try{return e(t)}finally{st=r,st===0&&(zi=It()+500,Gu&&na())}}function Oa(e){Os!==null&&Os.tag===0&&!(st&6)&&Si();var t=st;st|=1;var r=rn.transition,n=ft;try{if(rn.transition=null,ft=1,e)return e()}finally{ft=n,rn.transition=r,st=t,!(st&6)&&na()}}function _m(){Mr=gi.current,_t(gi)}function Ta(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hT(r)),Ot!==null)for(r=Ot.return;r!==null;){var n=r;switch(sm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ru();break;case 3:Fi(),_t(Tr),_t(cr),hm();break;case 5:fm(n);break;case 4:Fi();break;case 13:_t(Tt);break;case 19:_t(Tt);break;case 10:lm(n.type._context);break;case 22:case 23:_m()}r=r.return}if(zt=e,Ot=e=Vs(e.current,null),er=Mr=t,Lt=0,ll=null,wm=Qu=Da=0,Nr=Lo=null,ba!==null){for(t=0;t<ba.length;t++)if(r=ba[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}ba=null}return e}function jw(e,t){do{var r=Ot;try{if(om(),Rc.current=du,uu){for(var n=Pt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}uu=!1}if(Ia=0,Ut=Bt=Pt=null,Mo=!1,al=0,bm.current=null,r===null||r.return===null){Lt=1,ll=t,Ot=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=er,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Vv(o);if(p!==null){p.flags&=-257,Hv(p,o,l,a,t),p.mode&1&&Wv(a,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){Wv(a,u,t),Nm();break e}c=Error(ue(426))}}else if(Et&&l.mode&1){var y=Vv(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Hv(y,o,l,a,t),am(Ui(c,l));break e}}a=c=Ui(c,l),Lt!==4&&(Lt=2),Lo===null?Lo=[a]:Lo.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=iw(a,c,t);Bv(a,b);break e;case 1:l=c;var v=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zs===null||!zs.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=ow(a,l,t);Bv(a,S);break e}}a=a.return}while(a!==null)}Ew(r)}catch(_){t=_,Ot===r&&r!==null&&(Ot=r=r.return);continue}break}while(!0)}function _w(){var e=fu.current;return fu.current=du,e===null?du:e}function Nm(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),zt===null||!(Da&268435455)&&!(Qu&268435455)||Cs(zt,er)}function mu(e,t){var r=st;st|=2;var n=_w();(zt!==e||er!==t)&&(Qn=null,Ta(e,t));do try{LT();break}catch(s){jw(e,s)}while(!0);if(om(),st=r,fu.current=n,Ot!==null)throw Error(ue(261));return zt=null,er=0,Lt}function LT(){for(;Ot!==null;)Nw(Ot)}function $T(){for(;Ot!==null&&!uC();)Nw(Ot)}function Nw(e){var t=Tw(e.alternate,e,Mr);e.memoizedProps=e.pendingProps,t===null?Ew(e):Ot=t,bm.current=null}function Ew(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=RT(r,t),r!==null){r.flags&=32767,Ot=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Lt=6,Ot=null;return}}else if(r=AT(r,t,Mr),r!==null){Ot=r;return}if(t=t.sibling,t!==null){Ot=t;return}Ot=t=e}while(t!==null);Lt===0&&(Lt=5)}function pa(e,t,r){var n=ft,s=rn.transition;try{rn.transition=null,ft=1,FT(e,t,r,n)}finally{rn.transition=s,ft=n}return null}function FT(e,t,r,n){do Si();while(Os!==null);if(st&6)throw Error(ue(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(bC(e,a),e===zt&&(Ot=zt=null,er=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||lc||(lc=!0,Pw(Qc,function(){return Si(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=rn.transition,rn.transition=null;var o=ft;ft=1;var l=st;st|=4,bm.current=null,DT(e,r),bw(r,e),iT(Th),Xc=!!Ch,Th=Ch=null,e.current=r,OT(r),dC(),st=l,ft=o,rn.transition=a}else e.current=r;if(lc&&(lc=!1,Os=e,pu=s),a=e.pendingLanes,a===0&&(zs=null),pC(r.stateNode),kr(e,It()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(hu)throw hu=!1,e=Kh,Kh=null,e;return pu&1&&e.tag!==0&&Si(),a=e.pendingLanes,a&1?e===Yh?$o++:($o=0,Yh=e):$o=0,na(),null}function Si(){if(Os!==null){var e=i0(pu),t=rn.transition,r=ft;try{if(rn.transition=null,ft=16>e?16:e,Os===null)var n=!1;else{if(e=Os,Os=null,pu=0,st&6)throw Error(ue(331));var s=st;for(st|=4,we=e.current;we!==null;){var a=we,o=a.child;if(we.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(we=u;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:Bo(8,d,a)}var f=d.child;if(f!==null)f.return=d,we=f;else for(;we!==null;){d=we;var h=d.sibling,p=d.return;if(vw(d),d===u){we=null;break}if(h!==null){h.return=p,we=h;break}we=p}}}var x=a.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}we=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,we=o;else e:for(;we!==null;){if(a=we,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Bo(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,we=b;break e}we=a.return}}var v=e.current;for(we=v;we!==null;){o=we;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,we=w;else e:for(o=v;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yu(9,l)}}catch(_){Rt(l,l.return,_)}if(l===o){we=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,we=S;break e}we=l.return}}if(st=s,na(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(Uu,e)}catch{}n=!0}return n}finally{ft=r,rn.transition=t}}return!1}function sy(e,t,r){t=Ui(r,t),t=iw(e,t,1),e=Us(e,t,1),t=vr(),e!==null&&(_l(e,1,t),kr(e,t))}function Rt(e,t,r){if(e.tag===3)sy(e,e,r);else for(;t!==null;){if(t.tag===3){sy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zs===null||!zs.has(n))){e=Ui(r,e),e=ow(t,e,1),t=Us(t,e,1),e=vr(),t!==null&&(_l(t,1,e),kr(t,e));break}}t=t.return}}function UT(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=vr(),e.pingedLanes|=e.suspendedLanes&r,zt===e&&(er&r)===r&&(Lt===4||Lt===3&&(er&130023424)===er&&500>It()-Sm?Ta(e,0):wm|=r),kr(e,t)}function Cw(e,t){t===0&&(e.mode&1?(t=Xl,Xl<<=1,!(Xl&130023424)&&(Xl=4194304)):t=1);var r=vr();e=os(e,t),e!==null&&(_l(e,t,r),kr(e,r))}function zT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Cw(e,r)}function WT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ue(314))}n!==null&&n.delete(t),Cw(e,r)}var Tw;Tw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tr.current)Cr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Cr=!1,kT(e,t,r);Cr=!!(e.flags&131072)}else Cr=!1,Et&&t.flags&1048576&&R0(t,au,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Dc(e,t),e=t.pendingProps;var s=Bi(t,cr.current);wi(t,r),s=mm(null,t,n,e,s,r);var a=gm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(n)?(a=!0,nu(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,um(t),s.updater=Ku,t.stateNode=s,s._reactInternals=t,Bh(t,n,e,r),t=Fh(null,t,n,!0,a,r)):(t.tag=0,Et&&a&&nm(t),mr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Dc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=HT(n),e=gn(n,e),s){case 0:t=$h(null,t,n,e,r);break e;case 1:t=Kv(null,t,n,e,r);break e;case 11:t=Gv(null,t,n,e,r);break e;case 14:t=qv(null,t,n,gn(n.type,e),r);break e}throw Error(ue(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gn(n,s),$h(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gn(n,s),Kv(e,t,n,s,r);case 3:e:{if(dw(t),e===null)throw Error(ue(387));n=t.pendingProps,a=t.memoizedState,s=a.element,L0(e,t),lu(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Ui(Error(ue(423)),t),t=Yv(e,t,n,r,s);break e}else if(n!==s){s=Ui(Error(ue(424)),t),t=Yv(e,t,n,r,s);break e}else for(Lr=Fs(t.stateNode.containerInfo.firstChild),Fr=t,Et=!0,Sn=null,r=M0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Li(),n===s){t=ls(e,t,r);break e}mr(e,t,n,r)}t=t.child}return t;case 5:return $0(t),e===null&&Dh(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Ph(n,s)?o=null:a!==null&&Ph(n,a)&&(t.flags|=32),uw(e,t),mr(e,t,o,r),t.child;case 6:return e===null&&Dh(t),null;case 13:return fw(e,t,r);case 4:return dm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$i(t,null,n,r):mr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gn(n,s),Gv(e,t,n,s,r);case 7:return mr(e,t,t.pendingProps,r),t.child;case 8:return mr(e,t,t.pendingProps.children,r),t.child;case 12:return mr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,xt(iu,n._currentValue),n._currentValue=o,a!==null)if(En(a.value,o)){if(a.children===s.children&&!Tr.current){t=ls(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=rs(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Oh(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ue(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Oh(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}mr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,wi(t,r),s=an(s),n=n(s),t.flags|=1,mr(e,t,n,r),t.child;case 14:return n=t.type,s=gn(n,t.pendingProps),s=gn(n.type,s),qv(e,t,n,s,r);case 15:return lw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:gn(n,s),Dc(e,t),t.tag=1,Pr(n)?(e=!0,nu(t)):e=!1,wi(t,r),aw(t,n,s),Bh(t,n,s,r),Fh(null,t,n,!0,e,r);case 19:return hw(e,t,r);case 22:return cw(e,t,r)}throw Error(ue(156,t.tag))};function Pw(e,t){return r0(e,t)}function VT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,r,n){return new VT(e,t,r,n)}function Em(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HT(e){if(typeof e=="function")return Em(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hp)return 11;if(e===Gp)return 14}return 2}function Vs(e,t){var r=e.alternate;return r===null?(r=en(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Bc(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")Em(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ii:return Pa(r.children,s,a,t);case Vp:o=8,s|=8;break;case oh:return e=en(12,r,t,s|2),e.elementType=oh,e.lanes=a,e;case lh:return e=en(13,r,t,s),e.elementType=lh,e.lanes=a,e;case ch:return e=en(19,r,t,s),e.elementType=ch,e.lanes=a,e;case $b:return Ju(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bb:o=10;break e;case Lb:o=9;break e;case Hp:o=11;break e;case Gp:o=14;break e;case js:o=16,n=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=en(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Pa(e,t,r,n){return e=en(7,e,n,t),e.lanes=r,e}function Ju(e,t,r,n){return e=en(22,e,n,t),e.elementType=$b,e.lanes=r,e.stateNode={isHidden:!1},e}function jf(e,t,r){return e=en(6,e,null,t),e.lanes=r,e}function _f(e,t,r){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function GT(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nf(0),this.expirationTimes=nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cm(e,t,r,n,s,a,o,l,c){return e=new GT(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=en(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},um(a),e}function qT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ai,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function kw(e){if(!e)return Qs;e=e._reactInternals;e:{if(za(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var r=e.type;if(Pr(r))return k0(e,r,t)}return t}function Aw(e,t,r,n,s,a,o,l,c){return e=Cm(r,n,!0,e,s,a,o,l,c),e.context=kw(null),r=e.current,n=vr(),s=Ws(r),a=rs(n,s),a.callback=t??null,Us(r,a,s),e.current.lanes=s,_l(e,s,n),kr(e,n),e}function Xu(e,t,r,n){var s=t.current,a=vr(),o=Ws(s);return r=kw(r),t.context===null?t.context=r:t.pendingContext=r,t=rs(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Us(s,t,o),e!==null&&(Nn(e,s,o,a),Ac(e,s,o)),o}function gu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ay(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Tm(e,t){ay(e,t),(e=e.alternate)&&ay(e,t)}function KT(){return null}var Rw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pm(e){this._internalRoot=e}Zu.prototype.render=Pm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));Xu(e,t,null,null)};Zu.prototype.unmount=Pm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Oa(function(){Xu(null,e,null,null)}),t[is]=null}};function Zu(e){this._internalRoot=e}Zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=c0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Es.length&&t!==0&&t<Es[r].priority;r++);Es.splice(r,0,e),r===0&&d0(e)}};function km(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ed(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iy(){}function YT(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=gu(o);a.call(u)}}var o=Aw(t,n,e,0,null,!1,!1,"",iy);return e._reactRootContainer=o,e[is]=o.current,el(e.nodeType===8?e.parentNode:e),Oa(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=gu(c);l.call(u)}}var c=Cm(e,0,!1,null,null,!1,!1,"",iy);return e._reactRootContainer=c,e[is]=c.current,el(e.nodeType===8?e.parentNode:e),Oa(function(){Xu(t,c,r,n)}),c}function td(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=gu(o);l.call(c)}}Xu(t,o,e,s)}else o=YT(r,t,e,s,n);return gu(o)}o0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Eo(t.pendingLanes);r!==0&&(Yp(t,r|1),kr(t,It()),!(st&6)&&(zi=It()+500,na()))}break;case 13:Oa(function(){var n=os(e,1);if(n!==null){var s=vr();Nn(n,e,1,s)}}),Tm(e,1)}};Qp=function(e){if(e.tag===13){var t=os(e,134217728);if(t!==null){var r=vr();Nn(t,e,134217728,r)}Tm(e,134217728)}};l0=function(e){if(e.tag===13){var t=Ws(e),r=os(e,t);if(r!==null){var n=vr();Nn(r,e,t,n)}Tm(e,t)}};c0=function(){return ft};u0=function(e,t){var r=ft;try{return ft=e,t()}finally{ft=r}};xh=function(e,t,r){switch(t){case"input":if(fh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Hu(n);if(!s)throw Error(ue(90));Ub(n),fh(n,s)}}}break;case"textarea":Wb(e,r);break;case"select":t=r.value,t!=null&&vi(e,!!r.multiple,t,!1)}};Qb=jm;Jb=Oa;var QT={usingClientEntryPoint:!1,Events:[El,ui,Hu,Kb,Yb,jm]},vo={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JT={bundleType:vo.bundleType,version:vo.version,rendererPackageName:vo.rendererPackageName,rendererConfig:vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=e0(e),e===null?null:e.stateNode},findFiberByHostInstance:vo.findFiberByHostInstance||KT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{Uu=cc.inject(JT),Fn=cc}catch{}}Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QT;Hr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!km(t))throw Error(ue(200));return qT(e,t,null,r)};Hr.createRoot=function(e,t){if(!km(e))throw Error(ue(299));var r=!1,n="",s=Rw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cm(e,1,!1,null,null,r,!1,n,s),e[is]=t.current,el(e.nodeType===8?e.parentNode:e),new Pm(t)};Hr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=e0(t),e=e===null?null:e.stateNode,e};Hr.flushSync=function(e){return Oa(e)};Hr.hydrate=function(e,t,r){if(!ed(t))throw Error(ue(200));return td(null,e,t,!0,r)};Hr.hydrateRoot=function(e,t,r){if(!km(e))throw Error(ue(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=Rw;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Aw(t,null,e,1,r??null,s,!1,a,o),e[is]=t.current,el(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Zu(t)};Hr.render=function(e,t,r){if(!ed(t))throw Error(ue(200));return td(null,e,t,!1,r)};Hr.unmountComponentAtNode=function(e){if(!ed(e))throw Error(ue(40));return e._reactRootContainer?(Oa(function(){td(null,null,e,!1,function(){e._reactRootContainer=null,e[is]=null})}),!0):!1};Hr.unstable_batchedUpdates=jm;Hr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ed(r))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return td(e,t,r,!1,n)};Hr.version="18.3.1-next-f1338f8080-20240426";function Iw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Iw)}catch(e){console.error(e)}}Iw(),Ib.exports=Hr;var sa=Ib.exports;const Am=Op(sa);var Dw,oy=sa;Dw=oy.createRoot,oy.hydrateRoot;const XT=1,ZT=1e6;let Nf=0;function eP(){return Nf=(Nf+1)%Number.MAX_SAFE_INTEGER,Nf.toString()}const Ef=new Map,ly=e=>{if(Ef.has(e))return;const t=setTimeout(()=>{Ef.delete(e),Fo({type:"REMOVE_TOAST",toastId:e})},ZT);Ef.set(e,t)},tP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,XT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?ly(r):e.toasts.forEach(n=>{ly(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Lc=[];let $c={toasts:[]};function Fo(e){$c=tP($c,e),Lc.forEach(t=>{t($c)})}function Y({...e}){const t=eP(),r=s=>Fo({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Fo({type:"DISMISS_TOAST",toastId:t});return Fo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function rP(){const[e,t]=m.useState($c);return m.useEffect(()=>(Lc.push(t),()=>{const r=Lc.indexOf(t);r>-1&&Lc.splice(r,1)}),[e]),{...e,toast:Y,dismiss:r=>Fo({type:"DISMISS_TOAST",toastId:r})}}function Pe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function cy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ow(...e){return t=>{let r=!1;const n=e.map(s=>{const a=cy(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():cy(e[s],null)}}}}function ht(...e){return m.useCallback(Ow(...e),e)}function nP(e,t){const r=m.createContext(t),n=a=>{const{children:o,...l}=a,c=m.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function Vn(e,t=[]){let r=[];function n(a,o){const l=m.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:p,...x}=f,g=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,y=m.useMemo(()=>x,Object.values(x));return i.jsx(g.Provider,{value:y,children:p})};u.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,x=m.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,sP(s,...t)]}function sP(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Wi(e){const t=iP(e),r=m.forwardRef((n,s)=>{const{children:a,...o}=n,l=m.Children.toArray(a),c=l.find(lP);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var aP=Wi("Slot");function iP(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const o=uP(s),l=cP(a,s.props);return s.type!==m.Fragment&&(l.ref=n?Ow(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Mw=Symbol("radix.slottable");function oP(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Mw,t}function lP(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Mw}function cP(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function uP(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Rm(e){const t=e+"CollectionProvider",[r,n]=Vn(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:b}=g,v=Z.useRef(null),w=Z.useRef(new Map).current;return i.jsx(s,{scope:y,itemMap:w,collectionRef:v,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=Wi(l),u=Z.forwardRef((g,y)=>{const{scope:b,children:v}=g,w=a(l,b),S=ht(y,w.collectionRef);return i.jsx(c,{ref:S,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Wi(d),p=Z.forwardRef((g,y)=>{const{scope:b,children:v,...w}=g,S=Z.useRef(null),_=ht(y,S),j=a(d,b);return Z.useEffect(()=>(j.itemMap.set(S,{ref:S,...w}),()=>void j.itemMap.delete(S))),i.jsx(h,{[f]:"",ref:_,children:v})});p.displayName=d;function x(g){const y=a(e+"CollectionConsumer",g);return Z.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((j,N)=>w.indexOf(j.ref.current)-w.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},x,n]}var dP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=dP.reduce((e,t)=>{const r=Wi(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Bw(e,t){e&&sa.flushSync(()=>e.dispatchEvent(t))}function ln(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function fP(e,t=globalThis==null?void 0:globalThis.document){const r=ln(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var hP="DismissableLayer",Xh="dismissableLayer.update",pP="dismissableLayer.pointerDownOutside",mP="dismissableLayer.focusOutside",uy,Lw=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tl=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=m.useContext(Lw),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),x=ht(t,N=>f(N)),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),v=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=v>=b,_=vP(N=>{const E=N.target,D=[...u.branches].some(k=>k.contains(E));!S||D||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),j=yP(N=>{const E=N.target;[...u.branches].some(k=>k.contains(E))||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return fP(N=>{v===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(uy=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),dy(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=uy)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),dy())},[d,u]),m.useEffect(()=>{const N=()=>p({});return document.addEventListener(Xh,N),()=>document.removeEventListener(Xh,N)},[]),i.jsx(Oe.div,{...c,ref:x,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Pe(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Pe(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Pe(e.onPointerDownCapture,_.onPointerDownCapture)})});Tl.displayName=hP;var gP="DismissableLayerBranch",$w=m.forwardRef((e,t)=>{const r=m.useContext(Lw),n=m.useRef(null),s=ht(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(Oe.div,{...e,ref:s})});$w.displayName=gP;function vP(e,t=globalThis==null?void 0:globalThis.document){const r=ln(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){Fw(pP,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function yP(e,t=globalThis==null?void 0:globalThis.document){const r=ln(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&Fw(mP,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function dy(){const e=new CustomEvent(Xh);document.dispatchEvent(e)}function Fw(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Bw(s,a):s.dispatchEvent(a)}var xP=Tl,bP=$w,Vt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},wP="Portal",rd=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=m.useState(!1);Vt(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Am.createPortal(i.jsx(Oe.div,{...n,ref:t}),o):null});rd.displayName=wP;function SP(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var fs=e=>{const{present:t,children:r}=e,n=jP(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),a=ht(n.ref,_P(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:a}):null};fs.displayName="Presence";function jP(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),a=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=SP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=uc(n.current);a.current=l==="mounted"?u:"none"},[l]),Vt(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,p=uc(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Vt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=uc(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=p=>{p.target===t&&(a.current=uc(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function uc(e){return(e==null?void 0:e.animationName)||"none"}function _P(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var NP=Fp[" useInsertionEffect ".trim().toString()]||Vt;function Js({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,o]=EP({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=m.useCallback(d=>{var f;if(l){const h=CP(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else a(d)},[l,e,a,o]);return[c,u]}function EP({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),a=m.useRef(t);return NP(()=>{a.current=t},[t]),m.useEffect(()=>{var o;s.current!==r&&((o=a.current)==null||o.call(a,r),s.current=r)},[r,s]),[r,n,a]}function CP(e){return typeof e=="function"}var Uw=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),TP="VisuallyHidden",nd=m.forwardRef((e,t)=>i.jsx(Oe.span,{...e,ref:t,style:{...Uw,...e.style}}));nd.displayName=TP;var PP=nd,Im="ToastProvider",[Dm,kP,AP]=Rm("Toast"),[zw,m6]=Vn("Toast",[AP]),[RP,sd]=zw(Im),Ww=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Im}\`. Expected non-empty \`string\`.`),i.jsx(Dm.Provider,{scope:t,children:i.jsx(RP,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Ww.displayName=Im;var Vw="ToastViewport",IP=["F8"],Zh="toast.viewportPause",ep="toast.viewportResume",Hw=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=IP,label:s="Notifications ({hotkey})",...a}=e,o=sd(Vw,r),l=kP(r),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=ht(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;m.useEffect(()=>{const y=b=>{var w;n.length!==0&&n.every(S=>b[S]||b.code===S)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),m.useEffect(()=>{const y=c.current,b=f.current;if(x&&y&&b){const v=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(Zh);b.dispatchEvent(j),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(ep);b.dispatchEvent(j),o.isClosePausedRef.current=!1}},S=j=>{!y.contains(j.relatedTarget)&&w()},_=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",v),y.addEventListener("focusout",S),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",S),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:y})=>{const v=l().map(w=>{const S=w.ref.current,_=[S,...GP(S)];return y==="forwards"?_:_.reverse()});return(y==="forwards"?v.reverse():v).flat()},[l]);return m.useEffect(()=>{const y=f.current;if(y){const b=v=>{var _,j,N;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const E=document.activeElement,D=v.shiftKey;if(v.target===y&&D){(_=u.current)==null||_.focus();return}const I=g({tabbingDirection:D?"backwards":"forwards"}),q=I.findIndex(R=>R===E);Cf(I.slice(q+1))?v.preventDefault():D?(j=u.current)==null||j.focus():(N=d.current)==null||N.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[l,g]),i.jsxs(bP,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&i.jsx(tp,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});Cf(y)}}),i.jsx(Dm.Slot,{scope:r,children:i.jsx(Oe.ol,{tabIndex:-1,...a,ref:h})}),x&&i.jsx(tp,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});Cf(y)}})]})});Hw.displayName=Vw;var Gw="ToastFocusProxy",tp=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=sd(Gw,r);return i.jsx(nd,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});tp.displayName=Gw;var Pl="Toast",DP="toast.swipeStart",OP="toast.swipeMove",MP="toast.swipeCancel",BP="toast.swipeEnd",qw=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[l,c]=Js({prop:n,defaultProp:s??!0,onChange:a,caller:Pl});return i.jsx(fs,{present:r||l,children:i.jsx(FP,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:ln(e.onPause),onResume:ln(e.onResume),onSwipeStart:Pe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Pe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});qw.displayName=Pl;var[LP,$P]=zw(Pl,{onClose(){}}),FP=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...x}=e,g=sd(Pl,r),[y,b]=m.useState(null),v=ht(t,R=>b(R)),w=m.useRef(null),S=m.useRef(null),_=s||g.duration,j=m.useRef(0),N=m.useRef(_),E=m.useRef(0),{onToastAdd:D,onToastRemove:k}=g,z=ln(()=>{var T;(y==null?void 0:y.contains(document.activeElement))&&((T=g.viewport)==null||T.focus()),o()}),I=m.useCallback(R=>{!R||R===1/0||(window.clearTimeout(E.current),j.current=new Date().getTime(),E.current=window.setTimeout(z,R))},[z]);m.useEffect(()=>{const R=g.viewport;if(R){const T=()=>{I(N.current),u==null||u()},L=()=>{const J=new Date().getTime()-j.current;N.current=N.current-J,window.clearTimeout(E.current),c==null||c()};return R.addEventListener(Zh,L),R.addEventListener(ep,T),()=>{R.removeEventListener(Zh,L),R.removeEventListener(ep,T)}}},[g.viewport,_,c,u,I]),m.useEffect(()=>{a&&!g.isClosePausedRef.current&&I(_)},[a,_,g.isClosePausedRef,I]),m.useEffect(()=>(D(),()=>k()),[D,k]);const q=m.useMemo(()=>y?eS(y):null,[y]);return g.viewport?i.jsxs(i.Fragment,{children:[q&&i.jsx(UP,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),i.jsx(LP,{scope:r,onClose:z,children:sa.createPortal(i.jsx(Dm.ItemSlot,{scope:r,children:i.jsx(xP,{asChild:!0,onEscapeKeyDown:Pe(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||z(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Oe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Pe(e.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:Pe(e.onPointerDown,R=>{R.button===0&&(w.current={x:R.clientX,y:R.clientY})}),onPointerMove:Pe(e.onPointerMove,R=>{if(!w.current)return;const T=R.clientX-w.current.x,L=R.clientY-w.current.y,J=!!S.current,M=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,H=M?B(0,T):0,re=M?0:B(0,L),W=R.pointerType==="touch"?10:2,ce={x:H,y:re},K={originalEvent:R,delta:ce};J?(S.current=ce,dc(OP,f,K,{discrete:!1})):fy(ce,g.swipeDirection,W)?(S.current=ce,dc(DP,d,K,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(T)>W||Math.abs(L)>W)&&(w.current=null)}),onPointerUp:Pe(e.onPointerUp,R=>{const T=S.current,L=R.target;if(L.hasPointerCapture(R.pointerId)&&L.releasePointerCapture(R.pointerId),S.current=null,w.current=null,T){const J=R.currentTarget,M={originalEvent:R,delta:T};fy(T,g.swipeDirection,g.swipeThreshold)?dc(BP,p,M,{discrete:!0}):dc(MP,h,M,{discrete:!0}),J.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),UP=e=>{const{__scopeToast:t,children:r,...n}=e,s=sd(Pl,t),[a,o]=m.useState(!1),[l,c]=m.useState(!1);return VP(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(rd,{asChild:!0,children:i.jsx(nd,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},zP="ToastTitle",Kw=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Oe.div,{...n,ref:t})});Kw.displayName=zP;var WP="ToastDescription",Yw=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Oe.div,{...n,ref:t})});Yw.displayName=WP;var Qw="ToastAction",Jw=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(Zw,{altText:r,asChild:!0,children:i.jsx(Om,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Qw}\`. Expected non-empty \`string\`.`),null)});Jw.displayName=Qw;var Xw="ToastClose",Om=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=$P(Xw,r);return i.jsx(Zw,{asChild:!0,children:i.jsx(Oe.button,{type:"button",...n,ref:t,onClick:Pe(e.onClick,s.onClose)})})});Om.displayName=Xw;var Zw=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function eS(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),HP(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...eS(n))}}),t}function dc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Bw(s,a):s.dispatchEvent(a)}var fy=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function VP(e=()=>{}){const t=ln(e);Vt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function HP(e){return e.nodeType===e.ELEMENT_NODE}function GP(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Cf(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var qP=Ww,tS=Hw,rS=qw,nS=Kw,sS=Yw,aS=Jw,iS=Om;function oS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=oS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function lS(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=oS(e))&&(n&&(n+=" "),n+=t);return n}const hy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,py=lS,ad=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return py(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=hy(d)||hy(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(x=>{let[g,y]=x;return Array.isArray(y)?y.includes({...a,...l}[g]):{...a,...l}[g]===y})?[...u,f,h]:u},[]);return py(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cS=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...YP,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:cS("lucide",s),...l},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(e,t)=>{const r=m.forwardRef(({className:n,...s},a)=>m.createElement(QP,{ref:a,iconNode:t,className:cS(`lucide-${KP(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=qe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=qe("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=qe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=qe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=qe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=qe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=qe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=qe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=qe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=qe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=qe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=qe("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=qe("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$m="-",h2=e=>{const t=m2(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split($m);return l[0]===""&&l.length!==1&&l.shift(),pS(l,t)||p2(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},pS=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?pS(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join($m);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},yy=/^\[(.+)\]$/,p2=e=>{if(yy.test(e)){const t=yy.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},m2=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return v2(Object.entries(e.classGroups),r).forEach(([a,o])=>{rp(o,n,a,t)}),n},rp=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:xy(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(g2(s)){rp(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{rp(o,xy(t,a),r,n)})})},xy=(e,t)=>{let r=e;return t.split($m).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},g2=e=>e.isThemeGetter,v2=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,y2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},mS="!",x2=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let b=l[y];if(u===0){if(b===s&&(n||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(b==="/"){f=y;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(mS),x=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},b2=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},w2=e=>({cache:y2(e.cacheSize),parseClassName:x2(e),...h2(e)}),S2=/\s+/,j2=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(S2);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let x=!!p,g=n(x?h.substring(0,p):h);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const y=b2(d).join(":"),b=f?y+mS:y,v=b+g;if(a.includes(v))continue;a.push(v);const w=s(g,x);for(let S=0;S<w.length;++S){const _=w[S];a.push(b+_)}l=u+(l.length>0?" "+l:l)}return l};function _2(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=gS(t))&&(n&&(n+=" "),n+=r);return n}const gS=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=gS(e[n]))&&(r&&(r+=" "),r+=t);return r};function N2(e,...t){let r,n,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=w2(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=j2(c,r);return s(c,d),d}return function(){return a(_2.apply(null,arguments))}}const wt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},vS=/^\[(?:([a-z-]+):)?(.+)\]$/i,E2=/^\d+\/\d+$/,C2=new Set(["px","full","screen"]),T2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,P2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,A2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qn=e=>_i(e)||C2.has(e)||E2.test(e),gs=e=>Zi(e,"length",F2),_i=e=>!!e&&!Number.isNaN(Number(e)),kf=e=>Zi(e,"number",_i),yo=e=>!!e&&Number.isInteger(Number(e)),I2=e=>e.endsWith("%")&&_i(e.slice(0,-1)),Ge=e=>vS.test(e),vs=e=>T2.test(e),D2=new Set(["length","size","percentage"]),O2=e=>Zi(e,D2,yS),M2=e=>Zi(e,"position",yS),B2=new Set(["image","url"]),L2=e=>Zi(e,B2,z2),$2=e=>Zi(e,"",U2),xo=()=>!0,Zi=(e,t,r)=>{const n=vS.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},F2=e=>P2.test(e)&&!k2.test(e),yS=()=>!1,U2=e=>A2.test(e),z2=e=>R2.test(e),W2=()=>{const e=wt("colors"),t=wt("spacing"),r=wt("blur"),n=wt("brightness"),s=wt("borderColor"),a=wt("borderRadius"),o=wt("borderSpacing"),l=wt("borderWidth"),c=wt("contrast"),u=wt("grayscale"),d=wt("hueRotate"),f=wt("invert"),h=wt("gap"),p=wt("gradientColorStops"),x=wt("gradientColorStopPositions"),g=wt("inset"),y=wt("margin"),b=wt("opacity"),v=wt("padding"),w=wt("saturate"),S=wt("scale"),_=wt("sepia"),j=wt("skew"),N=wt("space"),E=wt("translate"),D=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",Ge,t],I=()=>[Ge,t],q=()=>["",qn,gs],R=()=>["auto",_i,Ge],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Ge],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[_i,Ge];return{cacheSize:500,separator:":",theme:{colors:[xo],spacing:[qn,gs],blur:["none","",vs,Ge],brightness:re(),borderColor:[e],borderRadius:["none","","full",vs,Ge],borderSpacing:I(),borderWidth:q(),contrast:re(),grayscale:B(),hueRotate:re(),invert:B(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[I2,gs],inset:z(),margin:z(),opacity:re(),padding:I(),saturate:re(),scale:re(),sepia:B(),skew:re(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[vs]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),Ge]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yo,Ge]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",yo,Ge]}],"grid-cols":[{"grid-cols":[xo]}],"col-start-end":[{col:["auto",{span:["full",yo,Ge]},Ge]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[xo]}],"row-start-end":[{row:["auto",{span:[yo,Ge]},Ge]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,t]}],"min-w":[{"min-w":[Ge,t,"min","max","fit"]}],"max-w":[{"max-w":[Ge,t,"none","full","min","max","fit","prose",{screen:[vs]},vs]}],h:[{h:[Ge,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vs,gs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kf]}],"font-family":[{font:[xo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",_i,kf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qn,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qn,gs]}],"underline-offset":[{"underline-offset":["auto",qn,Ge]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),M2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",O2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},L2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[qn,Ge]}],"outline-w":[{outline:[qn,gs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[qn,gs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vs,$2]}],"shadow-color":[{shadow:[xo]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",vs,Ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[yo,Ge]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[qn,gs,kf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},V2=N2(W2);function Me(...e){return V2(lS(e))}function Uc(e,t,r,n,s){const o=(r?Array.from(new Set(r.matches.flatMap(u=>[String(u.teamA),String(u.teamB)]).filter(u=>u!=="BYE"&&u!=="TBD"))):[]).map(u=>e.find(d=>String(d.id)===u)).filter(Boolean),l={};for(const u of o){const d=String(u.id);l[d]||(l[d]={});for(let h=1;h<=s;h++){const p=r==null?void 0:r.matches.find(g=>g.round===h&&(String(g.teamA)===d||String(g.teamB)===d));if(!p){l[d][h]={wl:"",points:0,hands:0,boston:0,isTie:!1};continue}const x=t.find(g=>g.matchId===p.id&&g.confirmed);if(x){const g=String(x.teamA);String(x.teamB);const y=d===g,b=y?x.scoreA:x.scoreB;y?x.scoreB:x.scoreA;const v=y?x.handsA:x.handsB,w=y?x.boston_a??0:x.boston_b??0,S=y&&x.winner==="teamA"||!y&&x.winner==="teamB"?"W":"L";l[d][h]={wl:S,points:b,hands:v??0,boston:w,isTie:!1}}else l[d][h]={wl:"",points:0,hands:0,boston:0,isTie:!1}}let f=0;for(let h=1;h<=s;h++){const p=l[d][h];p&&p.wl==="W"&&(f+=1)}l[d].totalPoints={wl:"",points:Object.entries(l[d]).filter(([h])=>h!=="totalPoints").reduce((h,[,p])=>h+(p.points||0),0),boston:Object.entries(l[d]).filter(([h])=>h!=="totalPoints").reduce((h,[,p])=>h+(p.boston||0),0),hands:Object.entries(l[d]).filter(([h])=>h!=="totalPoints").reduce((h,[,p])=>h+(p.hands||0),0),wins:f}}return{sortedTeams:o.slice().sort((u,d)=>{var N,E,D,k;const f=l[u.id].totalPoints.wins,h=l[d.id].totalPoints.wins;if(h!==f)return h-f;const p=l[u.id].totalPoints.hands||0,x=l[d.id].totalPoints.hands||0;if(x!==p)return x-p;const g=l[u.id].totalPoints.points,y=l[d.id].totalPoints.points;if(y!==g)return y-g;const b=((N=l[u.id][1])==null?void 0:N.points)||0,v=((E=l[d.id][1])==null?void 0:E.points)||0;if(v!==b)return v-b;const w=((D=l[u.id][2])==null?void 0:D.points)||0,S=((k=l[d.id][2])==null?void 0:k.points)||0;if(S!==w)return S-w;const _=typeof u.teamNumber=="number"?u.teamNumber:Number(u.teamNumber)||Number(u.id),j=typeof d.teamNumber=="number"?d.teamNumber:Number(d.teamNumber)||Number(d.id);return _-j}),resultsMatrix:l}}const H2=qP,xS=m.forwardRef(({className:e,...t},r)=>i.jsx(tS,{ref:r,className:Me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));xS.displayName=tS.displayName;const G2=ad("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bS=m.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(rS,{ref:n,className:Me(G2({variant:t}),e),...r}));bS.displayName=rS.displayName;const q2=m.forwardRef(({className:e,...t},r)=>i.jsx(aS,{ref:r,className:Me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));q2.displayName=aS.displayName;const wS=m.forwardRef(({className:e,...t},r)=>i.jsx(iS,{ref:r,className:Me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(Ln,{className:"h-4 w-4"})}));wS.displayName=iS.displayName;const SS=m.forwardRef(({className:e,...t},r)=>i.jsx(nS,{ref:r,className:Me("text-sm font-semibold",e),...t}));SS.displayName=nS.displayName;const jS=m.forwardRef(({className:e,...t},r)=>i.jsx(sS,{ref:r,className:Me("text-sm opacity-90",e),...t}));jS.displayName=sS.displayName;function K2(){const{toasts:e}=rP();return i.jsxs(H2,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return i.jsxs(bS,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(SS,{children:r}),n&&i.jsx(jS,{children:n})]}),s,i.jsx(wS,{})]},t)}),i.jsx(xS,{})]})}var Y2=e=>{switch(e){case"success":return X2;case"info":return ek;case"warning":return Z2;case"error":return tk;default:return null}},Q2=Array(12).fill(0),J2=({visible:e,className:t})=>Z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Z.createElement("div",{className:"sonner-spinner"},Q2.map((r,n)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),X2=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Z2=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ek=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tk=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rk=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nk=()=>{let[e,t]=Z.useState(document.hidden);return Z.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},np=1,sk=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:np++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],Z.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(ik(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||np++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Sr=new sk,ak=(e,t)=>{let r=(t==null?void 0:t.id)||np++;return Sr.addToast({title:e,...t,id:r}),r},ik=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",ok=ak,lk=()=>Sr.toasts,ck=()=>Sr.getActiveToasts();Object.assign(ok,{success:Sr.success,info:Sr.info,warning:Sr.warning,error:Sr.error,custom:Sr.custom,message:Sr.message,promise:Sr.promise,dismiss:Sr.dismiss,loading:Sr.loading},{getHistory:lk,getToasts:ck});function uk(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}uk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function fc(e){return e.label!==void 0}var dk=3,fk="32px",hk="16px",by=4e3,pk=356,mk=14,gk=20,vk=200;function fn(...e){return e.filter(Boolean).join(" ")}function yk(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var xk=e=>{var t,r,n,s,a,o,l,c,u,d,f;let{invert:h,toast:p,unstyled:x,interacting:g,setHeights:y,visibleToasts:b,heights:v,index:w,toasts:S,expanded:_,removeToast:j,defaultRichColors:N,closeButton:E,style:D,cancelButtonStyle:k,actionButtonStyle:z,className:I="",descriptionClassName:q="",duration:R,position:T,gap:L,loadingIcon:J,expandByDefault:M,classNames:B,icons:H,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:W}=e,[ce,K]=Z.useState(null),[ae,be]=Z.useState(null),[C,X]=Z.useState(!1),[ee,le]=Z.useState(!1),[ge,oe]=Z.useState(!1),[je,Ne]=Z.useState(!1),[Be,ke]=Z.useState(!1),[tt,bt]=Z.useState(0),[Ct,$t]=Z.useState(0),cn=Z.useRef(p.duration||R||by),un=Z.useRef(null),Rr=Z.useRef(null),A=w===0,$=w+1<=b,F=p.type,O=p.dismissible!==!1,V=p.className||"",U=p.descriptionClassName||"",ie=Z.useMemo(()=>v.findIndex(ve=>ve.toastId===p.id)||0,[v,p.id]),he=Z.useMemo(()=>{var ve;return(ve=p.closeButton)!=null?ve:E},[p.closeButton,E]),Q=Z.useMemo(()=>p.duration||R||by,[p.duration,R]),_e=Z.useRef(0),ye=Z.useRef(0),$e=Z.useRef(0),me=Z.useRef(null),[Ee,Ae]=T.split("-"),Je=Z.useMemo(()=>v.reduce((ve,De,pe)=>pe>=ie?ve:ve+De.height,0),[v,ie]),Re=nk(),We=p.invert||h,Fe=F==="loading";ye.current=Z.useMemo(()=>ie*L+Je,[ie,Je]),Z.useEffect(()=>{cn.current=Q},[Q]),Z.useEffect(()=>{X(!0)},[]),Z.useEffect(()=>{let ve=Rr.current;if(ve){let De=ve.getBoundingClientRect().height;return $t(De),y(pe=>[{toastId:p.id,height:De,position:p.position},...pe]),()=>y(pe=>pe.filter(lt=>lt.toastId!==p.id))}},[y,p.id]),Z.useLayoutEffect(()=>{if(!C)return;let ve=Rr.current,De=ve.style.height;ve.style.height="auto";let pe=ve.getBoundingClientRect().height;ve.style.height=De,$t(pe),y(lt=>lt.find(Xe=>Xe.toastId===p.id)?lt.map(Xe=>Xe.toastId===p.id?{...Xe,height:pe}:Xe):[{toastId:p.id,height:pe,position:p.position},...lt])},[C,p.title,p.description,y,p.id]);let it=Z.useCallback(()=>{le(!0),bt(ye.current),y(ve=>ve.filter(De=>De.toastId!==p.id)),setTimeout(()=>{j(p)},vk)},[p,j,y,ye]);Z.useEffect(()=>{if(p.promise&&F==="loading"||p.duration===1/0||p.type==="loading")return;let ve;return _||g||W&&Re?(()=>{if($e.current<_e.current){let De=new Date().getTime()-_e.current;cn.current=cn.current-De}$e.current=new Date().getTime()})():cn.current!==1/0&&(_e.current=new Date().getTime(),ve=setTimeout(()=>{var De;(De=p.onAutoClose)==null||De.call(p,p),it()},cn.current)),()=>clearTimeout(ve)},[_,g,p,F,W,Re,it]),Z.useEffect(()=>{p.delete&&it()},[it,p.delete]);function Nt(){var ve,De,pe;return H!=null&&H.loading?Z.createElement("div",{className:fn(B==null?void 0:B.loader,(ve=p==null?void 0:p.classNames)==null?void 0:ve.loader,"sonner-loader"),"data-visible":F==="loading"},H.loading):J?Z.createElement("div",{className:fn(B==null?void 0:B.loader,(De=p==null?void 0:p.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":F==="loading"},J):Z.createElement(J2,{className:fn(B==null?void 0:B.loader,(pe=p==null?void 0:p.classNames)==null?void 0:pe.loader),visible:F==="loading"})}return Z.createElement("li",{tabIndex:0,ref:Rr,className:fn(I,V,B==null?void 0:B.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[F],(r=p==null?void 0:p.classNames)==null?void 0:r[F]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:N,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":C,"data-promise":!!p.promise,"data-swiped":Be,"data-removed":ee,"data-visible":$,"data-y-position":Ee,"data-x-position":Ae,"data-index":w,"data-front":A,"data-swiping":ge,"data-dismissible":O,"data-type":F,"data-invert":We,"data-swipe-out":je,"data-swipe-direction":ae,"data-expanded":!!(_||M&&C),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${ee?tt:ye.current}px`,"--initial-height":M?"auto":`${Ct}px`,...D,...p.style},onDragEnd:()=>{oe(!1),K(null),me.current=null},onPointerDown:ve=>{Fe||!O||(un.current=new Date,bt(ye.current),ve.target.setPointerCapture(ve.pointerId),ve.target.tagName!=="BUTTON"&&(oe(!0),me.current={x:ve.clientX,y:ve.clientY}))},onPointerUp:()=>{var ve,De,pe,lt;if(je||!O)return;me.current=null;let Xe=Number(((ve=Rr.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),dt=Number(((De=Rr.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Mt=new Date().getTime()-((pe=un.current)==null?void 0:pe.getTime()),Ue=ce==="x"?Xe:dt,ut=Math.abs(Ue)/Mt;if(Math.abs(Ue)>=gk||ut>.11){bt(ye.current),(lt=p.onDismiss)==null||lt.call(p,p),be(ce==="x"?Xe>0?"right":"left":dt>0?"down":"up"),it(),Ne(!0),ke(!1);return}oe(!1),K(null)},onPointerMove:ve=>{var De,pe,lt,Xe;if(!me.current||!O||((De=window.getSelection())==null?void 0:De.toString().length)>0)return;let dt=ve.clientY-me.current.y,Mt=ve.clientX-me.current.x,Ue=(pe=e.swipeDirections)!=null?pe:yk(T);!ce&&(Math.abs(Mt)>1||Math.abs(dt)>1)&&K(Math.abs(Mt)>Math.abs(dt)?"x":"y");let ut={x:0,y:0};ce==="y"?(Ue.includes("top")||Ue.includes("bottom"))&&(Ue.includes("top")&&dt<0||Ue.includes("bottom")&&dt>0)&&(ut.y=dt):ce==="x"&&(Ue.includes("left")||Ue.includes("right"))&&(Ue.includes("left")&&Mt<0||Ue.includes("right")&&Mt>0)&&(ut.x=Mt),(Math.abs(ut.x)>0||Math.abs(ut.y)>0)&&ke(!0),(lt=Rr.current)==null||lt.style.setProperty("--swipe-amount-x",`${ut.x}px`),(Xe=Rr.current)==null||Xe.style.setProperty("--swipe-amount-y",`${ut.y}px`)}},he&&!p.jsx?Z.createElement("button",{"aria-label":re,"data-disabled":Fe,"data-close-button":!0,onClick:Fe||!O?()=>{}:()=>{var ve;it(),(ve=p.onDismiss)==null||ve.call(p,p)},className:fn(B==null?void 0:B.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(a=H==null?void 0:H.close)!=null?a:rk):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:Z.createElement(Z.Fragment,null,F||p.icon||p.promise?Z.createElement("div",{"data-icon":"",className:fn(B==null?void 0:B.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Nt():null,p.type!=="loading"?p.icon||(H==null?void 0:H[F])||Y2(F):null):null,Z.createElement("div",{"data-content":"",className:fn(B==null?void 0:B.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},Z.createElement("div",{"data-title":"",className:fn(B==null?void 0:B.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?Z.createElement("div",{"data-description":"",className:fn(q,U,B==null?void 0:B.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&fc(p.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||k,onClick:ve=>{var De,pe;fc(p.cancel)&&O&&((pe=(De=p.cancel).onClick)==null||pe.call(De,ve),it())},className:fn(B==null?void 0:B.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&fc(p.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||z,onClick:ve=>{var De,pe;fc(p.action)&&((pe=(De=p.action).onClick)==null||pe.call(De,ve),!ve.defaultPrevented&&it())},className:fn(B==null?void 0:B.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function wy(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function bk(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",l=a?hk:fk;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var wk=m.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:x=dk,toastOptions:g,dir:y=wy(),gap:b=mk,loadingIcon:v,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:_}=e,[j,N]=Z.useState([]),E=Z.useMemo(()=>Array.from(new Set([n].concat(j.filter(W=>W.position).map(W=>W.position)))),[j,n]),[D,k]=Z.useState([]),[z,I]=Z.useState(!1),[q,R]=Z.useState(!1),[T,L]=Z.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=Z.useRef(null),M=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=Z.useRef(null),H=Z.useRef(!1),re=Z.useCallback(W=>{N(ce=>{var K;return(K=ce.find(ae=>ae.id===W.id))!=null&&K.delete||Sr.dismiss(W.id),ce.filter(({id:ae})=>ae!==W.id)})},[]);return Z.useEffect(()=>Sr.subscribe(W=>{if(W.dismiss){N(ce=>ce.map(K=>K.id===W.id?{...K,delete:!0}:K));return}setTimeout(()=>{Am.flushSync(()=>{N(ce=>{let K=ce.findIndex(ae=>ae.id===W.id);return K!==-1?[...ce.slice(0,K),{...ce[K],...W},...ce.slice(K+1)]:[W,...ce]})})})}),[]),Z.useEffect(()=>{if(d!=="system"){L(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:ce})=>{L(ce?"dark":"light")})}catch{W.addListener(({matches:K})=>{try{L(K?"dark":"light")}catch(ae){console.error(ae)}})}},[d]),Z.useEffect(()=>{j.length<=1&&I(!1)},[j]),Z.useEffect(()=>{let W=ce=>{var K,ae;s.every(be=>ce[be]||ce.code===be)&&(I(!0),(K=J.current)==null||K.focus()),ce.code==="Escape"&&(document.activeElement===J.current||(ae=J.current)!=null&&ae.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[s]),Z.useEffect(()=>{if(J.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,H.current=!1)}},[J.current]),Z.createElement("section",{ref:t,"aria-label":`${S} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((W,ce)=>{var K;let[ae,be]=W.split("-");return j.length?Z.createElement("ol",{key:W,dir:y==="auto"?wy():y,tabIndex:-1,ref:J,className:l,"data-sonner-toaster":!0,"data-theme":T,"data-y-position":ae,"data-lifted":z&&j.length>1&&!a,"data-x-position":be,style:{"--front-toast-height":`${((K=D[0])==null?void 0:K.height)||0}px`,"--width":`${pk}px`,"--gap":`${b}px`,...p,...bk(c,u)},onBlur:C=>{H.current&&!C.currentTarget.contains(C.relatedTarget)&&(H.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:C=>{C.target instanceof HTMLElement&&C.target.dataset.dismissible==="false"||H.current||(H.current=!0,B.current=C.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{q||I(!1)},onDragEnd:()=>I(!1),onPointerDown:C=>{C.target instanceof HTMLElement&&C.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},j.filter(C=>!C.position&&ce===0||C.position===W).map((C,X)=>{var ee,le;return Z.createElement(xk,{key:C.id,icons:w,index:X,toast:C,defaultRichColors:f,duration:(ee=g==null?void 0:g.duration)!=null?ee:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:x,closeButton:(le=g==null?void 0:g.closeButton)!=null?le:o,interacting:q,position:W,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:re,toasts:j.filter(ge=>ge.position==C.position),heights:D.filter(ge=>ge.position==C.position),setHeights:k,expandByDefault:a,gap:b,loadingIcon:v,expanded:z,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const _S=m.createContext(null);function Sk({children:e,defaultTheme:t="system",value:r,...n}){const[s,a]=m.useState(()=>{if(typeof window<"u"){const l=localStorage.getItem("theme");return l&&(l==="dark"||l==="light"||l==="system")?l:t}return t});m.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(s)},[s]);const o={theme:s,setTheme:l=>{localStorage.setItem("theme",l),a(l)}};return i.jsx(_S.Provider,{value:o,...n,children:e})}const jk=()=>{const e=m.useContext(_S);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},_k=({...e})=>{const{theme:t}=jk();return i.jsx(wk,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Nk=Fp[" useId ".trim().toString()]||(()=>{}),Ek=0;function ss(e){const[t,r]=m.useState(Nk());return Vt(()=>{r(n=>n??String(Ek++))},[e]),t?`radix-${t}`:""}const Ck=["top","right","bottom","left"],Xs=Math.min,Br=Math.max,xu=Math.round,hc=Math.floor,zn=e=>({x:e,y:e}),Tk={left:"right",right:"left",bottom:"top",top:"bottom"},Pk={start:"end",end:"start"};function sp(e,t,r){return Br(e,Xs(t,r))}function cs(e,t){return typeof e=="function"?e(t):e}function us(e){return e.split("-")[0]}function eo(e){return e.split("-")[1]}function Fm(e){return e==="x"?"y":"x"}function Um(e){return e==="y"?"height":"width"}const kk=new Set(["top","bottom"]);function $n(e){return kk.has(us(e))?"y":"x"}function zm(e){return Fm($n(e))}function Ak(e,t,r){r===void 0&&(r=!1);const n=eo(e),s=zm(e),a=Um(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=bu(o)),[o,bu(o)]}function Rk(e){const t=bu(e);return[ap(e),t,ap(t)]}function ap(e){return e.replace(/start|end/g,t=>Pk[t])}const Sy=["left","right"],jy=["right","left"],Ik=["top","bottom"],Dk=["bottom","top"];function Ok(e,t,r){switch(e){case"top":case"bottom":return r?t?jy:Sy:t?Sy:jy;case"left":case"right":return t?Ik:Dk;default:return[]}}function Mk(e,t,r,n){const s=eo(e);let a=Ok(us(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(ap)))),a}function bu(e){return e.replace(/left|right|bottom|top/g,t=>Tk[t])}function Bk(e){return{top:0,right:0,bottom:0,left:0,...e}}function NS(e){return typeof e!="number"?Bk(e):{top:e,right:e,bottom:e,left:e}}function wu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function _y(e,t,r){let{reference:n,floating:s}=e;const a=$n(t),o=zm(t),l=Um(o),c=us(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(eo(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const Lk=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=_y(u,n,c),h=n,p={},x=0;for(let g=0;g<l.length;g++){const{name:y,fn:b}=l[g],{x:v,y:w,data:S,reset:_}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=v??d,f=w??f,p={...p,[y]:{...p[y],...S}},_&&x<=50&&(x++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=_y(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function ul(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=cs(t,e),x=NS(p),y=l[h?f==="floating"?"reference":"floating":f],b=wu(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(y)))==null||r?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},_=wu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(b.top-_.top+x.top)/S.y,bottom:(_.bottom-b.bottom+x.bottom)/S.y,left:(b.left-_.left+x.left)/S.x,right:(_.right-b.right+x.right)/S.x}}const $k=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=cs(e,t)||{};if(u==null)return{};const f=NS(d),h={x:r,y:n},p=zm(s),x=Um(p),g=await o.getDimensions(u),y=p==="y",b=y?"top":"left",v=y?"bottom":"right",w=y?"clientHeight":"clientWidth",S=a.reference[x]+a.reference[p]-h[p]-a.floating[x],_=h[p]-a.reference[p],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=j?j[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(j)))&&(N=l.floating[w]||a.floating[x]);const E=S/2-_/2,D=N/2-g[x]/2-1,k=Xs(f[b],D),z=Xs(f[v],D),I=k,q=N-g[x]-z,R=N/2-g[x]/2+E,T=sp(I,R,q),L=!c.arrow&&eo(s)!=null&&R!==T&&a.reference[x]/2-(R<I?k:z)-g[x]/2<0,J=L?R<I?R-I:R-q:0;return{[p]:h[p]+J,data:{[p]:T,centerOffset:R-T-J,...L&&{alignmentOffset:J}},reset:L}}}),Fk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...y}=cs(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=us(s),v=$n(l),w=us(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(w||!g?[bu(l)]:Rk(l)),j=x!=="none";!h&&j&&_.push(...Mk(l,g,x,S));const N=[l,..._],E=await ul(t,y),D=[];let k=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&D.push(E[b]),f){const R=Ak(s,o,S);D.push(E[R[0]],E[R[1]])}if(k=[...k,{placement:s,overflows:D}],!D.every(R=>R<=0)){var z,I;const R=(((z=a.flip)==null?void 0:z.index)||0)+1,T=N[R];if(T&&(!(f==="alignment"?v!==$n(T):!1)||k.every(M=>M.overflows[0]>0&&$n(M.placement)===v)))return{data:{index:R,overflows:k},reset:{placement:T}};let L=(I=k.filter(J=>J.overflows[0]<=0).sort((J,M)=>J.overflows[1]-M.overflows[1])[0])==null?void 0:I.placement;if(!L)switch(p){case"bestFit":{var q;const J=(q=k.filter(M=>{if(j){const B=$n(M.placement);return B===v||B==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(B=>B>0).reduce((B,H)=>B+H,0)]).sort((M,B)=>M[1]-B[1])[0])==null?void 0:q[0];J&&(L=J);break}case"initialPlacement":L=l;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function Ny(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ey(e){return Ck.some(t=>e[t]>=0)}const Uk=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=cs(e,t);switch(n){case"referenceHidden":{const a=await ul(t,{...s,elementContext:"reference"}),o=Ny(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ey(o)}}}case"escaped":{const a=await ul(t,{...s,altBoundary:!0}),o=Ny(a,r.floating);return{data:{escapedOffsets:o,escaped:Ey(o)}}}default:return{}}}}},ES=new Set(["left","top"]);async function zk(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=us(r),l=eo(r),c=$n(r)==="y",u=ES.has(o)?-1:1,d=a&&c?-1:1,f=cs(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const Wk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await zk(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},Vk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:b,y:v}=y;return{x:b,y:v}}},...c}=cs(e,t),u={x:r,y:n},d=await ul(t,c),f=$n(us(s)),h=Fm(f);let p=u[h],x=u[f];if(a){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",v=p+d[y],w=p-d[b];p=sp(v,p,w)}if(o){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",v=x+d[y],w=x-d[b];x=sp(v,x,w)}const g=l.fn({...t,[h]:p,[f]:x});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:a,[f]:o}}}}}},Hk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=cs(e,t),d={x:r,y:n},f=$n(s),h=Fm(f);let p=d[h],x=d[f];const g=cs(l,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",S=a.reference[h]-a.floating[w]+y.mainAxis,_=a.reference[h]+a.reference[w]-y.mainAxis;p<S?p=S:p>_&&(p=_)}if(u){var b,v;const w=h==="y"?"width":"height",S=ES.has(us(s)),_=a.reference[f]-a.floating[w]+(S&&((b=o.offset)==null?void 0:b[f])||0)+(S?0:y.crossAxis),j=a.reference[f]+a.reference[w]+(S?0:((v=o.offset)==null?void 0:v[f])||0)-(S?y.crossAxis:0);x<_?x=_:x>j&&(x=j)}return{[h]:p,[f]:x}}}},Gk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=cs(e,t),d=await ul(t,u),f=us(s),h=eo(s),p=$n(s)==="y",{width:x,height:g}=a.floating;let y,b;f==="top"||f==="bottom"?(y=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,y=h==="end"?"top":"bottom");const v=g-d.top-d.bottom,w=x-d.left-d.right,S=Xs(g-d[y],v),_=Xs(x-d[b],w),j=!t.middlewareData.shift;let N=S,E=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=v),j&&!h){const k=Br(d.left,0),z=Br(d.right,0),I=Br(d.top,0),q=Br(d.bottom,0);p?E=x-2*(k!==0||z!==0?k+z:Br(d.left,d.right)):N=g-2*(I!==0||q!==0?I+q:Br(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:N});const D=await o.getDimensions(l.floating);return x!==D.width||g!==D.height?{reset:{rects:!0}}:{}}}};function od(){return typeof window<"u"}function to(e){return CS(e)?(e.nodeName||"").toLowerCase():"#document"}function Ur(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hn(e){var t;return(t=(CS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function CS(e){return od()?e instanceof Node||e instanceof Ur(e).Node:!1}function Cn(e){return od()?e instanceof Element||e instanceof Ur(e).Element:!1}function Wn(e){return od()?e instanceof HTMLElement||e instanceof Ur(e).HTMLElement:!1}function Cy(e){return!od()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ur(e).ShadowRoot}const qk=new Set(["inline","contents"]);function kl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Tn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!qk.has(s)}const Kk=new Set(["table","td","th"]);function Yk(e){return Kk.has(to(e))}const Qk=[":popover-open",":modal"];function ld(e){return Qk.some(t=>{try{return e.matches(t)}catch{return!1}})}const Jk=["transform","translate","scale","rotate","perspective"],Xk=["transform","translate","scale","rotate","perspective","filter"],Zk=["paint","layout","strict","content"];function Wm(e){const t=Vm(),r=Cn(e)?Tn(e):e;return Jk.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Xk.some(n=>(r.willChange||"").includes(n))||Zk.some(n=>(r.contain||"").includes(n))}function eA(e){let t=Zs(e);for(;Wn(t)&&!Vi(t);){if(Wm(t))return t;if(ld(t))return null;t=Zs(t)}return null}function Vm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tA=new Set(["html","body","#document"]);function Vi(e){return tA.has(to(e))}function Tn(e){return Ur(e).getComputedStyle(e)}function cd(e){return Cn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Zs(e){if(to(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Cy(e)&&e.host||Hn(e);return Cy(t)?t.host:t}function TS(e){const t=Zs(e);return Vi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wn(t)&&kl(t)?t:TS(t)}function dl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=TS(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=Ur(s);if(a){const l=ip(o);return t.concat(o,o.visualViewport||[],kl(s)?s:[],l&&r?dl(l):[])}return t.concat(s,dl(s,[],r))}function ip(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function PS(e){const t=Tn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Wn(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=xu(r)!==a||xu(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function Hm(e){return Cn(e)?e:e.contextElement}function Ni(e){const t=Hm(e);if(!Wn(t))return zn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=PS(t);let o=(a?xu(r.width):r.width)/n,l=(a?xu(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const rA=zn(0);function kS(e){const t=Ur(e);return!Vm()||!t.visualViewport?rA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function nA(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ur(e)?!1:t}function Ma(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=Hm(e);let o=zn(1);t&&(n?Cn(n)&&(o=Ni(n)):o=Ni(e));const l=nA(a,r,n)?kS(a):zn(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const h=Ur(a),p=n&&Cn(n)?Ur(n):n;let x=h,g=ip(x);for(;g&&n&&p!==x;){const y=Ni(g),b=g.getBoundingClientRect(),v=Tn(g),w=b.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,S=b.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=w,u+=S,x=Ur(g),g=ip(x)}}return wu({width:d,height:f,x:c,y:u})}function Gm(e,t){const r=cd(e).scrollLeft;return t?t.left+r:Ma(Hn(e)).left+r}function AS(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Gm(e,n)),a=n.top+t.scrollTop;return{x:s,y:a}}function sA(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=Hn(n),l=t?ld(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=zn(1);const d=zn(0),f=Wn(n);if((f||!f&&!a)&&((to(n)!=="body"||kl(o))&&(c=cd(n)),Wn(n))){const p=Ma(n);u=Ni(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!a?AS(o,c,!0):zn(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function aA(e){return Array.from(e.getClientRects())}function iA(e){const t=Hn(e),r=cd(e),n=e.ownerDocument.body,s=Br(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Br(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Gm(e);const l=-r.scrollTop;return Tn(n).direction==="rtl"&&(o+=Br(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}function oA(e,t){const r=Ur(e),n=Hn(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=Vm();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}const lA=new Set(["absolute","fixed"]);function cA(e,t){const r=Ma(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Wn(e)?Ni(e):zn(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function Ty(e,t,r){let n;if(t==="viewport")n=oA(e,r);else if(t==="document")n=iA(Hn(e));else if(Cn(t))n=cA(t,r);else{const s=kS(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return wu(n)}function RS(e,t){const r=Zs(e);return r===t||!Cn(r)||Vi(r)?!1:Tn(r).position==="fixed"||RS(r,t)}function uA(e,t){const r=t.get(e);if(r)return r;let n=dl(e,[],!1).filter(l=>Cn(l)&&to(l)!=="body"),s=null;const a=Tn(e).position==="fixed";let o=a?Zs(e):e;for(;Cn(o)&&!Vi(o);){const l=Tn(o),c=Wm(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&lA.has(s.position)||kl(o)&&!c&&RS(e,o))?n=n.filter(d=>d!==o):s=l,o=Zs(o)}return t.set(e,n),n}function dA(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?ld(t)?[]:uA(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=Ty(t,d,s);return u.top=Br(f.top,u.top),u.right=Xs(f.right,u.right),u.bottom=Xs(f.bottom,u.bottom),u.left=Br(f.left,u.left),u},Ty(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fA(e){const{width:t,height:r}=PS(e);return{width:t,height:r}}function hA(e,t,r){const n=Wn(t),s=Hn(t),a=r==="fixed",o=Ma(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=zn(0);function u(){c.x=Gm(s)}if(n||!n&&!a)if((to(t)!=="body"||kl(s))&&(l=cd(t)),n){const p=Ma(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?AS(s,l):zn(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Af(e){return Tn(e).position==="static"}function Py(e,t){if(!Wn(e)||Tn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Hn(e)===r&&(r=r.ownerDocument.body),r}function IS(e,t){const r=Ur(e);if(ld(e))return r;if(!Wn(e)){let s=Zs(e);for(;s&&!Vi(s);){if(Cn(s)&&!Af(s))return s;s=Zs(s)}return r}let n=Py(e,t);for(;n&&Yk(n)&&Af(n);)n=Py(n,t);return n&&Vi(n)&&Af(n)&&!Wm(n)?r:n||eA(e)||r}const pA=async function(e){const t=this.getOffsetParent||IS,r=this.getDimensions,n=await r(e.floating);return{reference:hA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function mA(e){return Tn(e).direction==="rtl"}const gA={convertOffsetParentRelativeRectToViewportRelativeRect:sA,getDocumentElement:Hn,getClippingRect:dA,getOffsetParent:IS,getElementRects:pA,getClientRects:aA,getDimensions:fA,getScale:Ni,isElement:Cn,isRTL:mA};function DS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function vA(e,t){let r=null,n;const s=Hn(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const x=hc(f),g=hc(s.clientWidth-(d+h)),y=hc(s.clientHeight-(f+p)),b=hc(d),w={rootMargin:-x+"px "+-g+"px "+-y+"px "+-b+"px",threshold:Br(0,Xs(1,c))||1};let S=!0;function _(j){const N=j[0].intersectionRatio;if(N!==c){if(!S)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!DS(u,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(_,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,w)}r.observe(e)}return o(!0),a}function yA(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Hm(e),d=s||a?[...u?dl(u):[],...dl(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const f=u&&l?vA(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(b=>{let[v]=b;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let x,g=c?Ma(e):null;c&&y();function y(){const b=Ma(e);g&&!DS(g,b)&&r(),g=b,x=requestAnimationFrame(y)}return r(),()=>{var b;d.forEach(v=>{s&&v.removeEventListener("scroll",r),a&&v.removeEventListener("resize",r)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const xA=Wk,bA=Vk,wA=Fk,SA=Gk,jA=Uk,ky=$k,_A=Hk,NA=(e,t,r)=>{const n=new Map,s={platform:gA,...r},a={...s.platform,_c:n};return Lk(e,t,{...s,platform:a})};var EA=typeof document<"u",CA=function(){},zc=EA?m.useLayoutEffect:CA;function Su(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Su(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Su(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function OS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ay(e,t){const r=OS(e);return Math.round(t*r)/r}function Rf(e){const t=m.useRef(e);return zc(()=>{t.current=e}),t}function TA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(n);Su(h,n)||p(n);const[x,g]=m.useState(null),[y,b]=m.useState(null),v=m.useCallback(M=>{M!==j.current&&(j.current=M,g(M))},[]),w=m.useCallback(M=>{M!==N.current&&(N.current=M,b(M))},[]),S=a||x,_=o||y,j=m.useRef(null),N=m.useRef(null),E=m.useRef(d),D=c!=null,k=Rf(c),z=Rf(s),I=Rf(u),q=m.useCallback(()=>{if(!j.current||!N.current)return;const M={placement:t,strategy:r,middleware:h};z.current&&(M.platform=z.current),NA(j.current,N.current,M).then(B=>{const H={...B,isPositioned:I.current!==!1};R.current&&!Su(E.current,H)&&(E.current=H,sa.flushSync(()=>{f(H)}))})},[h,t,r,z,I]);zc(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const R=m.useRef(!1);zc(()=>(R.current=!0,()=>{R.current=!1}),[]),zc(()=>{if(S&&(j.current=S),_&&(N.current=_),S&&_){if(k.current)return k.current(S,_,q);q()}},[S,_,q,k,D]);const T=m.useMemo(()=>({reference:j,floating:N,setReference:v,setFloating:w}),[v,w]),L=m.useMemo(()=>({reference:S,floating:_}),[S,_]),J=m.useMemo(()=>{const M={position:r,left:0,top:0};if(!L.floating)return M;const B=Ay(L.floating,d.x),H=Ay(L.floating,d.y);return l?{...M,transform:"translate("+B+"px, "+H+"px)",...OS(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:H}},[r,l,L.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:q,refs:T,elements:L,floatingStyles:J}),[d,q,T,L,J])}const PA=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?ky({element:n.current,padding:s}).fn(r):{}:n?ky({element:n,padding:s}).fn(r):{}}}},kA=(e,t)=>({...xA(e),options:[e,t]}),AA=(e,t)=>({...bA(e),options:[e,t]}),RA=(e,t)=>({..._A(e),options:[e,t]}),IA=(e,t)=>({...wA(e),options:[e,t]}),DA=(e,t)=>({...SA(e),options:[e,t]}),OA=(e,t)=>({...jA(e),options:[e,t]}),MA=(e,t)=>({...PA(e),options:[e,t]});var BA="Arrow",MS=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(Oe.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});MS.displayName=BA;var LA=MS;function BS(e){const[t,r]=m.useState(void 0);return Vt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var qm="Popper",[LS,ud]=Vn(qm),[$A,$S]=LS(qm),FS=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return i.jsx($A,{scope:t,anchor:n,onAnchorChange:s,children:r})};FS.displayName=qm;var US="PopperAnchor",zS=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=$S(US,r),o=m.useRef(null),l=ht(t,o);return m.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(Oe.div,{...s,ref:l})});zS.displayName=US;var Km="PopperContent",[FA,UA]=LS(Km),WS=m.forwardRef((e,t)=>{var C,X,ee,le,ge,oe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:x,...g}=e,y=$S(Km,r),[b,v]=m.useState(null),w=ht(t,je=>v(je)),[S,_]=m.useState(null),j=BS(S),N=(j==null?void 0:j.width)??0,E=(j==null?void 0:j.height)??0,D=n+(a!=="center"?"-"+a:""),k=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},z=Array.isArray(u)?u:[u],I=z.length>0,q={padding:k,boundary:z.filter(WA),altBoundary:I},{refs:R,floatingStyles:T,placement:L,isPositioned:J,middlewareData:M}=TA({strategy:"fixed",placement:D,whileElementsMounted:(...je)=>yA(...je,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[kA({mainAxis:s+E,alignmentAxis:o}),c&&AA({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?RA():void 0,...q}),c&&IA({...q}),DA({...q,apply:({elements:je,rects:Ne,availableWidth:Be,availableHeight:ke})=>{const{width:tt,height:bt}=Ne.reference,Ct=je.floating.style;Ct.setProperty("--radix-popper-available-width",`${Be}px`),Ct.setProperty("--radix-popper-available-height",`${ke}px`),Ct.setProperty("--radix-popper-anchor-width",`${tt}px`),Ct.setProperty("--radix-popper-anchor-height",`${bt}px`)}}),S&&MA({element:S,padding:l}),VA({arrowWidth:N,arrowHeight:E}),h&&OA({strategy:"referenceHidden",...q})]}),[B,H]=GS(L),re=ln(x);Vt(()=>{J&&(re==null||re())},[J,re]);const W=(C=M.arrow)==null?void 0:C.x,ce=(X=M.arrow)==null?void 0:X.y,K=((ee=M.arrow)==null?void 0:ee.centerOffset)!==0,[ae,be]=m.useState();return Vt(()=>{b&&be(window.getComputedStyle(b).zIndex)},[b]),i.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:J?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(le=M.transformOrigin)==null?void 0:le.x,(ge=M.transformOrigin)==null?void 0:ge.y].join(" "),...((oe=M.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(FA,{scope:r,placedSide:B,onArrowChange:_,arrowX:W,arrowY:ce,shouldHideArrow:K,children:i.jsx(Oe.div,{"data-side":B,"data-align":H,...g,ref:w,style:{...g.style,animation:J?void 0:"none"}})})})});WS.displayName=Km;var VS="PopperArrow",zA={top:"bottom",right:"left",bottom:"top",left:"right"},HS=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=UA(VS,n),o=zA[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(LA,{...s,ref:r,style:{...s.style,display:"block"}})})});HS.displayName=VS;function WA(e){return e!==null}var VA=e=>({name:"transformOrigin",options:e,fn(t){var y,b,v;const{placement:r,rects:n,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=GS(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let x="",g="";return u==="bottom"?(x=o?f:`${h}px`,g=`${-c}px`):u==="top"?(x=o?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=o?f:`${p}px`):u==="left"&&(x=`${n.floating.width+c}px`,g=o?f:`${p}px`),{data:{x,y:g}}}});function GS(e){const[t,r="center"]=e.split("-");return[t,r]}var HA=FS,qS=zS,KS=WS,YS=HS,[dd,g6]=Vn("Tooltip",[ud]),Ym=ud(),QS="TooltipProvider",GA=700,Ry="tooltip.open",[qA,JS]=dd(QS),XS=e=>{const{__scopeTooltip:t,delayDuration:r=GA,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,o=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(qA,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};XS.displayName=QS;var ZS="Tooltip",[v6,fd]=dd(ZS),op="TooltipTrigger",KA=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=fd(op,r),a=JS(op,r),o=Ym(r),l=m.useRef(null),c=ht(t,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(qS,{asChild:!0,...o,children:i.jsx(Oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Pe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Pe(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Pe(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Pe(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Pe(e.onBlur,s.onClose),onClick:Pe(e.onClick,s.onClose)})})});KA.displayName=op;var YA="TooltipPortal",[y6,QA]=dd(YA,{forceMount:void 0}),Hi="TooltipContent",e1=m.forwardRef((e,t)=>{const r=QA(Hi,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,o=fd(Hi,e.__scopeTooltip);return i.jsx(fs,{present:n||o.open,children:o.disableHoverableContent?i.jsx(t1,{side:s,...a,ref:t}):i.jsx(JA,{side:s,...a,ref:t})})}),JA=m.forwardRef((e,t)=>{const r=fd(Hi,e.__scopeTooltip),n=JS(Hi,e.__scopeTooltip),s=m.useRef(null),a=ht(t,s),[o,l]=m.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=m.useCallback(()=>{l(null),f(!1)},[f]),p=m.useCallback((x,g)=>{const y=x.currentTarget,b={x:x.clientX,y:x.clientY},v=rR(b,y.getBoundingClientRect()),w=nR(b,v),S=sR(g.getBoundingClientRect()),_=iR([...w,...S]);l(_),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const x=y=>p(y,d),g=y=>p(y,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",g)}}},[c,d,p,h]),m.useEffect(()=>{if(o){const x=g=>{const y=g.target,b={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),w=!aR(b,o);v?h():w&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,h]),i.jsx(t1,{...e,ref:a})}),[XA,ZA]=dd(ZS,{isInside:!1}),eR=oP("TooltipContent"),t1=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=fd(Hi,r),u=Ym(r),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(Ry,d),()=>document.removeEventListener(Ry,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Tl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(KS,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(eR,{children:n}),i.jsx(XA,{scope:r,isInside:!0,children:i.jsx(PP,{id:c.contentId,role:"tooltip",children:s||n})})]})})});e1.displayName=Hi;var r1="TooltipArrow",tR=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Ym(r);return ZA(r1,r).isInside?null:i.jsx(YS,{...s,...n,ref:t})});tR.displayName=r1;function rR(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function nR(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function sR(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function aR(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function iR(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),oR(t)}function oR(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var lR=XS,n1=e1;const cR=lR,uR=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(n1,{ref:n,sideOffset:t,className:Me("z-50 overflow-hidden rounded-md border border-border/40 bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-lg animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));uR.displayName=n1.displayName;var hd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pd=typeof window>"u"||"Deno"in globalThis;function vn(){}function dR(e,t){return typeof e=="function"?e(t):e}function fR(e){return typeof e=="number"&&e>=0&&e!==1/0}function hR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function lp(e,t){return typeof e=="function"?e(t):e}function pR(e,t){return typeof e=="function"?e(t):e}function Iy(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Qm(o,t.options))return!1}else if(!hl(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function Dy(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(fl(t.options.mutationKey)!==fl(a))return!1}else if(!hl(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Qm(e,t){return((t==null?void 0:t.queryKeyHashFn)||fl)(e)}function fl(e){return JSON.stringify(e,(t,r)=>cp(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function hl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>hl(e[r],t[r])):!1}function s1(e,t){if(e===t)return e;const r=Oy(e)&&Oy(t);if(r||cp(e)&&cp(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),o=a.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:a[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=s1(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===o&&u===s?e:l}return t}function Oy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function cp(e){if(!My(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!My(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function My(e){return Object.prototype.toString.call(e)==="[object Object]"}function mR(e){return new Promise(t=>{setTimeout(t,e)})}function gR(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?s1(e,t):t}function vR(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function yR(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Jm=Symbol();function a1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Jm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Sa,Ps,Ti,pb,xR=(pb=class extends hd{constructor(){super();ot(this,Sa);ot(this,Ps);ot(this,Ti);ze(this,Ti,t=>{if(!pd&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){te(this,Ps)||this.setEventListener(te(this,Ti))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,Ps))==null||t.call(this),ze(this,Ps,void 0))}setEventListener(t){var r;ze(this,Ti,t),(r=te(this,Ps))==null||r.call(this),ze(this,Ps,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){te(this,Sa)!==t&&(ze(this,Sa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof te(this,Sa)=="boolean"?te(this,Sa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Sa=new WeakMap,Ps=new WeakMap,Ti=new WeakMap,pb),i1=new xR,Pi,ks,ki,mb,bR=(mb=class extends hd{constructor(){super();ot(this,Pi,!0);ot(this,ks);ot(this,ki);ze(this,ki,t=>{if(!pd&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){te(this,ks)||this.setEventListener(te(this,ki))}onUnsubscribe(){var t;this.hasListeners()||((t=te(this,ks))==null||t.call(this),ze(this,ks,void 0))}setEventListener(t){var r;ze(this,ki,t),(r=te(this,ks))==null||r.call(this),ze(this,ks,t(this.setOnline.bind(this)))}setOnline(t){te(this,Pi)!==t&&(ze(this,Pi,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return te(this,Pi)}},Pi=new WeakMap,ks=new WeakMap,ki=new WeakMap,mb),ju=new bR;function wR(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function SR(e){return Math.min(1e3*2**e,3e4)}function o1(e){return(e??"online")==="online"?ju.isOnline():!0}var l1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function If(e){return e instanceof l1}function c1(e){let t=!1,r=0,n=!1,s;const a=wR(),o=g=>{var y;n||(h(new l1(g)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>i1.isFocused()&&(e.networkMode==="always"||ju.isOnline())&&e.canRun(),d=()=>o1(e.networkMode)&&e.canRun(),f=g=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,g),s==null||s(),a.resolve(g))},h=g=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,g),s==null||s(),a.reject(g))},p=()=>new Promise(g=>{var y;s=b=>{(n||u())&&g(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(n)return;let g;const y=r===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var j;if(n)return;const v=e.retry??(pd?0:3),w=e.retryDelay??SR,S=typeof w=="function"?w(r,b):w,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,b);if(t||!_){h(b);return}r++,(j=e.onFail)==null||j.call(e,r,b),mR(S).then(()=>u()?void 0:p()).then(()=>{t?h(b):x()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():p().then(x),a)}}var jR=e=>setTimeout(e,0);function _R(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=jR;const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var gr=_R(),ja,gb,u1=(gb=class{constructor(){ot(this,ja)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fR(this.gcTime)&&ze(this,ja,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(pd?1/0:5*60*1e3))}clearGcTimeout(){te(this,ja)&&(clearTimeout(te(this,ja)),ze(this,ja,void 0))}},ja=new WeakMap,gb),Ai,_a,Qr,Na,ir,wl,Ea,yn,Kn,vb,NR=(vb=class extends u1{constructor(t){super();ot(this,yn);ot(this,Ai);ot(this,_a);ot(this,Qr);ot(this,Na);ot(this,ir);ot(this,wl);ot(this,Ea);ze(this,Ea,!1),ze(this,wl,t.defaultOptions),this.setOptions(t.options),this.observers=[],ze(this,Na,t.client),ze(this,Qr,te(this,Na).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ze(this,Ai,CR(this.options)),this.state=t.state??te(this,Ai),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=te(this,ir))==null?void 0:t.promise}setOptions(t){this.options={...te(this,wl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,Qr).remove(this)}setData(t,r){const n=gR(this.state.data,t,this.options);return rr(this,yn,Kn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){rr(this,yn,Kn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=te(this,ir))==null?void 0:n.promise;return(s=te(this,ir))==null||s.cancel(t),r?r.then(vn).catch(vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,Ai))}isActive(){return this.observers.some(t=>pR(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>lp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!hR(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,ir))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,ir))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),te(this,Qr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(te(this,ir)&&(te(this,Ea)?te(this,ir).cancel({revert:!0}):te(this,ir).cancelRetry()),this.scheduleGc()),te(this,Qr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rr(this,yn,Kn).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(te(this,ir))return te(this,ir).continueRetry(),te(this,ir).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ze(this,Ea,!0),n.signal)})},a=()=>{const h=a1(this.options,r),x=(()=>{const g={client:te(this,Na),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return ze(this,Ea,!1),this.options.persister?this.options.persister(h,x,this):h(x)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:te(this,Na),state:this.state,fetchFn:a};return s(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),ze(this,_a,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&rr(this,yn,Kn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var p,x,g,y;If(h)&&h.silent||rr(this,yn,Kn).call(this,{type:"error",error:h}),If(h)||((x=(p=te(this,Qr).config).onError)==null||x.call(p,h,this),(y=(g=te(this,Qr).config).onSettled)==null||y.call(g,this.state.data,h,this)),this.scheduleGc()};return ze(this,ir,c1({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var p,x,g,y;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){c(b);return}(x=(p=te(this,Qr).config).onSuccess)==null||x.call(p,h,this),(y=(g=te(this,Qr).config).onSettled)==null||y.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{rr(this,yn,Kn).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{rr(this,yn,Kn).call(this,{type:"pause"})},onContinue:()=>{rr(this,yn,Kn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),te(this,ir).start()}},Ai=new WeakMap,_a=new WeakMap,Qr=new WeakMap,Na=new WeakMap,ir=new WeakMap,wl=new WeakMap,Ea=new WeakMap,yn=new WeakSet,Kn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ER(n.data,this.options),fetchMeta:t.meta??null};case"success":return ze(this,_a,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return If(s)&&s.revert&&te(this,_a)?{...te(this,_a),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),gr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),te(this,Qr).notify({query:this,type:"updated",action:t})})},vb);function ER(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:o1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function CR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var In,yb,TR=(yb=class extends hd{constructor(t={}){super();ot(this,In);this.config=t,ze(this,In,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??Qm(s,r);let o=this.get(a);return o||(o=new NR({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){te(this,In).has(t.queryHash)||(te(this,In).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=te(this,In).get(t.queryHash);r&&(t.destroy(),r===t&&te(this,In).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return te(this,In).get(t)}getAll(){return[...te(this,In).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Iy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Iy(t,n)):r}notify(t){gr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){gr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){gr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},In=new WeakMap,yb),Dn,hr,Ca,On,bs,xb,PR=(xb=class extends u1{constructor(t){super();ot(this,On);ot(this,Dn);ot(this,hr);ot(this,Ca);this.mutationId=t.mutationId,ze(this,hr,t.mutationCache),ze(this,Dn,[]),this.state=t.state||kR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){te(this,Dn).includes(t)||(te(this,Dn).push(t),this.clearGcTimeout(),te(this,hr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ze(this,Dn,te(this,Dn).filter(r=>r!==t)),this.scheduleGc(),te(this,hr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){te(this,Dn).length||(this.state.status==="pending"?this.scheduleGc():te(this,hr).remove(this))}continue(){var t;return((t=te(this,Ca))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,l,c,u,d,f,h,p,x,g,y,b,v,w,S,_,j,N,E;const r=()=>{rr(this,On,bs).call(this,{type:"continue"})};ze(this,Ca,c1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(D,k)=>{rr(this,On,bs).call(this,{type:"failed",failureCount:D,error:k})},onPause:()=>{rr(this,On,bs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,hr).canRun(this)}));const n=this.state.status==="pending",s=!te(this,Ca).canStart();try{if(n)r();else{rr(this,On,bs).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(a=te(this,hr).config).onMutate)==null?void 0:o.call(a,t,this));const k=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));k!==this.state.context&&rr(this,On,bs).call(this,{type:"pending",context:k,variables:t,isPaused:s})}const D=await te(this,Ca).start();return await((d=(u=te(this,hr).config).onSuccess)==null?void 0:d.call(u,D,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,D,t,this.state.context)),await((x=(p=te(this,hr).config).onSettled)==null?void 0:x.call(p,D,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,D,null,t,this.state.context)),rr(this,On,bs).call(this,{type:"success",data:D}),D}catch(D){try{throw await((v=(b=te(this,hr).config).onError)==null?void 0:v.call(b,D,t,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,D,t,this.state.context)),await((j=(_=te(this,hr).config).onSettled)==null?void 0:j.call(_,void 0,D,this.state.variables,this.state.context,this)),await((E=(N=this.options).onSettled)==null?void 0:E.call(N,void 0,D,t,this.state.context)),D}finally{rr(this,On,bs).call(this,{type:"error",error:D})}}finally{te(this,hr).runNext(this)}}},Dn=new WeakMap,hr=new WeakMap,Ca=new WeakMap,On=new WeakSet,bs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),gr.batch(()=>{te(this,Dn).forEach(n=>{n.onMutationUpdate(t)}),te(this,hr).notify({mutation:this,type:"updated",action:t})})},xb);function kR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zn,xn,Sl,bb,AR=(bb=class extends hd{constructor(t={}){super();ot(this,Zn);ot(this,xn);ot(this,Sl);this.config=t,ze(this,Zn,new Set),ze(this,xn,new Map),ze(this,Sl,0)}build(t,r,n){const s=new PR({mutationCache:this,mutationId:++Gl(this,Sl)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){te(this,Zn).add(t);const r=pc(t);if(typeof r=="string"){const n=te(this,xn).get(r);n?n.push(t):te(this,xn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(te(this,Zn).delete(t)){const r=pc(t);if(typeof r=="string"){const n=te(this,xn).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&te(this,xn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=pc(t);if(typeof r=="string"){const n=te(this,xn).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=pc(t);if(typeof r=="string"){const s=(n=te(this,xn).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){gr.batch(()=>{te(this,Zn).forEach(t=>{this.notify({type:"removed",mutation:t})}),te(this,Zn).clear(),te(this,xn).clear()})}getAll(){return Array.from(te(this,Zn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Dy(r,n))}findAll(t={}){return this.getAll().filter(r=>Dy(t,r))}notify(t){gr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return gr.batch(()=>Promise.all(t.map(r=>r.continue().catch(vn))))}},Zn=new WeakMap,xn=new WeakMap,Sl=new WeakMap,bb);function pc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function By(e){return{onFetch:(t,r)=>{var d,f,h,p,x;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},b=a1(t.options,t.fetchOptions),v=async(w,S,_)=>{if(g)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};return y(z),z})(),E=await b(N),{maxPages:D}=t.options,k=_?yR:vR;return{pages:k(w.pages,E,D),pageParams:k(w.pageParams,S,D)}};if(s&&a.length){const w=s==="backward",S=w?RR:Ly,_={pages:a,pageParams:o},j=S(n,_);l=await v(_,j,w)}else{const w=e??a.length;do{const S=c===0?o[0]??n.initialPageParam:Ly(n,l);if(c>0&&S==null)break;l=await v(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Ly(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function RR(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var At,As,Rs,Ri,Ii,Is,Di,Oi,wb,IR=(wb=class{constructor(e={}){ot(this,At);ot(this,As);ot(this,Rs);ot(this,Ri);ot(this,Ii);ot(this,Is);ot(this,Di);ot(this,Oi);ze(this,At,e.queryCache||new TR),ze(this,As,e.mutationCache||new AR),ze(this,Rs,e.defaultOptions||{}),ze(this,Ri,new Map),ze(this,Ii,new Map),ze(this,Is,0)}mount(){Gl(this,Is)._++,te(this,Is)===1&&(ze(this,Di,i1.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,At).onFocus())})),ze(this,Oi,ju.subscribe(async e=>{e&&(await this.resumePausedMutations(),te(this,At).onOnline())})))}unmount(){var e,t;Gl(this,Is)._--,te(this,Is)===0&&((e=te(this,Di))==null||e.call(this),ze(this,Di,void 0),(t=te(this,Oi))==null||t.call(this),ze(this,Oi,void 0))}isFetching(e){return te(this,At).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return te(this,As).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,At).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=te(this,At).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(lp(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return te(this,At).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=te(this,At).get(n.queryHash),a=s==null?void 0:s.state.data,o=dR(t,a);if(o!==void 0)return te(this,At).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return gr.batch(()=>te(this,At).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=te(this,At).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=te(this,At);gr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=te(this,At);return gr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=gr.batch(()=>te(this,At).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(vn).catch(vn)}invalidateQueries(e,t={}){return gr.batch(()=>(te(this,At).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=gr.batch(()=>te(this,At).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(vn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(vn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=te(this,At).build(this,t);return r.isStaleByTime(lp(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(vn).catch(vn)}fetchInfiniteQuery(e){return e.behavior=By(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(vn).catch(vn)}ensureInfiniteQueryData(e){return e.behavior=By(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ju.isOnline()?te(this,As).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,At)}getMutationCache(){return te(this,As)}getDefaultOptions(){return te(this,Rs)}setDefaultOptions(e){ze(this,Rs,e)}setQueryDefaults(e,t){te(this,Ri).set(fl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...te(this,Ri).values()],r={};return t.forEach(n=>{hl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){te(this,Ii).set(fl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...te(this,Ii).values()],r={};return t.forEach(n=>{hl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...te(this,Rs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Qm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Jm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...te(this,Rs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){te(this,At).clear(),te(this,As).clear()}},At=new WeakMap,As=new WeakMap,Rs=new WeakMap,Ri=new WeakMap,Ii=new WeakMap,Is=new WeakMap,Di=new WeakMap,Oi=new WeakMap,wb),DR=m.createContext(void 0),OR=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(DR.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_u.apply(this,arguments)}var Ms;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ms||(Ms={}));const $y="popstate";function MR(e){e===void 0&&(e={});function t(s,a){let{pathname:o="/",search:l="",hash:c=""}=Al(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),up("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof a=="string"?a:d1(a))}function n(s,a){Xm(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return LR(t,r,n,e)}function Ar(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BR(){return Math.random().toString(36).substr(2,8)}function Fy(e,t){return{usr:e.state,key:e.key,idx:t}}function up(e,t,r,n){return r===void 0&&(r=null),_u({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Al(t):t,{state:r,key:t&&t.key||n||BR()})}function d1(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Al(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function LR(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Ms.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(_u({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Ms.Pop;let y=d(),b=y==null?null:y-u;u=y,c&&c({action:l,location:g.location,delta:b})}function h(y,b){l=Ms.Push;let v=up(g.location,y,b);r&&r(v,y),u=d()+1;let w=Fy(v,u),S=g.createHref(v);try{o.pushState(w,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(S)}a&&c&&c({action:l,location:g.location,delta:1})}function p(y,b){l=Ms.Replace;let v=up(g.location,y,b);r&&r(v,y),u=d();let w=Fy(v,u),S=g.createHref(v);o.replaceState(w,"",S),a&&c&&c({action:l,location:g.location,delta:0})}function x(y){let b=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:d1(y);return v=v.replace(/ $/,"%20"),Ar(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let g={get action(){return l},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener($y,f),c=y,()=>{s.removeEventListener($y,f),c=null}},createHref(y){return t(s,y)},createURL:x,encodeLocation(y){let b=x(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(y){return o.go(y)}};return g}var Uy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Uy||(Uy={}));function $R(e,t,r){return r===void 0&&(r="/"),FR(e,t,r)}function FR(e,t,r,n){let s=typeof t=="string"?Al(t):t,a=p1(s.pathname||"/",r);if(a==null)return null;let o=f1(e);UR(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=ZR(a);l=QR(o[c],u)}return l}function f1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Ar(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ei([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Ar(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),f1(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:KR(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of h1(a.path))s(a,o,c)}),t}function h1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=h1(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function UR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:YR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const zR=/^:[\w-]+$/,WR=3,VR=2,HR=1,GR=10,qR=-2,zy=e=>e==="*";function KR(e,t){let r=e.split("/"),n=r.length;return r.some(zy)&&(n+=qR),t&&(n+=VR),r.filter(s=>!zy(s)).reduce((s,a)=>s+(zR.test(a)?WR:a===""?HR:GR),n)}function YR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function QR(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=JR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ei([a,f.pathname]),pathnameBase:eI(Ei([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ei([a,f.pathnameBase]))}return o}function JR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=XR(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=l[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[f];return p&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function XR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Xm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function ZR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function p1(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Ei=e=>e.join("/").replace(/\/\/+/g,"/"),eI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function tI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const m1=["post","put","patch","delete"];new Set(m1);const rI=["get",...m1];new Set(rI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nu(){return Nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nu.apply(this,arguments)}const nI=m.createContext(null),sI=m.createContext(null),g1=m.createContext(null),md=m.createContext(null),gd=m.createContext({outlet:null,matches:[],isDataRoute:!1}),v1=m.createContext(null);function Zm(){return m.useContext(md)!=null}function y1(){return Zm()||Ar(!1),m.useContext(md).location}function aI(e,t){return iI(e,t)}function iI(e,t,r,n){Zm()||Ar(!1);let{navigator:s}=m.useContext(g1),{matches:a}=m.useContext(gd),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=y1(),d;if(t){var f;let y=typeof t=="string"?Al(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||Ar(!1),d=y}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=$R(e,{pathname:p}),g=dI(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Ei([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Ei([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return t&&g?m.createElement(md.Provider,{value:{location:Nu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ms.Pop}},g):g}function oI(){let e=mI(),t=tI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const lI=m.createElement(oI,null);class cI extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(gd.Provider,{value:this.props.routeContext},m.createElement(v1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uI(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(nI);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(gd.Provider,{value:t},n)}function dI(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ar(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,x=!1,g=null,y=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||lI,c&&(u<0&&h===0?(gI("route-fallback"),x=!0,y=null):u===h&&(x=!0,y=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),v=()=>{let w;return p?w=g:x?w=y:f.route.Component?w=m.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,m.createElement(uI,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(cI,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var x1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(x1||{});function fI(e){let t=m.useContext(sI);return t||Ar(!1),t}function hI(e){let t=m.useContext(gd);return t||Ar(!1),t}function pI(e){let t=hI(),r=t.matches[t.matches.length-1];return r.route.id||Ar(!1),r.route.id}function mI(){var e;let t=m.useContext(v1),r=fI(x1.UseRouteError),n=pI();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}const Wy={};function gI(e,t,r){Wy[e]||(Wy[e]=!0)}function vI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Wc(e){Ar(!1)}function yI(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ms.Pop,navigator:a,static:o=!1,future:l}=e;Zm()&&Ar(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:o,future:Nu({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Al(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:x="default"}=n,g=m.useMemo(()=>{let y=p1(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:x},navigationType:s}},[c,d,f,h,p,x,s]);return g==null?null:m.createElement(g1.Provider,{value:u},m.createElement(md.Provider,{children:r,value:g}))}function xI(e){let{children:t,location:r}=e;return aI(dp(t),r)}new Promise(()=>{});function dp(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let a=[...t,s];if(n.type===m.Fragment){r.push.apply(r,dp(n.props.children,a));return}n.type!==Wc&&Ar(!1),!n.props.index||!n.props.children||Ar(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=dp(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const bI="6";try{window.__reactRouterVersion=bI}catch{}const wI="startTransition",Vy=Fp[wI];function SI(e){let{basename:t,children:r,future:n,window:s}=e,a=m.useRef();a.current==null&&(a.current=MR({window:s,v5Compat:!0}));let o=a.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=m.useCallback(f=>{u&&Vy?Vy(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>vI(n),[n]),m.createElement(yI,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var Hy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Hy||(Hy={}));var Gy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gy||(Gy={}));const jI="modulepreload",_I=function(e){return"/BidWhist/"+e},qy={},Le=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=_I(c),c in qy)return;qy[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":jI,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},NI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Le(async()=>{const{default:n}=await Promise.resolve().then(()=>ro);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class eg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class EI extends eg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ky extends eg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Yy extends eg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var fp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(fp||(fp={}));var CI=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class TI{constructor(t,{headers:r={},customFetch:n,region:s=fp.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=NI(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return CI(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(g=>{throw new EI(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Ky(f);if(!f.ok)throw new Yy(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return p==="application/json"?x=yield f.json():p==="application/octet-stream"?x=yield f.blob():p==="text/event-stream"?x=f:p==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Yy||s instanceof Ky?s.context:void 0}}})}}var Er={},tg={},vd={},Rl={},yd={},xd={},PI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gi=PI();const kI=Gi.fetch,b1=Gi.fetch.bind(Gi),w1=Gi.Headers,AI=Gi.Request,RI=Gi.Response,ro=Object.freeze(Object.defineProperty({__proto__:null,Headers:w1,Request:AI,Response:RI,default:b1,fetch:kI},Symbol.toStringTag,{value:"Module"})),II=EE(ro);var bd={};Object.defineProperty(bd,"__esModule",{value:!0});let DI=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};bd.default=DI;var S1=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xd,"__esModule",{value:!0});const OI=S1(II),MI=S1(bd);let BI=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=OI.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,d=null,f=null,h=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{u=JSON.parse(g),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,p="OK")}catch{a.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new MI.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};xd.default=BI;var LI=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yd,"__esModule",{value:!0});const $I=LI(xd);let FI=class extends $I.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};yd.default=FI;var UI=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rl,"__esModule",{value:!0});const zI=UI(yd);let WI=class extends zI.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Rl.default=WI;var VI=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vd,"__esModule",{value:!0});const bo=VI(Rl);let HI=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new bo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new bo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new bo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new bo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new bo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};vd.default=HI;var wd={},Sd={};Object.defineProperty(Sd,"__esModule",{value:!0});Sd.version=void 0;Sd.version="0.0.0-automated";Object.defineProperty(wd,"__esModule",{value:!0});wd.DEFAULT_HEADERS=void 0;const GI=Sd;wd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${GI.version}`};var j1=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tg,"__esModule",{value:!0});const qI=j1(vd),KI=j1(Rl),YI=wd;let QI=class _1{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},YI.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new qI.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new _1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new KI.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};tg.default=QI;var no=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Er,"__esModule",{value:!0});Er.PostgrestError=Er.PostgrestBuilder=Er.PostgrestTransformBuilder=Er.PostgrestFilterBuilder=Er.PostgrestQueryBuilder=Er.PostgrestClient=void 0;const N1=no(tg);Er.PostgrestClient=N1.default;const E1=no(vd);Er.PostgrestQueryBuilder=E1.default;const C1=no(Rl);Er.PostgrestFilterBuilder=C1.default;const T1=no(yd);Er.PostgrestTransformBuilder=T1.default;const P1=no(xd);Er.PostgrestBuilder=P1.default;const k1=no(bd);Er.PostgrestError=k1.default;var JI=Er.default={PostgrestClient:N1.default,PostgrestQueryBuilder:E1.default,PostgrestFilterBuilder:C1.default,PostgrestTransformBuilder:T1.default,PostgrestBuilder:P1.default,PostgrestError:k1.default};const{PostgrestClient:XI,PostgrestQueryBuilder:_6,PostgrestFilterBuilder:N6,PostgrestTransformBuilder:E6,PostgrestBuilder:C6,PostgrestError:T6}=JI;function ZI(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const eD=ZI(),tD="2.11.15",rD=`realtime-js/${tD}`,nD="1.0.0",A1=1e4,sD=1e3;var Uo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Uo||(Uo={}));var ar;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ar||(ar={}));var wn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(wn||(wn={}));var hp;(function(e){e.websocket="websocket"})(hp||(hp={}));var va;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(va||(va={}));class aD{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class R1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(yt||(yt={}));const Qy=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,o)=>(a[o]=iD(o,e,t,s),a),{})},iD=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?I1(a,o):pp(o)},I1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return uD(t,r)}switch(e){case yt.bool:return oD(t);case yt.float4:case yt.float8:case yt.int2:case yt.int4:case yt.int8:case yt.numeric:case yt.oid:return lD(t);case yt.json:case yt.jsonb:return cD(t);case yt.timestamp:return dD(t);case yt.abstime:case yt.date:case yt.daterange:case yt.int4range:case yt.int8range:case yt.money:case yt.reltime:case yt.text:case yt.time:case yt.timestamptz:case yt.timetz:case yt.tsrange:case yt.tstzrange:return pp(t);default:return pp(t)}},pp=e=>e,oD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},cD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},uD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>I1(t,l))}return e},dD=e=>typeof e=="string"?e.replace(" ","T"):e,D1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Df{constructor(t,r,n={},s=A1){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Jy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Jy||(Jy={}));class zo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zo.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=zo.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=zo.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),x=d.filter(y=>p.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);x.length>0&&(l[u]=x),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Xy||(Xy={}));var Zy;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zy||(Zy={}));var Jn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Jn||(Jn={}));class rg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Df(this,wn.join,this.params,this.timeout),this.rejoinTimer=new R1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ar.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new zo(this),this.broadcastEndpointURL=D1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ar.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Jn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Jn.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Jn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,x=[];for(let g=0;g<p;g++){const y=h[g],{filter:{event:b,schema:v,table:w,filter:S}}=y,_=d&&d[g];if(_&&_.event===b&&_.schema===v&&_.table===w&&_.filter===S)x.push(Object.assign(Object.assign({},y),{id:_.id}));else{this.unsubscribe(),this.state=ar.errored,t==null||t(Jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Jn.SUBSCRIBED);return}}).receive("error",d=>{this.state=ar.errored,t==null||t(Jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ar.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Df(this,wn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Df(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=wn;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,g,y;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var x,g,y,b,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,_=(x=p.filter)===null||x===void 0?void 0:x.event;return S&&((g=r.ids)===null||g===void 0?void 0:g.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(v=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:g,table:y,commit_timestamp:b,type:v,errors:w}=x;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:b,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(x))}p.callback(h,n)})}_isClosed(){return this.state===ar.closed}_isJoined(){return this.state===ar.joined}_isJoining(){return this.state===ar.joining}_isLeaving(){return this.state===ar.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&rg.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(wn.close,{},t)}_onError(t){this._on(wn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ar.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Qy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Qy(t.columns,t.old_record)),r}}const ex=()=>{},fD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hD{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=A1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ex,this.ref=0,this.logger=ex,this.conn=null,this.sendBuffer=[],this.serializer=new aD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Le(async()=>{const{default:c}=await Promise.resolve().then(()=>ro);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${hp.websocket}`,this.httpEndpoint=D1(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,o)=>o(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new R1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=eD),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nD}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Uo.connecting:return va.Connecting;case Uo.open:return va.Open;case Uo.closing:return va.Closing;default:return va.Closed}}isConnected(){return this.connectionState()===va.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new rg(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:rD};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(wn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(sD,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(wn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([fD],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ng extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class pD extends ng{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class mp extends ng{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var mD=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const O1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Le(async()=>{const{default:n}=await Promise.resolve().then(()=>ro);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},gD=()=>mD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Le(()=>Promise.resolve().then(()=>ro),void 0)).Response:Response}),gp=e=>{if(Array.isArray(e))return e.map(r=>gp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=gp(n)}),t};var Wa=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Of=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vD=(e,t,r)=>Wa(void 0,void 0,void 0,function*(){const n=yield gD();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new pD(Of(s),e.status||500))}).catch(s=>{t(new mp(Of(s),s))}):t(new mp(Of(e),e))}),yD=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Il(e,t,r,n,s,a){return Wa(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,yD(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>vD(c,l,n))})})}function Eu(e,t,r,n){return Wa(this,void 0,void 0,function*(){return Il(e,"GET",t,r,n)})}function Ns(e,t,r,n,s){return Wa(this,void 0,void 0,function*(){return Il(e,"POST",t,n,s,r)})}function xD(e,t,r,n,s){return Wa(this,void 0,void 0,function*(){return Il(e,"PUT",t,n,s,r)})}function bD(e,t,r,n){return Wa(this,void 0,void 0,function*(){return Il(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function M1(e,t,r,n,s){return Wa(this,void 0,void 0,function*(){return Il(e,"DELETE",t,n,s,r)})}var br=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const wD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},tx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class SD{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=O1(s)}uploadOrUpdate(t,r,n,s){return br(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},tx),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}upload(t,r,n){return br(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return br(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:tx.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Ft(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return br(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Ns(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new ng("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}update(t,r,n){return br(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return br(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ft(s))return{data:null,error:s};throw s}})}copy(t,r,n){return br(this,void 0,void 0,function*(){try{return{data:{path:(yield Ns(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ft(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return br(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Ns(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(Ft(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return br(this,void 0,void 0,function*(){try{const s=yield Ns(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(Ft(s))return{data:null,error:s};throw s}})}download(t,r){return br(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Eu(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ft(l))return{data:null,error:l};throw l}})}info(t){return br(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Eu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:gp(n),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}exists(t){return br(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield bD(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ft(n)&&n instanceof mp){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return br(this,void 0,void 0,function*(){try{return{data:yield M1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}list(t,r,n){return br(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},wD),r),{prefix:t||""});return{data:yield Ns(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ft(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const jD="2.7.1",_D={"X-Client-Info":`storage-js/${jD}`};var qa=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class ND{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},_D),r),this.fetch=O1(n)}listBuckets(){return qa(this,void 0,void 0,function*(){try{return{data:yield Eu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ft(t))return{data:null,error:t};throw t}})}getBucket(t){return qa(this,void 0,void 0,function*(){try{return{data:yield Eu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return qa(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return qa(this,void 0,void 0,function*(){try{return{data:yield xD(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}emptyBucket(t){return qa(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}deleteBucket(t){return qa(this,void 0,void 0,function*(){try{return{data:yield M1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}}class ED extends ND{constructor(t,r={},n){super(t,r,n)}from(t){return new SD(this.url,this.headers,t,this.fetch)}}const CD="2.52.0";let To="";typeof Deno<"u"?To="deno":typeof document<"u"?To="web":typeof navigator<"u"&&navigator.product==="ReactNative"?To="react-native":To="node";const TD={"X-Client-Info":`supabase-js-${To}/${CD}`},PD={headers:TD},kD={schema:"public"},AD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},RD={};var ID=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const DD=e=>{let t;return e?t=e:typeof fetch>"u"?t=b1:t=fetch,(...r)=>t(...r)},OD=()=>typeof Headers>"u"?w1:Headers,MD=(e,t,r)=>{const n=DD(r),s=OD();return(a,o)=>ID(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var BD=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function LD(e){return e.endsWith("/")?e:e+"/"}function $D(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>BD(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const B1="2.71.1",ri=30*1e3,vp=3,Mf=vp*ri,FD="http://localhost:9999",UD="supabase.auth.token",zD={"X-Client-Info":`gotrue-js/${B1}`},yp="X-Supabase-Api-Version",L1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},WD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,VD=10*60*1e3;class sg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class HD extends sg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function GD(e){return Ve(e)&&e.name==="AuthApiError"}class $1 extends sg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class aa extends sg{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ws extends aa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qD(e){return Ve(e)&&e.name==="AuthSessionMissingError"}class mc extends aa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gc extends aa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vc extends aa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function KD(e){return Ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class rx extends aa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xp extends aa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Bf(e){return Ve(e)&&e.name==="AuthRetryableFetchError"}class nx extends aa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class bp extends aa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sx=` 	
\r=`.split(""),YD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<sx.length;t+=1)e[sx[t].charCodeAt(0)]=-2;for(let t=0;t<Cu.length;t+=1)e[Cu[t].charCodeAt(0)]=t;return e})();function ax(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Cu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Cu[n]),t.queuedBits-=6}}function F1(e,t,r){const n=YD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ix(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{XD(o,n,r)};for(let o=0;o<e.length;o+=1)F1(e.charCodeAt(o),s,a);return t.join("")}function QD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function JD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}QD(n,t)}}function XD(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ZD(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)F1(e.charCodeAt(s),r,n);return new Uint8Array(t)}function eO(e){const t=[];return JD(e,r=>t.push(r)),new Uint8Array(t)}function tO(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>ax(s,r,n)),ax(null,r,n),t.join("")}function rO(e){return Math.round(Date.now()/1e3)+e}function nO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const hn=()=>typeof window<"u"&&typeof document<"u",ua={tested:!1,writable:!1},U1=()=>{if(!hn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ua.tested)return ua.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ua.tested=!0,ua.writable=!0}catch{ua.tested=!0,ua.writable=!1}return ua.writable};function sO(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const z1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Le(async()=>{const{default:n}=await Promise.resolve().then(()=>ro);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},aO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ni=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},da=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ys=async(e,t)=>{await e.removeItem(t)};class jd{constructor(){this.promise=new jd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}jd.promiseConstructor=Promise;function Lf(e){const t=e.split(".");if(t.length!==3)throw new bp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!WD.test(t[n]))throw new bp("JWT not in base64url format");return{header:JSON.parse(ix(t[0])),payload:JSON.parse(ix(t[1])),signature:ZD(t[2]),raw:{header:t[0],payload:t[1]}}}async function iO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function oO(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function lO(e){return("0"+e.toString(16)).substr(-2)}function cO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,lO).join("")}async function uO(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function dO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await uO(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ka(e,t,r=!1){const n=cO();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ni(e,`${t}-code-verifier`,s);const a=await dO(n);return[a,n===a?"plain":"s256"]}const fO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hO(e){const t=e.headers.get(yp);if(!t||!t.match(fO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function pO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function mO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ya(e){if(!gO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $f(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ox(e){return JSON.parse(JSON.stringify(e))}var vO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ma=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yO=[502,503,504];async function lx(e){var t;if(!aO(e))throw new xp(ma(e),0);if(yO.includes(e.status))throw new xp(ma(e),e.status);let r;try{r=await e.json()}catch(a){throw new $1(ma(a),a)}let n;const s=hO(e);if(s&&s.getTime()>=L1["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new nx(ma(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ws}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new nx(ma(r),e.status,r.weak_password.reasons);throw new HD(ma(r),e.status||500,n)}const xO=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ke(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[yp]||(a[yp]=L1["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await bO(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function bO(e,t,r,n,s,a){const o=xO(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new xp(ma(c),0)}if(l.ok||await lx(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await lx(c)}}function Yn(e){var t;let r=null;_O(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=rO(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function cx(e){const t=Yn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ts(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function wO(e){return{data:e,error:null}}function SO(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=vO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function jO(e){return e}function _O(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ff=["global","local","others"];var NO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class EO{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=z1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ff[0]){if(Ff.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ff.join(", ")}`);try{return await Ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ts})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=NO(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:SO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ts})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:jO});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ve(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ya(t);try{return await Ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ts})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ya(t);try{return await Ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ts})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ya(t);try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ts})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ya(t.userId);try{const{data:r,error:n}=await Ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ya(t.userId),Ya(t.id);try{return{data:await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}}function ux(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function CO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qa={debug:!!(globalThis&&U1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class W1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class TO extends W1{}async function PO(e,t,r){Qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Qa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Qa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new TO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}CO();const kO={url:FD,storageKey:UD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function dx(e,t,r){return await r()}const Ja={};class pl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pl.nextInstanceID,pl.nextInstanceID+=1,this.instanceID>0&&hn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},kO),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new EO({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=z1(s.fetch),this.lock=s.lock||dx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:hn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=PO:this.lock=dx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:U1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ux(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ux(this.memoryStorage)),hn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Ja[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ja[this.storageKey]=Object.assign(Object.assign({},Ja[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ja[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ja[this.storageKey]=Object.assign(Object.assign({},Ja[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${B1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=sO(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),hn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),KD(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ve(r)?{error:r}:{error:new $1("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Yn}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ve(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Ka(this.storage,this.storageKey)),a=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:x},xform:Yn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Yn})}else throw new gc("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ve(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:cx})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:cx})}else throw new gc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new mc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,o,l,c,u,d,f,h,p;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:y,wallet:b,statement:v,options:w}=t;let S;if(hn())if(typeof b=="object")S=b;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const _=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),v?{statement:v}:null));let N;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")N=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)N=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)x=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(x),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=j}}try{const{data:y,error:b}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:tO(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Yn});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new mc}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(Ve(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await da(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:o}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Yn});if(await ys(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new mc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(Ve(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Yn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new mc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ka(this.storage,this.storageKey));const{error:f}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new gc("You must provide either an email or phone number.")}catch(l){if(Ve(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Yn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Ka(this.storage,this.storageKey)),await Ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:wO})}catch(a){if(Ve(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ws;const{error:s}=await Ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await Ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await Ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new gc("You must provide either an email or phone number and a type")}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await da(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Mf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await da(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=$f()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ts}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ws}:await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Ts})})}catch(r){if(Ve(r))return qD(r)&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new ws;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ka(this.storage,this.storageKey));const{data:u,error:d}=await Ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ts});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ws;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=Lf(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Ve(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ws;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!hn())throw new vc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new rx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new rx("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new vc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=ri&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:g,error:y}=await this._getUser(a);if(y)throw y;const b={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(Ve(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await da(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(GD(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=nO(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ka(this.storage,this.storageKey,!0));try{return await Ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Ve(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ke(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return hn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ve(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await Ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await oO(async s=>(s>0&&await iO(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Yn})),(s,a)=>{const o=200*Math.pow(2,s);return a&&Bf(a)&&Date.now()+o-n<ri})}catch(n){if(this._debug(r,"error",n),Ve(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),hn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await da(this.storage,this.storageKey);if(s&&this.userStorage){let o=await da(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ni(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:$f()}else if(s&&!s.user&&!s.user){const o=await da(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ys(this.storage,this.storageKey+"-user"),await ni(this.storage,this.storageKey,s)):s.user=$f()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Mf;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Mf}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Bf(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ws;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new jd;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ws;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),Ve(a)){const o={session:null,error:a};return Bf(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ni(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=ox(s);await ni(this.storage,this.storageKey,a)}else{const s=ox(r);await ni(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ys(this.storage,this.storageKey),await ys(this.storage,this.storageKey+"-code-verifier"),await ys(this.storage,this.storageKey+"-user"),this.userStorage&&await ys(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&hn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ri);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ri);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ri}ms, refresh threshold is ${vp} ticks`),s<=vp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof W1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ka(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Ke(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await Ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Lf(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+VD>s)return n;const{data:a,error:o}=await Ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};n=p.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=Lf(n);r!=null&&r.allowExpired||pO(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:s,signature:o},error:null}}const d=mO(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,eO(`${l}.${c}`)))throw new bp("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}}pl.nextInstanceID=0;const AO=pl;class RO extends AO{constructor(t){super(t)}}var IO=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class DO{constructor(t,r,n){var s,a,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=LD(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:kD,realtime:RD,auth:Object.assign(Object.assign({},AD),{storageKey:u}),global:PD},f=$D(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=MD(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new XI(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new TI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ED(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return IO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RO({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new hD(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const OO=(e,t,r)=>new DO(e,t,r),MO="https://awfupnyqnmkhhihjwtjp.supabase.co",BO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF3ZnVwbnlxbm1raGhpaGp3dGpwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI3ODY2OTgsImV4cCI6MjA2ODM2MjY5OH0.ThT4hwPe9mddo8GV8rE3nDueRHKttHaYp7S676JUREg",ct=OO(MO,BO),Ye=Object.freeze(Object.defineProperty({__proto__:null,supabase:ct},Symbol.toStringTag,{value:"Module"})),V1=m.createContext({}),Dt=()=>m.useContext(V1),LO=(e,t,r)=>({updateTournamentResult:(o,l,c,u,d)=>{t(f=>{const p=(f[o]||[]).map(x=>{if(x.teamId===l){const g={...x.rounds};g[c]||(g[c]={points:0,wl:"",boston:0}),g[c]={...g[c],[u]:d};const y=Object.values(g).reduce((w,S)=>w+(S.points||0),0),b=Object.values(g).filter(w=>w.wl==="W").length,v=Object.values(g).reduce((w,S)=>w+(S.boston||0),0);return{...x,rounds:g,totalPoints:y,totalWins:b,totalBoston:v}}return x});return{...f,[o]:p}})},getTournamentResults:o=>{const l=r.filter(f=>{var h;return(h=f.registeredTournaments)==null?void 0:h.includes(o)}),c=e[o]||[],u={};return c.forEach(f=>{u[f.teamId]=f}),l.map(f=>u[f.id]?u[f.id]:{teamId:f.id,teamNumber:f.teamNumber,teamName:f.name,rounds:{},totalPoints:0,totalWins:0,totalBoston:0})},formatTeamName:(o,l)=>{if(!o.trim()||!l.trim())return"";const c=l.trim().charAt(0).toUpperCase();return`${o.trim()} ${c}`}}),H1=({children:e})=>{["teams","schedules","games","scoreSubmissions"].forEach(A=>localStorage.removeItem(A));const[t,r]=m.useState(null);Z.useEffect(()=>{Le(async()=>{const{supabase:A}=await Promise.resolve().then(()=>Ye);return{supabase:A}},void 0).then(({supabase:A})=>{A.from("teams").select("*").limit(1).then($=>{}).catch($=>{})})},[]);const n=A=>{if(A){const he=g.find(_e=>_e.tournamentId===A),Q=he?he.matches.map(_e=>_e.id):[];f(_e=>_e.filter(ye=>!ye.matchId||!Q.includes(ye.matchId))),localStorage.setItem("games",JSON.stringify(JSON.parse(localStorage.getItem("games")||"[]").filter(_e=>!_e.matchId||!Q.includes(_e.matchId)))),x(_e=>_e.filter(ye=>!ye.matchId||!Q.includes(ye.matchId))),localStorage.setItem("scoreSubmissions",JSON.stringify(JSON.parse(localStorage.getItem("scoreSubmissions")||"[]").filter(_e=>!_e.matchId||!Q.includes(_e.matchId))))}else f([]),localStorage.setItem("games",JSON.stringify([])),x([]),localStorage.setItem("scoreSubmissions",JSON.stringify([]));S(he=>{if(!A)return{};const Q={...he};return delete Q[A],Q});const $=localStorage.getItem("tournamentResults");let F=$?JSON.parse($):{};A&&typeof F=="object"&&F!==null?(delete F[A],localStorage.setItem("tournamentResults",JSON.stringify(F))):A||localStorage.setItem("tournamentResults",JSON.stringify({}));const O=localStorage.getItem("resultsOverrides");let V=O?JSON.parse(O):{};A&&typeof V=="object"&&V!==null?localStorage.setItem("resultsOverrides",JSON.stringify({})):A||localStorage.setItem("resultsOverrides",JSON.stringify({})),y(he=>A?he.filter(Q=>Q.tournamentId!==A):[]),localStorage.setItem("schedules",JSON.stringify(A?JSON.parse(localStorage.getItem("schedules")||"[]").filter(he=>he.tournamentId!==A):[])),j(he=>{if(!A)return{};const Q={...he};return delete Q[A],Q});const U=localStorage.getItem("brackets");let ie=U?JSON.parse(U):{};A&&typeof ie=="object"&&ie!==null?(delete ie[A],localStorage.setItem("brackets",JSON.stringify(ie))):A||localStorage.setItem("brackets",JSON.stringify({}))},[s,a]=m.useState(!1),[o,l]=m.useState([]),[c,u]=m.useState([]);m.useEffect(()=>{Le(()=>Promise.resolve().then(()=>Ye),void 0).then(async({supabase:A})=>{try{console.log("Starting to load teams from Supabase...");const{data:$,error:F}=await A.from("teams").select(`
            *,
            player1:players!player1_id(*),
            player2:players!player2_id(*)
          `);if(console.log("Teams fetch result:",{teamsData:($==null?void 0:$.length)||0,teamsError:F}),F){console.error("Error fetching teams:",F);const Q=`Failed to load teams: ${F.message} (Code: ${F.code})`;r(Q),Y({title:"Teams Loading Error",description:Q,variant:"destructive"}),l([]);return}const{data:O,error:V}=await A.from("team_registrations").select("*"),{data:U,error:ie}=await A.from("player_tournament").select("*");if(V){console.error("Error fetching team registrations:",V);const Q=`Failed to load team registrations: ${V.message} (Code: ${V.code})`;r(Q),Y({title:"Team Registrations Error",description:Q,variant:"destructive"});const _e=($||[]).map(ye=>{var $e,me,Ee,Ae,Je,Re,We,Fe;return{...ye,id:String(ye.id),player1FirstName:(($e=ye.player1)==null?void 0:$e.first_name)||"",player1LastName:((me=ye.player1)==null?void 0:me.last_name)||"",player2FirstName:((Ee=ye.player2)==null?void 0:Ee.first_name)||"",player2LastName:((Ae=ye.player2)==null?void 0:Ae.last_name)||"",phoneNumber:((Je=ye.player1)==null?void 0:Je.phone_number)||((Re=ye.player2)==null?void 0:Re.phone_number)||"",player1_phone:((We=ye.player1)==null?void 0:We.phone_number)||"",player2_phone:((Fe=ye.player2)==null?void 0:Fe.phone_number)||"",city:ye.city||"",registeredTournaments:[]}});l(_e);return}if(ie){console.error("Error fetching player payments:",ie);const Q=`Failed to load player payments: ${ie.message} (Code: ${ie.code})`;r(Q),Y({title:"Player Payments Error",description:Q,variant:"destructive"})}const he=($||[]).map(Q=>{var Je,Re,We,Fe,it,Nt,ve,De;const ye=O.filter(pe=>String(pe.team_id)===String(Q.id)).map(pe=>pe.tournament_id),$e={},me={},Ee={},Ae={};return U&&!ie&&U.forEach(pe=>{pe.player_id===Q.player1_id?($e[pe.tournament_id]=pe.paid,Ee[pe.tournament_id]=pe.b_paid):pe.player_id===Q.player2_id&&(me[pe.tournament_id]=pe.paid,Ae[pe.tournament_id]=pe.b_paid)}),{...Q,id:String(Q.id),player1FirstName:((Je=Q.player1)==null?void 0:Je.first_name)||"",player1LastName:((Re=Q.player1)==null?void 0:Re.last_name)||"",player2FirstName:((We=Q.player2)==null?void 0:We.first_name)||"",player2LastName:((Fe=Q.player2)==null?void 0:Fe.last_name)||"",phoneNumber:((it=Q.player1)==null?void 0:it.phone_number)||((Nt=Q.player2)==null?void 0:Nt.phone_number)||"",player1_phone:((ve=Q.player1)==null?void 0:ve.phone_number)||"",player2_phone:((De=Q.player2)==null?void 0:De.phone_number)||"",city:Q.city||"",registeredTournaments:ye,player1TournamentPayments:$e,player2TournamentPayments:me,player1BostonPotPayments:Ee,player2BostonPotPayments:Ae}});console.log("Setting teams with tournaments:",(he==null?void 0:he.length)||0,"teams"),l(he),r(null)}catch($){const F=`Unexpected error loading teams: ${$ instanceof Error?$.message:String($)}`;console.error("Unexpected error in teams loading:",$),r(F),Y({title:"Teams Loading Error",description:F,variant:"destructive"}),l([])}})},[]),m.useEffect(()=>{bt()},[]);const[d,f]=m.useState([]);m.useEffect(()=>{async function A(){const{data:F,error:O}=await ct.from("games").select("*");if(O){Y({title:"Failed to fetch games from Supabase",description:O.message,variant:"destructive"}),f([]);return}if(!F){f([]);return}const V=F.map(U=>({...U,id:String(U.id),teamA:String(U.teamA??U.team_a),teamB:String(U.teamB??U.team_b),matchId:String(U.matchId??U.match_id),handsA:U.handsA??U.hands_a??0,handsB:U.handsB??U.hands_b??0,boston_a:U.boston_a??U.bostonA??0,boston_b:U.boston_b??U.bostonB??0,entered_by_team_id:U.entered_by_team_id??U.enteredBy,status:U.status,round:U.round,submittedBy:String(U.submitted_by??U.submittedBy??""),confirmed:!!U.confirmed,timestamp:U.timestamp?new Date(U.timestamp):new Date}));f(V)}A();const $=ct.channel("public:games").on("postgres_changes",{event:"*",schema:"public",table:"games"},F=>{const O=F.new||F.old;if(!O)return;const V={...O,id:String(O.id),teamA:String(O.teamA??O.team_a),teamB:String(O.teamB??O.team_b),matchId:String(O.matchId??O.match_id),handsA:O.handsA??O.hands_a??0,handsB:O.handsB??O.hands_b??0,boston_a:O.boston_a??O.bostonA??0,boston_b:O.boston_b??O.bostonB??0,entered_by_team_id:O.entered_by_team_id??O.enteredBy,status:O.status,round:O.round,submittedBy:String(O.submitted_by??O.submittedBy??""),confirmed:!!O.confirmed,timestamp:O.timestamp?new Date(O.timestamp):new Date};f(U=>{switch(F.eventType){case"DELETE":return U.filter(he=>he.id!==O.id);case"UPDATE":return U.map(he=>he.id===O.id?V:he);case"INSERT":default:return U.some(he=>he.id===O.id)?U:[...U,V]}})}).subscribe();return()=>{ct.removeChannel($)}},[]);const h=async()=>{try{const{data:A,error:$}=await ct.from("games").select("*");if($){Y({title:"Failed to refresh games from Supabase",description:$.message,variant:"destructive"});return}const F=(A||[]).map(O=>({...O,id:String(O.id),teamA:String(O.teamA??O.team_a),teamB:String(O.teamB??O.team_b),matchId:String(O.matchId??O.match_id),handsA:O.handsA??O.hands_a??0,handsB:O.handsB??O.hands_b??0,boston_a:O.boston_a??O.bostonA??0,boston_b:O.boston_b??O.bostonB??0,entered_by_team_id:O.entered_by_team_id??O.enteredBy,status:O.status,round:O.round,submittedBy:String(O.submitted_by??O.submittedBy??""),confirmed:!!O.confirmed,timestamp:O.timestamp?new Date(O.timestamp):new Date}));f(F)}catch(A){Y({title:"Unexpected error refreshing games",description:String(A),variant:"destructive"})}},[p,x]=m.useState(()=>{const A=localStorage.getItem("scoreSubmissions");return A?JSON.parse(A):[]});m.useEffect(()=>{(async()=>{const{data:F,error:O}=await ct.from("scores").select("*");if(O){console.error("Failed to load scores",O);return}F&&x(F.map(V=>({id:V.id,matchId:V.matchId,teamA:o.find(U=>String(U.id)===String(V.team_a))||{id:String(V.team_a)},teamB:o.find(U=>String(U.id)===String(V.team_b))||{id:String(V.team_b)},scoreA:Number(V.score_a),scoreB:Number(V.score_b),boston:V.boston,handsA:Number(V.hands_a)||0,handsB:Number(V.hands_b)||0,submittedBy:String(V.submitted_by),timestamp:new Date(V.timestamp),round:V.round})))})();const $=ct.channel("public:scores").on("postgres_changes",{event:"*",schema:"public",table:"scores"},F=>{const O=F.new||F.old;if(!O)return;const V={id:O.id,matchId:O.matchId,teamA:o.find(U=>String(U.id)===String(O.team_a))||{id:String(O.team_a)},teamB:o.find(U=>String(U.id)===String(O.team_b))||{id:String(O.team_b)},scoreA:Number(O.score_a),scoreB:Number(O.score_b),boston:O.boston,handsA:Number(O.hands_a)||0,handsB:Number(O.hands_b)||0,submittedBy:String(O.submitted_by),timestamp:new Date(O.timestamp),round:O.round};x(U=>{switch(F.eventType){case"DELETE":return U.filter(he=>he.id!==O.id);case"UPDATE":return U.map(he=>he.id===O.id?V:he);case"INSERT":default:return U.some(he=>he.id===O.id)?U:[...U,V]}})}).subscribe();return()=>{ct.removeChannel($)}},[o]);const[g,y]=m.useState([]);m.useEffect(()=>{async function A(){try{const{data:$,error:F}=await ct.from("matches").select("*");if(F){Y({title:"Failed to fetch schedules from Supabase",description:F.message,variant:"destructive"});return}if(!$){y([]);return}const O={};$.forEach(U=>{const ie={id:String(U.id),teamA:String(U.team_a),teamB:String(U.team_b),round:U.round,tournamentId:String(U.tournament_id),isBye:U.is_bye,isSameCity:U.is_same_city,table:U.table_number};O[ie.tournamentId]||(O[ie.tournamentId]=[]),O[ie.tournamentId].push(ie)});const V=Object.entries(O).map(([U,ie])=>({tournamentId:U,rounds:Math.max(...ie.map(he=>he.round)),matches:ie}));y(V)}catch($){Y({title:"Unexpected error fetching schedules",description:String($),variant:"destructive"}),y([])}}A()},[]),m.useEffect(()=>{const A=ct.channel("public:matches").on("postgres_changes",{event:"*",schema:"public",table:"matches"},async()=>{try{const{data:$,error:F}=await ct.from("matches").select("*");if(F||!$)return;const O={};$.forEach(U=>{const ie={id:String(U.id),teamA:String(U.team_a),teamB:String(U.team_b),round:U.round,tournamentId:String(U.tournament_id),isBye:U.is_bye,isSameCity:U.is_same_city,table:U.table_number};O[ie.tournamentId]||(O[ie.tournamentId]=[]),O[ie.tournamentId].push(ie)});const V=Object.entries(O).map(([U,ie])=>({tournamentId:U,rounds:Math.max(...ie.map(he=>he.round)),matches:ie}));y(V)}catch($){console.error("Realtime schedule refresh failed",$)}}).subscribe();return()=>{ct.removeChannel(A)}},[]),m.useEffect(()=>{localStorage.setItem("schedules",JSON.stringify(g))},[g]),m.useEffect(()=>{localStorage.setItem("scoreSubmissions",JSON.stringify(p))},[p]);const[b,v]=m.useState([]),[w,S]=m.useState({}),[_,j]=m.useState(()=>{const A=localStorage.getItem("brackets");return A?JSON.parse(A):{}});m.useEffect(()=>{localStorage.setItem("brackets",JSON.stringify(_))},[_]);const[N,E]=m.useState(["Columbus","Cincinnati","Chicago","Detroit","Atlanta","DC/Maryland","Other"]),[D,k]=m.useState([]);m.useEffect(()=>{Le(async()=>{const{supabase:A}=await Promise.resolve().then(()=>Ye);return{supabase:A}},void 0).then(({supabase:A})=>{A.from("tournaments").select("*").then($=>{if(!$.error){const F=($.data||[]).map(O=>({...O,bostonPotCost:O.boston_pot_cost}));k(F)}})})},[]);const z=m.useCallback(()=>D.find(A=>A.status==="active")||null,[D]),I=async A=>{const $=String(A),{error:F}=await ct.from("tournaments").update({status:"not_active"}).neq("id",$);F&&console.error("[setActiveTournament] Error setting all to not_active:",F);const{error:O}=await ct.from("tournaments").update({status:"active"}).eq("id",$).select();O&&console.error("[setActiveTournament] Error setting selected to active:",O);const{data:V,error:U}=await ct.from("tournaments").select("*");U?console.error("[setActiveTournament] Error refreshing tournaments:",U):k(V||[]),(F||O)&&Y({title:"Failed to set active tournament",description:((F==null?void 0:F.message)||"")+((O==null?void 0:O.message)||""),variant:"destructive"})},q=A=>{k($=>$.map(F=>F.id===A?{...F,status:"finished"}:F)),y($=>$.filter(F=>F.tournamentId!==A)),ce(A),K(A),ae(A),Y({title:"Tournament finished and cleared."})},[R,T]=m.useState(""),[L,J]=m.useState([]),M=async()=>{try{const{data:A,error:$}=await ct.from("messages").select("*").order("created_at",{ascending:!1});if($){console.error("Error fetching messages:",$);return}if(A){const F=A.map(O=>({id:O.id,text:O.text,type:O.type,active:O.active,createdAt:new Date(O.created_at),expiresAt:O.expires_at?new Date(O.expires_at):void 0,createdBy:O.created_by}));J(F)}}catch(A){console.error("Error fetching messages:",A)}};m.useEffect(()=>{M()},[]),m.useEffect(()=>{const A=setInterval(()=>{M()},5e3);return()=>clearInterval(A)},[]),m.useEffect(()=>{const A=async()=>{try{return ct.channel("messages-realtime").on("postgres_changes",{event:"*",schema:"public",table:"messages"},O=>{setTimeout(()=>{M()},100)}).subscribe(O=>{O==="CHANNEL_ERROR"&&console.error("Messages subscription error")})}catch(F){return console.error("Error setting up messages subscription:",F),null}};let $=null;return A().then(F=>{$=F}),()=>{$&&ct.removeChannel($)}},[]);const{updateTournamentResult:B,getTournamentResults:H}=LO(w,S,o),re=(A,$,F,O)=>{l(V=>V.map(U=>{if(U.id!==A)return U;const ie=$==="player1"?"player1TournamentPayments":"player2TournamentPayments";return{...U,[ie]:{...U[ie],[F]:O}}}))};m.useEffect(()=>{let A=null;return(async()=>{const{supabase:$}=await Le(async()=>{const{supabase:F}=await Promise.resolve().then(()=>Ye);return{supabase:F}},void 0);A=$.channel("scores-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"scores"},async F=>{const O=F.new,V=String(O.match_id),U=p.find(ie=>ie.matchId===V&&String(ie.submittedBy)===String(R));U&&U.scoreA===O.score_a&&U.scoreB===O.score_b&&U.boston===O.boston&&await W({...U,teamA:U.teamA,teamB:U.teamB,scoreA:U.scoreA,scoreB:U.scoreB,boston:U.boston,handsA:U.handsA,handsB:U.handsB,matchId:V,round:U.round,submittedBy:U.submittedBy})}).subscribe()})(),()=>{A&&A.unsubscribe&&A.unsubscribe()}},[p,R]),m.useEffect(()=>{d.forEach(A=>{if(!A.confirmed)return;let $="1";if(A.matchId){const _e=g.find(ye=>ye.matches.some($e=>$e.id===A.matchId));_e&&($=_e.tournamentId)}const F=A.round,O=typeof A.teamA=="object"?A.teamA.id:String(A.teamA||""),V=typeof A.teamB=="object"?A.teamB.id:String(A.teamB||""),U=A.winner==="teamA",ie=A.winner==="teamB",he=A.boston==="teamA"?1:0,Q=A.boston==="teamB"?1:0;S(_e=>{let $e=(_e[$]||[]).map(me=>{if(me.teamId===O){const Ee={...me.rounds};Ee[F]={points:A.scoreA,wl:U?"W":"L",boston:he};const Ae=Object.values(Ee).reduce((We,Fe)=>We+(Fe.points||0),0),Je=Object.values(Ee).filter(We=>We.wl==="W").length,Re=Object.values(Ee).reduce((We,Fe)=>We+(Fe.boston||0),0);return{...me,rounds:Ee,totalPoints:Ae,totalWins:Je,totalBoston:Re}}return me});return $e=$e.map(me=>{if(me.teamId===V){const Ee={...me.rounds};Ee[F]={points:A.scoreB,wl:ie?"W":"L",boston:Q};const Ae=Object.values(Ee).reduce((We,Fe)=>We+(Fe.points||0),0),Je=Object.values(Ee).filter(We=>We.wl==="W").length,Re=Object.values(Ee).reduce((We,Fe)=>We+(Fe.boston||0),0);return{...me,rounds:Ee,totalPoints:Ae,totalWins:Je,totalBoston:Re}}return me}),{..._e,[$]:$e}})})},[d,g]);const W=async A=>{const $=A.matchId,F=A.entered_by_team_id,{data:O,error:V}=await ct.from("games").select("*").eq("matchId",$).eq("entered_by_team_id",F).in("status",["entering","disputed"]).single();if(V||!O){console.error("submitGame: Could not find existing score entry or disputed row",V),Y({title:"Error: Could not find score entry session",description:"Please try again.",variant:"destructive"});return}const U={id:O.id,teamA:A.teamA,teamB:A.teamB,scoreA:A.scoreA,scoreB:A.scoreB,teamAScore:A.scoreA,teamBScore:A.scoreB,boston:"none",boston_a:A.boston_a,boston_b:A.boston_b,winner:A.winner,submittedBy:String(F),confirmed:!1,timestamp:new Date,matchId:$,round:A.round,handsA:A.handsA,handsB:A.handsB,status:"pending_confirmation",entered_by_team_id:F};try{const{error:ie}=await ct.from("games").upsert([{id:U.id,matchId:U.matchId,teamA:String(U.teamA),teamB:String(U.teamB),scoreA:U.scoreA,scoreB:U.scoreB,boston_a:U.boston_a,boston_b:U.boston_b,winner:U.winner,submittedBy:U.submittedBy,confirmed:U.confirmed,confirmedBy:null,round:U.round,timestamp:U.timestamp,handsA:U.handsA,handsB:U.handsB,status:U.status,entered_by_team_id:U.entered_by_team_id}],{onConflict:["id"]});if(ie){console.error("GAME UPSERT ERROR",ie),Y({title:"Failed to save game",description:ie.message,variant:"destructive"});return}Y({title:"Score submitted successfully!",description:"Waiting for opponent confirmation.",variant:"default"}),f(he=>he.map(Q=>Q.id===U.id?U:Q)),await h()}catch(ie){console.error("GAME UPSERT UNEXPECTED",ie),Y({title:"Unexpected error",description:String(ie),variant:"destructive"});return}},ce=A=>{S($=>{const F={...$};return delete F[A],F})},K=A=>{f($=>{const F=g.find(V=>V.tournamentId===A);if(!F)return $;const O=F.matches.map(V=>V.id);return $.filter(V=>!V.matchId||!O.includes(V.matchId))})},ae=A=>{x($=>{const F=g.find(V=>V.tournamentId===A);if(!F)return $;const O=F.matches.map(V=>V.id);return $.filter(V=>!O.includes(V.matchId))})},be=async A=>{try{const{matches:$}=A,F=$.map(V=>({id:V.id,team_a:V.teamA,team_b:V.teamB,round:V.round,tournament_id:V.tournamentId,table_number:V.table!=null?V.table:1,is_bye:V.isBye??!1,is_same_city:V.isSameCity??!1})),{error:O}=await ct.from("matches").upsert(F,{onConflict:["id"]});if(O){Y({title:"Failed to save schedule to Supabase",description:O.message,variant:"destructive"});return}Y({title:"Schedule saved to Supabase!",variant:"default"}),y(V=>[...V.filter(U=>U.tournamentId!==A.tournamentId),A])}catch($){Y({title:"Unexpected error saving schedule",description:String($),variant:"destructive"})}},C=async(A,$,F)=>{var $e;f(me=>me.map(Ee=>Ee.id===A?{...Ee,confirmed:$}:Ee));try{const{error:me}=await ct.from("games").update({status:$?"confirmed":"disputed",confirmed:$,confirmedBy:$?"opponent":null}).eq("id",A);if(me){console.error("confirmScore database update error:",me),Y({title:"Error updating score confirmation",description:me.message,variant:"destructive"});return}}catch(me){console.error("confirmScore unexpected error:",me),Y({title:"Unexpected error updating confirmation",description:String(me),variant:"destructive"});return}const V=d.find(me=>me.id===A)||F;if(!V)return;let U="",ie,he;for(const me of g){const Ee=me.matches.find(Ae=>Ae.id===V.matchId);if(Ee){U=me.tournamentId,ie=Ee,he=me;break}}if(!U||!ie||!he)return;const Q=he.matches.some(me=>{const Ee=/^R\d+[LW]\d+$/;return typeof me.teamA=="string"&&Ee.test(me.teamA)||typeof me.teamB=="string"&&Ee.test(me.teamB)}),_e=he.rounds<=1||he.matches.some(me=>me.opponentPlaceholder)||Q;if(_e){const Ee=ie.round+1,Ae=V.winner==="teamA"?ie.teamA:ie.teamB,Je=V.winner==="teamA"?ie.teamB:ie.teamA;let Re=g;if(_e){const pe=ie.round,lt=pe+1,Xe=`R${pe}L${ie.table}`,dt=`R${pe}W${ie.table}`;console.log("--- confirmScore debug ---"),console.log("currentRound:",pe),console.log("match.table:",ie.table),console.log("loserPlaceholder:",Xe),console.log("winnerPlaceholder:",dt),((($e=g.find(ut=>ut.tournamentId===U))==null?void 0:$e.matches.filter(ut=>ut.round===lt))||[]).forEach(ut=>{console.log("Next round match:",ut.id,"teamA:",ut.teamA,"teamB:",ut.teamB)});const Ue=ut=>typeof ut=="string"?ut.trim().toUpperCase():ut;Re=g.map(ut=>{if(ut.tournamentId!==U)return ut;const Va=ut.matches.map(hs=>{if(hs.round===lt){let ur={...hs};return Ue(ur.teamA)===Ue(Xe)&&(ur.teamA=Je),Ue(ur.teamB)===Ue(Xe)&&(ur.teamB=Je),Ue(ur.teamA)===Ue(dt)&&(ur.teamA=Ae),Ue(ur.teamB)===Ue(dt)&&(ur.teamB=Ae),ur}return hs});return{...ut,matches:Va}})}const We=ie.table??1,Fe=Math.ceil(he.matches.filter(pe=>pe.round===1&&!pe.isBye).length/2),it=Math.ceil(We/2),Nt=Fe-Math.floor((Fe-We)/2),ve=Re.map(pe=>{if(pe.tournamentId!==U)return pe;let lt=pe.matches.filter(Ue=>Ue.round===Ee),Xe=lt.find(Ue=>Ue.table===it);Xe||(Xe={id:`${U}-r${Ee}-t${it}`,tournamentId:U,round:Ee,table:it,teamA:null,teamB:null,isBye:!1,isSameCity:!1},lt.push(Xe)),Xe.teamA?Xe.teamB||(Xe.teamB=Je):Xe.teamA=Je;let dt=lt.find(Ue=>Ue.table===Nt);dt||(dt={id:`${U}-r${Ee}-t${Nt}`,tournamentId:U,round:Ee,table:Nt,teamA:null,teamB:null,isBye:!1,isSameCity:!1},lt.push(dt)),dt.teamA?dt.teamB||(dt.teamB=Ae):dt.teamA=Ae,[Xe,dt].forEach(Ue=>{Ue.teamA&&!Ue.teamB?Ue.opponentPlaceholder={type:"winner",table:Ue.table}:!Ue.teamA&&Ue.teamB&&(Ue.opponentPlaceholder={type:"winner",table:Ue.table})});const Mt=Math.max(pe.rounds,Ee);return{...pe,matches:[...pe.matches.filter(Ue=>Ue.round!==Ee),...lt],rounds:Mt}});y(ve);const De=ve.find(pe=>pe.tournamentId===U);De&&await be(De)}const ye=g.find(me=>me.tournamentId===U);ye&&await be(ye)},X=async()=>{for(const A of d.filter($=>$.confirmed))await C(A.id,!0,A);Y({title:"Variables updated across schedule."})},ee=async()=>{try{const{data:A,error:$}=await ct.from("matches").select("*");if($||!A)return;const F={};A.forEach(V=>{const U={id:String(V.id),teamA:String(V.team_a),teamB:String(V.team_b),round:V.round,tournamentId:String(V.tournament_id),isBye:V.is_bye,isSameCity:V.is_same_city,table:V.table_number};F[U.tournamentId]||(F[U.tournamentId]=[]),F[U.tournamentId].push(U)});const O=Object.entries(F).map(([V,U])=>({tournamentId:V,rounds:Math.max(...U.map(ie=>ie.round)),matches:U}));y(O),Y({title:"Schedule refreshed from database."})}catch(A){console.error("refreshSchedules error",A)}},le=async()=>{const A=g.map($=>{const F=$.matches.map(U=>({...U})),O=(U,ie)=>F.find(he=>he.round===U&&he.table===ie),V=U=>{const ie=/^R(\d+)([LW])(\d+)$/.exec(U.trim().toUpperCase());if(!ie)return null;const[,he,Q,_e]=ie,ye=O(parseInt(he),parseInt(_e));if(!ye)return null;const $e=d.find(Ae=>Ae.matchId===ye.id&&Ae.confirmed);if(!$e)return null;const me=$e.winner==="teamA"?ye.teamB:ye.teamA,Ee=$e.winner==="teamA"?ye.teamA:ye.teamB;return Q==="L"?me:Ee};return F.forEach(U=>{if(typeof U.teamA=="string"){const ie=V(U.teamA);ie&&(U.teamA=ie)}if(typeof U.teamB=="string"){const ie=V(U.teamB);ie&&(U.teamB=ie)}}),{...$,matches:F}});y(A);for(const $ of A)await be($);Y({title:"Placeholders forcibly refreshed and saved."})},ge=(A,$,F)=>{l(O=>O.map(V=>{if(V.id===A){const U={...V.tournamentPayments};return U[$]=F,{...V,tournamentPayments:U}}return V}))},oe=async(A,$,F,O)=>{try{const{supabase:V}=await Le(async()=>{const{supabase:he}=await Promise.resolve().then(()=>Ye);return{supabase:he}},void 0),U=O?{b_paid:F}:{paid:F},{error:ie}=await V.from("player_tournament").update(U).eq("player_id",A).eq("tournament_id",$);if(ie)throw console.error("Error updating player payment:",ie),ie;Y({title:"Payment updated successfully"})}catch(V){throw console.error("Error updating player payment:",V),V}},je=async A=>{try{const{supabase:$}=await Le(async()=>{const{supabase:V}=await Promise.resolve().then(()=>Ye);return{supabase:V}},void 0),{data:F,error:O}=await $.from("player_tournament").select("*").eq("player_id",A);if(O)throw console.error("Error fetching player tournament payments:",O),O;return F||[]}catch($){throw console.error("Error fetching player tournament payments:",$),$}},Ne=(A,$)=>{var _e,ye,$e,me;const F=((_e=A.player1TournamentPayments)==null?void 0:_e[$])||!1,O=((ye=A.player2TournamentPayments)==null?void 0:ye[$])||!1,V=(($e=A.player1BostonPotPayments)==null?void 0:$e[$])||!1,U=((me=A.player2BostonPotPayments)==null?void 0:me[$])||!1;return{tournamentPaid:F&&O,bostonPotPaid:V&&U,bostonPotMismatch:V!==U}},Be=A=>{let $=0;return A.registeredTournaments&&A.registeredTournaments.forEach(F=>{const O=D.find(V=>V.id===F);if(O){$+=O.cost*2;const{bostonPotPaid:V}=Ne(A,F);V&&($+=O.bostonPotCost*2)}}),$},ke=async(A,$,F)=>{const{supabase:O}=await Le(async()=>{const{supabase:V}=await Promise.resolve().then(()=>Ye);return{supabase:V}},void 0);try{const V=`${A.first_name}/${$.first_name}`,{data:U,error:ie}=await O.from("teams").insert([{name:V,player1_id:A.id,player2_id:$.id,city:A.city||$.city||""}]).select().single();if(ie)return console.error("Error creating team:",ie),Y({title:"Failed to create team",description:ie.message,variant:"destructive"}),null;const{error:he}=await O.from("team_registrations").insert([{team_id:U.id,tournament_id:F}]);if(he)return console.error("Error registering team for tournament:",he),Y({title:"Team created but failed to register for tournament",description:he.message,variant:"destructive"}),null;const Q=[],{data:_e}=await O.from("player_tournament").select("id").eq("player_id",A.id).eq("tournament_id",F).single();_e||Q.push({player_id:A.id,tournament_id:F,paid:!1,b_paid:!1,entered_boston_pot:!1});const{data:ye}=await O.from("player_tournament").select("id").eq("player_id",$.id).eq("tournament_id",F).single();if(ye||Q.push({player_id:$.id,tournament_id:F,paid:!1,b_paid:!1,entered_boston_pot:!1}),Q.length>0){const{error:Re}=await O.from("player_tournament").insert(Q);if(Re)return console.error("Error registering players for tournament:",Re),Y({title:"Team created but failed to register players",description:Re.message,variant:"destructive"}),null}const{data:$e,error:me}=await O.from("teams").select("*, player1:players!player1_id(*), player2:players!player2_id(*)");if(me)return console.error("Error fetching teams:",me),Y({title:"Team created but failed to refresh data",description:me.message,variant:"destructive"}),null;const{data:Ee,error:Ae}=await O.from("team_registrations").select("team_id, tournament_id");if(Ae)return console.error("Error fetching team registrations:",Ae),Y({title:"Team created but failed to refresh registrations",description:Ae.message,variant:"destructive"}),null;const Je=$e.map(Re=>{var it,Nt,ve,De,pe,lt,Xe,dt;const Fe=Ee.filter(Mt=>Mt.team_id===Re.id).map(Mt=>Mt.tournament_id);return{...Re,id:String(Re.id),player1FirstName:((it=Re.player1)==null?void 0:it.first_name)||"",player1LastName:((Nt=Re.player1)==null?void 0:Nt.last_name)||"",player2FirstName:((ve=Re.player2)==null?void 0:ve.first_name)||"",player2LastName:((De=Re.player2)==null?void 0:De.last_name)||"",phoneNumber:((pe=Re.player1)==null?void 0:pe.phone_number)||((lt=Re.player2)==null?void 0:lt.phone_number)||"",player1_phone:((Xe=Re.player1)==null?void 0:Xe.phone_number)||"",player2_phone:((dt=Re.player2)==null?void 0:dt.phone_number)||"",city:Re.city||"",registeredTournaments:Fe}});return l(Je),Y({title:`Team ${V} created successfully!`}),String(U.id)}catch(V){return console.error("Error creating team from players:",V),Y({title:"Failed to create team",description:String(V),variant:"destructive"}),null}},tt=async()=>{const{supabase:A}=await Le(async()=>{const{supabase:$}=await Promise.resolve().then(()=>Ye);return{supabase:$}},void 0);try{const{data:$,error:F}=await A.from("teams").select(`
          *,
          player1:players!player1_id(*),
          player2:players!player2_id(*)
        `);if(F){console.error("Error fetching teams:",F);const Q=`Failed to refresh teams: ${F.message} (Code: ${F.code})`;r(Q),Y({title:"Teams Refresh Error",description:Q,variant:"destructive"});return}const{data:O,error:V}=await A.from("team_registrations").select("*");if(V){console.error("Error fetching team registrations:",V);const Q=`Failed to refresh team registrations: ${V.message} (Code: ${V.code})`;r(Q),Y({title:"Team Registrations Refresh Error",description:Q,variant:"destructive"});const _e=($||[]).map(ye=>{var $e,me,Ee,Ae,Je,Re,We,Fe;return{...ye,id:String(ye.id),player1FirstName:(($e=ye.player1)==null?void 0:$e.first_name)||"",player1LastName:((me=ye.player1)==null?void 0:me.last_name)||"",player2FirstName:((Ee=ye.player2)==null?void 0:Ee.first_name)||"",player2LastName:((Ae=ye.player2)==null?void 0:Ae.last_name)||"",phoneNumber:((Je=ye.player1)==null?void 0:Je.phone_number)||((Re=ye.player2)==null?void 0:Re.phone_number)||"",player1_phone:((We=ye.player1)==null?void 0:We.phone_number)||"",player2_phone:((Fe=ye.player2)==null?void 0:Fe.phone_number)||"",city:ye.city||"",registeredTournaments:[]}});l(_e);return}const{data:U,error:ie}=await A.from("player_tournament").select("*");if(ie){console.error("Error fetching player payments:",ie);const Q=`Failed to refresh player payments: ${ie.message} (Code: ${ie.code})`;r(Q),Y({title:"Player Payments Refresh Error",description:Q,variant:"destructive"})}const he=($||[]).map(Q=>{var Je,Re,We,Fe,it,Nt,ve,De;const ye=O.filter(pe=>String(pe.team_id)===String(Q.id)).map(pe=>pe.tournament_id),$e={},me={},Ee={},Ae={};return U&&U.forEach(pe=>{pe.player_id===Q.player1_id?($e[pe.tournament_id]=pe.paid,Ee[pe.tournament_id]=pe.b_paid):pe.player_id===Q.player2_id&&(me[pe.tournament_id]=pe.paid,Ae[pe.tournament_id]=pe.b_paid)}),{...Q,id:String(Q.id),player1FirstName:((Je=Q.player1)==null?void 0:Je.first_name)||"",player1LastName:((Re=Q.player1)==null?void 0:Re.last_name)||"",player2FirstName:((We=Q.player2)==null?void 0:We.first_name)||"",player2LastName:((Fe=Q.player2)==null?void 0:Fe.last_name)||"",phoneNumber:((it=Q.player1)==null?void 0:it.phone_number)||((Nt=Q.player2)==null?void 0:Nt.phone_number)||"",player1_phone:((ve=Q.player1)==null?void 0:ve.phone_number)||"",player2_phone:((De=Q.player2)==null?void 0:De.phone_number)||"",city:Q.city||"",registeredTournaments:ye,player1TournamentPayments:$e,player2TournamentPayments:me,player1BostonPotPayments:Ee,player2BostonPotPayments:Ae}});l(he),r(null)}catch($){const F=`Unexpected error refreshing teams: ${$ instanceof Error?$.message:String($)}`;console.error("Error refreshing teams:",$),r(F),Y({title:"Teams Refresh Error",description:F,variant:"destructive"})}},bt=async()=>{try{const{supabase:A}=await Le(async()=>{const{supabase:O}=await Promise.resolve().then(()=>Ye);return{supabase:O}},void 0),{data:$,error:F}=await A.from("players").select("*").order("first_name",{ascending:!0});if(F){console.error("Error fetching players:",F),u([]);return}u($||[])}catch(A){console.error("Error refreshing players:",A)}},Ct=async()=>{try{const{supabase:A}=await Le(async()=>{const{supabase:O}=await Promise.resolve().then(()=>Ye);return{supabase:O}},void 0),{data:$,error:F}=await A.from("tournaments").select("*").order("name",{ascending:!0});if(F){console.error("Error fetching tournaments:",F),k([]);return}k($||[])}catch(A){console.error("Error refreshing tournaments:",A)}},$t=async A=>{try{const{supabase:$}=await Le(async()=>{const{supabase:V}=await Promise.resolve().then(()=>Ye);return{supabase:V}},void 0),{data:F,error:O}=await $.from("players").insert([A]).select().single();if(O){console.error("Error adding player:",O),Y({title:"Error adding player",description:O.message,variant:"destructive"});return}Y({title:"Player added successfully"}),await bt()}catch($){console.error("Error adding player:",$),Y({title:"Error adding player",description:String($),variant:"destructive"})}},cn=async(A,$)=>{try{const{supabase:F}=await Le(async()=>{const{supabase:ie}=await Promise.resolve().then(()=>Ye);return{supabase:ie}},void 0),{data:O,error:V}=await F.from("team_registrations").select("*").eq("team_id",A).eq("tournament_id",$).single();if(V&&V.code!=="PGRST116"){console.error("Error checking team tournament:",V);return}if(O)return;const{error:U}=await F.from("team_registrations").insert([{team_id:A,tournament_id:$}]);if(U){console.error("Error adding team to tournament:",U),Y({title:"Error adding team to tournament",description:U.message,variant:"destructive"});return}Y({title:"Team added to tournament successfully"}),await tt()}catch(F){console.error("Error adding team to tournament:",F),Y({title:"Error adding team to tournament",description:String(F),variant:"destructive"})}},un=async({matchId:A,teamId:$,teamA:F,teamB:O,round:V})=>{try{const{data:U,error:ie}=await ct.from("games").select("*").eq("matchId",A).in("status",["entering","pending_confirmation","disputed"]);if(ie)return console.error("beginScoreEntry select error:",ie),{ok:!1,reason:"error"};if(U&&U.length>0){const me=U[0];if(me.status==="entering"&&String(me.entered_by_team_id)!==String($))return{ok:!1,reason:"conflict"};if(me.status==="pending_confirmation")return{ok:!1,reason:"conflict"};if(me.status==="disputed"&&String(me.entered_by_team_id)!==String($))return{ok:!1,reason:"conflict"}}const{data:he,error:Q}=await ct.from("games").select("*").eq("matchId",A).eq("status","entering");if(Q)return console.error("beginScoreEntry teammate check error:",Q),{ok:!1,reason:"error"};if(he&&he.length>0){const me=he[0];if(String(me.entered_by_team_id)===String($))return{ok:!1,reason:"teammate_entering"}}const ye={id:U&&U[0]?U[0].id:Date.now().toString(),matchId:A,teamA:String(F),teamB:String(O),round:V,scoreA:0,scoreB:0,boston_a:0,boston_b:0,handsA:0,handsB:0,status:"entering",entered_by_team_id:String($),confirmed:!1,timestamp:new Date().toISOString()},{error:$e}=await ct.from("games").upsert([ye],{onConflict:["id"]});return $e?(console.error("beginScoreEntry upsert error:",$e),{ok:!1,reason:"error"}):(await h(),{ok:!0})}catch(U){return console.error("beginScoreEntry catch error:",U),{ok:!1,reason:"error"}}},Rr=async({matchId:A,teamId:$})=>{try{const{error:F}=await ct.from("games").delete().eq("matchId",A).eq("status","entering").eq("entered_by_team_id",$);return F?(console.error("Error releasing score entry lock:",F),{ok:!1}):(await h(),{ok:!0})}catch(F){return console.error("Error releasing score entry lock:",F),{ok:!1}}};return i.jsx(V1.Provider,{value:{sidebarOpen:s,toggleSidebar:()=>a(A=>!A),teams:o,players:c,games:d,setGames:f,tournaments:D,setTournaments:k,schedules:g,scoreTexts:b,tournamentResults:w,setTournamentResults:S,brackets:_,cities:N,currentUser:R,setCurrentUser:T,scoreSubmissions:p,setScoreSubmissions:x,resetAllTournamentData:n,fetchError:t,updatePlaceholders:X,forceReplaceAllPlaceholders:le,refreshSchedules:ee,deleteTeam:A=>{l($=>{const F=$.filter(O=>O.id!==A);return localStorage.setItem("teams",JSON.stringify(F)),F}),Y({title:"Team deleted successfully."})},addTeam:async(A,$,F,O,V,U,ie,he)=>{const{supabase:Q}=await Le(async()=>{const{supabase:_e}=await Promise.resolve().then(()=>Ye);return{supabase:_e}},void 0);try{const{data:_e,error:ye}=await Q.from("players").insert([{first_name:A,last_name:$,phone_number:V,city:U}]).select().single();if(ye)return Y({title:"Failed to create player 1",description:ye.message,variant:"destructive"}),null;const{data:$e,error:me}=await Q.from("players").insert([{first_name:F,last_name:O,phone_number:V,city:U}]).select().single();if(me)return Y({title:"Failed to create player 2",description:me.message,variant:"destructive"}),null;const Ee=`${A}/${F}`,{data:Ae,error:Je}=await Q.from("teams").insert([{name:Ee,player1_id:_e.id,player2_id:$e.id}]).select().single();if(Je)return Y({title:"Failed to create team",description:Je.message,variant:"destructive"}),null;if(ie&&ie.length>0){const Nt=ie.map(ve=>({team_id:Ae.id,tournament_id:ve}));await Q.from("team_registrations").insert(Nt)}const{data:Re,error:We}=await Q.from("teams").select(`
              *,
              player1:players!player1_id(*),
              player2:players!player2_id(*)
            `);We&&Y({title:"Error reloading teams",description:We.message,variant:"destructive"});const{data:Fe,error:it}=await Q.from("team_registrations").select("*");if(!We&&!it){const Nt=(Re||[]).map(ve=>{var lt,Xe,dt,Mt,Ue,ut,Va,hs;const pe=Fe.filter(ur=>String(ur.team_id)===String(ve.id)).map(ur=>ur.tournament_id);return{...ve,id:String(ve.id),player1FirstName:((lt=ve.player1)==null?void 0:lt.first_name)||"",player1LastName:((Xe=ve.player1)==null?void 0:Xe.last_name)||"",player2FirstName:((dt=ve.player2)==null?void 0:dt.first_name)||"",player2LastName:((Mt=ve.player2)==null?void 0:Mt.last_name)||"",phoneNumber:((Ue=ve.player1)==null?void 0:Ue.phone_number)||((ut=ve.player2)==null?void 0:ut.phone_number)||"",city:((Va=ve.player1)==null?void 0:Va.city)||((hs=ve.player2)==null?void 0:hs.city)||"",registeredTournaments:pe}});l(Nt)}else Re&&l(Re);return Y({title:`Team ${Ee} registered successfully!`}),String(Ae.id)}catch(_e){return Y({title:"Failed to register team",description:String(_e),variant:"destructive"}),null}},updateTeam:async A=>{const{supabase:$}=await Le(async()=>{const{supabase:F}=await Promise.resolve().then(()=>Ye);return{supabase:F}},void 0);try{const{id:F,registeredTournaments:O,city:V,phoneNumber:U,player1_phone:ie,player2_phone:he}=A,{error:Q}=await $.from("teams").update({name:A.name,city:V||null}).eq("id",F);if(Q){Y({title:"Error updating team",description:Q.message,variant:"destructive"});return}if(Array.isArray(O)&&(await $.from("team_registrations").delete().eq("team_id",F),O.length>0)){const Ee=O.map(Ae=>({team_id:F,tournament_id:Ae}));await $.from("team_registrations").insert(Ee)}const{data:_e,error:ye}=await $.from("teams").select(`
              *,
              player1:players!player1_id(*),
              player2:players!player2_id(*)
            `);if(ye){Y({title:"Error reloading teams",description:ye.message,variant:"destructive"});return}const{data:$e,error:me}=await $.from("team_registrations").select("*");if(!ye&&!me){const Ee=(_e||[]).map(Ae=>{var We,Fe,it,Nt,ve,De,pe,lt;const Re=$e.filter(Xe=>String(Xe.team_id)===String(Ae.id)).map(Xe=>Xe.tournament_id);return{...Ae,id:String(Ae.id),player1FirstName:((We=Ae.player1)==null?void 0:We.first_name)||"",player1LastName:((Fe=Ae.player1)==null?void 0:Fe.last_name)||"",player2FirstName:((it=Ae.player2)==null?void 0:it.first_name)||"",player2LastName:((Nt=Ae.player2)==null?void 0:Nt.last_name)||"",phoneNumber:((ve=Ae.player1)==null?void 0:ve.phone_number)||((De=Ae.player2)==null?void 0:De.phone_number)||"",player1_phone:((pe=Ae.player1)==null?void 0:pe.phone_number)||"",player2_phone:((lt=Ae.player2)==null?void 0:lt.phone_number)||"",city:Ae.city||"",registeredTournaments:Re}});l(Ee)}else _e&&l(_e);Y({title:"Team updated successfully!"})}catch(F){Y({title:"Failed to update team",description:String(F),variant:"destructive"})}},submitGame:W,beginScoreEntry:un,releaseScoreEntryLock:Rr,confirmGame:(A,$)=>{f(F=>F.map(O=>O.id===A?{...O,confirmed:!0,confirmedBy:$}:O))},updateGameScore:(A,$,F)=>{},saveSchedule:async A=>{try{const{matches:$}=A,F=$.map(V=>({id:V.id,team_a:V.teamA,team_b:V.teamB,round:V.round,tournament_id:V.tournamentId,table_number:V.table!=null?V.table:1,is_bye:V.isBye??!1,is_same_city:V.isSameCity??!1})),{error:O}=await ct.from("matches").upsert(F,{onConflict:["id"]});if(O){Y({title:"Failed to save schedule to Supabase",description:O.message,variant:"destructive"});return}Y({title:"Schedule saved to Supabase!",variant:"default"}),y(V=>[...V.filter(U=>U.tournamentId!==A.tournamentId),A])}catch($){Y({title:"Unexpected error saving schedule",description:String($),variant:"destructive"})}},addScoreText:A=>{v($=>[...$,A])},updateScoreText:(A,$)=>{v(F=>F.map(O=>O.id===A?{...O,...$}:O))},getPendingGames:()=>d.filter(A=>!A.confirmed),getTeamStats:()=>({wins:0,losses:0,totalPoints:0,bostons:0}),updateTournamentResult:B,getTournamentResults:H,addTournament:(A,$,F,O)=>{if(!A||typeof A!="string"||A.trim()===""){Y({title:"Tournament name is required.",variant:"destructive"});return}if(typeof $!="number"||$<=0){Y({title:"Tournament cost must be greater than 0.",variant:"destructive"});return}if(typeof F!="number"||F<0){Y({title:"Boston Pot cost must be 0 or greater.",variant:"destructive"});return}const V={id:Date.now().toString(),name:A.trim(),cost:Number($),bostonPotCost:Number(F),description:typeof O=="string"?O:"",status:"active"};k(U=>{const he=[...U.filter(Q=>Q&&typeof Q.id=="string"&&typeof Q.name=="string"&&typeof Q.cost=="number"&&typeof Q.bostonPotCost=="number"&&(Q.status==="active"||Q.status==="finished")).map(Q=>({id:Q.id,name:Q.name,cost:Number(Q.cost),bostonPotCost:Number(Q.bostonPotCost),description:typeof Q.description=="string"?Q.description:"",status:Q.status})),V];return localStorage.setItem("tournaments",JSON.stringify(he)),he}),Y({title:`Tournament "${V.name}" added and set as active!`})},finishTournament:q,getActiveTournament:z,setActiveTournament:I,updateTournament:async(A,$,F,O,V,U)=>{const{supabase:ie}=await Le(async()=>{const{supabase:ye}=await Promise.resolve().then(()=>Ye);return{supabase:ye}},void 0),{error:he}=await ie.from("tournaments").update({name:$,cost:F,boston_pot_cost:O,status:U,description:V}).eq("id",A);if(he){Y({title:"Failed to update tournament in database.",description:he.message,variant:"destructive"});return}const{data:Q,error:_e}=await ie.from("tournaments").select("*");_e||k(Q||[]),Y({title:`Tournament "${$}" updated successfully!`})},createTournament:async(A,$)=>{const{supabase:F}=await Le(async()=>{const{supabase:he}=await Promise.resolve().then(()=>Ye);return{supabase:he}},void 0),{data:O,error:V}=await F.from("tournaments").insert([{name:A,status:$,cost:0,boston_pot_cost:0}]).select().single();if(V){Y({title:"Failed to create tournament in database.",description:V.message,variant:"destructive"});return}const{data:U,error:ie}=await F.from("tournaments").select("*");ie||k(U||[]),Y({title:`Tournament "${A}" created successfully!`})},updateTournamentStatus:async A=>{const{supabase:$}=await Le(async()=>{const{supabase:U}=await Promise.resolve().then(()=>Ye);return{supabase:U}},void 0),{error:F}=await $.from("tournaments").update({name:A.name,status:A.status}).eq("id",A.id);if(F){Y({title:"Failed to update tournament in database.",description:F.message,variant:"destructive"});return}const{data:O,error:V}=await $.from("tournaments").select("*");V||k(O||[]),Y({title:`Tournament "${A.name}" updated successfully!`})},deleteTournament:async A=>{const{supabase:$}=await Le(async()=>{const{supabase:U}=await Promise.resolve().then(()=>Ye);return{supabase:U}},void 0),{error:F}=await $.from("tournaments").delete().eq("id",A);if(F){Y({title:"Failed to delete tournament from database.",description:F.message,variant:"destructive"});return}const{data:O,error:V}=await $.from("tournaments").select("*");V||k(O||[]),Y({title:"Tournament deleted successfully!"})},updatePaymentStatus:()=>{},updatePlayerPaymentStatus:()=>{},updatePlayerTournamentPayment:re,updateTeamPayment:ge,updatePlayerPayment:oe,getPlayerTournamentPayments:je,getTeamPaymentStatus:Ne,calculateTeamTotalOwed:Be,sendScoreSheetLinks:async()=>{},submitScore:async()=>{},confirmScore:C,saveBracket:A=>{j($=>({...$,[A.tournamentId]:A}))},getBracket:A=>_[A]||null,updateBracket:(A,$)=>{j(F=>{const O=F[A];return O?{...F,[A]:{...O,...$}}:F})},deleteBracket:A=>{j($=>{const F={...$};return delete F[A],F})},addCity:A=>{N.includes(A)?Y({title:"City already exists",description:`"${A}" is already in the list.`,variant:"destructive"}):(E($=>[...$,A]),Y({title:`City "${A}" added successfully!`}))},removeCity:A=>{const $=o.filter(F=>F.city===A);if($.length>0){Y({title:"Cannot remove city",description:`${$.length} team(s) are using "${A}". Remove or update teams first.`,variant:"destructive"});return}E(F=>F.filter(O=>O!==A)),Y({title:`City "${A}" removed successfully!`})},updateCities:A=>{E(A),Y({title:"Cities updated successfully!"})},clearTournamentResults:ce,clearGames:K,clearScoreSubmissions:ae,refreshGamesFromSupabase:h,createTeamFromPlayers:ke,refreshTeams:tt,refreshPlayers:bt,refreshTournaments:Ct,addPlayer:$t,addTeamToTournament:cn,messages:L,addMessage:async A=>{try{const{data:$,error:F}=await ct.from("messages").insert([{text:A.text,type:A.type,active:A.active,expires_at:A.expiresAt,created_by:A.createdBy||"admin"}]).select().single();if(F){console.error("Error adding message:",F),Y({title:"Error adding message",variant:"destructive"});return}Y({title:"Message added successfully!"})}catch($){console.error("Error adding message:",$),Y({title:"Error adding message",variant:"destructive"})}},updateMessage:async(A,$)=>{try{const F={};$.text!==void 0&&(F.text=$.text),$.type!==void 0&&(F.type=$.type),$.active!==void 0&&(F.active=$.active),$.expiresAt!==void 0&&(F.expires_at=$.expiresAt);const{error:O}=await ct.from("messages").update(F).eq("id",A);if(O){console.error("Error updating message:",O),Y({title:"Error updating message",variant:"destructive"});return}Y({title:"Message updated successfully!"})}catch(F){console.error("Error updating message:",F),Y({title:"Error updating message",variant:"destructive"})}},deleteMessage:async A=>{try{const{error:$}=await ct.from("messages").delete().eq("id",A);if($){console.error("Error deleting message:",$),Y({title:"Error deleting message",variant:"destructive"});return}Y({title:"Message deleted successfully!"})}catch($){console.error("Error deleting message:",$),Y({title:"Error deleting message",variant:"destructive"})}},getActiveMessages:()=>L.filter($=>$.active)},children:e})},Ze=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Me("rounded-lg border border-border/40 bg-background shadow-sm",e),...t}));Ze.displayName="Card";const rt=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Me("flex flex-col space-y-1.5 p-6",e),...t}));rt.displayName="CardHeader";const at=m.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:Me("text-2xl font-semibold leading-none tracking-tight text-foreground",e),...t}));at.displayName="CardTitle";const $O=m.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:Me("text-sm text-muted-foreground",e),...t}));$O.displayName="CardDescription";const et=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Me("p-6 pt-0",e),...t}));et.displayName="CardContent";const FO=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Me("flex items-center p-6 pt-0",e),...t}));FO.displayName="CardFooter";const UO=ad("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?aP:"button";return i.jsx(o,{className:Me(UO({variant:t,size:r,className:e})),ref:a,...s})});se.displayName="Button";const Se=m.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:Me("flex h-10 w-full rounded-md border border-border/60 bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Se.displayName="Input";var zO="Label",G1=m.forwardRef((e,t)=>i.jsx(Oe.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));G1.displayName=zO;var q1=G1;const WO=ad("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",{variants:{variant:{default:"text-foreground",muted:"text-muted-foreground",accent:"text-primary"},size:{default:"text-sm",xs:"text-xs",sm:"text-sm",lg:"text-base"}},defaultVariants:{variant:"default",size:"default"}}),xe=m.forwardRef(({className:e,variant:t,size:r,...n},s)=>i.jsx(q1,{ref:s,className:Me(WO({variant:t,size:r}),e),...n}));xe.displayName=q1.displayName;const VO=({onSetupComplete:e})=>{const{setCurrentUser:t,teams:r,fetchError:n}=Dt(),[s,a]=m.useState(""),[o,l]=m.useState(null),[c,u]=m.useState(!1),d=()=>{s.trim()&&(t(s.trim()),e())},f=h=>{h.key==="Enter"&&d()};return r?i.jsxs("div",{className:"min-h-screen flex flex-col justify-between items-center bg-gradient-to-br from-black via-red-900 to-black p-4 relative",children:[i.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none select-none bg-[url('https://upload.wikimedia.org/wikipedia/commons/5/5a/Spades.svg')] bg-center bg-repeat",style:{zIndex:0}}),i.jsxs(Ze,{className:"w-full max-w-md shadow-2xl border-4 border-black rounded-2xl bg-gradient-to-br from-black via-gray-900 to-red-900/80 backdrop-blur relative z-10",children:[i.jsxs(rt,{className:"text-center space-y-4",children:[i.jsxs("div",{className:"mx-auto w-20 h-28 flex items-center justify-center bg-gradient-to-br from-black to-red-800 rounded-xl shadow-lg border-2 border-white relative",children:[i.jsxs("svg",{width:"48",height:"64",viewBox:"0 0 48 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("rect",{width:"48",height:"64",rx:"8",fill:"#fff",stroke:"#000",strokeWidth:"2"}),i.jsx("text",{x:"24",y:"40",textAnchor:"middle",fontSize:"36",fontWeight:"bold",fill:"#000",children:"🂡"})]}),i.jsx("span",{className:"absolute top-1 left-2 text-black text-lg font-bold",children:"A"}),i.jsx("span",{className:"absolute bottom-1 right-2 text-black text-lg font-bold rotate-180",children:"A"}),i.jsx("span",{className:"absolute top-5 left-3 text-black text-2xl",children:"♠"}),i.jsx("span",{className:"absolute bottom-5 right-3 text-black text-2xl rotate-180",children:"♠"})]}),i.jsx(at,{className:"text-4xl font-extrabold bg-gradient-to-r from-red-600 to-black bg-clip-text text-transparent drop-shadow-lg tracking-wide",children:"My Tournaments"})]}),i.jsxs(et,{className:"space-y-6",children:[o&&i.jsx("div",{className:"bg-red-100 border border-red-300 text-red-800 rounded p-3 mb-2 text-center",children:o}),n&&i.jsx("div",{className:"bg-red-100 border border-red-300 text-red-800 rounded p-3 mb-2 text-center",children:n}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"playerName",className:"text-base font-semibold text-red-100 drop-shadow",children:"Please enter your pin to access the admin portal"}),i.jsx(Se,{id:"playerName",placeholder:"Enter pin",value:s,onChange:h=>a(h.target.value),onKeyPress:f,className:"text-center text-lg bg-black/80 text-white border-red-500 focus:border-red-700 focus:ring-red-700",autoFocus:!0})]}),i.jsxs(se,{onClick:d,disabled:!s.trim()||c,className:"w-full bg-gradient-to-r from-black via-red-700 to-black hover:from-red-800 hover:to-black text-white font-bold py-3 px-4 rounded-xl shadow-xl transform transition hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2 border-2 border-red-700",children:[c&&i.jsx("span",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),i.jsx(c2,{size:20}),"Enter My Tournaments Admin portal"]}),(r==null?void 0:r.length)===0&&i.jsx("p",{className:"text-sm text-red-300 text-center italic",children:"Note: Add teams first in the Teams tab"})]}),i.jsx("div",{className:"mt-6 text-xs text-center text-red-200 font-mono tracking-wide",children:"Built and Managed by Brian Welch"})]}),i.jsx("div",{className:"w-full text-center text-xs text-red-300 mt-4 z-10",children:"Built and Managed by Brian Welch"})]}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:i.jsxs("div",{children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),i.jsx("div",{children:"Loading teams..."}),n&&i.jsx("div",{className:"mt-4 bg-red-100 border border-red-300 text-red-800 rounded p-3 text-center",children:n})]})})},HO=ad("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border",success:"border-transparent bg-green-500/20 text-green-700 dark:text-green-300 border-green-500/30",warning:"border-transparent bg-yellow-500/20 text-yellow-700 dark:text-yellow-300 border-yellow-500/30",info:"border-transparent bg-primary/10 text-primary border-primary/30"},size:{default:"px-2.5 py-0.5 text-xs",sm:"px-2 py-0.5 text-[10px]",lg:"px-3 py-0.5 text-sm"}},defaultVariants:{variant:"default",size:"default"}});function Te({className:e,variant:t,size:r,...n}){return i.jsx("span",{className:Me(HO({variant:t,size:r}),e),...n})}function fx(e,[t,r]){return Math.min(r,Math.max(t,e))}var GO=m.createContext(void 0);function ag(e){const t=m.useContext(GO);return e||t||"ltr"}var Uf=0;function K1(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??hx()),document.body.insertAdjacentElement("beforeend",e[1]??hx()),Uf++,()=>{Uf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Uf--}},[])}function hx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zf="focusScope.autoFocusOnMount",Wf="focusScope.autoFocusOnUnmount",px={bubbles:!1,cancelable:!0},qO="FocusScope",ig=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=m.useState(null),u=ln(s),d=ln(a),f=m.useRef(null),h=ht(t,g=>c(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let g=function(w){if(p.paused||!l)return;const S=w.target;l.contains(S)?f.current=S:Ss(f.current,{select:!0})},y=function(w){if(p.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||Ss(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const _ of w)_.removedNodes.length>0&&Ss(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const v=new MutationObserver(b);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),v.disconnect()}}},[n,l,p.paused]),m.useEffect(()=>{if(l){gx.add(p);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(zf,px);l.addEventListener(zf,u),l.dispatchEvent(b),b.defaultPrevented||(KO(ZO(Y1(l)),{select:!0}),document.activeElement===g&&Ss(l))}return()=>{l.removeEventListener(zf,u),setTimeout(()=>{const b=new CustomEvent(Wf,px);l.addEventListener(Wf,d),l.dispatchEvent(b),b.defaultPrevented||Ss(g??document.body,{select:!0}),l.removeEventListener(Wf,d),gx.remove(p)},0)}}},[l,u,d,p]);const x=m.useCallback(g=>{if(!r&&!n||p.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(y&&b){const v=g.currentTarget,[w,S]=YO(v);w&&S?!g.shiftKey&&b===S?(g.preventDefault(),r&&Ss(w,{select:!0})):g.shiftKey&&b===w&&(g.preventDefault(),r&&Ss(S,{select:!0})):b===v&&g.preventDefault()}},[r,n,p.paused]);return i.jsx(Oe.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});ig.displayName=qO;function KO(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ss(n,{select:t}),document.activeElement!==r)return}function YO(e){const t=Y1(e),r=mx(t,e),n=mx(t.reverse(),e);return[r,n]}function Y1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function mx(e,t){for(const r of e)if(!QO(r,{upTo:t}))return r}function QO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function JO(e){return e instanceof HTMLInputElement&&"select"in e}function Ss(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&JO(e)&&t&&e.select()}}var gx=XO();function XO(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=vx(e,t),e.unshift(t)},remove(t){var r;e=vx(e,t),(r=e[0])==null||r.resume()}}}function vx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function ZO(e){return e.filter(t=>t.tagName!=="A")}function Q1(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var eM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xa=new WeakMap,yc=new WeakMap,xc={},Vf=0,J1=function(e){return e&&(e.host||J1(e.parentNode))},tM=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=J1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},rM=function(e,t,r,n){var s=tM(t,Array.isArray(e)?e:[e]);xc[r]||(xc[r]=new WeakMap);var a=xc[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),x=p!==null&&p!=="false",g=(Xa.get(h)||0)+1,y=(a.get(h)||0)+1;Xa.set(h,g),a.set(h,y),o.push(h),g===1&&x&&yc.set(h,!0),y===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),Vf++,function(){o.forEach(function(f){var h=Xa.get(f)-1,p=a.get(f)-1;Xa.set(f,h),a.set(f,p),h||(yc.has(f)||f.removeAttribute(n),yc.delete(f)),p||f.removeAttribute(r)}),Vf--,Vf||(Xa=new WeakMap,Xa=new WeakMap,yc=new WeakMap,xc={})}},X1=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=eM(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),rM(n,s,r,"aria-hidden")):function(){return null}},Bn=function(){return Bn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Bn.apply(this,arguments)};function Z1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function nM(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Vc="right-scroll-bar-position",Hc="width-before-scroll-bar",sM="with-scroll-bars-hidden",aM="--removed-body-scroll-bar-size";function Hf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function iM(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var oM=typeof window<"u"?m.useLayoutEffect:m.useEffect,yx=new WeakMap;function lM(e,t){var r=iM(null,function(n){return e.forEach(function(s){return Hf(s,n)})});return oM(function(){var n=yx.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||Hf(l,null)}),a.forEach(function(l){s.has(l)||Hf(l,o)})}yx.set(r,e)},[e]),r}function cM(e){return e}function uM(e,t){t===void 0&&(t=cM);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function dM(e){e===void 0&&(e={});var t=uM(null);return t.options=Bn({async:!0,ssr:!1},e),t}var ej=function(e){var t=e.sideCar,r=Z1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Bn({},r))};ej.isSideCarExport=!0;function fM(e,t){return e.useMedium(t),ej}var tj=dM(),Gf=function(){},_d=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Gf,onWheelCapture:Gf,onTouchMoveCapture:Gf}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,x=e.noIsolation,g=e.inert,y=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,w=e.gapMode,S=Z1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,j=lM([r,t]),N=Bn(Bn({},S),s);return m.createElement(m.Fragment,null,d&&m.createElement(_,{sideCar:tj,removeScrollBar:u,shards:f,noRelative:p,noIsolation:x,inert:g,setCallbacks:a,allowPinchZoom:!!y,lockRef:r,gapMode:w}),o?m.cloneElement(m.Children.only(l),Bn(Bn({},N),{ref:j})):m.createElement(v,Bn({},N,{className:c,ref:j}),l))});_d.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_d.classNames={fullWidth:Hc,zeroRight:Vc};var hM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=hM();return t&&e.setAttribute("nonce",t),e}function mM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function gM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vM=function(){var e=0,t=null;return{add:function(r){e==0&&(t=pM())&&(mM(t,r),gM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yM=function(){var e=vM();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},rj=function(){var e=yM(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},xM={left:0,top:0,right:0,gap:0},qf=function(e){return parseInt(e||"",10)||0},bM=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[qf(r),qf(n),qf(s)]},wM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return xM;var t=bM(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},SM=rj(),Ci="data-scroll-locked",jM=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(sM,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ci,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Hc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Vc," .").concat(Vc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Hc," .").concat(Hc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ci,`] {
    `).concat(aM,": ").concat(l,`px;
  }
`)},xx=function(){var e=parseInt(document.body.getAttribute(Ci)||"0",10);return isFinite(e)?e:0},_M=function(){m.useEffect(function(){return document.body.setAttribute(Ci,(xx()+1).toString()),function(){var e=xx()-1;e<=0?document.body.removeAttribute(Ci):document.body.setAttribute(Ci,e.toString())}},[])},NM=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;_M();var a=m.useMemo(function(){return wM(s)},[s]);return m.createElement(SM,{styles:jM(a,!t,s,r?"":"!important")})},wp=!1;if(typeof window<"u")try{var bc=Object.defineProperty({},"passive",{get:function(){return wp=!0,!0}});window.addEventListener("test",bc,bc),window.removeEventListener("test",bc,bc)}catch{wp=!1}var Za=wp?{passive:!1}:!1,EM=function(e){return e.tagName==="TEXTAREA"},nj=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!EM(e)&&r[t]==="visible")},CM=function(e){return nj(e,"overflowY")},TM=function(e){return nj(e,"overflowX")},bx=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=sj(e,n);if(s){var a=aj(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},PM=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},kM=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},sj=function(e,t){return e==="v"?CM(t):TM(t)},aj=function(e,t){return e==="v"?PM(t):kM(t)},AM=function(e,t){return e==="h"&&t==="rtl"?-1:1},RM=function(e,t,r,n,s){var a=AM(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=aj(e,l),x=p[0],g=p[1],y=p[2],b=g-y-a*x;(x||b)&&sj(e,l)&&(f+=b,h+=x);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},wc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wx=function(e){return[e.deltaX,e.deltaY]},Sx=function(e){return e&&"current"in e?e.current:e},IM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},DM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},OM=0,ei=[];function MM(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(OM++)[0],a=m.useState(rj)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=nM([e.lockRef.current],(e.shards||[]).map(Sx),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=wc(g),v=r.current,w="deltaX"in g?g.deltaX:v[0]-b[0],S="deltaY"in g?g.deltaY:v[1]-b[1],_,j=g.target,N=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in g&&N==="h"&&j.type==="range")return!1;var E=bx(N,j);if(!E)return!0;if(E?_=N:(_=N==="v"?"h":"v",E=bx(N,j)),!E)return!1;if(!n.current&&"changedTouches"in g&&(w||S)&&(n.current=_),!_)return!0;var D=n.current||_;return RM(D,y,g,D==="h"?w:S)},[]),c=m.useCallback(function(g){var y=g;if(!(!ei.length||ei[ei.length-1]!==a)){var b="deltaY"in y?wx(y):wc(y),v=t.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&IM(_.delta,b)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(Sx).filter(Boolean).filter(function(_){return _.contains(y.target)}),S=w.length>0?l(y,w[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),u=m.useCallback(function(g,y,b,v){var w={name:g,delta:y,target:b,should:v,shadowParent:BM(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=m.useCallback(function(g){r.current=wc(g),n.current=void 0},[]),f=m.useCallback(function(g){u(g.type,wx(g),g.target,l(g,e.lockRef.current))},[]),h=m.useCallback(function(g){u(g.type,wc(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return ei.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Za),document.addEventListener("touchmove",c,Za),document.addEventListener("touchstart",d,Za),function(){ei=ei.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Za),document.removeEventListener("touchmove",c,Za),document.removeEventListener("touchstart",d,Za)}},[]);var p=e.removeScrollBar,x=e.inert;return m.createElement(m.Fragment,null,x?m.createElement(a,{styles:DM(s)}):null,p?m.createElement(NM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function BM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const LM=fM(tj,MM);var og=m.forwardRef(function(e,t){return m.createElement(_d,Bn({},e,{ref:t,sideCar:LM}))});og.classNames=_d.classNames;var $M=[" ","Enter","ArrowUp","ArrowDown"],FM=[" ","Enter"],Ba="Select",[Nd,Ed,UM]=Rm(Ba),[so,P6]=Vn(Ba,[UM,ud]),Cd=ud(),[zM,ia]=so(Ba),[WM,VM]=so(Ba),ij=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:x}=e,g=Cd(t),[y,b]=m.useState(null),[v,w]=m.useState(null),[S,_]=m.useState(!1),j=ag(u),[N,E]=Js({prop:n,defaultProp:s??!1,onChange:a,caller:Ba}),[D,k]=Js({prop:o,defaultProp:l,onChange:c,caller:Ba}),z=m.useRef(null),I=y?x||!!y.closest("form"):!0,[q,R]=m.useState(new Set),T=Array.from(q).map(L=>L.props.value).join(";");return i.jsx(HA,{...g,children:i.jsxs(zM,{required:p,scope:t,trigger:y,onTriggerChange:b,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:ss(),value:D,onValueChange:k,open:N,onOpenChange:E,dir:j,triggerPointerDownPosRef:z,disabled:h,children:[i.jsx(Nd.Provider,{scope:t,children:i.jsx(WM,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(L=>{R(J=>new Set(J).add(L))},[]),onNativeOptionRemove:m.useCallback(L=>{R(J=>{const M=new Set(J);return M.delete(L),M})},[]),children:r})}),I?i.jsxs(kj,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:D,onChange:L=>k(L.target.value),disabled:h,form:x,children:[D===void 0?i.jsx("option",{value:""}):null,Array.from(q)]},T):null]})})};ij.displayName=Ba;var oj="SelectTrigger",lj=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=Cd(r),o=ia(oj,r),l=o.disabled||n,c=ht(t,o.onTriggerChange),u=Ed(r),d=m.useRef("touch"),[f,h,p]=Rj(g=>{const y=u().filter(w=>!w.disabled),b=y.find(w=>w.value===o.value),v=Ij(y,g,b);v!==void 0&&o.onValueChange(v.value)}),x=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(qS,{asChild:!0,...a,children:i.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Aj(o.value)?"":void 0,...s,ref:c,onClick:Pe(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:Pe(s.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:Pe(s.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&$M.includes(g.key)&&(x(),g.preventDefault())})})})});lj.displayName=oj;var cj="SelectValue",uj=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,c=ia(cj,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=ht(t,c.onValueNodeChange);return Vt(()=>{u(d)},[u,d]),i.jsx(Oe.span,{...l,ref:f,style:{pointerEvents:"none"},children:Aj(c.value)?i.jsx(i.Fragment,{children:o}):a})});uj.displayName=cj;var HM="SelectIcon",dj=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(Oe.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});dj.displayName=HM;var GM="SelectPortal",fj=e=>i.jsx(rd,{asChild:!0,...e});fj.displayName=GM;var La="SelectContent",hj=m.forwardRef((e,t)=>{const r=ia(La,e.__scopeSelect),[n,s]=m.useState();if(Vt(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?sa.createPortal(i.jsx(pj,{scope:e.__scopeSelect,children:i.jsx(Nd.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(mj,{...e,ref:t})});hj.displayName=La;var mn=10,[pj,oa]=so(La),qM="SelectContentImpl",KM=Wi("SelectContent.RemoveScroll"),mj=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:y,...b}=e,v=ia(La,r),[w,S]=m.useState(null),[_,j]=m.useState(null),N=ht(t,C=>S(C)),[E,D]=m.useState(null),[k,z]=m.useState(null),I=Ed(r),[q,R]=m.useState(!1),T=m.useRef(!1);m.useEffect(()=>{if(w)return X1(w)},[w]),K1();const L=m.useCallback(C=>{const[X,...ee]=I().map(oe=>oe.ref.current),[le]=ee.slice(-1),ge=document.activeElement;for(const oe of C)if(oe===ge||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===X&&_&&(_.scrollTop=0),oe===le&&_&&(_.scrollTop=_.scrollHeight),oe==null||oe.focus(),document.activeElement!==ge))return},[I,_]),J=m.useCallback(()=>L([E,w]),[L,E,w]);m.useEffect(()=>{q&&J()},[q,J]);const{onOpenChange:M,triggerPointerDownPosRef:B}=v;m.useEffect(()=>{if(w){let C={x:0,y:0};const X=le=>{var ge,oe;C={x:Math.abs(Math.round(le.pageX)-(((ge=B.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(le.pageY)-(((oe=B.current)==null?void 0:oe.y)??0))}},ee=le=>{C.x<=10&&C.y<=10?le.preventDefault():w.contains(le.target)||M(!1),document.removeEventListener("pointermove",X),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",ee,{capture:!0})}}},[w,M,B]),m.useEffect(()=>{const C=()=>M(!1);return window.addEventListener("blur",C),window.addEventListener("resize",C),()=>{window.removeEventListener("blur",C),window.removeEventListener("resize",C)}},[M]);const[H,re]=Rj(C=>{const X=I().filter(ge=>!ge.disabled),ee=X.find(ge=>ge.ref.current===document.activeElement),le=Ij(X,C,ee);le&&setTimeout(()=>le.ref.current.focus())}),W=m.useCallback((C,X,ee)=>{const le=!T.current&&!ee;(v.value!==void 0&&v.value===X||le)&&(D(C),le&&(T.current=!0))},[v.value]),ce=m.useCallback(()=>w==null?void 0:w.focus(),[w]),K=m.useCallback((C,X,ee)=>{const le=!T.current&&!ee;(v.value!==void 0&&v.value===X||le)&&z(C)},[v.value]),ae=n==="popper"?Sp:gj,be=ae===Sp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:y}:{};return i.jsx(pj,{scope:r,content:w,viewport:_,onViewportChange:j,itemRefCallback:W,selectedItem:E,onItemLeave:ce,itemTextRefCallback:K,focusSelectedItem:J,selectedItemText:k,position:n,isPositioned:q,searchRef:H,children:i.jsx(og,{as:KM,allowPinchZoom:!0,children:i.jsx(ig,{asChild:!0,trapped:v.open,onMountAutoFocus:C=>{C.preventDefault()},onUnmountAutoFocus:Pe(s,C=>{var X;(X=v.trigger)==null||X.focus({preventScroll:!0}),C.preventDefault()}),children:i.jsx(Tl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:C=>C.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:i.jsx(ae,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:C=>C.preventDefault(),...b,...be,onPlaced:()=>R(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Pe(b.onKeyDown,C=>{const X=C.ctrlKey||C.altKey||C.metaKey;if(C.key==="Tab"&&C.preventDefault(),!X&&C.key.length===1&&re(C.key),["ArrowUp","ArrowDown","Home","End"].includes(C.key)){let le=I().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(C.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(C.key)){const ge=C.target,oe=le.indexOf(ge);le=le.slice(oe+1)}setTimeout(()=>L(le)),C.preventDefault()}})})})})})})});mj.displayName=qM;var YM="SelectItemAlignedPosition",gj=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=ia(La,r),o=oa(La,r),[l,c]=m.useState(null),[u,d]=m.useState(null),f=ht(t,N=>d(N)),h=Ed(r),p=m.useRef(!1),x=m.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:b,focusSelectedItem:v}=o,w=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&y&&b){const N=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(a.dir!=="rtl"){const ge=k.left-E.left,oe=D.left-ge,je=N.left-oe,Ne=N.width+je,Be=Math.max(Ne,E.width),ke=window.innerWidth-mn,tt=fx(oe,[mn,Math.max(mn,ke-Be)]);l.style.minWidth=Ne+"px",l.style.left=tt+"px"}else{const ge=E.right-k.right,oe=window.innerWidth-D.right-ge,je=window.innerWidth-N.right-oe,Ne=N.width+je,Be=Math.max(Ne,E.width),ke=window.innerWidth-mn,tt=fx(oe,[mn,Math.max(mn,ke-Be)]);l.style.minWidth=Ne+"px",l.style.right=tt+"px"}const z=h(),I=window.innerHeight-mn*2,q=g.scrollHeight,R=window.getComputedStyle(u),T=parseInt(R.borderTopWidth,10),L=parseInt(R.paddingTop,10),J=parseInt(R.borderBottomWidth,10),M=parseInt(R.paddingBottom,10),B=T+L+q+M+J,H=Math.min(y.offsetHeight*5,B),re=window.getComputedStyle(g),W=parseInt(re.paddingTop,10),ce=parseInt(re.paddingBottom,10),K=N.top+N.height/2-mn,ae=I-K,be=y.offsetHeight/2,C=y.offsetTop+be,X=T+L+C,ee=B-X;if(X<=K){const ge=z.length>0&&y===z[z.length-1].ref.current;l.style.bottom="0px";const oe=u.clientHeight-g.offsetTop-g.offsetHeight,je=Math.max(ae,be+(ge?ce:0)+oe+J),Ne=X+je;l.style.height=Ne+"px"}else{const ge=z.length>0&&y===z[0].ref.current;l.style.top="0px";const je=Math.max(K,T+g.offsetTop+(ge?W:0)+be)+ee;l.style.height=je+"px",g.scrollTop=X-K+g.offsetTop}l.style.margin=`${mn}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,l,u,g,y,b,a.dir,n]);Vt(()=>w(),[w]);const[S,_]=m.useState();Vt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const j=m.useCallback(N=>{N&&x.current===!0&&(w(),v==null||v(),x.current=!1)},[w,v]);return i.jsx(JM,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:i.jsx(Oe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});gj.displayName=YM;var QM="SelectPopperPosition",Sp=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=mn,...a}=e,o=Cd(r);return i.jsx(KS,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sp.displayName=QM;var[JM,lg]=so(La,{}),jp="SelectViewport",vj=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=oa(jp,r),o=lg(jp,r),l=ht(t,a.onViewportChange),c=m.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Nd.Slot,{scope:r,children:i.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Pe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const x=window.innerHeight-mn*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),b=Math.max(g,y);if(b<x){const v=b+p,w=Math.min(x,v),S=v-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});vj.displayName=jp;var yj="SelectGroup",[XM,ZM]=so(yj),eB=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ss();return i.jsx(XM,{scope:r,id:s,children:i.jsx(Oe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});eB.displayName=yj;var xj="SelectLabel",bj=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ZM(xj,r);return i.jsx(Oe.div,{id:s.id,...n,ref:t})});bj.displayName=xj;var Tu="SelectItem",[tB,wj]=so(Tu),Sj=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=ia(Tu,r),c=oa(Tu,r),u=l.value===n,[d,f]=m.useState(a??""),[h,p]=m.useState(!1),x=ht(t,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,n,s)}),g=ss(),y=m.useRef("touch"),b=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(tB,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(v=>{f(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:i.jsx(Nd.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(Oe.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:Pe(o.onFocus,()=>p(!0)),onBlur:Pe(o.onBlur,()=>p(!1)),onClick:Pe(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:Pe(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:Pe(o.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:Pe(o.onPointerMove,v=>{var w;y.current=v.pointerType,s?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(o.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Pe(o.onKeyDown,v=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&v.key===" "||(FM.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});Sj.displayName=Tu;var Po="SelectItemText",jj=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=ia(Po,r),l=oa(Po,r),c=wj(Po,r),u=VM(Po,r),[d,f]=m.useState(null),h=ht(t,b=>f(b),c.onItemTextChange,b=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,b,c.value,c.disabled)}),p=d==null?void 0:d.textContent,x=m.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return Vt(()=>(g(x),()=>y(x)),[g,y,x]),i.jsxs(i.Fragment,{children:[i.jsx(Oe.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?sa.createPortal(a.children,o.valueNode):null]})});jj.displayName=Po;var _j="SelectItemIndicator",Nj=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return wj(_j,r).isSelected?i.jsx(Oe.span,{"aria-hidden":!0,...n,ref:t}):null});Nj.displayName=_j;var _p="SelectScrollUpButton",Ej=m.forwardRef((e,t)=>{const r=oa(_p,e.__scopeSelect),n=lg(_p,e.__scopeSelect),[s,a]=m.useState(!1),o=ht(t,n.onScrollButtonChange);return Vt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(Tj,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Ej.displayName=_p;var Np="SelectScrollDownButton",Cj=m.forwardRef((e,t)=>{const r=oa(Np,e.__scopeSelect),n=lg(Np,e.__scopeSelect),[s,a]=m.useState(!1),o=ht(t,n.onScrollButtonChange);return Vt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(Tj,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Cj.displayName=Np;var Tj=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=oa("SelectScrollButton",r),o=m.useRef(null),l=Ed(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Vt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(Oe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Pe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Pe(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Pe(s.onPointerLeave,()=>{c()})})}),rB="SelectSeparator",Pj=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(Oe.div,{"aria-hidden":!0,...n,ref:t})});Pj.displayName=rB;var Ep="SelectArrow",nB=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Cd(r),a=ia(Ep,r),o=oa(Ep,r);return a.open&&o.position==="popper"?i.jsx(YS,{...s,...n,ref:t}):null});nB.displayName=Ep;var sB="SelectBubbleInput",kj=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=m.useRef(null),a=ht(n,s),o=Q1(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(Oe.select,{...r,style:{...Uw,...r.style},ref:a,defaultValue:t})});kj.displayName=sB;function Aj(e){return e===""||e===void 0}function Rj(e){const t=ln(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function Ij(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=aB(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function aB(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var iB=ij,Dj=lj,oB=uj,lB=dj,cB=fj,Oj=hj,uB=vj,Mj=bj,Bj=Sj,dB=jj,fB=Nj,Lj=Ej,$j=Cj,Fj=Pj;const Dr=iB,Or=oB,jr=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Dj,{ref:n,className:Me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-colors",e),...r,children:[t,i.jsx(lB,{asChild:!0,children:i.jsx(Bm,{className:"h-4 w-4 opacity-50 transition-transform duration-200 ease-in-out group-data-[state=open]:rotate-180"})})]}));jr.displayName=Dj.displayName;const Uj=m.forwardRef(({className:e,...t},r)=>i.jsx(Lj,{ref:r,className:Me("flex cursor-default items-center justify-center py-1 text-muted-foreground",e),...t,children:i.jsx(t2,{className:"h-4 w-4"})}));Uj.displayName=Lj.displayName;const zj=m.forwardRef(({className:e,...t},r)=>i.jsx($j,{ref:r,className:Me("flex cursor-default items-center justify-center py-1 text-muted-foreground",e),...t,children:i.jsx(Bm,{className:"h-4 w-4"})}));zj.displayName=$j.displayName;const _r=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(cB,{children:i.jsxs(Oj,{ref:s,className:Me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border/40 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(Uj,{}),i.jsx(uB,{className:Me("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(zj,{})]})}));_r.displayName=Oj.displayName;const hB=m.forwardRef(({className:e,...t},r)=>i.jsx(Mj,{ref:r,className:Me("py-1.5 pl-8 pr-2 text-sm font-medium text-muted-foreground",e),...t}));hB.displayName=Mj.displayName;const gt=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Bj,{ref:n,className:Me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent/50 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(fB,{children:i.jsx(Jr,{className:"h-4 w-4 text-primary"})})}),i.jsx(dB,{children:t})]}));gt.displayName=Bj.displayName;const pB=m.forwardRef(({className:e,...t},r)=>i.jsx(Fj,{ref:r,className:Me("-mx-1 my-1 h-px bg-muted",e),...t}));pB.displayName=Fj.displayName;var Td="Checkbox",[mB,k6]=Vn(Td),[gB,cg]=mB(Td);function vB(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=Js({prop:r,defaultProp:s??!1,onChange:c,caller:Td}),[x,g]=m.useState(null),[y,b]=m.useState(null),v=m.useRef(!1),w=x?!!o||!!x.closest("form"):!0,S={checked:h,disabled:a,setChecked:p,control:x,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:Hs(s)?!1:s,isFormControl:w,bubbleInput:y,setBubbleInput:b};return i.jsx(gB,{scope:t,...S,children:yB(f)?f(S):n})}var Wj="CheckboxTrigger",Vj=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:x}=cg(Wj,e),g=ht(s,d),y=m.useRef(c);return m.useEffect(()=>{const b=a==null?void 0:a.form;if(b){const v=()=>f(y.current);return b.addEventListener("reset",v),()=>b.removeEventListener("reset",v)}},[a,f]),i.jsx(Oe.button,{type:"button",role:"checkbox","aria-checked":Hs(c)?"mixed":c,"aria-required":u,"data-state":Yj(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:Pe(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Pe(r,b=>{f(v=>Hs(v)?!0:!v),x&&p&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});Vj.displayName=Wj;var ug=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(vB,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(Vj,{...f,ref:t,__scopeCheckbox:r}),h&&i.jsx(Kj,{__scopeCheckbox:r})]})})});ug.displayName=Td;var Hj="CheckboxIndicator",Gj=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=cg(Hj,r);return i.jsx(fs,{present:n||Hs(a.checked)||a.checked===!0,children:i.jsx(Oe.span,{"data-state":Yj(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Gj.displayName=Hj;var qj="CheckboxBubbleInput",Kj=m.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=cg(qj,e),x=ht(r,p),g=Q1(a),y=BS(n);m.useEffect(()=>{const v=h;if(!v)return;const w=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(w,"checked").set,j=!s.current;if(g!==a&&_){const N=new Event("click",{bubbles:j});v.indeterminate=Hs(a),_.call(v,Hs(a)?!1:a),v.dispatchEvent(N)}},[h,g,a,s]);const b=m.useRef(Hs(a)?!1:a);return i.jsx(Oe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Kj.displayName=qj;function yB(e){return typeof e=="function"}function Hs(e){return e==="indeterminate"}function Yj(e){return Hs(e)?"indeterminate":e?"checked":"unchecked"}const Qj=m.forwardRef(({className:e,...t},r)=>i.jsx(ug,{ref:r,className:Me("peer h-4 w-4 shrink-0 rounded-sm border border-primary/60 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground transition-colors duration-200",e),...t,children:i.jsx(Gj,{className:Me("flex items-center justify-center text-current"),children:i.jsx(Jr,{className:"h-3.5 w-3.5 transition-transform duration-200"})})}));Qj.displayName=ug.displayName;var Pd="Dialog",[Jj,A6]=Vn(Pd),[xB,Pn]=Jj(Pd),Xj=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=Js({prop:n,defaultProp:s??!1,onChange:a,caller:Pd});return i.jsx(xB,{scope:t,triggerRef:l,contentRef:c,contentId:ss(),titleId:ss(),descriptionId:ss(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};Xj.displayName=Pd;var Zj="DialogTrigger",e_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pn(Zj,r),a=ht(t,s.triggerRef);return i.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hg(s.open),...n,ref:a,onClick:Pe(e.onClick,s.onOpenToggle)})});e_.displayName=Zj;var dg="DialogPortal",[bB,t_]=Jj(dg,{forceMount:void 0}),r_=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Pn(dg,t);return i.jsx(bB,{scope:t,forceMount:r,children:m.Children.map(n,o=>i.jsx(fs,{present:r||a.open,children:i.jsx(rd,{asChild:!0,container:s,children:o})}))})};r_.displayName=dg;var Pu="DialogOverlay",n_=m.forwardRef((e,t)=>{const r=t_(Pu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Pn(Pu,e.__scopeDialog);return a.modal?i.jsx(fs,{present:n||a.open,children:i.jsx(SB,{...s,ref:t})}):null});n_.displayName=Pu;var wB=Wi("DialogOverlay.RemoveScroll"),SB=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pn(Pu,r);return i.jsx(og,{as:wB,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Oe.div,{"data-state":hg(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),$a="DialogContent",s_=m.forwardRef((e,t)=>{const r=t_($a,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Pn($a,e.__scopeDialog);return i.jsx(fs,{present:n||a.open,children:a.modal?i.jsx(jB,{...s,ref:t}):i.jsx(_B,{...s,ref:t})})});s_.displayName=$a;var jB=m.forwardRef((e,t)=>{const r=Pn($a,e.__scopeDialog),n=m.useRef(null),s=ht(t,r.contentRef,n);return m.useEffect(()=>{const a=n.current;if(a)return X1(a)},[]),i.jsx(a_,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Pe(e.onFocusOutside,a=>a.preventDefault())})}),_B=m.forwardRef((e,t)=>{const r=Pn($a,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return i.jsx(a_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),a_=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Pn($a,r),c=m.useRef(null),u=ht(t,c);return K1(),i.jsxs(i.Fragment,{children:[i.jsx(ig,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Tl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":hg(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(NB,{titleId:l.titleId}),i.jsx(CB,{contentRef:c,descriptionId:l.descriptionId})]})]})}),fg="DialogTitle",i_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pn(fg,r);return i.jsx(Oe.h2,{id:s.titleId,...n,ref:t})});i_.displayName=fg;var o_="DialogDescription",l_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pn(o_,r);return i.jsx(Oe.p,{id:s.descriptionId,...n,ref:t})});l_.displayName=o_;var c_="DialogClose",u_=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pn(c_,r);return i.jsx(Oe.button,{type:"button",...n,ref:t,onClick:Pe(e.onClick,()=>s.onOpenChange(!1))})});u_.displayName=c_;function hg(e){return e?"open":"closed"}var d_="DialogTitleWarning",[R6,f_]=nP(d_,{contentName:$a,titleName:fg,docsSlug:"dialog"}),NB=({titleId:e})=>{const t=f_(d_),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},EB="DialogDescriptionWarning",CB=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${f_(EB).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},TB=Xj,PB=e_,kB=r_,h_=n_,p_=s_,m_=i_,g_=l_,AB=u_;const or=TB,ya=PB,RB=kB,v_=m.forwardRef(({className:e,...t},r)=>i.jsx(h_,{ref:r,className:Me("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));v_.displayName=h_.displayName;const Qt=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(RB,{children:[i.jsx(v_,{}),i.jsxs(p_,{ref:n,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border/40 bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(AB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Ln,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qt.displayName=p_.displayName;const Jt=({className:e,...t})=>i.jsx("div",{className:Me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Jt.displayName="DialogHeader";const Xt=m.forwardRef(({className:e,...t},r)=>i.jsx(m_,{ref:r,className:Me("text-lg font-semibold leading-none tracking-tight text-foreground",e),...t}));Xt.displayName=m_.displayName;const IB=m.forwardRef(({className:e,...t},r)=>i.jsx(g_,{ref:r,className:Me("text-sm text-muted-foreground",e),...t}));IB.displayName=g_.displayName;const DB=()=>{const{teams:e,tournaments:t,players:r,createTeamFromPlayers:n,updateTeam:s,refreshPlayers:a,refreshTeams:o,createTournament:l,updateTournamentStatus:c,deleteTournament:u,addPlayer:d,addTeamToTournament:f,refreshTournaments:h,addTeam:p}=Dt(),[x,g]=m.useState("all"),[y,b]=m.useState(""),[v,w]=m.useState([]),[S,_]=m.useState(!1),[j,N]=m.useState(!1),[E,D]=m.useState(null),[k,z]=m.useState({first_name:"",last_name:"",phone_number:""}),[I,q]=m.useState("all"),[R,T]=m.useState(""),[L,J]=m.useState([]),[M,B]=m.useState(!1),[H,re]=m.useState(!1),[W,ce]=m.useState(null),[K,ae]=m.useState({name:"",city:"",player1_id:"",player2_id:""}),[be,C]=m.useState([]),[X,ee]=m.useState("all"),[le,ge]=m.useState(""),[oe,je]=m.useState(!1),[Ne,Be]=m.useState(!1),[ke,tt]=m.useState(null),[bt,Ct]=m.useState({name:"",status:"pending"}),[$t,cn]=m.useState(!1),[un,Rr]=m.useState([]),[A,$]=m.useState(!1),[F,O]=m.useState([]),[V,U]=m.useState(null),[ie,he]=m.useState(!1),[Q,_e]=m.useState(null),[ye,$e]=m.useState([]),[me,Ee]=m.useState([]),[Ae,Je]=m.useState(!1),[Re,We]=m.useState(null),[Fe,it]=m.useState(null),Nt=r.filter(P=>{if(x!=="all"){if(x==="unassigned"){if(e.some(ne=>(ne.player1_id===P.id||ne.player2_id===P.id)&&ne.registeredTournaments&&ne.registeredTournaments.length>0))return!1}else if(!e.some(ne=>{var de;return(ne.player1_id===P.id||ne.player2_id===P.id)&&((de=ne.registeredTournaments)==null?void 0:de.includes(x))}))return!1}if(y){const G=y.toLowerCase();return P.first_name.toLowerCase().includes(G)||P.last_name.toLowerCase().includes(G)}return!0}),ve=e.filter(P=>{var G;if(I!=="all"){if(I==="unassigned"){if(P.registeredTournaments&&P.registeredTournaments.length>0)return!1}else if(!((G=P.registeredTournaments)!=null&&G.includes(I)))return!1}if(R){const ne=R.toLowerCase();return P.name.toLowerCase().includes(ne)||P.city.toLowerCase().includes(ne)}return!0}),De=t.filter(P=>{var G;if(X!=="all")if(X==="active"){if(P.status!=="active")return!1}else if(X==="pending"){if(P.status!=="pending")return!1}else if(X==="finished"){if(P.status!=="finished")return!1}else{const ne=e.find(de=>de.id===X);if(!ne||!((G=ne.registeredTournaments)!=null&&G.includes(P.id)))return!1}if(le){const ne=le.toLowerCase();return P.name.toLowerCase().includes(ne)}return!0}),pe=P=>{const G=r.find(ne=>ne.id===P);return G?`${G.first_name} ${G.last_name}`:"Unknown Player"},lt=P=>{v.find(G=>G.id===P.id)?w(v.filter(G=>G.id!==P.id)):v.length<2?w([...v,P]):Y({title:"Maximum players selected",description:"You can only select 2 players to create a team.",variant:"destructive"})},Xe=async()=>{if(v.length!==2){Y({title:"Invalid selection",description:"Please select exactly 2 players to create a team.",variant:"destructive"});return}const P=v[0],G=v[1];if(e.find(de=>de.player1_id===P.id&&de.player2_id===G.id||de.player1_id===G.id&&de.player2_id===P.id)){Y({title:"Team already exists",description:`A team with ${P.first_name} ${P.last_name} and ${G.first_name} ${G.last_name} already exists.`,variant:"destructive"});return}try{const de=`${P.first_name}/${G.first_name}`;await n(P,G,de),w([]),await o(),Y({title:"Team created successfully",description:`Team "${de}" has been created.`,variant:"default"})}catch{Y({title:"Error creating team",description:"Failed to create team. Please try again.",variant:"destructive"})}},dt=async()=>{if(L.length===0){Y({title:"No teams selected",description:"Please select at least one team.",variant:"destructive"});return}if(be.length===0){Y({title:"No tournaments selected",description:"Please select at least one tournament.",variant:"destructive"});return}const P=[];for(const G of L){const ne=be.filter(de=>{var He;return(He=G.registeredTournaments)==null?void 0:He.includes(de)});ne.length>0&&P.push({team:G,tournaments:ne})}if(P.length>0){const G=P.map(({team:ne,tournaments:de})=>`${ne.name} (${de.join(", ")})`).join(", ");Y({title:"Teams already registered",description:`The following teams are already registered for some selected tournaments: ${G}`,variant:"destructive"});return}try{for(const G of L){const ne=[...G.registeredTournaments||[],...be];await s({...G,registeredTournaments:ne})}J([]),C([]),await o(),Y({title:"Teams added to tournaments",description:`${L.length} team(s) added to ${be.length} tournament(s).`,variant:"default"})}catch{Y({title:"Error adding teams",description:"Failed to add teams to tournaments. Please try again.",variant:"destructive"})}},Mt=async(P,G)=>{var ne;try{const de=((ne=P.registeredTournaments)==null?void 0:ne.filter(He=>He!==G))||[];await s({...P,registeredTournaments:de}),await o(),Y({title:"Team removed",description:`Team "${P.name}" removed from tournament.`,variant:"default"})}catch{Y({title:"Error removing team",description:"Failed to remove team from tournament. Please try again.",variant:"destructive"})}},Ue=async()=>{if(!k.first_name||!k.last_name){Y({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}try{const{supabase:P}=await Le(async()=>{const{supabase:de}=await Promise.resolve().then(()=>Ye);return{supabase:de}},void 0),{data:G,error:ne}=await P.from("players").insert([{first_name:k.first_name,last_name:k.last_name,phone_number:k.phone_number||null}]).select().single();if(ne)throw ne;z({first_name:"",last_name:"",phone_number:""}),_(!1),await a(),Y({title:"Player added successfully",description:`${k.first_name} ${k.last_name} has been added.`,variant:"default"})}catch{Y({title:"Error adding player",description:"Failed to add player. Please try again.",variant:"destructive"})}},ut=async()=>{if(!E||!E.first_name||!E.last_name){Y({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}try{const{supabase:P}=await Le(async()=>{const{supabase:ne}=await Promise.resolve().then(()=>Ye);return{supabase:ne}},void 0),{error:G}=await P.from("players").update({first_name:E.first_name,last_name:E.last_name,phone_number:E.phone_number||null}).eq("id",E.id);if(G)throw G;D(null),N(!1),await a(),Y({title:"Player updated successfully",description:`${E.first_name} ${E.last_name} has been updated.`,variant:"default"})}catch{Y({title:"Error updating player",description:"Failed to update player. Please try again.",variant:"destructive"})}},Va=async P=>{try{const{supabase:G}=await Le(async()=>{const{supabase:de}=await Promise.resolve().then(()=>Ye);return{supabase:de}},void 0),{error:ne}=await G.from("players").delete().eq("id",P);if(ne)throw ne;await a(),Y({title:"Player deleted successfully",description:"Player has been removed.",variant:"default"})}catch{Y({title:"Error deleting player",description:"Failed to delete player. Please try again.",variant:"destructive"})}},hs=P=>{We("player"),it(P),Je(!0)},ur=P=>{We("team"),it(P),Je(!0)},fE=P=>{We("tournament"),it(P),Je(!0)},hE=async()=>{if(!(!Fe||!Re))try{switch(Re){case"player":await Va(Fe.id);break;case"team":await vE(Fe.id);break;case"tournament":await bE(Fe.id);break}}catch{}finally{Je(!1),We(null),it(null)}},pE=()=>{Je(!1),We(null),it(null)},mE=async()=>{if(!K.name||!K.city||!K.player1_id||!K.player2_id){Y({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}if(K.player1_id===K.player2_id){Y({title:"Invalid selection",description:"Please select two different players.",variant:"destructive"});return}try{const{supabase:P}=await Le(async()=>{const{supabase:de}=await Promise.resolve().then(()=>Ye);return{supabase:de}},void 0),{data:G,error:ne}=await P.from("teams").insert([{name:K.name,city:K.city,player1_id:K.player1_id,player2_id:K.player2_id,registeredTournaments:[]}]).select().single();if(ne)throw ne;ae({name:"",city:"",player1_id:"",player2_id:""}),B(!1),await o(),Y({title:"Team added successfully",description:`Team "${K.name}" has been created.`,variant:"default"})}catch{Y({title:"Error adding team",description:"Failed to add team. Please try again.",variant:"destructive"})}},gE=async()=>{if(!W||!W.name||!W.city||!W.player1_id||!W.player2_id){Y({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}if(W.player1_id===W.player2_id){Y({title:"Invalid selection",description:"Please select two different players.",variant:"destructive"});return}try{await s(W),ce(null),re(!1),await o(),Y({title:"Team updated successfully",description:`Team "${W.name}" has been updated.`,variant:"default"})}catch{Y({title:"Error updating team",description:"Failed to update team. Please try again.",variant:"destructive"})}},vE=async P=>{try{const{supabase:G}=await Le(async()=>{const{supabase:de}=await Promise.resolve().then(()=>Ye);return{supabase:de}},void 0),{error:ne}=await G.from("teams").delete().eq("id",P);if(ne)throw ne;await o(),Y({title:"Team deleted successfully",description:"Team has been removed.",variant:"default"})}catch{Y({title:"Error deleting team",description:"Failed to delete team. Please try again.",variant:"destructive"})}},yE=async()=>{if(!bt.name){Y({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}try{await l(bt.name,bt.status),Ct({name:"",status:"pending"}),je(!1),Y({title:"Tournament added successfully",description:`Tournament "${bt.name}" has been created.`,variant:"default"})}catch{Y({title:"Error adding tournament",description:"Failed to add tournament. Please try again.",variant:"destructive"})}},xE=async()=>{if(!ke||!ke.name){Y({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}try{await c(ke),tt(null),Be(!1),Y({title:"Tournament updated successfully",description:`Tournament "${ke.name}" has been updated.`,variant:"default"})}catch{Y({title:"Error updating tournament",description:"Failed to update tournament. Please try again.",variant:"destructive"})}},bE=async P=>{try{await u(P),Y({title:"Tournament deleted successfully",description:"Tournament has been removed.",variant:"default"})}catch{Y({title:"Error deleting tournament",description:"Failed to delete tournament. Please try again.",variant:"destructive"})}},wE=P=>{var de;const G=(de=P.target.files)==null?void 0:de[0];if(!G)return;const ne=new FileReader;ne.onload=He=>{var qt;const mt=((qt=He.target)==null?void 0:qt.result).split(`
`).filter(dr=>dr.trim()),Gn=mt[0].split(",").map(dr=>dr.trim().toLowerCase().replace(/\s+/g,"_")),ca=[];for(let dr=1;dr<mt.length;dr++){const lo=mt[dr].split(",").map(Ha=>Ha.trim());if(lo.length>=Gn.length){const Ha={};Gn.forEach((jE,_E)=>{Ha[jE]=lo[_E]||""}),ca.push(Ha)}}Rr(ca),O(ca.slice(0,5))},ne.readAsText(G)},Kg=async()=>{const P={success:[],alreadyExists:[],failed:[]},G=new Map;for(const ne of un){const de=`${ne.player1_first_name}-${ne.player1_last_name}-${ne.player1_phone}`;G.set(de,{first_name:ne.player1_first_name,last_name:ne.player1_last_name,phone_number:ne.player1_phone});const He=`${ne.player2_first_name}-${ne.player2_last_name}-${ne.player2_phone}`;G.set(He,{first_name:ne.player2_first_name,last_name:ne.player2_last_name,phone_number:ne.player2_phone})}for(const[ne,de]of G)try{const He=r.find(Ir=>Ir.phone_number===de.phone_number||Ir.first_name.toLowerCase()===de.first_name.toLowerCase()&&Ir.last_name.toLowerCase()===de.last_name.toLowerCase());if(He){P.alreadyExists.push(He);continue}await d(de),P.success.push({id:"",first_name:de.first_name,last_name:de.last_name,phone_number:de.phone_number,city:"",created_at:new Date().toISOString()})}catch(He){const Ir=He instanceof Error?He.message:String(He);P.failed.push({player:de,reason:Ir})}if(P.success.length>0)try{await a();const ne=await Le(()=>Promise.resolve().then(()=>Ye),void 0).then(async({supabase:de})=>{const{data:He}=await de.from("players").select("*");return He||[]});P.success=P.success.map(de=>ne.find(Ir=>Ir.phone_number===de.phone_number&&Ir.first_name===de.first_name&&Ir.last_name===de.last_name)||de)}catch(ne){console.error("Failed to refresh players:",ne)}return P},Yg=async()=>{const P={success:[],alreadyExists:[],failed:[]};await a();for(const G of un)try{const ne=r.find(qt=>qt.phone_number===G.player1_phone||qt.first_name.toLowerCase()===G.player1_first_name.toLowerCase()&&qt.last_name.toLowerCase()===G.player1_last_name.toLowerCase()),de=r.find(qt=>qt.phone_number===G.player2_phone||qt.first_name.toLowerCase()===G.player2_first_name.toLowerCase()&&qt.last_name.toLowerCase()===G.player2_last_name.toLowerCase());if(!ne||!de){P.failed.push({team:{name:G.team_name,player1:G.player1_first_name,player2:G.player2_first_name},reason:`Players not found: ${ne?"":G.player1_first_name} ${de?"":G.player2_first_name}`});continue}const He=e.find(qt=>qt.name.toLowerCase()===G.team_name.toLowerCase());if(He){P.alreadyExists.push(He);continue}const{supabase:Ir}=await Le(async()=>{const{supabase:qt}=await Promise.resolve().then(()=>Ye);return{supabase:qt}},void 0),{data:mt,error:Gn}=await Ir.from("teams").insert([{name:G.team_name,player1_id:ne.id,player2_id:de.id}]).select().single();if(Gn){P.failed.push({team:{name:G.team_name,player1:G.player1_first_name,player2:G.player2_first_name},reason:Gn.message});continue}const ca={id:String(mt.id),name:mt.name,player1_id:mt.player1_id,player2_id:mt.player2_id,created_at:mt.created_at,player1:ne,player2:de,player1FirstName:ne.first_name,player1LastName:ne.last_name,player2FirstName:de.first_name,player2LastName:de.last_name,phoneNumber:ne.phone_number||de.phone_number,player1_phone:ne.phone_number,player2_phone:de.phone_number,city:ne.city||de.city,registeredTournaments:[]};P.success.push(ca)}catch(ne){const de=ne instanceof Error?ne.message:String(ne);P.failed.push({team:{name:G.team_name,player1:G.player1_first_name,player2:G.player2_first_name},reason:de})}return P},Qg=async()=>{var G;const P={success:[],failed:[]};await o(),await h();for(const ne of un)try{const de=e.find(mt=>mt.name.toLowerCase()===ne.team_name.toLowerCase());if(!de){P.failed.push({team:ne.team_name,tournament:ne.tournament_name,reason:"Team not found"});continue}let He=t.find(mt=>mt.name.toLowerCase()===ne.tournament_name.toLowerCase());if(!He)try{await l(ne.tournament_name,"pending"),await h(),He=t.find(mt=>mt.name.toLowerCase()===ne.tournament_name.toLowerCase())}catch(mt){P.failed.push({team:ne.team_name,tournament:ne.tournament_name,reason:`Failed to create tournament: ${mt instanceof Error?mt.message:String(mt)}`});continue}if(!He){P.failed.push({team:ne.team_name,tournament:ne.tournament_name,reason:"Tournament not found after creation"});continue}if((G=de.registeredTournaments)==null?void 0:G.includes(He.id)){de&&He&&P.success.push({team:de,tournament:He});continue}try{await f(de.id,He.id);try{const{supabase:mt}=await Le(async()=>{const{supabase:dr}=await Promise.resolve().then(()=>Ye);return{supabase:dr}},void 0),{data:Gn}=await mt.from("player_tournament").select("*").eq("tournament_id",He.id).in("player_id",[de.player1_id,de.player2_id]),ca=(Gn==null?void 0:Gn.map(dr=>dr.player_id))||[],qt=[de.player1_id,de.player2_id].filter(dr=>!ca.includes(dr));if(qt.length>0){const dr=qt.map(Ha=>({player_id:Ha,tournament_id:He.id,created_at:new Date().toISOString()})),{error:lo}=await mt.from("player_tournament").insert(dr);lo&&console.warn(`Failed to assign players to tournament: ${lo.message}`)}}catch(mt){console.warn(`Error assigning players to tournament: ${mt}`)}de&&He&&P.success.push({team:de,tournament:He})}catch(mt){P.failed.push({team:ne.team_name,tournament:ne.tournament_name,reason:`Failed to add team to tournament: ${mt instanceof Error?mt.message:String(mt)}`})}}catch(de){const He=de instanceof Error?de.message:String(de);P.failed.push({team:ne.team_name,tournament:ne.tournament_name,reason:He})}return P},SE=async()=>{if(un.length===0){Y({title:"Error",description:"No CSV data to process",variant:"destructive"});return}$(!0),U("players");try{const P=await Kg();_e(P),he(!0),$e([...P.success,...P.alreadyExists])}catch(P){const G=P instanceof Error?P.message:String(P);Y({title:"Player Upload Failed",description:`Unexpected error during player processing: ${G}`,variant:"destructive"}),$(!1),U(null)}},Jg=async P=>{if(he(!1),P==="reload"){$(!0);try{if(V==="players"){const G=await Kg();_e(G),he(!0),$e([...G.success,...G.alreadyExists])}else if(V==="teams"){const G=await Yg();_e(G),he(!0),Ee([...G.success,...G.alreadyExists])}else if(V==="tournaments"){const G=await Qg();_e(G),he(!0)}}catch(G){const ne=G instanceof Error?G.message:String(G);Y({title:"Step Reload Failed",description:`Unexpected error during reload: ${ne}`,variant:"destructive"}),$(!1),U(null)}return}if(V==="players"){U("teams"),$(!0);try{const G=await Yg();_e(G),he(!0),Ee([...G.success,...G.alreadyExists])}catch(G){const ne=G instanceof Error?G.message:String(G);Y({title:"Team Upload Failed",description:`Unexpected error during team processing: ${ne}`,variant:"destructive"}),$(!1),U(null)}}else if(V==="teams"){U("tournaments"),$(!0);try{const G=await Qg();_e(G),he(!0)}catch(G){const ne=G instanceof Error?G.message:String(G);Y({title:"Tournament Assignment Failed",description:`Unexpected error during tournament assignment: ${ne}`,variant:"destructive"}),$(!1),U(null)}}else V==="tournaments"&&(Y({title:"CSV Upload Complete",description:"All steps completed successfully"}),Rr([]),O([]),cn(!1),$(!1),U(null),_e(null),$e([]),Ee([]))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ze,{children:[i.jsx(rt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(id,{className:"h-5 w-5"}),"Team Builder"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(or,{open:$t,onOpenChange:cn,children:[i.jsx(ya,{asChild:!0,children:i.jsxs(se,{size:"sm",children:[i.jsx(f2,{className:"h-4 w-4 mr-2"}),"Import CSV"]})}),i.jsxs(Qt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[i.jsx(Jt,{children:i.jsx(Xt,{children:"Import Teams from CSV"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"csv-file",children:"Upload CSV File"}),i.jsx(Se,{id:"csv-file",type:"file",accept:".csv",onChange:wE,className:"mt-1"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"CSV should have columns: player1_first_name, player1_last_name, player1_phone, player2_first_name, player2_last_name, player2_phone, team_name, team_city, team_phone, tournament_name"})]}),F.length>0&&i.jsxs("div",{children:[i.jsx(xe,{children:"Preview (first 5 rows):"}),i.jsx("div",{className:"mt-2 border rounded-lg overflow-hidden",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2 text-left",children:"Team"}),i.jsx("th",{className:"px-3 py-2 text-left",children:"Player 1"}),i.jsx("th",{className:"px-3 py-2 text-left",children:"Player 2"}),i.jsx("th",{className:"px-3 py-2 text-left",children:"City"}),i.jsx("th",{className:"px-3 py-2 text-left",children:"Tournament"})]})}),i.jsx("tbody",{children:F.map((P,G)=>i.jsxs("tr",{className:"border-t",children:[i.jsx("td",{className:"px-3 py-2",children:P.team_name}),i.jsxs("td",{className:"px-3 py-2",children:[P.player1_first_name," ",P.player1_last_name]}),i.jsxs("td",{className:"px-3 py-2",children:[P.player2_first_name," ",P.player2_last_name]}),i.jsx("td",{className:"px-3 py-2",children:P.team_city}),i.jsx("td",{className:"px-3 py-2",children:P.tournament_name})]},G))})]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{onClick:SE,disabled:un.length===0||A,className:"flex-1",children:A?"Processing...":`Start Multi-Step Upload (${un.length} Teams)`}),i.jsx(se,{variant:"outline",onClick:()=>{Rr([]),O([]),cn(!1)},children:"Cancel"})]})]})]})]}),i.jsx(or,{open:ie,onOpenChange:he,children:i.jsxs(Qt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[i.jsx(Jt,{children:i.jsxs(Xt,{children:[V==="players"&&"Player Upload Results",V==="teams"&&"Team Upload Results",V==="tournaments"&&"Tournament Assignment Results"]})}),i.jsxs("div",{className:"space-y-6",children:[Q&&i.jsxs(i.Fragment,{children:[V==="players"&&Q.success.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-green-600 flex items-center gap-2",children:[i.jsx(Jr,{className:"h-5 w-5"}),"Successfully Created (",Q.success.length,")"]}),i.jsx("div",{className:"bg-green-50 p-3 rounded-md max-h-40 overflow-y-auto",children:Q.success.map((P,G)=>i.jsxs("div",{className:"text-sm text-green-800",children:[P.first_name," ",P.last_name," (",P.phone_number,")"]},G))})]}),V==="teams"&&Q.success.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-green-600 flex items-center gap-2",children:[i.jsx(Jr,{className:"h-5 w-5"}),"Successfully Created (",Q.success.length,")"]}),i.jsx("div",{className:"bg-green-50 p-3 rounded-md max-h-40 overflow-y-auto",children:Q.success.map((P,G)=>i.jsxs("div",{className:"text-sm text-green-800",children:[P.name," - ",P.player1FirstName," ",P.player1LastName," & ",P.player2FirstName," ",P.player2LastName]},G))})]}),V==="tournaments"&&Q.success.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-green-600 flex items-center gap-2",children:[i.jsx(Jr,{className:"h-5 w-5"}),"Successfully Assigned (",Q.success.length,")"]}),i.jsx("div",{className:"bg-green-50 p-3 rounded-md max-h-40 overflow-y-auto",children:Q.success.map((P,G)=>{var ne,de;return i.jsxs("div",{className:"text-sm text-green-800",children:[((ne=P.team)==null?void 0:ne.name)||"Unknown Team"," → ",((de=P.tournament)==null?void 0:de.name)||"Unknown Tournament"]},G)})})]}),V==="players"&&Q.alreadyExists.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-blue-600 flex items-center gap-2",children:[i.jsx(Jr,{className:"h-5 w-5"}),"Already Exists (",Q.alreadyExists.length,")"]}),i.jsx("div",{className:"bg-blue-50 p-3 rounded-md max-h-40 overflow-y-auto",children:Q.alreadyExists.map((P,G)=>i.jsxs("div",{className:"text-sm text-blue-800",children:[(P==null?void 0:P.first_name)||"Unknown"," ",(P==null?void 0:P.last_name)||"Player"," (",(P==null?void 0:P.phone_number)||"No Phone",")"]},G))})]}),V==="teams"&&Q.alreadyExists.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-blue-600 flex items-center gap-2",children:[i.jsx(Jr,{className:"h-5 w-5"}),"Already Exists (",Q.alreadyExists.length,")"]}),i.jsx("div",{className:"bg-blue-50 p-3 rounded-md max-h-40 overflow-y-auto",children:Q.alreadyExists.map((P,G)=>i.jsxs("div",{className:"text-sm text-blue-800",children:[(P==null?void 0:P.name)||"Unknown Team"," - ",(P==null?void 0:P.player1FirstName)||"Unknown"," ",(P==null?void 0:P.player1LastName)||"Player"," & ",(P==null?void 0:P.player2FirstName)||"Unknown"," ",(P==null?void 0:P.player2LastName)||"Player"]},G))})]}),V==="players"&&Q.failed.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-red-600 flex items-center gap-2",children:[i.jsx(Ln,{className:"h-5 w-5"}),"Failed (",Q.failed.length,")"]}),i.jsx("div",{className:"bg-red-50 p-3 rounded-md max-h-40 overflow-y-auto",children:Q.failed.map((P,G)=>{var ne,de,He;return i.jsxs("div",{className:"text-sm text-red-800",children:[i.jsxs("div",{className:"font-medium",children:[((ne=P.player)==null?void 0:ne.first_name)||"Unknown"," ",((de=P.player)==null?void 0:de.last_name)||"Player"," (",((He=P.player)==null?void 0:He.phone_number)||"No Phone",")"]}),i.jsxs("div",{className:"text-xs text-red-600",children:["Reason: ",P.reason]})]},G)})})]}),V==="teams"&&Q.failed.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-red-600 flex items-center gap-2",children:[i.jsx(Ln,{className:"h-5 w-5"}),"Failed (",Q.failed.length,")"]}),i.jsx("div",{className:"bg-red-50 p-3 rounded-md max-h-40 overflow-y-auto",children:Q.failed.map((P,G)=>{var ne,de,He;return i.jsxs("div",{className:"text-sm text-red-800",children:[i.jsxs("div",{className:"font-medium",children:[((ne=P.team)==null?void 0:ne.name)||"Unknown Team"," - ",((de=P.team)==null?void 0:de.player1)||"Unknown"," & ",((He=P.team)==null?void 0:He.player2)||"Unknown"]}),i.jsxs("div",{className:"text-xs text-red-600",children:["Reason: ",P.reason]})]},G)})})]}),V==="tournaments"&&Q.failed.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-red-600 flex items-center gap-2",children:[i.jsx(Ln,{className:"h-5 w-5"}),"Failed (",Q.failed.length,")"]}),i.jsx("div",{className:"bg-red-50 p-3 rounded-md max-h-40 overflow-y-auto",children:Q.failed.map((P,G)=>i.jsxs("div",{className:"text-sm text-red-800",children:[i.jsxs("div",{className:"font-medium",children:[P.team," → ",P.tournament]}),i.jsxs("div",{className:"text-xs text-red-600",children:["Reason: ",P.reason]})]},G))})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[i.jsx(se,{onClick:()=>Jg("reload"),variant:"outline",className:"flex-1",children:"Reload Step"}),i.jsx(se,{onClick:()=>Jg("continue"),className:"flex-1",children:V==="tournaments"?"Complete":"Continue to Next Step"})]})]})]})}),i.jsxs(or,{open:S,onOpenChange:_,children:[i.jsx(ya,{asChild:!0,children:i.jsxs(se,{size:"sm",children:[i.jsx(ji,{className:"h-4 w-4 mr-2"}),"Add New Player"]})}),i.jsxs(Qt,{children:[i.jsx(Jt,{children:i.jsx(Xt,{children:"Add New Player"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"first_name",children:"First Name *"}),i.jsx(Se,{id:"first_name",value:k.first_name,onChange:P=>z({...k,first_name:P.target.value})})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"last_name",children:"Last Name *"}),i.jsx(Se,{id:"last_name",value:k.last_name,onChange:P=>z({...k,last_name:P.target.value})})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"phone_number",children:"Phone Number"}),i.jsx(Se,{id:"phone_number",value:k.phone_number,onChange:P=>z({...k,phone_number:P.target.value})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{onClick:Ue,className:"flex-1",children:"Add Player"}),i.jsx(se,{variant:"outline",onClick:()=>_(!1),children:"Cancel"})]})]})]})]})]})]})}),i.jsx(et,{children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs(Ze,{className:"border-2 border-red-500",children:[i.jsxs(rt,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(at,{className:"text-lg text-center",children:"Players"}),i.jsx("div",{className:"flex gap-1",children:i.jsxs(or,{open:S,onOpenChange:_,children:[i.jsx(ya,{asChild:!0,children:i.jsx(se,{size:"sm",children:i.jsx(ji,{className:"h-4 w-4"})})}),i.jsxs(Qt,{children:[i.jsx(Jt,{children:i.jsx(Xt,{children:"Add New Player"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"first_name",children:"First Name *"}),i.jsx(Se,{id:"first_name",value:k.first_name,onChange:P=>z({...k,first_name:P.target.value})})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"last_name",children:"Last Name *"}),i.jsx(Se,{id:"last_name",value:k.last_name,onChange:P=>z({...k,last_name:P.target.value})})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"phone_number",children:"Phone Number"}),i.jsx(Se,{id:"phone_number",value:k.phone_number,onChange:P=>z({...k,phone_number:P.target.value})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{onClick:Ue,className:"flex-1",children:"Add Player"}),i.jsx(se,{variant:"outline",onClick:()=>_(!1),children:"Cancel"})]})]})]})]})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Dr,{value:x,onValueChange:g,children:[i.jsx(jr,{className:"border-2 border-black",children:i.jsx(Or,{placeholder:"Filter by tournament"})}),i.jsxs(_r,{children:[i.jsx(gt,{value:"all",children:"All Players"}),i.jsx(gt,{value:"unassigned",children:"Unassigned"}),t.map(P=>i.jsx(gt,{value:P.id,children:P.name},P.id))]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ka,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(Se,{placeholder:"Search players...",value:y,onChange:P=>b(P.target.value),className:"pl-8"})]})]})]}),i.jsxs(et,{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:[Nt.length," player(s) found"]}),i.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:Nt.map(P=>i.jsx("div",{className:`p-2 rounded border cursor-pointer transition-colors ${v.find(G=>G.id===P.id)?"bg-blue-50 border-blue-200":"hover:bg-gray-50"}`,onClick:()=>lt(P),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium",children:[P.first_name," ",P.last_name]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:P.city})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(se,{size:"sm",variant:"ghost",onClick:G=>{G.stopPropagation(),D(P),N(!0)},className:"h-6 w-6 p-0",children:i.jsx(Fc,{className:"h-3 w-3"})}),i.jsx(se,{size:"sm",variant:"ghost",onClick:G=>{G.stopPropagation(),hs(P)},className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:i.jsx(Pf,{className:"h-3 w-3"})}),v.find(G=>G.id===P.id)&&i.jsx(Jr,{className:"h-4 w-4 text-blue-600"})]})]})},P.id))}),v.length>0&&i.jsxs(se,{onClick:Xe,className:"w-full",disabled:v.length!==2,children:["Create Team (",v.length,"/2)"]})]})]}),i.jsxs(Ze,{className:"border-2 border-red-500",children:[i.jsxs(rt,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(at,{className:"text-lg text-center",children:"Teams"}),i.jsx("div",{className:"flex gap-1",children:i.jsxs(or,{open:M,onOpenChange:B,children:[i.jsx(ya,{asChild:!0,children:i.jsx(se,{size:"sm",children:i.jsx(vu,{className:"h-4 w-4"})})}),i.jsxs(Qt,{children:[i.jsx(Jt,{children:i.jsx(Xt,{children:"Add New Team"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"team_name",children:"Team Name *"}),i.jsx(Se,{id:"team_name",value:K.name,onChange:P=>ae({...K,name:P.target.value})})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"team_city",children:"City *"}),i.jsx(Se,{id:"team_city",value:K.city,onChange:P=>ae({...K,city:P.target.value})})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"player1",children:"Player 1 *"}),i.jsxs(Dr,{value:K.player1_id,onValueChange:P=>ae({...K,player1_id:P}),children:[i.jsx(jr,{children:i.jsx(Or,{placeholder:"Select player 1"})}),i.jsx(_r,{children:r.map(P=>i.jsxs(gt,{value:P.id,children:[P.first_name," ",P.last_name]},P.id))})]})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"player2",children:"Player 2 *"}),i.jsxs(Dr,{value:K.player2_id,onValueChange:P=>ae({...K,player2_id:P}),children:[i.jsx(jr,{children:i.jsx(Or,{placeholder:"Select player 2"})}),i.jsx(_r,{children:r.map(P=>i.jsxs(gt,{value:P.id,children:[P.first_name," ",P.last_name]},P.id))})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{onClick:mE,className:"flex-1",children:"Add Team"}),i.jsx(se,{variant:"outline",onClick:()=>B(!1),children:"Cancel"})]})]})]})]})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Dr,{value:I,onValueChange:q,children:[i.jsx(jr,{className:"border-2 border-black",children:i.jsx(Or,{placeholder:"Filter by tournament"})}),i.jsxs(_r,{children:[i.jsx(gt,{value:"all",children:"All Teams"}),i.jsx(gt,{value:"unassigned",children:"Unassigned"}),t.map(P=>i.jsx(gt,{value:P.id,children:P.name},P.id))]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ka,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(Se,{placeholder:"Search teams...",value:R,onChange:P=>T(P.target.value),className:"pl-8"})]})]})]}),i.jsxs(et,{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:[ve.length," team(s) found"]}),i.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:ve.map(P=>i.jsx("div",{className:`p-2 rounded border cursor-pointer transition-colors ${L.find(G=>G.id===P.id)?"bg-blue-50 border-blue-200":"hover:bg-gray-50"}`,onClick:()=>{L.find(G=>G.id===P.id)?J(L.filter(G=>G.id!==P.id)):J([...L,P])},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:P.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[pe(P.player1_id)," & ",pe(P.player2_id)]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:P.city}),P.registeredTournaments&&P.registeredTournaments.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:P.registeredTournaments.map(G=>{const ne=t.find(de=>de.id===G);return i.jsxs(Te,{variant:"secondary",className:"text-xs",children:[(ne==null?void 0:ne.name)||G,i.jsx("button",{onClick:de=>{de.stopPropagation(),Mt(P,G)},className:"ml-1 hover:text-red-600",children:i.jsx(Ln,{className:"h-3 w-3"})})]},G)})})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(se,{size:"sm",variant:"ghost",onClick:G=>{G.stopPropagation(),ce(P),re(!0)},className:"h-6 w-6 p-0",children:i.jsx(Fc,{className:"h-3 w-3"})}),i.jsx(se,{size:"sm",variant:"ghost",onClick:G=>{G.stopPropagation(),ur(P)},className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:i.jsx(Pf,{className:"h-3 w-3"})}),L.find(G=>G.id===P.id)&&i.jsx(Jr,{className:"h-4 w-4 text-blue-600"})]})]})},P.id))})]})]}),i.jsxs(Ze,{className:"border-2 border-red-500",children:[i.jsxs(rt,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(at,{className:"text-lg text-center",children:"Tournaments"}),i.jsx("div",{className:"flex gap-1",children:i.jsxs(or,{open:oe,onOpenChange:je,children:[i.jsx(ya,{asChild:!0,children:i.jsx(se,{size:"sm",children:i.jsx(vu,{className:"h-4 w-4"})})}),i.jsxs(Qt,{children:[i.jsx(Jt,{children:i.jsx(Xt,{children:"Add New Tournament"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"tournament_name",children:"Tournament Name *"}),i.jsx(Se,{id:"tournament_name",value:bt.name,onChange:P=>Ct({...bt,name:P.target.value})})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"tournament_status",children:"Status *"}),i.jsxs(Dr,{value:bt.status,onValueChange:P=>Ct({...bt,status:P}),children:[i.jsx(jr,{children:i.jsx(Or,{placeholder:"Select status"})}),i.jsxs(_r,{children:[i.jsx(gt,{value:"pending",children:"Pending"}),i.jsx(gt,{value:"active",children:"Active"}),i.jsx(gt,{value:"finished",children:"Finished"})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{onClick:yE,className:"flex-1",children:"Add Tournament"}),i.jsx(se,{variant:"outline",onClick:()=>je(!1),children:"Cancel"})]})]})]})]})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Dr,{value:X,onValueChange:ee,children:[i.jsx(jr,{className:"border-2 border-black",children:i.jsx(Or,{placeholder:"Filter tournaments"})}),i.jsxs(_r,{children:[i.jsx(gt,{value:"all",children:"All Tournaments"}),i.jsx(gt,{value:"active",children:"Active Only"}),i.jsx(gt,{value:"pending",children:"Pending Only"}),i.jsx(gt,{value:"finished",children:"Finished Only"}),i.jsx(gt,{value:"divider",disabled:!0,children:"──────────"}),e.map(P=>i.jsxs(gt,{value:P.id,children:[P.name," - Tournaments"]},P.id))]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ka,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(Se,{placeholder:"Search tournaments...",value:le,onChange:P=>ge(P.target.value),className:"pl-8"})]})]})]}),i.jsxs(et,{className:"space-y-3",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:[De.length," tournament(s) found"]}),i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:De.map(P=>i.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded border hover:bg-gray-50 transition-colors",children:[i.jsx(Qj,{id:P.id,checked:be.includes(P.id),onCheckedChange:G=>{C(G?[...be,P.id]:be.filter(ne=>ne!==P.id))}}),i.jsx(xe,{htmlFor:P.id,className:`flex-1 cursor-pointer font-medium ${P.status==="active"?"text-red-600":""}`,children:P.name}),i.jsx(se,{size:"sm",variant:"ghost",onClick:G=>{G.stopPropagation(),tt(P),Be(!0)},className:"h-6 w-6 p-0",children:i.jsx(Fc,{className:"h-3 w-3"})}),i.jsx(se,{size:"sm",variant:"ghost",onClick:G=>{G.stopPropagation(),fE(P)},className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:i.jsx(Pf,{className:"h-3 w-3"})})]},P.id))}),L.length>0&&be.length>0&&i.jsxs(se,{onClick:dt,className:"w-full",children:[i.jsx(JP,{className:"h-4 w-4 mr-2"}),"Add ",L.length," Team(s) to ",be.length," Tournament(s)"]})]})]})]})})]}),i.jsx(or,{open:j&&E!==null,onOpenChange:N,children:i.jsxs(Qt,{children:[i.jsx(Jt,{children:i.jsx(Xt,{children:"Edit Player"})}),E&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"edit_first_name",children:"First Name *"}),i.jsx(Se,{id:"edit_first_name",value:E.first_name,onChange:P=>D({...E,first_name:P.target.value})})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"edit_last_name",children:"Last Name *"}),i.jsx(Se,{id:"edit_last_name",value:E.last_name,onChange:P=>D({...E,last_name:P.target.value})})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"edit_phone_number",children:"Phone Number"}),i.jsx(Se,{id:"edit_phone_number",value:E.phone_number||"",onChange:P=>D({...E,phone_number:P.target.value})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{onClick:ut,className:"flex-1",children:"Update Player"}),i.jsx(se,{variant:"outline",onClick:()=>N(!1),children:"Cancel"})]})]})]})}),i.jsx(or,{open:H&&W!==null,onOpenChange:re,children:i.jsxs(Qt,{children:[i.jsx(Jt,{children:i.jsx(Xt,{children:"Edit Team"})}),W&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"edit_team_name",children:"Team Name *"}),i.jsx(Se,{id:"edit_team_name",value:W.name,onChange:P=>ce({...W,name:P.target.value})})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"edit_team_city",children:"City *"}),i.jsx(Se,{id:"edit_team_city",value:W.city,onChange:P=>ce({...W,city:P.target.value})})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"edit_team_phone",children:"Team Phone Number (Read-only)"}),i.jsx(Se,{id:"edit_team_phone",value:W.phoneNumber||"",disabled:!0,placeholder:"Phone number derived from players"})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"edit_player1_phone",children:"Player 1 Phone Number (Read-only)"}),i.jsx(Se,{id:"edit_player1_phone",value:W.player1_phone||"",disabled:!0,placeholder:"Phone number derived from player 1"})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"edit_player2_phone",children:"Player 2 Phone Number (Read-only)"}),i.jsx(Se,{id:"edit_player2_phone",value:W.player2_phone||"",disabled:!0,placeholder:"Phone number derived from player 2"})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"edit_player1",children:"Player 1 *"}),i.jsxs(Dr,{value:W.player1_id,onValueChange:P=>ce({...W,player1_id:P}),children:[i.jsx(jr,{children:i.jsx(Or,{placeholder:"Select player 1"})}),i.jsx(_r,{children:r.map(P=>i.jsxs(gt,{value:P.id,children:[P.first_name," ",P.last_name]},P.id))})]})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"edit_player2",children:"Player 2 *"}),i.jsxs(Dr,{value:W.player2_id,onValueChange:P=>ce({...W,player2_id:P}),children:[i.jsx(jr,{children:i.jsx(Or,{placeholder:"Select player 2"})}),i.jsx(_r,{children:r.map(P=>i.jsxs(gt,{value:P.id,children:[P.first_name," ",P.last_name]},P.id))})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{onClick:gE,className:"flex-1",children:"Update Team"}),i.jsx(se,{variant:"outline",onClick:()=>re(!1),children:"Cancel"})]})]})]})}),i.jsx(or,{open:Ne&&ke!==null,onOpenChange:Be,children:i.jsxs(Qt,{children:[i.jsx(Jt,{children:i.jsx(Xt,{children:"Edit Tournament"})}),ke&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"edit_tournament_name",children:"Tournament Name *"}),i.jsx(Se,{id:"edit_tournament_name",value:ke.name,onChange:P=>tt({...ke,name:P.target.value})})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"edit_tournament_status",children:"Status *"}),i.jsxs(Dr,{value:ke.status,onValueChange:P=>tt({...ke,status:P}),children:[i.jsx(jr,{children:i.jsx(Or,{placeholder:"Select status"})}),i.jsxs(_r,{children:[i.jsx(gt,{value:"pending",children:"Pending"}),i.jsx(gt,{value:"active",children:"Active"}),i.jsx(gt,{value:"finished",children:"Finished"})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{onClick:xE,className:"flex-1",children:"Update Tournament"}),i.jsx(se,{variant:"outline",onClick:()=>Be(!1),children:"Cancel"})]})]})]})}),i.jsx(or,{open:Ae,onOpenChange:Je,children:i.jsxs(Qt,{children:[i.jsx(Jt,{children:i.jsx(Xt,{children:"Confirm Delete"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-lg",children:["Are you sure you want to delete this ",Re,"?"]}),Fe&&i.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-md",children:[Re==="player"&&i.jsxs("div",{className:"font-medium",children:[Fe.first_name," ",Fe.last_name]}),Re==="team"&&i.jsx("div",{className:"font-medium",children:Fe.name}),Re==="tournament"&&i.jsx("div",{className:"font-medium",children:Fe.name})]}),i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"This action cannot be undone."})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{onClick:hE,variant:"destructive",className:"flex-1",children:"Delete"}),i.jsx(se,{onClick:pE,variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})})]})},OB=()=>{const{tournaments:e,getActiveTournament:t,createTeamFromPlayers:r}=Dt(),[n,s]=m.useState({first_name:"",last_name:"",city:"",phone_number:"",selectedTournaments:[],bostonPotTournaments:[]}),[a,o]=m.useState(!1),[l,c]=m.useState([]),[u,d]=m.useState(!1),[f,h]=m.useState(!1),[p,x]=m.useState([]),[g,y]=m.useState(null),[b,v]=m.useState(""),[w,S]=m.useState([]),[_,j]=m.useState([]),[N,E]=m.useState([]),[D,k]=m.useState(""),[z,I]=m.useState([]),q=t();m.useEffect(()=>{if(!q)return;(async()=>{try{o(!0);const{supabase:X}=await Le(async()=>{const{supabase:Be}=await Promise.resolve().then(()=>Ye);return{supabase:Be}},void 0),{data:ee,error:le}=await X.from("player_tournament").select("player_id").eq("tournament_id",q.id);if(le){console.error("Error fetching tournament player IDs:",le);return}if(!ee||ee.length===0){c([]);return}const ge=ee.map(Be=>Be.player_id),{data:oe,error:je}=await X.from("players").select("*").in("id",ge);if(je){console.error("Error fetching players:",je);return}const Ne=(oe||[]).sort((Be,ke)=>Be.first_name.localeCompare(ke.first_name));c(Ne)}catch(X){console.error("Error loading registered players:",X)}finally{o(!1)}})()},[q]),m.useEffect(()=>{if(!q)return;(async()=>{try{const{supabase:X}=await Le(async()=>{const{supabase:Ne}=await Promise.resolve().then(()=>Ye);return{supabase:Ne}},void 0),{data:ee,error:le}=await X.from("team_registrations").select("team_id").eq("tournament_id",q.id);if(le){console.error("Error fetching team registrations:",le);return}if(!ee||ee.length===0){I([]);return}const ge=ee.map(Ne=>Ne.team_id),{data:oe,error:je}=await X.from("teams").select(`
            *,
            player1:players!player1_id(*),
            player2:players!player2_id(*)
          `).in("id",ge);if(je){console.error("Error fetching teams:",je);return}I(oe||[])}catch(X){console.error("Error loading committed teams:",X)}})()},[q]),m.useEffect(()=>{(async()=>{try{const{supabase:X}=await Le(async()=>{const{supabase:ge}=await Promise.resolve().then(()=>Ye);return{supabase:ge}},void 0),{data:ee,error:le}=await X.from("players").select("*").order("first_name");if(le){console.error("Error fetching all players:",le);return}x(ee||[])}catch(X){console.error("Error loading all players:",X)}})()},[]);const R=(C,X)=>{s(ee=>({...ee,[C]:X}))},T=C=>{s(X=>{const ee=X.selectedTournaments.includes(C)?X.selectedTournaments.filter(ge=>ge!==C):[...X.selectedTournaments,C],le=X.selectedTournaments.includes(C)?X.bostonPotTournaments.filter(ge=>ge!==C):[...X.bostonPotTournaments,C];return{...X,selectedTournaments:ee,bostonPotTournaments:le}})},L=C=>{s(X=>({...X,bostonPotTournaments:X.bostonPotTournaments.includes(C)?X.bostonPotTournaments.filter(ee=>ee!==C):[...X.bostonPotTournaments,C]}))},J=()=>n.selectedTournaments.reduce((C,X)=>{const ee=e.find(le=>le.id===X);return C+((ee==null?void 0:ee.cost)||0)},0),M=p.filter(C=>{if(!b)return!0;const X=b.toLowerCase();return C.first_name.toLowerCase().includes(X)||C.last_name.toLowerCase().includes(X)||C.city.toLowerCase().includes(X)||C.phone_number.toLowerCase().includes(X)}),B=async(C,X)=>{try{d(!0);const{supabase:ee}=await Le(async()=>{const{supabase:Ne}=await Promise.resolve().then(()=>Ye);return{supabase:Ne}},void 0),le=X.map(Ne=>ee.from("player_tournament").insert([{player_id:C.id,tournament_id:Ne}])),oe=(await Promise.all(le)).filter(Ne=>Ne.error);if(oe.length>0){console.error("Error registering player for tournaments:",oe),alert("Failed to register player for some tournaments. Please try again.");return}if(q&&X.includes(q.id)){const Ne=[...l,C].sort((Be,ke)=>Be.first_name.localeCompare(ke.first_name));c(Ne)}s({first_name:"",last_name:"",city:"",phone_number:"",selectedTournaments:[],bostonPotTournaments:[]}),y(null),h(!1),v(""),S([]);const je=e.filter(Ne=>X.includes(Ne.id)).map(Ne=>Ne.name).join(", ");alert(`Player ${C.first_name} ${C.last_name} added successfully to: ${je}`)}catch(ee){console.error("Error adding existing player to tournaments:",ee),alert("Failed to add player to tournaments. Please try again.")}finally{d(!1)}},H=async C=>{try{const{supabase:X}=await Le(async()=>{const{supabase:oe}=await Promise.resolve().then(()=>Ye);return{supabase:oe}},void 0),{data:ee,error:le}=await X.from("player_tournament").select("tournament_id").eq("player_id",C);if(le){console.error("Error fetching player tournament registrations:",le);return}const ge=(ee==null?void 0:ee.map(oe=>oe.tournament_id))||[];S(ge)}catch(X){console.error("Error loading player existing tournaments:",X)}},W=l.filter(C=>{const X=z.some(le=>le.player1_id===C.id||le.player2_id===C.id),ee=N.some(le=>le.player1.id===C.id||le.player2.id===C.id);return!X&&!ee}).filter(C=>{if(!D)return!0;const X=D.toLowerCase();return C.first_name.toLowerCase().includes(X)||C.last_name.toLowerCase().includes(X)||C.city.toLowerCase().includes(X)||C.phone_number.toLowerCase().includes(X)}),ce=C=>{_.find(X=>X.id===C.id)?j(X=>X.filter(ee=>ee.id!==C.id)):_.length<2&&j(X=>[...X,C])},K=async()=>{if(!(!q||_.length!==2))try{d(!0);const C=await r(_[0],_[1],q.id);if(C){const X={id:C,name:`${_[0].first_name}/${_[1].first_name}`,player1:_[0],player2:_[1],created_at:new Date().toISOString()};E(le=>[X,...le]),j([]),(async()=>{try{const{supabase:le}=await Le(async()=>{const{supabase:je}=await Promise.resolve().then(()=>Ye);return{supabase:je}},void 0),{data:ge,error:oe}=await le.from("team_registrations").select("team_id").eq("tournament_id",q.id);if(oe)return;if(ge&&ge.length>0){const je=ge.map(ke=>ke.team_id),{data:Ne,error:Be}=await le.from("teams").select(`
                  *,
                  player1:players!player1_id(*),
                  player2:players!player2_id(*)
                `).in("id",je);Be||I(Ne||[])}}catch(le){console.error("Error refreshing committed teams:",le)}})()}}catch(C){console.error("Error creating team:",C),alert("Failed to create team. Please try again.")}finally{d(!1)}},ae=async C=>{if(!(!q||!confirm("Are you sure you want to undo this team? This will remove them from the tournament but keep the team record.")))try{const{supabase:X}=await Le(async()=>{const{supabase:le}=await Promise.resolve().then(()=>Ye);return{supabase:le}},void 0),{error:ee}=await X.from("team_registrations").delete().eq("team_id",C.id).eq("tournament_id",q.id);if(ee){console.error("Error removing team from tournament:",ee),alert("Failed to undo team. Please try again.");return}I(le=>le.filter(ge=>ge.id!==C.id)),alert("Team undone successfully! Players are now available for new teams.")}catch(X){console.error("Error undoing team:",X),alert("Failed to undo team. Please try again.")}},be=async C=>{if(C.preventDefault(),!!q){if(!n.first_name.trim()||!n.last_name.trim()||!n.phone_number.trim()){alert("Please fill in all required fields");return}if(n.selectedTournaments.length===0){alert("Please select at least one tournament");return}try{d(!0);const{supabase:X}=await Le(async()=>{const{supabase:ke}=await Promise.resolve().then(()=>Ye);return{supabase:ke}},void 0),{data:ee,error:le}=await X.from("players").insert([{first_name:n.first_name.trim(),last_name:n.last_name.trim(),phone_number:n.phone_number.trim()}]).select().single();if(le){console.error("Error creating player:",le),alert("Failed to create player. Please try again.");return}const ge=n.selectedTournaments.map(ke=>{const tt=n.bostonPotTournaments.includes(ke);return X.from("player_tournament").insert([{player_id:ee.id,tournament_id:ke,paid:!1,b_paid:!1,entered_boston_pot:tt}])}),je=(await Promise.all(ge)).filter(ke=>ke.error);if(je.length>0){console.error("Error registering player for tournaments:",je),alert("Player created but failed to register for some tournaments. Please try again.");return}s({first_name:"",last_name:"",phone_number:"",selectedTournaments:[],bostonPotTournaments:[]});const Ne=[...l,ee].sort((ke,tt)=>ke.first_name.localeCompare(tt.first_name));c(Ne);const Be=e.filter(ke=>n.selectedTournaments.includes(ke.id)).map(ke=>ke.name).join(", ");alert(`Player ${ee.first_name} ${ee.last_name} registered successfully for: ${Be}`)}catch(X){console.error("Error registering player:",X),alert("Failed to register player. Please try again.")}finally{d(!1)}}};return q?i.jsxs("div",{className:"container mx-auto p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Player Registration & Team Management"}),i.jsxs("p",{className:"text-muted-foreground",children:["Active Tournament: ",i.jsx("strong",{children:q.name})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs(Ze,{children:[i.jsx(rt,{children:i.jsxs(at,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ji,{className:"h-5 w-5"}),"Register New Player"]}),i.jsx(se,{type:"button",variant:"outline",size:"sm",onClick:()=>h(!0),children:"Add Existing Player"})]})}),i.jsx(et,{children:i.jsxs("form",{onSubmit:be,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"first_name",children:"First Name *"}),i.jsx(Se,{id:"first_name",value:n.first_name,onChange:C=>R("first_name",C.target.value),placeholder:"John",required:!0})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"last_name",children:"Last Name *"}),i.jsx(Se,{id:"last_name",value:n.last_name,onChange:C=>R("last_name",C.target.value),placeholder:"Doe",required:!0})]})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"phone_number",children:"Phone Number *"}),i.jsx(Se,{id:"phone_number",value:n.phone_number,onChange:C=>R("phone_number",C.target.value),placeholder:"(555) 123-4567",required:!0})]}),i.jsxs("div",{children:[i.jsx(xe,{children:"Select Tournaments *"}),i.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded-md p-3",children:e.map(C=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:`tournament-${C.id}`,checked:n.selectedTournaments.includes(C.id),onChange:()=>T(C.id),className:"rounded"}),i.jsx("label",{htmlFor:`tournament-${C.id}`,className:"flex-1 cursor-pointer",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium text-sm",children:C.name}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["$",C.cost]})]})})]},C.id))}),n.selectedTournaments.length>0&&i.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded-md",children:i.jsxs("p",{className:"text-sm font-medium",children:["Total Cost: ",i.jsxs("span",{className:"text-blue-600",children:["$",J()]})]})})]}),n.selectedTournaments.length>0&&i.jsxs("div",{children:[i.jsx(xe,{children:"Boston Pot Selection (95% of players opt in)"}),i.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto border rounded-md p-3",children:e.filter(C=>n.selectedTournaments.includes(C.id)).map(C=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:`boston-${C.id}`,checked:n.bostonPotTournaments.includes(C.id),onChange:()=>L(C.id),className:"rounded",defaultChecked:!0}),i.jsx("label",{htmlFor:`boston-${C.id}`,className:"flex-1 cursor-pointer",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium text-sm",children:C.name}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["$",C.bostonPotCost||0]})]})})]},C.id))}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Checked = Opt into Boston Pot (default for 95% of players)"})]}),i.jsx(se,{type:"submit",className:"w-full",disabled:u,children:u?i.jsxs(i.Fragment,{children:[i.jsx(Tf,{className:"h-4 w-4 mr-2 animate-spin"}),"Registering..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ji,{className:"h-4 w-4 mr-2"}),"Register Player"]})})]})})]}),i.jsxs(Ze,{children:[i.jsxs(rt,{children:[i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(id,{className:"h-5 w-5"}),"Available Players (",W.length,")"]}),i.jsxs("div",{className:"relative",children:[i.jsx(ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx(Se,{placeholder:"Search players...",value:D,onChange:C=>k(C.target.value),className:"pl-10"})]})]}),i.jsxs(et,{children:[a?i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Loading players..."}):W.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No available players. Register players first."}):i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:W.map(C=>{const X=_.find(ee=>ee.id===C.id);return i.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${X?"bg-blue-50 border-blue-300":"hover:bg-gray-50"}`,onClick:()=>ce(C),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("p",{className:`font-medium ${X?"text-blue-700":""}`,children:[C.first_name," ",C.last_name]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[C.city," • ",C.phone_number]})]}),X&&i.jsx(Jr,{className:"h-4 w-4 text-blue-600"})]})},C.id)})}),_.length>0&&i.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsxs("p",{className:"text-sm font-medium mb-2",children:["Selected Players (",_.length,"/2):"]}),i.jsx("div",{className:"space-y-1",children:_.map(C=>i.jsxs("div",{className:"text-sm",children:["• ",C.first_name," ",C.last_name]},C.id))}),_.length===2&&i.jsx(se,{onClick:K,disabled:u,className:"w-full mt-3",children:u?i.jsxs(i.Fragment,{children:[i.jsx(Tf,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Team..."]}):i.jsxs(i.Fragment,{children:[i.jsx(vy,{className:"h-4 w-4 mr-2"}),"Create Team"]})})]})]})]}),i.jsxs(Ze,{children:[i.jsx(rt,{children:i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(vy,{className:"h-5 w-5"}),"Committed Teams (",z.length,")"]})}),i.jsx(et,{children:z.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No teams committed yet. Select players to create teams."}):i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:z.map(C=>{var X,ee,le,ge;return i.jsxs("div",{className:"p-3 border rounded-lg bg-green-50 border-green-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"font-medium text-green-800",children:C.name}),i.jsxs(se,{variant:"outline",size:"sm",onClick:()=>ae(C),className:"text-red-600 hover:text-red-700",children:[i.jsx(d2,{className:"h-3 w-3 mr-1"}),"Undo"]})]}),i.jsxs("div",{className:"text-sm text-green-700",children:[i.jsxs("div",{children:["• ",(X=C.player1)==null?void 0:X.first_name," ",(ee=C.player1)==null?void 0:ee.last_name]}),i.jsxs("div",{children:["• ",(le=C.player2)==null?void 0:le.first_name," ",(ge=C.player2)==null?void 0:ge.last_name]})]})]},C.id)})})})]})]}),f&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Add Existing Player to Tournaments"}),i.jsx(se,{variant:"ghost",size:"sm",onClick:()=>{h(!1),y(null),v(""),S([])},children:i.jsx(Ln,{className:"h-4 w-4"})})]}),g?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsxs("div",{className:"font-medium",children:[g.first_name," ",g.last_name]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[g.city," • ",g.phone_number]})]}),i.jsxs("div",{children:[i.jsx(xe,{children:"Select Tournaments to Add Player To"}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border rounded-md p-3 mt-2",children:e.map(C=>{const X=w.includes(C.id);return i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:`existing-tournament-${C.id}`,checked:n.selectedTournaments.includes(C.id),onChange:()=>T(C.id),disabled:X,className:"rounded"}),i.jsxs("label",{htmlFor:`existing-tournament-${C.id}`,className:`flex-1 cursor-pointer ${X?"opacity-50":""}`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"font-medium",children:[C.name,X&&i.jsx(Te,{variant:"secondary",className:"ml-2 text-xs",children:"Already Registered"})]}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["$",C.cost]})]}),C.description&&i.jsx("p",{className:"text-xs text-muted-foreground",children:C.description})]})]},C.id)})}),n.selectedTournaments.length>0&&i.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded-md",children:[i.jsxs("p",{className:"text-sm font-medium",children:["Total Cost: ",i.jsxs("span",{className:"text-blue-600",children:["$",J()]})]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Selected: ",n.selectedTournaments.length," tournament(s)"]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx(se,{onClick:()=>B(g,n.selectedTournaments),disabled:u||n.selectedTournaments.length===0,className:"flex-1",children:u?i.jsxs(i.Fragment,{children:[i.jsx(Tf,{className:"h-4 w-4 mr-2 animate-spin"}),"Adding..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ji,{className:"h-4 w-4 mr-2"}),"Add to Tournaments"]})}),i.jsx(se,{variant:"outline",onClick:()=>{y(null),S([])},disabled:u,children:"Back to Search"})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(xe,{children:"Search Players"}),i.jsx(Se,{placeholder:"Search by name, city, or phone...",value:b,onChange:C=>v(C.target.value)})]}),i.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:M.map(C=>i.jsxs("div",{className:"p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>{y(C),H(C.id),s(X=>({...X,selectedTournaments:[]}))},children:[i.jsxs("div",{className:"font-medium",children:[C.first_name," ",C.last_name]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[C.city," • ",C.phone_number]})]},C.id))})]})]})})]}):i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(Ze,{className:"w-96",children:i.jsx(et,{className:"pt-6",children:i.jsx("p",{className:"text-center text-muted-foreground",children:"Please select an active tournament to register players."})})})})},y_=({team:e,isOpen:t,onClose:r,onSave:n})=>{console.log("TeamEditor mounted. Props:",{team:e,isOpen:t}),console.log("TeamEditor team prop:",e);const[s,a]=m.useState(!1),{cities:o,tournaments:l,deleteTeam:c}=Dt(),[u,d]=m.useState(e),[f,h]=m.useState({player1_first_name:e.player1_first_name||"",player1_last_name:e.player1_last_name||"",player2_first_name:e.player2_first_name||"",player2_last_name:e.player2_last_name||"",phone_number:e.phone_number||"",city:e.city||"",registeredTournaments:e.registeredTournaments||e.registered_tournaments||[],bostonPotOptOut:e.bostonPotOptOut||e.boston_pot_opt_out||{}});typeof window<"u"&&console.log("TeamEditor formData state:",f);const p=i.jsxs("div",{style:{fontSize:"10px",color:"purple",wordBreak:"break-all"},children:["[team prop] ",JSON.stringify(e)]});Z.useEffect(()=>{h({player1_first_name:e.player1_first_name||"",player1_last_name:e.player1_last_name||"",player2_first_name:e.player2_first_name||"",player2_last_name:e.player2_last_name||"",phone_number:e.phone_number||"",city:e.city||"",registeredTournaments:e.registeredTournaments||e.registered_tournaments||[],bostonPotOptOut:e.bostonPotOptOut||e.boston_pot_opt_out||{}})},[e]);const x=()=>{window.confirm("Are you sure you want to delete this team? This action cannot be undone.")&&(a(!0),e&&e.id&&typeof c=="function"&&c(e.id),typeof r=="function"&&setTimeout(()=>{r()},200))},g=S=>{h(_=>({..._,registeredTournaments:_.registeredTournaments.includes(S)?_.registeredTournaments.filter(j=>j!==S):[..._.registeredTournaments,S],bostonPotOptOut:_.registeredTournaments.includes(S)?Object.fromEntries(Object.entries(_.bostonPotOptOut).filter(([j])=>j!==S)):_.bostonPotOptOut}))},y=S=>{h(_=>({..._,bostonPotOptOut:{..._.bostonPotOptOut,[S]:!_.bostonPotOptOut[S]}}))},b=S=>{const _=S.replace(/\D/g,"");return _.length===10?`(${_.slice(0,3)}) ${_.slice(3,6)}-${_.slice(6)}`:S},v=S=>{const _=b(S.target.value);h(j=>({...j,phone_Number:_}))},w=()=>{const S=f.registeredTournaments.filter(j=>!f.bostonPotOptOut[j]),_={...e,player1FirstName:f.player1_first_name,player1LastName:f.player1_last_name,player2FirstName:f.player2_first_name,player2LastName:f.player2_last_name,phoneNumber:f.phone_number,city:f.city,name:`${f.player1_first_name} ${f.player1_last_name}/${f.player2_first_name} ${f.player2_last_name}`,registeredTournaments:f.registeredTournaments,bostonPotOptOut:f.bostonPotOptOut,bostonPotTournaments:S};n(_),r()};return i.jsx(or,{open:t,onOpenChange:r,children:i.jsxs(Qt,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[i.jsx(Jt,{children:i.jsx(Xt,{children:"Edit Team"})}),i.jsxs("div",{style:{color:"red",fontWeight:"bold"},children:["[DEBUG] TeamEditor rendered. Team: ",e&&e.id?e.id:"no id"," | ",e&&e.name?e.name:"no name"]}),i.jsxs("div",{style:{color:"blue",fontWeight:"bold"},children:["[DEBUG] cities: ",Array.isArray(o)?o.length:"undefined"," | tournaments: ",Array.isArray(l)?l.length:"undefined"]}),p,i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{style:{color:"green",fontWeight:"bold"},children:["[DEBUG] Form section rendering. formData: ",JSON.stringify(f)]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx(xe,{children:"Player 1 First Name"}),i.jsx(Se,{value:f.player1_first_name,onChange:S=>h(_=>({..._,player1_first_name:S.target.value}))})]}),i.jsxs("div",{children:[i.jsx(xe,{children:"Player 1 Last Name"}),i.jsx(Se,{value:f.player1_last_name,onChange:S=>h(_=>({..._,player1_last_name:S.target.value}))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx(xe,{children:"Player 2 First Name"}),i.jsx(Se,{value:f.player2_first_name,onChange:S=>h(_=>({..._,player2_first_name:S.target.value}))})]}),i.jsxs("div",{children:[i.jsx(xe,{children:"Player 2 Last Name"}),i.jsx(Se,{value:f.player2_last_name,onChange:S=>h(_=>({..._,player2_last_name:S.target.value}))})]})]}),i.jsxs("div",{children:[i.jsx(xe,{children:"Phone Number"}),i.jsx(Se,{value:f.phone_number,onChange:v})]}),i.jsxs("div",{children:[i.jsx(xe,{children:"City"}),i.jsxs(Dr,{value:f.city,onValueChange:S=>h(_=>({..._,city:S})),children:[i.jsx(jr,{children:i.jsx(Or,{placeholder:"Select a city"})}),i.jsx(_r,{children:(Array.isArray(o)?o:[]).map(S=>i.jsx(gt,{value:S,children:S},S))})]})]}),i.jsxs("div",{children:[i.jsx(xe,{children:"Tournaments"}),i.jsx("div",{className:"flex flex-col gap-2",children:(Array.isArray(l)?l:[]).map(S=>{const _=f.registeredTournaments.includes(S.id);return i.jsxs("div",{className:"flex flex-col border rounded p-2",children:[i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:_,onChange:()=>g(S.id)}),i.jsx("span",{children:S.name})]}),_&&i.jsxs("label",{className:"flex items-center gap-2 ml-6 mt-1",children:[i.jsx("input",{type:"checkbox",checked:!!f.bostonPotOptOut[S.id],onChange:()=>y(S.id)}),i.jsx("span",{children:"No Boston Pot"})]})]},S.id)})})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(se,{variant:"outline",onClick:r,children:"Cancel"}),i.jsx(se,{variant:"destructive",onClick:x,disabled:s,children:"Delete Team"}),i.jsx(se,{onClick:w,disabled:s,children:"Save Changes"})]})]})]})})};var kd="Collapsible",[MB,I6]=Vn(kd),[BB,pg]=MB(kd),x_=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:o,...l}=e,[c,u]=Js({prop:n,defaultProp:s??!1,onChange:o,caller:kd});return i.jsx(BB,{scope:r,disabled:a,contentId:ss(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:i.jsx(Oe.div,{"data-state":gg(c),"data-disabled":a?"":void 0,...l,ref:t})})});x_.displayName=kd;var b_="CollapsibleTrigger",w_=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=pg(b_,r);return i.jsx(Oe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":gg(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Pe(e.onClick,s.onOpenToggle)})});w_.displayName=b_;var mg="CollapsibleContent",S_=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=pg(mg,e.__scopeCollapsible);return i.jsx(fs,{present:r||s.open,children:({present:a})=>i.jsx(LB,{...n,ref:t,present:a})})});S_.displayName=mg;var LB=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,o=pg(mg,r),[l,c]=m.useState(n),u=m.useRef(null),d=ht(t,u),f=m.useRef(0),h=f.current,p=m.useRef(0),x=p.current,g=o.open||l,y=m.useRef(g),b=m.useRef(void 0);return m.useEffect(()=>{const v=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(v)},[]),Vt(()=>{const v=u.current;if(v){b.current=b.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const w=v.getBoundingClientRect();f.current=w.height,p.current=w.width,y.current||(v.style.transitionDuration=b.current.transitionDuration,v.style.animationName=b.current.animationName),c(n)}},[o.open,n]),i.jsx(Oe.div,{"data-state":gg(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&s})});function gg(e){return e?"open":"closed"}var $B=x_;const FB=$B,UB=w_,zB=S_,WB=()=>{const{teams:e,tournaments:t,updateTeam:r,getActiveTournament:n}=Dt(),[s,a]=m.useState(null),[o,l]=m.useState(""),[c,u]=m.useState(new Set),d=n&&n();Z.useEffect(()=>{t.length>0&&c.size===0&&u(new Set(t.map(y=>y.id)))},[t]),console.log("Available tournaments:",t.map(y=>`${y.id}: ${y.name}`)),console.log("Total teams:",e.length),console.log("Teams with registeredTournaments:",e.filter(y=>y.registeredTournaments&&y.registeredTournaments.length>0).length);const f=y=>{const b=e.filter(v=>{var w;return(w=v.registeredTournaments)==null?void 0:w.includes(y)});return console.log(`Tournament ${y} teams:`,b.length,b.map(v=>`${v.teamNumber}: ${v.name}`)),b},h=(y,b)=>{var S,_;const v=((S=y.player1TournamentPayments)==null?void 0:S[b])||!1,w=((_=y.player2TournamentPayments)==null?void 0:_[b])||!1;return v&&w?"fully-paid":v||w?"partially-paid":"unpaid"},p=y=>{switch(y){case"fully-paid":return i.jsx(Te,{className:"bg-green-500",children:"Fully Paid"});case"partially-paid":return i.jsx(Te,{variant:"secondary",className:"bg-yellow-500 text-white",children:"Partial"});default:return i.jsx(Te,{variant:"secondary",children:"Unpaid"})}},x=y=>{if(!o)return y;const b=o.toLowerCase(),v=S=>S?String(S).toLowerCase():"",w=y.filter(S=>v(S.name).includes(b)||v(S.city).includes(b)||v(S.player1FirstName).includes(b)||v(S.player1LastName).includes(b)||v(S.player2FirstName).includes(b)||v(S.player2LastName).includes(b));return console.log(`Filtered teams for search "${o}":`,w.length,"out of",y.length),w},g=y=>{const b=new Set(c);b.has(y)?b.delete(y):b.add(y),u(b)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Ze,{className:"shadow-lg",children:[i.jsxs(rt,{children:[i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(ns,{className:"w-5 h-5"}),"Teams by Tournament"]}),i.jsxs("div",{className:"relative",children:[i.jsx(ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx(Se,{placeholder:"Search by team name, city, or player name...",value:o,onChange:y=>l(y.target.value),className:"pl-10"})]})]}),i.jsx(et,{children:i.jsx("div",{className:"space-y-4",children:[...t].sort((y,b)=>{if(d){if(y.id===d.id)return-1;if(b.id===d.id)return 1}return y.name.localeCompare(b.name)}).map(y=>{const b=f(y.id),v=x(b);let w=c.has(y.id);return o.trim()&&(w=v.length===0),console.log(`Tournament ${y.name} (${y.id}): ${b.length} total teams, ${v.length} after filtering`),i.jsx(FB,{open:!w,children:i.jsxs("div",{className:"border rounded-lg",children:[i.jsx(UB,{asChild:!0,children:i.jsxs(se,{variant:"ghost",className:"w-full p-4 flex items-center justify-between hover:bg-gray-50",onClick:()=>g(y.id),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[w?i.jsx(e2,{className:"w-4 h-4"}):i.jsx(Bm,{className:"w-4 h-4"}),i.jsx("h3",{className:"text-lg font-semibold",children:y.name})]}),i.jsxs(Te,{variant:"outline",className:"flex items-center gap-1",children:[i.jsx(id,{className:"w-3 h-3"}),v.length," teams"]})]})}),i.jsx(zB,{children:i.jsx("div",{className:"p-4 pt-0",children:v.length===0?i.jsx("p",{className:"text-gray-500 text-center py-2",children:"No teams found"}):i.jsx("div",{className:"space-y-2",children:v.map(S=>{var N,E,D;const _=h(S,y.id),j=(N=S.bostonPotTournaments)==null?void 0:N.includes(y.id);return i.jsxs("div",{className:"p-3 bg-gray-50 rounded space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium",children:["Team ",S.teamNumber,": ",S.name]}),i.jsxs("div",{className:"text-sm",children:[i.jsxs("span",{className:(E=S.player1TournamentPayments)!=null&&E[y.id]?"text-green-600 font-semibold":"text-red-600 font-semibold",children:[S.player1FirstName," ",S.player1LastName]})," "," & "," ",i.jsxs("span",{className:(D=S.player2TournamentPayments)!=null&&D[y.id]?"text-green-600 font-semibold":"text-red-600 font-semibold",children:[S.player2FirstName," ",S.player2LastName]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(se,{size:"sm",variant:"outline",onClick:()=>a(S),children:i.jsx(Fc,{className:"w-3 h-3"})}),i.jsx("div",{className:"text-right",children:p(_)})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[i.jsx(l2,{className:"w-3 h-3"}),i.jsx("span",{children:S.phoneNumber})]}),i.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[i.jsx(uS,{className:"w-3 h-3"}),i.jsx("span",{children:S.city})]})]}),j&&i.jsx(Te,{variant:"outline",className:"text-xs",children:"Boston Pot"})]})]},S.id)})})})})]})},y.id)})})})]}),s&&i.jsx(y_,{team:s,isOpen:!!s,onClose:()=>a(null),onSave:r})]})},VB=()=>{var _;const{teams:e,tournaments:t,updatePlayerPayment:r,getTeamPaymentStatus:n,calculateTeamTotalOwed:s,getActiveTournament:a,refreshTeams:o}=Dt(),[l,c]=m.useState(""),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,x]=m.useState(!1);a();const g=f||u;m.useEffect(()=>{u&&!f&&y(u.id)},[u]);const y=async j=>{var N,E,D,k,z,I,q,R;try{const{supabase:T}=await Le(async()=>{const{supabase:K}=await Promise.resolve().then(()=>Ye);return{supabase:K}},void 0),{data:L,error:J}=await T.from("teams").select(`
          *,
          player1:players!player1_id(*),
          player2:players!player2_id(*)
        `).eq("id",j).single();if(J){console.error("Error fetching team data:",J);return}const{data:M,error:B}=await T.from("team_registrations").select("tournament_id").eq("team_id",j);if(B){console.error("Error fetching team registrations:",B);return}const{data:H,error:re}=await T.from("player_tournament").select("*").or(`player_id.eq.${L.player1_id},player_id.eq.${L.player2_id}`);if(re){console.error("Error fetching player payments:",re);return}const W=(M==null?void 0:M.map(K=>K.tournament_id))||[],ce={...L,id:String(L.id),player1FirstName:((N=L.player1)==null?void 0:N.first_name)||"",player1LastName:((E=L.player1)==null?void 0:E.last_name)||"",player2FirstName:((D=L.player2)==null?void 0:D.first_name)||"",player2LastName:((k=L.player2)==null?void 0:k.last_name)||"",phoneNumber:((z=L.player1)==null?void 0:z.phone_number)||((I=L.player2)==null?void 0:I.phone_number)||"",city:((q=L.player1)==null?void 0:q.city)||((R=L.player2)==null?void 0:R.city)||"",registeredTournaments:W,player1TournamentPayments:{},player2TournamentPayments:{},player1BostonPotPayments:{},player2BostonPotPayments:{}};H==null||H.forEach(K=>{K.player_id===L.player1_id?(ce.player1TournamentPayments[K.tournament_id]=K.paid,ce.player1BostonPotPayments[K.tournament_id]=K.b_paid):K.player_id===L.player2_id&&(ce.player2TournamentPayments[K.tournament_id]=K.paid,ce.player2BostonPotPayments[K.tournament_id]=K.b_paid)}),h(ce)}catch(T){console.error("Error refreshing team data:",T)}},b=async(j,N,E)=>{if(g)try{x(!0);const{supabase:D}=await Le(async()=>{const{supabase:z}=await Promise.resolve().then(()=>Ye);return{supabase:z}},void 0),{error:k}=await D.from("player_tournament").update({paid:E,b_paid:E}).eq("player_id",j).eq("tournament_id",N);if(k)throw console.error("Error updating player payment:",k),k;if(f){const z={...f};j===z.player1_id?(z.player1TournamentPayments={...z.player1TournamentPayments,[N]:E},z.player1BostonPotPayments={...z.player1BostonPotPayments,[N]:E}):j===z.player2_id&&(z.player2TournamentPayments={...z.player2TournamentPayments,[N]:E},z.player2BostonPotPayments={...z.player2BostonPotPayments,[N]:E}),h(z)}await o(),Y({title:`Payment ${E?"marked as paid":"marked as unpaid"} successfully`})}catch(D){console.error("Error updating player payment:",D),alert("Failed to update payment. Please try again.")}finally{x(!1)}},v=e.filter(j=>{var E,D,k,z,I;if(!l)return!0;const N=l.toLowerCase();return j.name.toLowerCase().includes(N)||((E=j.city)==null?void 0:E.toLowerCase().includes(N))||((D=j.player1FirstName)==null?void 0:D.toLowerCase().includes(N))||((k=j.player1LastName)==null?void 0:k.toLowerCase().includes(N))||((z=j.player2FirstName)==null?void 0:z.toLowerCase().includes(N))||((I=j.player2LastName)==null?void 0:I.toLowerCase().includes(N))}),w=j=>j.tournamentPaid&&j.bostonPotPaid?i.jsx(Te,{className:"bg-green-500",children:"Fully Paid"}):j.tournamentPaid?i.jsx(Te,{variant:"secondary",className:"bg-blue-500 text-white",children:"Tournament Paid"}):i.jsx(Te,{variant:"secondary",children:"Unpaid"}),S=(j,N)=>{var T,L,J,M;const E=((T=j.player1TournamentPayments)==null?void 0:T[N])||!1,D=((L=j.player2TournamentPayments)==null?void 0:L[N])||!1,k=((J=j.player1BostonPotPayments)==null?void 0:J[N])||!1,z=((M=j.player2BostonPotPayments)==null?void 0:M[N])||!1;return{tournamentPaid:E&&D,bostonPotPaid:k&&z,bostonPotMismatch:k!==z}};if(g){const j=g;return i.jsx("div",{className:"space-y-6",children:i.jsxs(Ze,{className:"shadow-lg",children:[i.jsxs(rt,{children:[i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(cl,{className:"w-5 h-5"}),"Payment Details for ",j.name]}),i.jsx(se,{size:"sm",variant:"outline",onClick:()=>y(j.id),disabled:p,className:"ml-auto",children:"Refresh Data"})]}),i.jsxs(et,{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Team Details:"}),i.jsx("div",{className:"font-semibold",children:j.name}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Phone: ",j.phoneNumber," | City: ",j.city]}),i.jsxs("div",{className:"text-sm font-medium mt-2",children:["Total Amount Due: $",s(j)]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm font-medium",children:"Tournament Payments:"}),(_=j.registeredTournaments)==null?void 0:_.map(N=>{var k,z,I,q,R,T,L,J;const E=t.find(M=>M.id===N),D=S(j,N);return i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium",children:(E==null?void 0:E.name)||N}),w(D)]}),i.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Tournament Cost: $",(E==null?void 0:E.cost)||0," per player",(E==null?void 0:E.bostonPotCost)&&i.jsxs("span",{children:[" | Boston Pot: $",E.bostonPotCost," per player"]})]}),D.bostonPotMismatch&&i.jsxs("div",{className:"mb-2 p-2 bg-orange-50 border border-orange-200 rounded-md",children:[i.jsxs("div",{className:"flex items-center gap-2 text-orange-700",children:[i.jsx(gy,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Boston Pot Mismatch"})]}),i.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"One player opted into Boston Pot, the other didn't. Team is not in Boston Pot."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"font-medium",children:[j.player1FirstName," ",j.player1LastName]}),i.jsxs("div",{className:"text-xs text-gray-600",children:["Tournament: ",(k=j.player1TournamentPayments)!=null&&k[N]?"Paid":"Unpaid"," | Boston Pot: ",(z=j.player1BostonPotPayments)!=null&&z[N]?"Paid":"Unpaid"]})]}),i.jsx("div",{className:"flex gap-1",children:i.jsx(se,{size:"sm",variant:(I=j.player1TournamentPayments)!=null&&I[N]?"default":"outline",onClick:()=>{var M;return b(j.player1_id,N,!((M=j.player1TournamentPayments)!=null&&M[N]))},disabled:p,children:(q=j.player1TournamentPayments)!=null&&q[N]?"Paid":"Mark Paid"})})]}),i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"font-medium",children:[j.player2FirstName," ",j.player2LastName]}),i.jsxs("div",{className:"text-xs text-gray-600",children:["Tournament: ",(R=j.player2TournamentPayments)!=null&&R[N]?"Paid":"Unpaid"," | Boston Pot: ",(T=j.player2BostonPotPayments)!=null&&T[N]?"Paid":"Unpaid"]})]}),i.jsx("div",{className:"flex gap-1",children:i.jsx(se,{size:"sm",variant:(L=j.player2TournamentPayments)!=null&&L[N]?"default":"outline",onClick:()=>{var M;return b(j.player2_id,N,!((M=j.player2TournamentPayments)!=null&&M[N]))},disabled:p,children:(J=j.player2TournamentPayments)!=null&&J[N]?"Paid":"Mark Paid"})})]})]})]},N)})]}),i.jsx("div",{className:"flex gap-3 pt-4",children:i.jsx(se,{onClick:()=>{d(null),h(null)},variant:"outline",className:"flex-1",children:"Back to Teams"})})]})]})})}return i.jsx("div",{className:"space-y-6",children:i.jsxs(Ze,{className:"shadow-lg",children:[i.jsxs(rt,{children:[i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(cl,{className:"w-5 h-5"}),"Team Payments"]}),i.jsxs("div",{className:"relative",children:[i.jsx(ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx(Se,{placeholder:"Search teams...",value:l,onChange:j=>c(j.target.value),className:"pl-10"})]})]}),i.jsx(et,{children:i.jsx("div",{className:"space-y-3",children:v.map(j=>{var D,k;const N=s(j),E=(D=j.registeredTournaments)==null?void 0:D.some(z=>S(j,z).bostonPotMismatch);return i.jsx("div",{className:`p-4 border rounded-lg hover:bg-gray-50 cursor-pointer ${E?"border-orange-300 bg-orange-50":""}`,onClick:()=>d(j),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:j.name}),i.jsxs("div",{className:"text-sm text-gray-600",children:[j.city," • ",j.phoneNumber]}),i.jsxs("div",{className:"text-sm text-gray-500",children:[j.player1FirstName," ",j.player1LastName," & ",j.player2FirstName," ",j.player2LastName]}),E&&i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[i.jsx(gy,{className:"h-3 w-3 text-orange-600"}),i.jsx("span",{className:"text-xs text-orange-600",children:"Boston Pot Mismatch"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:["$",N]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[((k=j.registeredTournaments)==null?void 0:k.length)||0," tournaments"]})]})]})},j.id)})})})]})})},HB=()=>{const{games:e,teams:t,getTournamentResults:r}=Dt(),n=e.filter(o=>o.confirmed).sort((o,l)=>new Date(l.timestamp).getTime()-new Date(o.timestamp).getTime());r("1");const s={totalGames:n.length,totalPoints:n.reduce((o,l)=>o+l.scoreA+l.scoreB,0),bostons:n.filter(o=>o.boston!=="none").length,avgScore:n.length>0?(n.reduce((o,l)=>o+l.scoreA+l.scoreB,0)/n.length).toFixed(1):"0.0"},a=o=>{const l=t.find(p=>p.id===o.teamA)||{id:o.teamA},c=t.find(p=>p.id===o.teamB)||{id:o.teamB},u=o.winner==="teamA"?l:c,d=o.winner==="teamA"?c:l,f=o.winner==="teamA"?o.scoreA:o.scoreB,h=o.winner==="teamA"?o.scoreB:o.scoreA;return{winner:u,loser:d,winnerScore:f,loserScore:h,round:o.round,boston:o.boston,timestamp:o.timestamp}};return i.jsxs(Ze,{children:[i.jsx(rt,{children:i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(ns,{className:"h-5 w-5"}),"Tournament Game History"]})}),i.jsxs(et,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.totalGames}),i.jsx("div",{className:"text-sm text-blue-600",children:"Total Games"})]}),i.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.totalPoints}),i.jsx("div",{className:"text-sm text-green-600",children:"Total Points"})]}),i.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.bostons}),i.jsx("div",{className:"text-sm text-yellow-600",children:"Bostons"})]}),i.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.avgScore}),i.jsx("div",{className:"text-sm text-purple-600",children:"Avg Score"})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[i.jsx(Lm,{className:"h-4 w-4"}),"Recent Games"]}),n.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx("p",{children:"No completed games yet"}),i.jsx("p",{className:"text-sm",children:"Games will appear here after both teams confirm scores"})]}):i.jsxs("div",{className:"space-y-2",children:[n.slice(0,10).map(o=>{const l=a(o);return i.jsxs("div",{className:"p-3 rounded-lg border bg-gradient-to-r from-gray-50 to-white hover:from-gray-100 hover:to-gray-50 transition-all duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Te,{variant:"outline",className:"text-xs",children:["Round ",l.round]}),i.jsxs("span",{className:"text-sm font-medium",children:["Team ",l.winner.teamNumber||"Unknown"," ",l.winnerScore," - Team ",l.loser.teamNumber||"Unknown"," ",l.loserScore]}),l.boston!=="none"&&i.jsx(Mm,{className:"h-4 w-4 text-yellow-500"})]}),i.jsx("div",{className:"text-xs text-gray-500",children:new Date(l.timestamp).toLocaleDateString()})]}),i.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[l.winner.player1FirstName," ",l.winner.player1LastName," & ",l.winner.player2FirstName," ",l.winner.player2LastName,i.jsx("span",{className:"mx-2",children:"vs"}),l.loser.player1FirstName," ",l.loser.player1LastName," & ",l.loser.player2FirstName," ",l.loser.player2LastName]})]},o.id)}),n.length>10&&i.jsxs("div",{className:"text-center text-sm text-gray-500 pt-2",children:["Showing 10 most recent games of ",n.length," total"]})]})]})]})]})},ku=m.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:Me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 transition-colors resize-none",e),ref:r,...t}));ku.displayName="Textarea";var Kf="rovingFocusGroup.onEntryFocus",GB={bubbles:!1,cancelable:!0},Dl="RovingFocusGroup",[Cp,j_,qB]=Rm(Dl),[KB,__]=Vn(Dl,[qB]),[YB,QB]=KB(Dl),N_=m.forwardRef((e,t)=>i.jsx(Cp.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Cp.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(JB,{...e,ref:t})})}));N_.displayName=Dl;var JB=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=ht(t,h),x=ag(a),[g,y]=Js({prop:o,defaultProp:l??null,onChange:c,caller:Dl}),[b,v]=m.useState(!1),w=ln(u),S=j_(r),_=m.useRef(!1),[j,N]=m.useState(0);return m.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(Kf,w),()=>E.removeEventListener(Kf,w)},[w]),i.jsx(YB,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(E=>y(E),[y]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>N(E=>E-1),[]),children:i.jsx(Oe.div,{tabIndex:b||j===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Pe(e.onMouseDown,()=>{_.current=!0}),onFocus:Pe(e.onFocus,E=>{const D=!_.current;if(E.target===E.currentTarget&&D&&!b){const k=new CustomEvent(Kf,GB);if(E.currentTarget.dispatchEvent(k),!k.defaultPrevented){const z=S().filter(L=>L.focusable),I=z.find(L=>L.active),q=z.find(L=>L.id===g),T=[I,q,...z].filter(Boolean).map(L=>L.ref.current);T_(T,d)}}_.current=!1}),onBlur:Pe(e.onBlur,()=>v(!1))})})}),E_="RovingFocusGroupItem",C_=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...l}=e,c=ss(),u=a||c,d=QB(E_,r),f=d.currentTabStopId===u,h=j_(r),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:g}=d;return m.useEffect(()=>{if(n)return p(),()=>x()},[n,p,x]),i.jsx(Cp.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:i.jsx(Oe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Pe(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:Pe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Pe(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=eL(y,d.orientation,d.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const S=w.indexOf(y.currentTarget);w=d.loop?tL(w,S+1):w.slice(S+1)}setTimeout(()=>T_(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});C_.displayName=E_;var XB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function eL(e,t,r){const n=ZB(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return XB[n]}function T_(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function tL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var rL=N_,nL=C_,Ad="Tabs",[sL,D6]=Vn(Ad,[__]),P_=__(),[aL,vg]=sL(Ad),k_=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=ag(l),[f,h]=Js({prop:n,onChange:s,defaultProp:a??"",caller:Ad});return i.jsx(aL,{scope:r,baseId:ss(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(Oe.div,{dir:d,"data-orientation":o,...u,ref:t})})});k_.displayName=Ad;var A_="TabsList",R_=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=vg(A_,r),o=P_(r);return i.jsx(rL,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(Oe.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});R_.displayName=A_;var I_="TabsTrigger",D_=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=vg(I_,r),l=P_(r),c=B_(o.baseId,n),u=L_(o.baseId,n),d=n===o.value;return i.jsx(nL,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(Oe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Pe(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Pe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Pe(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});D_.displayName=I_;var O_="TabsContent",M_=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=vg(O_,r),c=B_(l.baseId,n),u=L_(l.baseId,n),d=n===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(fs,{present:s||d,children:({present:h})=>i.jsx(Oe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});M_.displayName=O_;function B_(e,t){return`${e}-trigger-${t}`}function L_(e,t){return`${e}-content-${t}`}var iL=k_,$_=R_,F_=D_,U_=M_;const z_=iL,yg=m.forwardRef(({className:e,...t},r)=>i.jsx($_,{ref:r,className:Me("inline-flex h-10 items-center justify-center rounded-md bg-muted/50 p-1 text-muted-foreground",e),...t}));yg.displayName=$_.displayName;const Wo=m.forwardRef(({className:e,...t},r)=>i.jsx(F_,{ref:r,className:Me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm hover:text-foreground",e),...t}));Wo.displayName=F_.displayName;const pr=m.forwardRef(({className:e,...t},r)=>i.jsx(U_,{ref:r,className:Me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 animate-in fade-in-0 data-[state=inactive]:animate-out data-[state=inactive]:fade-out-0 duration-200",e),...t}));pr.displayName=U_.displayName;const oL=()=>{const{cities:e,addCity:t,removeCity:r}=Dt(),[n,s]=m.useState(""),a=()=>{n.trim()&&(t(n.trim()),s(""))},o=c=>{r(c)},l=c=>{c.key==="Enter"&&a()};return i.jsxs(Ze,{className:"shadow-lg",children:[i.jsx(rt,{children:i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(uS,{className:"w-5 h-5"}),"City Management"]})}),i.jsxs(et,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(xe,{htmlFor:"newCity",children:"Add New City"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Se,{id:"newCity",placeholder:"Enter city name",value:n,onChange:c=>s(c.target.value),onKeyPress:l,className:"flex-1"}),i.jsxs(se,{onClick:a,disabled:!n.trim(),className:"flex items-center gap-2",children:[i.jsx(vu,{className:"w-4 h-4"}),"Add"]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(xe,{children:["Current Cities (",e.length,")"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(c=>i.jsxs(Te,{variant:"secondary",className:"flex items-center gap-2 px-3 py-1",children:[c,i.jsx(se,{variant:"ghost",size:"sm",onClick:()=>o(c),className:"h-4 w-4 p-0 hover:bg-red-100",children:i.jsx(Ln,{className:"w-3 h-3"})})]},c))}),e.length===0&&i.jsx("p",{className:"text-gray-500 text-sm",children:"No cities added yet."})]})]})]})},lL=()=>{const{messages:e,addMessage:t,updateMessage:r,deleteMessage:n,getActiveMessages:s}=Dt(),[a,o]=m.useState(""),[l,c]=m.useState("info"),u=[{id:"lunch",title:"Lunch Break",message:"🍕 Lunch will be served in 15 minutes! Please make your way to the dining area.",type:"info"},{id:"round",title:"Next Round",message:"🎯 Next round starts in 10 minutes! Please return to your assigned tables.",type:"warning"},{id:"break",title:"Break Time",message:"☕ 15-minute break! Snacks and drinks available at the concession stand.",type:"info"},{id:"final",title:"Final Round",message:"🏆 Final round of the tournament! Championship on the line - give it your all!",type:"success"},{id:"awards",title:"Awards Ceremony",message:"🏅 Awards ceremony in 10 minutes! Please gather in the main hall.",type:"success"}],d=s()[0],f=async x=>{try{for(const g of e)g.active&&await r(g.id,{active:!1});await t({text:x.message,type:x.type,active:!0,createdBy:"admin"}),Y({title:"Message Posted",description:`"${x.title}" message is now scrolling on all screens`})}catch(g){console.error("Error sending predefined message:",g)}},h=async()=>{if(!a.trim()){Y({title:"Error",description:"Please enter a message",variant:"destructive"});return}try{for(const x of e)x.active&&await r(x.id,{active:!1});await t({text:a,type:l,active:!0,createdBy:"admin"}),o(""),Y({title:"Custom Message Posted",description:"Your custom message is now scrolling on all screens"})}catch(x){console.error("Error sending custom message:",x)}},p=async()=>{if(d)try{await r(d.id,{active:!1}),Y({title:"Message Removed",description:"The scrolling message has been removed from all screens"})}catch(x){console.error("Error removing message:",x)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Message Manager"}),d&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Te,{variant:"secondary",className:"bg-green-100 text-green-800",children:[i.jsx(dS,{className:"h-3 w-3 mr-1"}),"Active Message"]}),i.jsxs(se,{variant:"destructive",size:"sm",onClick:p,children:[i.jsx(Ln,{className:"h-4 w-4 mr-1"}),"Remove Message"]})]})]}),d&&i.jsxs(Ze,{className:"border-green-200 bg-green-50",children:[i.jsx(rt,{children:i.jsx(at,{className:"text-green-800",children:"Currently Displaying"})}),i.jsxs(et,{children:[i.jsx("p",{className:"text-green-700 font-medium",children:d.text}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(Te,{variant:"outline",className:"text-xs",children:d.type}),i.jsxs("span",{className:"text-xs text-green-600",children:["Posted: ",d.createdAt.toLocaleTimeString()]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Ze,{children:[i.jsx(rt,{children:i.jsx(at,{children:"Quick Messages"})}),i.jsx(et,{className:"space-y-3",children:u.map(x=>i.jsxs("div",{className:"border rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium",children:x.title}),i.jsx(Te,{variant:"outline",className:"text-xs",children:x.type})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:x.message}),i.jsxs(se,{onClick:()=>f(x),className:"w-full",size:"sm",children:[i.jsx(my,{className:"h-4 w-4 mr-2"}),"Post This Message"]})]},x.id))})]}),i.jsxs(Ze,{children:[i.jsx(rt,{children:i.jsx(at,{children:"Custom Message"})}),i.jsxs(et,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message Type"}),i.jsx("div",{className:"flex gap-2",children:["info","warning","success","error"].map(x=>i.jsx(se,{variant:l===x?"default":"outline",size:"sm",onClick:()=>c(x),children:x.charAt(0).toUpperCase()+x.slice(1)},x))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message Text"}),i.jsx(ku,{value:a,onChange:x=>o(x.target.value),placeholder:"Enter your custom message...",rows:4,className:"resize-none"})]}),i.jsxs(se,{onClick:h,disabled:!a.trim(),className:"w-full",children:[i.jsx(my,{className:"h-4 w-4 mr-2"}),"Post Custom Message"]})]})]})]})]})},cL=()=>{const{tournaments:e,setTournaments:t,addTournament:r,updateTournament:n,getActiveTournament:s,setActiveTournament:a}=Dt(),[o,l]=m.useState("tournaments"),[c,u]=m.useState(""),[d,f]=m.useState(""),[h,p]=m.useState("10"),[x,g]=m.useState(""),[y,b]=m.useState(null),[v,w]=m.useState(""),[S,_]=m.useState(""),[j,N]=m.useState(""),[E,D]=m.useState(""),k=s(),z=async()=>{if(!c.trim()||!d.trim()||!h.trim())return;const T=parseFloat(d),L=parseFloat(h);isNaN(T)||T<=0||isNaN(L)||L<=0||(await r(c.trim(),T,L,x.trim()||void 0),u(""),f(""),p("10"),g(""))},I=T=>{b(T.id),w(T.name),_(T.cost.toString()),N(T.bostonPotCost.toString()),D(T.description||"")},q=async()=>{if(!v.trim()||!S.trim()||!j.trim()||!y)return;const T=parseFloat(S),L=parseFloat(j);isNaN(T)||T<=0||isNaN(L)||L<=0||(await n(y,v.trim(),T,L,E.trim()||void 0),R())},R=()=>{b(null),w(""),_(""),N(""),D("")};return i.jsx("div",{className:"space-y-6",children:i.jsxs(z_,{defaultValue:"tournaments",className:"w-full",value:o,onValueChange:l,children:[i.jsxs(yg,{className:"grid w-full grid-cols-3",children:[i.jsx(Wo,{value:"tournaments",children:"Tournament Setup"}),i.jsx(Wo,{value:"cities",children:"City Management"}),i.jsx(Wo,{value:"messaging",children:"Messaging"})]}),i.jsxs(pr,{value:"tournaments",className:"space-y-6",children:[i.jsxs(Ze,{className:"shadow-lg",children:[i.jsx(rt,{children:i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(ns,{className:"w-5 h-5"}),"Active Tournament"]})}),i.jsx(et,{children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("label",{htmlFor:"active-tournament-select",className:"font-medium",children:"Select Active Tournament:"}),i.jsxs("select",{id:"active-tournament-select",className:"border rounded p-2",value:(k==null?void 0:k.id)||"",onChange:T=>{const L=e.find(J=>J.id===T.target.value);L&&a(L.id)},children:[i.jsx("option",{value:"",disabled:!0,children:"Select a tournament..."}),e.map(T=>i.jsx("option",{value:T.id,children:T.name},T.id))]}),k&&i.jsx(Te,{variant:"default",className:"bg-green-500 text-white ml-2",children:"Active"})]})})]}),i.jsxs(Ze,{className:"shadow-lg",children:[i.jsx(rt,{children:i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(hS,{className:"w-5 h-5"}),"Tournament Setup"]})}),i.jsxs(et,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"tournamentName",children:"Tournament Name"}),i.jsx(Se,{id:"tournamentName",placeholder:"e.g., Friday 3 AM Tournament",value:c,onChange:T=>u(T.target.value)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"tournamentCost",children:"Base Cost ($)"}),i.jsx(Se,{id:"tournamentCost",type:"number",placeholder:"30",value:d,onChange:T=>f(T.target.value)})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"bostonPotCost",children:"Boston Pot Cost ($)"}),i.jsx(Se,{id:"bostonPotCost",type:"number",placeholder:"10",value:h,onChange:T=>p(T.target.value)})]})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"tournamentDescription",children:"Description (Optional)"}),i.jsx(ku,{id:"tournamentDescription",placeholder:"Tournament details...",value:x,onChange:T=>g(T.target.value),rows:3})]}),i.jsxs(se,{onClick:z,disabled:!c.trim()||!d.trim()||!h.trim(),className:"w-full flex items-center gap-2",children:[i.jsx(vu,{className:"w-4 h-4"}),"Add Tournament"]})]})]}),i.jsxs(Ze,{className:"shadow-lg",children:[i.jsx(rt,{children:i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(ns,{className:"w-5 h-5"}),"Available Tournaments (",e.length,")"]})}),i.jsx(et,{children:i.jsx("div",{className:"grid gap-3",children:e.map(T=>i.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${T.status==="active"?"bg-green-50 border border-green-300":T.status==="pending"?"bg-yellow-50 border border-yellow-300":"bg-gray-50"}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-semibold",children:T.name}),i.jsx(Te,{variant:T.status==="active"?"default":T.status==="pending"?"secondary":"outline",children:T.status==="active"?"Active":T.status==="pending"?"Pending":"Finished"})]}),y===T.id?i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(Se,{value:v,onChange:L=>w(L.target.value),placeholder:"Tournament name"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx(Se,{type:"number",value:S,onChange:L=>_(L.target.value),placeholder:"Base cost"}),i.jsx(Se,{type:"number",value:j,onChange:L=>N(L.target.value),placeholder:"Boston cost"})]}),i.jsx(ku,{value:E,onChange:L=>D(L.target.value),placeholder:"Description",rows:2}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{size:"sm",onClick:q,children:i.jsx(fS,{className:"w-3 h-3"})}),i.jsx(se,{size:"sm",variant:"outline",onClick:R,children:i.jsx(Ln,{className:"w-3 h-3"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-semibold",children:T.name}),T.status==="active"&&i.jsx(Te,{variant:"default",className:"bg-green-500 text-white",children:"Active"}),T.status==="finished"&&i.jsx(Te,{variant:"secondary",children:"Finished"})]}),T.description&&i.jsx("div",{className:"text-sm text-gray-600",children:T.description}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsxs(Te,{variant:"secondary",children:["Per Team: $",T.cost]}),i.jsxs(Te,{variant:"outline",className:"flex items-center gap-1",children:[i.jsx(u2,{className:"w-3 h-3"}),"Boston: $",T.bostonPotCost]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Total with Boston:"}),i.jsxs("div",{className:"font-semibold",children:["$",(T.cost||0)+(T.bostonPotCost||0)]})]}),i.jsx(se,{size:"sm",variant:"outline",onClick:()=>I(T),children:i.jsx(i2,{className:"w-3 h-3"})})]})]})]},T.id))})})]})]}),i.jsx(pr,{value:"cities",children:i.jsx(oL,{})}),i.jsx(pr,{value:"messaging",className:"space-y-6",children:i.jsx(lL,{})})]})})};var uL="Separator",jx="horizontal",dL=["horizontal","vertical"],W_=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=jx,...s}=e,a=fL(n)?n:jx,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(Oe.div,{"data-orientation":a,...l,...s,ref:t})});W_.displayName=uL;function fL(e){return dL.includes(e)}var V_=W_;const H_=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,variant:n="default",...s},a)=>i.jsx(V_,{ref:a,decorative:r,orientation:t,className:Me("shrink-0",n==="default"&&"bg-border",n==="muted"&&"bg-muted",n==="accent"&&"bg-primary/30",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));H_.displayName=V_.displayName;const hL=({schedule:e,tournamentName:t})=>{const{teams:r,games:n,scoreSubmissions:s,refreshGamesFromSupabase:a}=Dt();Z.useEffect(()=>{const c=setInterval(()=>{a()},2e3);return()=>clearInterval(c)},[a]);const o=c=>{const u=n.find(f=>f.matchId===c.id&&f.confirmed);if(u){const f=u.winner==="teamA"?r.find(x=>x.id===c.teamA):r.find(x=>x.id===c.teamB),h=u.winner==="teamA"?u.scoreA:u.scoreB,p=u.winner==="teamA"?u.scoreB:u.scoreA;return`Completed - Team ${(f==null?void 0:f.teamNumber)||"Unknown"} won ${h}-${p}`}const d=s.filter(f=>f.matchId===c.id);if(d.length===2)return d[0].scoreA===d[1].scoreA&&d[0].scoreB===d[1].scoreB?"Confirming scores":"Score conflict - needs resolution";if(d.length===1){const f=r.find(h=>h.id===d[0].submittedBy);return`Waiting for opponent score (Team ${(f==null?void 0:f.teamNumber)||"Unknown"} submitted)`}if(c.teamA==="TBD"||c.teamB==="TBD"){if(c.round===1)return"Ready to start";{const h=e.matches.filter(p=>p.round===c.round-1).filter(p=>!n.find(x=>x.matchId===p.id&&x.confirmed));return h.length>0?`Waiting for ${h.length} Round ${c.round-1} match${h.length>1?"es":""} to complete`:"Waiting for team assignment"}}return"Ready to score"},l=c=>c.includes("Completed")?"bg-green-100 border-green-300 text-green-800":c.includes("Ready to score")?"bg-blue-100 border-blue-300 text-blue-800":c.includes("Waiting for opponent score")?"bg-yellow-100 border-yellow-300 text-yellow-800":c.includes("Confirming scores")?"bg-orange-100 border-orange-300 text-orange-800":c.includes("Score conflict")?"bg-red-100 border-red-300 text-red-800":c.includes("Ready to start")?"bg-blue-100 border-blue-300 text-blue-800":"bg-gray-100 border-gray-300 text-gray-600";return i.jsxs(Ze,{className:"border-2 border-gray-300",children:[i.jsx(rt,{children:i.jsx(at,{className:"text-center text-2xl font-bold text-red-600 mb-2 border-b-2 border-red-500 pb-2 shadow-sm",children:t})}),i.jsxs(et,{children:[i.jsxs("div",{className:"text-center text-sm text-gray-600 mb-4",children:[e.matches.length," matches • ",Math.max(...e.matches.map(c=>c.round))," rounds"]}),Array.from({length:Math.max(e.rounds,Math.max(...e.matches.map(c=>c.round)))},(c,u)=>u+1).map(c=>{const u=e.matches.filter(d=>d.round===c);return i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsxs(Te,{variant:"outline",className:"font-bold text-lg px-4 py-2 bg-blue-100 border-blue-300 text-blue-800",children:["Round ",c]})}),i.jsx("div",{className:"space-y-3",children:u.map(d=>{var b,v;if(d.isBye){const w=d.teamA==="null"?d.teamB:d.teamA,S=r.find(_=>String(_.id)===String(w));return i.jsxs("div",{className:"p-2 md:p-3 border rounded-lg bg-yellow-50 border-yellow-300 text-yellow-800",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-1 gap-2 md:gap-0",children:i.jsx("div",{className:"flex-1 font-medium text-xs md:text-sm",children:S?i.jsxs("span",{children:[S.teamNumber??S.id,": ",S.name," - ",i.jsx("span",{className:"text-[8px] md:text-[10px]",children:S.city})]}):"Unknown Team"})}),i.jsx("div",{className:"flex flex-wrap justify-center items-center gap-1 md:gap-2 mt-1",children:i.jsx(Te,{variant:"outline",className:"text-[10px] md:text-xs px-1.5 py-0.5 md:px-2 md:py-1 bg-yellow-100 border-yellow-300 text-yellow-800",children:"BYE"})})]},d.id)}const f=r.find(w=>w.id===d.teamA),h=r.find(w=>w.id===d.teamB),p=o(d),x=l(p),g=n.find(w=>w.matchId===d.id&&w.confirmed);let y=null;if(g){const w=g.winner==="teamA"?f:h,S=g.winner==="teamA"?g.scoreA:g.scoreB,_=g.winner==="teamA"?g.scoreB:g.scoreA;y={winner:w,winnerScore:S,loserScore:_}}return i.jsxs("div",{className:`p-2 md:p-3 border rounded-lg ${x} relative`,children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-1 gap-2 md:gap-0",children:[i.jsx("div",{className:"flex-1",children:i.jsx("div",{className:"font-medium text-xs md:text-sm",children:d.teamA==="TBD"?"TBD":f?i.jsxs("span",{children:[f.teamNumber??f.id,": ",f.name," - ",i.jsx("span",{className:"text-[8px] md:text-[10px]",children:f.city})]}):`${d.teamA}`})}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs(Te,{variant:"outline",className:"text-[10px] md:text-xs px-1.5 py-0.5 md:px-2 md:py-1 mb-1",children:["Table ",d.table]}),i.jsx("span",{className:"text-muted-foreground mx-0 md:mx-3 font-medium text-xs md:text-sm text-center",children:"vs"})]}),i.jsx("div",{className:"flex-1 md:text-right",children:i.jsx("div",{className:"font-medium text-xs md:text-sm",children:d.teamB==="TBD"?"TBD":h?i.jsxs("span",{children:[h.teamNumber??h.id,": ",h.name," - ",i.jsx("span",{className:"text-[8px] md:text-[10px]",children:h.city})]}):`${d.teamB}`})})]}),i.jsx("div",{className:"flex flex-wrap justify-center items-center gap-1 md:gap-2 mt-1",children:f&&h&&f.city===h.city&&i.jsx(Te,{variant:"destructive",className:"text-[10px] md:text-xs px-1.5 py-0.5 md:px-2 md:py-1",children:"Same City"})}),y&&i.jsx("div",{className:"absolute bottom-1 right-2",children:i.jsxs("span",{className:"text-xs italic text-red-600",children:["Team ",((b=y.winner)==null?void 0:b.teamNumber)??((v=y.winner)==null?void 0:v.id)," won ",y.winnerScore,"-",y.loserScore]})})]},d.id)})}),c<e.rounds&&i.jsx(H_,{className:"mt-4"})]},c)})]})]})};function Tp(e,t){return Tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Tp(e,t)}function G_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Tp(e,t)}function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ie.apply(null,arguments)}function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function pL(e,t){if(ml(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mL(e){var t=pL(e,"string");return ml(t)=="symbol"?t:t+""}function gL(e,t,r){return(t=mL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_x(Object(r),!0).forEach(function(n){gL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_x(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ex=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Cx=function(){return Math.random().toString(36).substring(7).split("").join(".")},Tx={INIT:"@@redux/INIT"+Cx(),REPLACE:"@@redux/REPLACE"+Cx()};function vL(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function q_(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(wr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(wr(1));return r(q_)(e,t)}if(typeof e!="function")throw new Error(wr(2));var s=e,a=t,o=[],l=o,c=!1;function u(){l===o&&(l=o.slice())}function d(){if(c)throw new Error(wr(3));return a}function f(g){if(typeof g!="function")throw new Error(wr(4));if(c)throw new Error(wr(5));var y=!0;return u(),l.push(g),function(){if(y){if(c)throw new Error(wr(6));y=!1,u();var v=l.indexOf(g);l.splice(v,1),o=null}}}function h(g){if(!vL(g))throw new Error(wr(7));if(typeof g.type>"u")throw new Error(wr(8));if(c)throw new Error(wr(9));try{c=!0,a=s(a,g)}finally{c=!1}for(var y=o=l,b=0;b<y.length;b++){var v=y[b];v()}return g}function p(g){if(typeof g!="function")throw new Error(wr(10));s=g,h({type:Tx.REPLACE})}function x(){var g,y=f;return g={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(wr(11));function w(){v.next&&v.next(d())}w();var S=y(w);return{unsubscribe:S}}},g[Ex]=function(){return this},g}return h({type:Tx.INIT}),n={dispatch:h,subscribe:f,getState:d,replaceReducer:p},n[Ex]=x,n}function Px(e,t){return function(){return t(e.apply(this,arguments))}}function kx(e,t){if(typeof e=="function")return Px(e,t);if(typeof e!="object"||e===null)throw new Error(wr(16));var r={};for(var n in e){var s=e[n];typeof s=="function"&&(r[n]=Px(s,t))}return r}function K_(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,s){return function(){return n(s.apply(void 0,arguments))}})}function yL(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var s=n.apply(void 0,arguments),a=function(){throw new Error(wr(15))},o={getState:s.getState,dispatch:function(){return a.apply(void 0,arguments)}},l=t.map(function(c){return c(o)});return a=K_.apply(void 0,l)(s.dispatch),Nx(Nx({},s),{},{dispatch:a})}}}var Y_=Z.createContext(null);function xL(e){e()}var Q_=xL,bL=function(t){return Q_=t},wL=function(){return Q_};function SL(){var e=wL(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var s=t;s;)s.callback(),s=s.next})},get:function(){for(var s=[],a=t;a;)s.push(a),a=a.next;return s},subscribe:function(s){var a=!0,o=r={callback:s,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!a||t===null||(a=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var Ax={notify:function(){},get:function(){return[]}};function J_(e,t){var r,n=Ax;function s(f){return c(),n.subscribe(f)}function a(){n.notify()}function o(){d.onStateChange&&d.onStateChange()}function l(){return!!r}function c(){r||(r=t?t.addNestedSub(o):e.subscribe(o),n=SL())}function u(){r&&(r(),r=void 0,n.clear(),n=Ax)}var d={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:o,isSubscribed:l,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return n}};return d}var X_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?m.useLayoutEffect:m.useEffect;function jL(e){var t=e.store,r=e.context,n=e.children,s=m.useMemo(function(){var l=J_(t);return{store:t,subscription:l}},[t]),a=m.useMemo(function(){return t.getState()},[t]);X_(function(){var l=s.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==t.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[s,a]);var o=r||Y_;return Z.createElement(o.Provider,{value:s},n)}function Au(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Z_={exports:{}},pt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gt=typeof Symbol=="function"&&Symbol.for,xg=Gt?Symbol.for("react.element"):60103,bg=Gt?Symbol.for("react.portal"):60106,Rd=Gt?Symbol.for("react.fragment"):60107,Id=Gt?Symbol.for("react.strict_mode"):60108,Dd=Gt?Symbol.for("react.profiler"):60114,Od=Gt?Symbol.for("react.provider"):60109,Md=Gt?Symbol.for("react.context"):60110,wg=Gt?Symbol.for("react.async_mode"):60111,Bd=Gt?Symbol.for("react.concurrent_mode"):60111,Ld=Gt?Symbol.for("react.forward_ref"):60112,$d=Gt?Symbol.for("react.suspense"):60113,_L=Gt?Symbol.for("react.suspense_list"):60120,Fd=Gt?Symbol.for("react.memo"):60115,Ud=Gt?Symbol.for("react.lazy"):60116,NL=Gt?Symbol.for("react.block"):60121,EL=Gt?Symbol.for("react.fundamental"):60117,CL=Gt?Symbol.for("react.responder"):60118,TL=Gt?Symbol.for("react.scope"):60119;function qr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case xg:switch(e=e.type,e){case wg:case Bd:case Rd:case Dd:case Id:case $d:return e;default:switch(e=e&&e.$$typeof,e){case Md:case Ld:case Ud:case Fd:case Od:return e;default:return t}}case bg:return t}}}function eN(e){return qr(e)===Bd}pt.AsyncMode=wg;pt.ConcurrentMode=Bd;pt.ContextConsumer=Md;pt.ContextProvider=Od;pt.Element=xg;pt.ForwardRef=Ld;pt.Fragment=Rd;pt.Lazy=Ud;pt.Memo=Fd;pt.Portal=bg;pt.Profiler=Dd;pt.StrictMode=Id;pt.Suspense=$d;pt.isAsyncMode=function(e){return eN(e)||qr(e)===wg};pt.isConcurrentMode=eN;pt.isContextConsumer=function(e){return qr(e)===Md};pt.isContextProvider=function(e){return qr(e)===Od};pt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===xg};pt.isForwardRef=function(e){return qr(e)===Ld};pt.isFragment=function(e){return qr(e)===Rd};pt.isLazy=function(e){return qr(e)===Ud};pt.isMemo=function(e){return qr(e)===Fd};pt.isPortal=function(e){return qr(e)===bg};pt.isProfiler=function(e){return qr(e)===Dd};pt.isStrictMode=function(e){return qr(e)===Id};pt.isSuspense=function(e){return qr(e)===$d};pt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Rd||e===Bd||e===Dd||e===Id||e===$d||e===_L||typeof e=="object"&&e!==null&&(e.$$typeof===Ud||e.$$typeof===Fd||e.$$typeof===Od||e.$$typeof===Md||e.$$typeof===Ld||e.$$typeof===EL||e.$$typeof===CL||e.$$typeof===TL||e.$$typeof===NL)};pt.typeOf=qr;Z_.exports=pt;var PL=Z_.exports,Sg=PL,kL={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},AL={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},RL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tN={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},jg={};jg[Sg.ForwardRef]=RL;jg[Sg.Memo]=tN;function Rx(e){return Sg.isMemo(e)?tN:jg[e.$$typeof]||kL}var IL=Object.defineProperty,DL=Object.getOwnPropertyNames,Ix=Object.getOwnPropertySymbols,OL=Object.getOwnPropertyDescriptor,ML=Object.getPrototypeOf,Dx=Object.prototype;function rN(e,t,r){if(typeof t!="string"){if(Dx){var n=ML(t);n&&n!==Dx&&rN(e,n,r)}var s=DL(t);Ix&&(s=s.concat(Ix(t)));for(var a=Rx(e),o=Rx(t),l=0;l<s.length;++l){var c=s[l];if(!AL[c]&&!(r&&r[c])&&!(o&&o[c])&&!(a&&a[c])){var u=OL(t,c);try{IL(e,c,u)}catch{}}}}return e}var BL=rN;const Ox=Op(BL);var nN={exports:{}},vt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=60103,Wd=60106,Ol=60107,Ml=60108,Bl=60114,Ll=60109,$l=60110,Fl=60112,Ul=60113,_g=60120,zl=60115,Wl=60116,sN=60121,aN=60122,iN=60117,oN=60129,lN=60131;if(typeof Symbol=="function"&&Symbol.for){var Kt=Symbol.for;zd=Kt("react.element"),Wd=Kt("react.portal"),Ol=Kt("react.fragment"),Ml=Kt("react.strict_mode"),Bl=Kt("react.profiler"),Ll=Kt("react.provider"),$l=Kt("react.context"),Fl=Kt("react.forward_ref"),Ul=Kt("react.suspense"),_g=Kt("react.suspense_list"),zl=Kt("react.memo"),Wl=Kt("react.lazy"),sN=Kt("react.block"),aN=Kt("react.server.block"),iN=Kt("react.fundamental"),oN=Kt("react.debug_trace_mode"),lN=Kt("react.legacy_hidden")}function kn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case zd:switch(e=e.type,e){case Ol:case Bl:case Ml:case Ul:case _g:return e;default:switch(e=e&&e.$$typeof,e){case $l:case Fl:case Wl:case zl:case Ll:return e;default:return t}}case Wd:return t}}}var LL=Ll,$L=zd,FL=Fl,UL=Ol,zL=Wl,WL=zl,VL=Wd,HL=Bl,GL=Ml,qL=Ul;vt.ContextConsumer=$l;vt.ContextProvider=LL;vt.Element=$L;vt.ForwardRef=FL;vt.Fragment=UL;vt.Lazy=zL;vt.Memo=WL;vt.Portal=VL;vt.Profiler=HL;vt.StrictMode=GL;vt.Suspense=qL;vt.isAsyncMode=function(){return!1};vt.isConcurrentMode=function(){return!1};vt.isContextConsumer=function(e){return kn(e)===$l};vt.isContextProvider=function(e){return kn(e)===Ll};vt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===zd};vt.isForwardRef=function(e){return kn(e)===Fl};vt.isFragment=function(e){return kn(e)===Ol};vt.isLazy=function(e){return kn(e)===Wl};vt.isMemo=function(e){return kn(e)===zl};vt.isPortal=function(e){return kn(e)===Wd};vt.isProfiler=function(e){return kn(e)===Bl};vt.isStrictMode=function(e){return kn(e)===Ml};vt.isSuspense=function(e){return kn(e)===Ul};vt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ol||e===Bl||e===oN||e===Ml||e===Ul||e===_g||e===lN||typeof e=="object"&&e!==null&&(e.$$typeof===Wl||e.$$typeof===zl||e.$$typeof===Ll||e.$$typeof===$l||e.$$typeof===Fl||e.$$typeof===iN||e.$$typeof===sN||e[0]===aN)};vt.typeOf=kn;nN.exports=vt;var KL=nN.exports,YL=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],QL=["reactReduxForwardedRef"],JL=[],XL=[null,null];function ZL(e,t){var r=e[1];return[t.payload,r+1]}function Mx(e,t,r){X_(function(){return e.apply(void 0,t)},r)}function e$(e,t,r,n,s,a,o){e.current=n,t.current=s,r.current=!1,a.current&&(a.current=null,o())}function t$(e,t,r,n,s,a,o,l,c,u){if(e){var d=!1,f=null,h=function(){if(!d){var g=t.getState(),y,b;try{y=n(g,s.current)}catch(v){b=v,f=v}b||(f=null),y===a.current?o.current||c():(a.current=y,l.current=y,o.current=!0,u({type:"STORE_UPDATED",payload:{error:b}}))}};r.onStateChange=h,r.trySubscribe(),h();var p=function(){if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f};return p}}var r$=function(){return[null,0]};function n$(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,s=n===void 0?function(w){return"ConnectAdvanced("+w+")"}:n,a=r.methodName,o=a===void 0?"connectAdvanced":a,l=r.renderCountProp,c=l===void 0?void 0:l,u=r.shouldHandleStateChanges,d=u===void 0?!0:u,f=r.storeKey,h=f===void 0?"store":f;r.withRef;var p=r.forwardRef,x=p===void 0?!1:p,g=r.context,y=g===void 0?Y_:g,b=Au(r,YL),v=y;return function(S){var _=S.displayName||S.name||"Component",j=s(_),N=Ie({},b,{getDisplayName:s,methodName:o,renderCountProp:c,shouldHandleStateChanges:d,storeKey:h,displayName:j,wrappedComponentName:_,WrappedComponent:S}),E=b.pure;function D(R){return e(R.dispatch,N)}var k=E?m.useMemo:function(R){return R()};function z(R){var T=m.useMemo(function(){var Ct=R.reactReduxForwardedRef,$t=Au(R,QL);return[R.context,Ct,$t]},[R]),L=T[0],J=T[1],M=T[2],B=m.useMemo(function(){return L&&L.Consumer&&KL.isContextConsumer(Z.createElement(L.Consumer,null))?L:v},[L,v]),H=m.useContext(B),re=!!R.store&&!!R.store.getState&&!!R.store.dispatch;H&&H.store;var W=re?R.store:H.store,ce=m.useMemo(function(){return D(W)},[W]),K=m.useMemo(function(){if(!d)return XL;var Ct=J_(W,re?null:H.subscription),$t=Ct.notifyNestedSubs.bind(Ct);return[Ct,$t]},[W,re,H]),ae=K[0],be=K[1],C=m.useMemo(function(){return re?H:Ie({},H,{subscription:ae})},[re,H,ae]),X=m.useReducer(ZL,JL,r$),ee=X[0],le=ee[0],ge=X[1];if(le&&le.error)throw le.error;var oe=m.useRef(),je=m.useRef(M),Ne=m.useRef(),Be=m.useRef(!1),ke=k(function(){return Ne.current&&M===je.current?Ne.current:ce(W.getState(),M)},[W,le,M]);Mx(e$,[je,oe,Be,M,ke,Ne,be]),Mx(t$,[d,W,ae,ce,je,oe,Be,Ne,be,ge],[W,ae,ce]);var tt=m.useMemo(function(){return Z.createElement(S,Ie({},ke,{ref:J}))},[J,S,ke]),bt=m.useMemo(function(){return d?Z.createElement(B.Provider,{value:C},tt):tt},[B,tt,C]);return bt}var I=E?Z.memo(z):z;if(I.WrappedComponent=S,I.displayName=z.displayName=j,x){var q=Z.forwardRef(function(T,L){return Z.createElement(I,Ie({},T,{reactReduxForwardedRef:L}))});return q.displayName=j,q.WrappedComponent=S,Ox(q,S)}return Ox(I,S)}}function Bx(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Yf(e,t){if(Bx(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!Bx(e[r[s]],t[r[s]]))return!1;return!0}function s$(e,t){var r={},n=function(o){var l=e[o];typeof l=="function"&&(r[o]=function(){return t(l.apply(void 0,arguments))})};for(var s in e)n(s);return r}function Ng(e){return function(r,n){var s=e(r,n);function a(){return s}return a.dependsOnOwnProps=!1,a}}function Lx(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function cN(e,t){return function(n,s){s.displayName;var a=function(l,c){return a.dependsOnOwnProps?a.mapToProps(l,c):a.mapToProps(l)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,c){a.mapToProps=e,a.dependsOnOwnProps=Lx(e);var u=a(l,c);return typeof u=="function"&&(a.mapToProps=u,a.dependsOnOwnProps=Lx(u),u=a(l,c)),u},a}}function a$(e){return typeof e=="function"?cN(e):void 0}function i$(e){return e?void 0:Ng(function(t){return{dispatch:t}})}function o$(e){return e&&typeof e=="object"?Ng(function(t){return s$(e,t)}):void 0}const l$=[a$,i$,o$];function c$(e){return typeof e=="function"?cN(e):void 0}function u$(e){return e?void 0:Ng(function(){return{}})}const d$=[c$,u$];function f$(e,t,r){return Ie({},r,e,t)}function h$(e){return function(r,n){n.displayName;var s=n.pure,a=n.areMergedPropsEqual,o=!1,l;return function(u,d,f){var h=e(u,d,f);return o?(!s||!a(h,l))&&(l=h):(o=!0,l=h),l}}}function p$(e){return typeof e=="function"?h$(e):void 0}function m$(e){return e?void 0:function(){return f$}}const g$=[p$,m$];var v$=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function y$(e,t,r,n){return function(a,o){return r(e(a,o),t(n,o),o)}}function x$(e,t,r,n,s){var a=s.areStatesEqual,o=s.areOwnPropsEqual,l=s.areStatePropsEqual,c=!1,u,d,f,h,p;function x(w,S){return u=w,d=S,f=e(u,d),h=t(n,d),p=r(f,h,d),c=!0,p}function g(){return f=e(u,d),t.dependsOnOwnProps&&(h=t(n,d)),p=r(f,h,d),p}function y(){return e.dependsOnOwnProps&&(f=e(u,d)),t.dependsOnOwnProps&&(h=t(n,d)),p=r(f,h,d),p}function b(){var w=e(u,d),S=!l(w,f);return f=w,S&&(p=r(f,h,d)),p}function v(w,S){var _=!o(S,d),j=!a(w,u,S,d);return u=w,d=S,_&&j?g():_?y():j?b():p}return function(S,_){return c?v(S,_):x(S,_)}}function b$(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,s=t.initMergeProps,a=Au(t,v$),o=r(e,a),l=n(e,a),c=s(e,a),u=a.pure?x$:y$;return u(o,l,c,e,a)}var w$=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Qf(e,t,r){for(var n=t.length-1;n>=0;n--){var s=t[n](e);if(s)return s}return function(a,o){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function S$(e,t){return e===t}function j$(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?n$:r,s=t.mapStateToPropsFactories,a=s===void 0?d$:s,o=t.mapDispatchToPropsFactories,l=o===void 0?l$:o,c=t.mergePropsFactories,u=c===void 0?g$:c,d=t.selectorFactory,f=d===void 0?b$:d;return function(p,x,g,y){y===void 0&&(y={});var b=y,v=b.pure,w=v===void 0?!0:v,S=b.areStatesEqual,_=S===void 0?S$:S,j=b.areOwnPropsEqual,N=j===void 0?Yf:j,E=b.areStatePropsEqual,D=E===void 0?Yf:E,k=b.areMergedPropsEqual,z=k===void 0?Yf:k,I=Au(b,w$),q=Qf(p,a,"mapStateToProps"),R=Qf(x,l,"mapDispatchToProps"),T=Qf(g,u,"mergeProps");return n(f,Ie({methodName:"connect",getDisplayName:function(J){return"Connect("+J+")"},shouldHandleStateChanges:!!p,initMapStateToProps:q,initMapDispatchToProps:R,initMergeProps:T,pure:w,areStatesEqual:_,areOwnPropsEqual:N,areStatePropsEqual:D,areMergedPropsEqual:z},I))}}const uN=j$();bL(sa.unstable_batchedUpdates);function _$(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function dN(e,t){var r=m.useState(function(){return{inputs:t,result:e()}})[0],n=m.useRef(!0),s=m.useRef(r),a=n.current||!!(t&&s.current.inputs&&_$(t,s.current.inputs)),o=a?s.current:{inputs:t,result:e()};return m.useEffect(function(){n.current=!1,s.current=o},[o]),o.result}function N$(e,t){return dN(function(){return e},t)}var nt=dN,Ce=N$,E$="Invariant failed";function C$(e,t){throw new Error(E$)}var jn=function(t){var r=t.top,n=t.right,s=t.bottom,a=t.left,o=n-a,l=s-r,c={top:r,right:n,bottom:s,left:a,width:o,height:l,x:a,y:r,center:{x:(n+a)/2,y:(s+r)/2}};return c},Eg=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},$x=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},T$=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Jf={top:0,right:0,bottom:0,left:0},Cg=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?Jf:n,a=t.border,o=a===void 0?Jf:a,l=t.padding,c=l===void 0?Jf:l,u=jn(Eg(r,s)),d=jn($x(r,o)),f=jn($x(d,c));return{marginBox:u,borderBox:jn(r),paddingBox:d,contentBox:f,margin:s,border:o,padding:c}},Kr=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&C$(),s},P$=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ru=function(t,r){var n=t.borderBox,s=t.border,a=t.margin,o=t.padding,l=T$(n,r);return Cg({borderBox:l,border:s,margin:a,padding:o})},Iu=function(t,r){return r===void 0&&(r=P$()),Ru(t,r)},fN=function(t,r){var n={top:Kr(r.marginTop),right:Kr(r.marginRight),bottom:Kr(r.marginBottom),left:Kr(r.marginLeft)},s={top:Kr(r.paddingTop),right:Kr(r.paddingRight),bottom:Kr(r.paddingBottom),left:Kr(r.paddingLeft)},a={top:Kr(r.borderTopWidth),right:Kr(r.borderRightWidth),bottom:Kr(r.borderBottomWidth),left:Kr(r.borderLeftWidth)};return Cg({borderBox:t,margin:n,padding:s,border:a})},hN=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return fN(r,n)},Fx=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function k$(e,t){return!!(e===t||Fx(e)&&Fx(t))}function A$(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!k$(e[r],t[r]))return!1;return!0}function Wt(e,t){t===void 0&&(t=A$);var r,n=[],s,a=!1;function o(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return a&&r===this&&t(l,n)||(s=e.apply(this,l),a=!0,r=this,n=l),s}return o}var gl=function(t){var r=[],n=null,s=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return s.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},s};function pN(e,t){}pN.bind(null,"warn");pN.bind(null,"error");function Gs(){}function R$(e,t){return Ie({},e,{},t)}function tn(e,t,r){var n=t.map(function(s){var a=R$(r,s.options);return e.addEventListener(s.eventName,s.fn,a),function(){e.removeEventListener(s.eventName,s.fn,a)}});return function(){n.forEach(function(a){a()})}}var I$="Invariant failed";function Du(e){this.message=e}Du.prototype.toString=function(){return this.message};function fe(e,t){throw new Du(I$)}var D$=function(e){G_(t,e);function t(){for(var n,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,n.callbacks=null,n.unbind=Gs,n.onWindowError=function(l){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var u=l.error;u instanceof Du&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=tn(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(s){if(s instanceof Du){this.setState({});return}throw s},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(Z.Component),O$=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ou=function(t){return t+1},M$=function(t){return`
  You have lifted an item in position `+Ou(t.source.index)+`
`},mN=function(t,r){var n=t.droppableId===r.droppableId,s=Ou(t.index),a=Ou(r.index);return n?`
      You have moved the item from position `+s+`
      to position `+a+`
    `:`
    You have moved the item from position `+s+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+a+`
  `},gN=function(t,r,n){var s=r.droppableId===n.droppableId;return s?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},B$=function(t){var r=t.destination;if(r)return mN(t.source,r);var n=t.combine;return n?gN(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},Ux=function(t){return`
  The item has returned to its starting position
  of `+Ou(t.index)+`
`},L$=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+Ux(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+mN(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+gN(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Ux(t.source)+`
  `},Gc={dragHandleUsageInstructions:O$,onDragStart:M$,onDragUpdate:B$,onDragEnd:L$},Ht={x:0,y:0},Zt=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},$r=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},qs=function(t,r){return t.x===r.x&&t.y===r.y},ao=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},Fa=function(t,r,n){var s;return n===void 0&&(n=0),s={},s[t]=r,s[t==="x"?"y":"x"]=n,s},vl=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},zx=function(t,r){return Math.min.apply(Math,r.map(function(n){return vl(t,n)}))},vN=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},$$=function(e,t){var r=jn({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},Vl=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Wx=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},F$={top:0,right:0,bottom:0,left:0},U$=function(t,r){return r?Vl(t,r.scroll.diff.displacement):t},z$=function(t,r,n){if(n&&n.increasedBy){var s;return Ie({},t,(s={},s[r.end]=t[r.end]+n.increasedBy[r.line],s))}return t},W$=function(t,r){return r&&r.shouldClipSubject?$$(r.pageMarginBox,t):jn(t)},qi=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,s=e.frame,a=U$(t.marginBox,s),o=z$(a,n,r),l=W$(o,s);return{page:t,withPlaceholder:r,active:l}},Tg=function(e,t){e.frame||fe();var r=e.frame,n=$r(t,r.scroll.initial),s=ao(n),a=Ie({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:s},max:r.scroll.max}}),o=qi({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a}),l=Ie({},e,{frame:a,subject:o});return l};function Mu(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function Pg(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function la(e,t){if(e.find)return e.find(t);var r=Pg(e,t);if(r!==-1)return e[r]}function yN(e){return Array.prototype.slice.call(e)}var xN=Wt(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),bN=Wt(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),Vd=Wt(function(e){return Mu(e)}),V$=Wt(function(e){return Mu(e)}),io=Wt(function(e,t){var r=V$(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,s){return n.descriptor.index-s.descriptor.index});return r});function kg(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Hd(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Gd=Wt(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),H$=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.insideDestination,a=e.previousImpact;if(!n.isCombineEnabled)return null;var o=kg(a);if(!o)return null;function l(g){var y={type:"COMBINE",combine:{draggableId:g,droppableId:n.descriptor.id}};return Ie({},a,{at:y})}var c=a.displaced.all,u=c.length?c[0]:null;if(t)return u?l(u):null;var d=Gd(r,s);if(!u){if(!d.length)return null;var f=d[d.length-1];return l(f.descriptor.id)}var h=Pg(d,function(g){return g.descriptor.id===u});h===-1&&fe();var p=h-1;if(p<0)return null;var x=d[p];return l(x.descriptor.id)},oo=function(e,t){return e.descriptor.droppableId===t.descriptor.id},wN={point:Ht,value:0},yl={invisible:{},visible:{},all:[]},G$={displaced:yl,displacedBy:wN,at:null},nn=function(e,t){return function(r){return e<=r&&r<=t}},SN=function(e){var t=nn(e.top,e.bottom),r=nn(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(s)return!0;var a=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right),l=a&&o;if(l)return!0;var c=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right,d=c&&u;if(d)return!0;var f=c&&o||u&&a;return f}},q$=function(e){var t=nn(e.top,e.bottom),r=nn(e.left,e.right);return function(n){var s=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return s}},Ag={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},jN={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},K$=function(e){return function(t){var r=nn(t.top,t.bottom),n=nn(t.left,t.right);return function(s){return e===Ag?r(s.top)&&r(s.bottom):n(s.left)&&n(s.right)}}},Y$=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:Ht;return Vl(t,n)},Q$=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},J$=function(t,r,n){return n(r)(t)},Rg=function(t){var r=t.target,n=t.destination,s=t.viewport,a=t.withDroppableDisplacement,o=t.isVisibleThroughFrameFn,l=a?Y$(r,n):r;return Q$(l,n,o)&&J$(l,s,o)},X$=function(t){return Rg(Ie({},t,{isVisibleThroughFrameFn:SN}))},_N=function(t){return Rg(Ie({},t,{isVisibleThroughFrameFn:q$}))},Z$=function(t){return Rg(Ie({},t,{isVisibleThroughFrameFn:K$(t.destination.axis)}))},eF=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var s=r.invisible,a=r.visible;if(s[t])return!1;var o=a[t];return o?o.shouldAnimate:!0};function tF(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return jn(Eg(r,n))}function xl(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,s=e.viewport,a=e.forceShouldAnimate,o=e.last;return t.reduce(function(c,u){var d=tF(u,n),f=u.descriptor.id;c.all.push(f);var h=X$({target:d,destination:r,viewport:s,withDroppableDisplacement:!0});if(!h)return c.invisible[u.descriptor.id]=!0,c;var p=eF(f,o,a),x={draggableId:f,shouldAnimate:p};return c.visible[f]=x,c},{all:[],visible:{},invisible:{}})}function rF(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function Vx(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,s=e.destination,a=rF(t,{inHomeList:r});return{displaced:yl,displacedBy:n,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:a}}}}function Bu(e){var t=e.draggable,r=e.insideDestination,n=e.destination,s=e.viewport,a=e.displacedBy,o=e.last,l=e.index,c=e.forceShouldAnimate,u=oo(t,n);if(l==null)return Vx({insideDestination:r,inHomeList:u,displacedBy:a,destination:n});var d=la(r,function(g){return g.descriptor.index===l});if(!d)return Vx({insideDestination:r,inHomeList:u,displacedBy:a,destination:n});var f=Gd(t,r),h=r.indexOf(d),p=f.slice(h),x=xl({afterDragging:p,destination:n,displacedBy:a,last:o,viewport:s.frame,forceShouldAnimate:c});return{displaced:x,displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function ea(e,t){return!!t.effected[e]}var nF=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,s=e.combine,a=e.afterCritical;if(!r.isCombineEnabled)return null;var o=s.draggableId,l=n[o],c=l.descriptor.index,u=ea(o,a);return u?t?c:c-1:t?c+1:c},sF=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,s=e.location;if(!n.length)return null;var a=s.index,o=t?a+1:a-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=r?c:c+1;return o<l||o>u?null:o},aF=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,s=e.draggables,a=e.destination,o=e.insideDestination,l=e.previousImpact,c=e.viewport,u=e.afterCritical,d=l.at;if(d||fe(),d.type==="REORDER"){var f=sF({isMovingForward:t,isInHomeList:r,location:d.destination,insideDestination:o});return f==null?null:Bu({draggable:n,insideDestination:o,destination:a,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:f})}var h=nF({isMovingForward:t,destination:a,displaced:l.displaced,draggables:s,combine:d.combine,afterCritical:u});return h==null?null:Bu({draggable:n,insideDestination:o,destination:a,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:h})},iF=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,s=e.displacedBy,a=!!(t.visible[n]||t.invisible[n]);return ea(n,r)?a?Ht:ao(s.point):a?s.point:Ht},oF=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,s=Hd(r);s||fe();var a=s.draggableId,o=n[a].page.borderBox.center,l=iF({displaced:r.displaced,afterCritical:t,combineWith:a,displacedBy:r.displacedBy});return Zt(o,l)},NN=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},lF=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Ig=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},Hx=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return Fa(r.line,n.marginBox[r.end]+NN(r,s),Ig(r,n.marginBox,s))},Gx=function(t){var r=t.axis,n=t.moveRelativeTo,s=t.isMoving;return Fa(r.line,n.marginBox[r.start]-lF(r,s),Ig(r,n.marginBox,s))},cF=function(t){var r=t.axis,n=t.moveInto,s=t.isMoving;return Fa(r.line,n.contentBox[r.start]+NN(r,s),Ig(r,n.contentBox,s))},uF=function(e){var t=e.impact,r=e.draggable,n=e.draggables,s=e.droppable,a=e.afterCritical,o=io(s.descriptor.id,n),l=r.page,c=s.axis;if(!o.length)return cF({axis:c,moveInto:s.page,isMoving:l});var u=t.displaced,d=t.displacedBy,f=u.all[0];if(f){var h=n[f];if(ea(f,a))return Gx({axis:c,moveRelativeTo:h.page,isMoving:l});var p=Ru(h.page,d.point);return Gx({axis:c,moveRelativeTo:p,isMoving:l})}var x=o[o.length-1];if(x.descriptor.id===r.descriptor.id)return l.borderBox.center;if(ea(x.descriptor.id,a)){var g=Ru(x.page,ao(a.displacedBy.point));return Hx({axis:c,moveRelativeTo:g,isMoving:l})}return Hx({axis:c,moveRelativeTo:x.page,isMoving:l})},Pp=function(e,t){var r=e.frame;return r?Zt(t,r.scroll.diff.displacement):t},dF=function(t){var r=t.impact,n=t.draggable,s=t.droppable,a=t.draggables,o=t.afterCritical,l=n.page.borderBox.center,c=r.at;return!s||!c?l:c.type==="REORDER"?uF({impact:r,draggable:n,draggables:a,droppable:s,afterCritical:o}):oF({impact:r,draggables:a,afterCritical:o})},qd=function(e){var t=dF(e),r=e.droppable,n=r?Pp(r,t):t;return n},EN=function(e,t){var r=$r(t,e.scroll.initial),n=ao(r),s=jn({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),a={frame:s,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return a};function qx(e,t){return e.map(function(r){return t[r]})}function fF(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var hF=function(e){var t=e.impact,r=e.viewport,n=e.destination,s=e.draggables,a=e.maxScrollChange,o=EN(r,Zt(r.scroll.current,a)),l=n.frame?Tg(n,Zt(n.frame.scroll.current,a)):n,c=t.displaced,u=xl({afterDragging:qx(c.all,s),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:c,forceShouldAnimate:!1}),d=xl({afterDragging:qx(c.all,s),destination:l,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),f={},h={},p=[c,u,d];c.all.forEach(function(g){var y=fF(g,p);if(y){h[g]=y;return}f[g]=!0});var x=Ie({},t,{displaced:{all:c.all,invisible:f,visible:h}});return x},pF=function(e,t){return Zt(e.scroll.diff.displacement,t)},Dg=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,s=pF(n,t),a=$r(s,r.page.borderBox.center);return Zt(r.client.borderBox.center,a)},CN=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,s=e.viewport,a=e.withDroppableDisplacement,o=e.onlyOnMainAxis,l=o===void 0?!1:o,c=$r(n,t.page.borderBox.center),u=Vl(t.page.borderBox,c),d={target:u,destination:r,withDroppableDisplacement:a,viewport:s};return l?Z$(d):_N(d)},mF=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,s=e.draggables,a=e.previousImpact,o=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var d=io(n.descriptor.id,s),f=oo(r,n),h=H$({isMovingForward:t,draggable:r,destination:n,insideDestination:d,previousImpact:a})||aF({isMovingForward:t,isInHomeList:f,draggable:r,draggables:s,destination:n,insideDestination:d,previousImpact:a,viewport:o,afterCritical:u});if(!h)return null;var p=qd({impact:h,draggable:r,droppable:n,draggables:s,afterCritical:u}),x=CN({draggable:r,destination:n,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(x){var g=Dg({pageBorderBoxCenter:p,draggable:r,viewport:o});return{clientSelection:g,impact:h,scrollJumpRequest:null}}var y=$r(p,l),b=hF({impact:h,viewport:o,destination:n,draggables:s,maxScrollChange:y});return{clientSelection:c,impact:b,scrollJumpRequest:y}},fr=function(t){var r=t.subject.active;return r||fe(),r},gF=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,s=e.droppables,a=e.viewport,o=n.subject.active;if(!o)return null;var l=n.axis,c=nn(o[l.start],o[l.end]),u=Vd(s).filter(function(f){return f!==n}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return SN(a.frame)(fr(f))}).filter(function(f){var h=fr(f);return t?o[l.crossAxisEnd]<h[l.crossAxisEnd]:h[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(f){var h=fr(f),p=nn(h[l.start],h[l.end]);return c(h[l.start])||c(h[l.end])||p(o[l.start])||p(o[l.end])}).sort(function(f,h){var p=fr(f)[l.crossAxisStart],x=fr(h)[l.crossAxisStart];return t?p-x:x-p}).filter(function(f,h,p){return fr(f)[l.crossAxisStart]===fr(p[0])[l.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var d=u.filter(function(f){var h=nn(fr(f)[l.start],fr(f)[l.end]);return h(r[l.line])});return d.length===1?d[0]:d.length>1?d.sort(function(f,h){return fr(f)[l.start]-fr(h)[l.start]})[0]:u.sort(function(f,h){var p=zx(r,Wx(fr(f))),x=zx(r,Wx(fr(h)));return p!==x?p-x:fr(f)[l.start]-fr(h)[l.start]})[0]},Kx=function(t,r){var n=t.page.borderBox.center;return ea(t.descriptor.id,r)?$r(n,r.displacedBy.point):n},vF=function(t,r){var n=t.page.borderBox;return ea(t.descriptor.id,r)?Vl(n,ao(r.displacedBy.point)):n},yF=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,s=e.insideDestination,a=e.afterCritical,o=s.filter(function(l){return _N({target:vF(l,a),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var u=vl(t,Pp(n,Kx(l,a))),d=vl(t,Pp(n,Kx(c,a)));return u<d?-1:d<u?1:l.descriptor.index-c.descriptor.index});return o[0]||null},Hl=Wt(function(t,r){var n=r[t.line];return{value:n,point:Fa(t.line,n)}}),xF=function(t,r,n){var s=t.axis;if(t.descriptor.mode==="virtual")return Fa(s.line,r[s.line]);var a=t.subject.page.contentBox[s.size],o=io(t.descriptor.id,n),l=o.reduce(function(d,f){return d+f.client.marginBox[s.size]},0),c=l+r[s.line],u=c-a;return u<=0?null:Fa(s.line,u)},TN=function(t,r){return Ie({},t,{scroll:Ie({},t.scroll,{max:r})})},PN=function(t,r,n){var s=t.frame;oo(r,t)&&fe(),t.subject.withPlaceholder&&fe();var a=Hl(t.axis,r.displaceBy).point,o=xF(t,a,n),l={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!s){var c=qi({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return Ie({},t,{subject:c})}var u=o?Zt(s.scroll.max,o):s.scroll.max,d=TN(s,u),f=qi({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:d});return Ie({},t,{subject:f,frame:d})},bF=function(t){var r=t.subject.withPlaceholder;r||fe();var n=t.frame;if(!n){var s=qi({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return Ie({},t,{subject:s})}var a=r.oldFrameMaxScroll;a||fe();var o=TN(n,a),l=qi({page:t.subject.page,axis:t.axis,frame:o,withPlaceholder:null});return Ie({},t,{subject:l,frame:o})},wF=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,s=e.draggable,a=e.draggables,o=e.destination,l=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var u={displaced:yl,displacedBy:wN,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},d=qd({impact:u,draggable:s,droppable:o,draggables:a,afterCritical:c}),f=oo(s,o)?o:PN(o,s,a),h=CN({draggable:s,destination:f,newPageBorderBoxCenter:d,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return h?u:null}var p=t[o.axis.line]<=r.page.borderBox.center[o.axis.line],x=function(){var y=r.descriptor.index;return r.descriptor.id===s.descriptor.id||p?y:y+1}(),g=Hl(o.axis,s.displaceBy);return Bu({draggable:s,insideDestination:n,destination:o,viewport:l,displacedBy:g,last:yl,index:x})},SF=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,s=e.isOver,a=e.draggables,o=e.droppables,l=e.viewport,c=e.afterCritical,u=gF({isMovingForward:t,pageBorderBoxCenter:r,source:s,droppables:o,viewport:l});if(!u)return null;var d=io(u.descriptor.id,a),f=yF({pageBorderBoxCenter:r,viewport:l,destination:u,insideDestination:d,afterCritical:c}),h=wF({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:a,moveRelativeTo:f,insideDestination:d,viewport:l,afterCritical:c});if(!h)return null;var p=qd({impact:h,draggable:n,droppable:u,draggables:a,afterCritical:c}),x=Dg({pageBorderBoxCenter:p,draggable:n,viewport:l});return{clientSelection:x,impact:h,scrollJumpRequest:null}},zr=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},jF=function(t,r){var n=zr(t);return n?r[n]:null},_F=function(e){var t=e.state,r=e.type,n=jF(t.impact,t.dimensions.droppables),s=!!n,a=t.dimensions.droppables[t.critical.droppable.id],o=n||a,l=o.axis.direction,c=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!s)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],f=t.current.page.borderBoxCenter,h=t.dimensions,p=h.draggables,x=h.droppables;return c?mF({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:o,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):SF({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:o,draggables:p,droppables:x,viewport:t.viewport,afterCritical:t.afterCritical})};function ga(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function kN(e){var t=nn(e.top,e.bottom),r=nn(e.left,e.right);return function(s){return t(s.y)&&r(s.x)}}function NF(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function EF(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,s=r.page.borderBox.center,a=n.map(function(o){var l=o.axis,c=Fa(o.axis.line,t.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:vl(s,c)}}).sort(function(o,l){return l.distance-o.distance});return a[0]?a[0].id:null}function CF(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,s=Vd(n).filter(function(a){if(!a.isEnabled)return!1;var o=a.subject.active;if(!o||!NF(t,o))return!1;if(kN(o)(t.center))return!0;var l=a.axis,c=o.center[l.crossAxisLine],u=t[l.crossAxisStart],d=t[l.crossAxisEnd],f=nn(o[l.crossAxisStart],o[l.crossAxisEnd]),h=f(u),p=f(d);return!h&&!p?!0:h?u<c:d>c});return s.length?s.length===1?s[0].descriptor.id:EF({pageBorderBox:t,draggable:r,candidates:s}):null}var AN=function(t,r){return jn(Vl(t,r))},TF=function(e,t){var r=e.frame;return r?AN(t,r.scroll.diff.value):t};function RN(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function PF(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var kF=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,s=e.insideDestination,a=e.last,o=e.viewport,l=e.afterCritical,c=n.axis,u=Hl(n.axis,r.displaceBy),d=u.value,f=t[c.start],h=t[c.end],p=Gd(r,s),x=la(p,function(y){var b=y.descriptor.id,v=y.page.borderBox.center[c.line],w=ea(b,l),S=RN({displaced:a,id:b});return w?S?h<=v:f<v-d:S?h<=v+d:f<v}),g=PF({draggable:r,closest:x,inHomeList:oo(r,n)});return Bu({draggable:r,insideDestination:s,destination:n,viewport:o,last:a,displacedBy:u,index:g})},AF=4,RF=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,s=e.destination,a=e.insideDestination,o=e.afterCritical;if(!s.isCombineEnabled)return null;var l=s.axis,c=Hl(s.axis,t.displaceBy),u=c.value,d=r[l.start],f=r[l.end],h=Gd(t,a),p=la(h,function(g){var y=g.descriptor.id,b=g.page.borderBox,v=b[l.size],w=v/AF,S=ea(y,o),_=RN({displaced:n.displaced,id:y});return S?_?f>b[l.start]+w&&f<b[l.end]-w:d>b[l.start]-u+w&&d<b[l.end]-u-w:_?f>b[l.start]+u+w&&f<b[l.end]+u-w:d>b[l.start]+w&&d<b[l.end]-w});if(!p)return null;var x={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:s.descriptor.id}}};return x},IN=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,s=e.droppables,a=e.previousImpact,o=e.viewport,l=e.afterCritical,c=AN(r.page.borderBox,t),u=CF({pageBorderBox:c,draggable:r,droppables:s});if(!u)return G$;var d=s[u],f=io(d.descriptor.id,n),h=TF(d,c);return RF({pageBorderBoxWithDroppableScroll:h,draggable:r,previousImpact:a,destination:d,insideDestination:f,afterCritical:l})||kF({pageBorderBoxWithDroppableScroll:h,draggable:r,destination:d,insideDestination:f,last:a.displaced,viewport:o,afterCritical:l})},Og=function(e,t){var r;return Ie({},e,(r={},r[t.descriptor.id]=t,r))},IF=function(t){var r=t.previousImpact,n=t.impact,s=t.droppables,a=zr(r),o=zr(n);if(!a||a===o)return s;var l=s[a];if(!l.subject.withPlaceholder)return s;var c=bF(l);return Og(s,c)},DF=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,s=e.previousImpact,a=e.impact,o=IF({previousImpact:s,impact:a,droppables:n}),l=zr(a);if(!l)return o;var c=n[l];if(oo(t,c)||c.subject.withPlaceholder)return o;var u=PN(c,t,r);return Og(o,u)},Vo=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,s=e.viewport,a=e.impact,o=e.scrollJumpRequest,l=s||t.viewport,c=n||t.dimensions,u=r||t.current.client.selection,d=$r(u,t.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:Zt(t.initial.client.borderBoxCenter,d)},h={selection:Zt(f.selection,l.scroll.current),borderBoxCenter:Zt(f.borderBoxCenter,l.scroll.current),offset:Zt(f.offset,l.scroll.diff.value)},p={client:f,page:h};if(t.phase==="COLLECTING")return Ie({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:p});var x=c.draggables[t.critical.draggable.id],g=a||IN({pageOffset:h.offset,draggable:x,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),y=DF({draggable:x,impact:g,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),b=Ie({},t,{current:p,dimensions:{draggables:c.draggables,droppables:y},impact:g,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return b};function OF(e,t){return e.map(function(r){return t[r]})}var DN=function(e){var t=e.impact,r=e.viewport,n=e.draggables,s=e.destination,a=e.forceShouldAnimate,o=t.displaced,l=OF(o.all,n),c=xl({afterDragging:l,destination:s,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:o});return Ie({},t,{displaced:c})},ON=function(e){var t=e.impact,r=e.draggable,n=e.droppable,s=e.draggables,a=e.viewport,o=e.afterCritical,l=qd({impact:t,draggable:r,draggables:s,droppable:n,afterCritical:o});return Dg({pageBorderBoxCenter:l,draggable:r,viewport:a})},MN=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&fe();var s=t.impact,a=n||t.viewport,o=r||t.dimensions,l=o.draggables,c=o.droppables,u=l[t.critical.draggable.id],d=zr(s);d||fe();var f=c[d],h=DN({impact:s,viewport:a,destination:f,draggables:l}),p=ON({impact:h,draggable:u,droppable:f,draggables:l,viewport:a,afterCritical:t.afterCritical});return Vo({impact:h,clientSelection:p,state:t,dimensions:o,viewport:a})},MF=function(e){return{index:e.index,droppableId:e.droppableId}},BN=function(e){var t=e.draggable,r=e.home,n=e.draggables,s=e.viewport,a=Hl(r.axis,t.displaceBy),o=io(r.descriptor.id,n),l=o.indexOf(t);l===-1&&fe();var c=o.slice(l+1),u=c.reduce(function(p,x){return p[x.descriptor.id]=!0,p},{}),d={inVirtualList:r.descriptor.mode==="virtual",displacedBy:a,effected:u},f=xl({afterDragging:c,destination:r,displacedBy:a,last:null,viewport:s.frame,forceShouldAnimate:!1}),h={displaced:f,displacedBy:a,at:{type:"REORDER",destination:MF(t.descriptor)}};return{impact:h,afterCritical:d}},BF=function(e,t){return{draggables:e.draggables,droppables:Og(e.droppables,t)}},LF=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,s=Ru(t.client,r),a=Iu(s,n),o=Ie({},t,{placeholder:Ie({},t.placeholder,{client:s}),client:s,page:a});return o},$F=function(e){var t=e.frame;return t||fe(),t},FF=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,s=n.scroll.diff.value;return t.map(function(a){var o=a.descriptor.droppableId,l=r[o],c=$F(l),u=c.scroll.diff.value,d=Zt(s,u),f=LF({draggable:a,offset:d,initialWindowScroll:n.scroll.initial});return f})},UF=function(e){var t=e.state,r=e.published,n=r.modified.map(function(w){var S=t.dimensions.droppables[w.droppableId],_=Tg(S,w.scroll);return _}),s=Ie({},t.dimensions.droppables,{},xN(n)),a=bN(FF({additions:r.additions,updatedDroppables:s,viewport:t.viewport})),o=Ie({},t.dimensions.draggables,{},a);r.removals.forEach(function(w){delete o[w]});var l={droppables:s,draggables:o},c=zr(t.impact),u=c?l.droppables[c]:null,d=l.draggables[t.critical.draggable.id],f=l.droppables[t.critical.droppable.id],h=BN({draggable:d,home:f,draggables:o,viewport:t.viewport}),p=h.impact,x=h.afterCritical,g=u&&u.isCombineEnabled?t.impact:p,y=IN({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:g,viewport:t.viewport,afterCritical:x}),b=Ie({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:y,onLiftImpact:p,dimensions:l,afterCritical:x,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return b;var v=Ie({phase:"DROP_PENDING"},b,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return v},kp=function(t){return t.movementMode==="SNAP"},Xf=function(t,r,n){var s=BF(t.dimensions,r);return!kp(t)||n?Vo({state:t,dimensions:s}):MN({state:t,dimensions:s})};function Zf(e){return e.isDragging&&e.movementMode==="SNAP"?Ie({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Yx={phase:"IDLE",completed:null,shouldFlush:!1},zF=function(e,t){if(e===void 0&&(e=Yx),t.type==="FLUSH")return Ie({},Yx,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&fe();var r=t.payload,n=r.critical,s=r.clientSelection,a=r.viewport,o=r.dimensions,l=r.movementMode,c=o.draggables[n.draggable.id],u=o.droppables[n.droppable.id],d={selection:s,borderBoxCenter:c.client.borderBox.center,offset:Ht},f={client:d,page:{selection:Zt(d.selection,a.scroll.initial),borderBoxCenter:Zt(d.selection,a.scroll.initial),offset:Zt(d.selection,a.scroll.diff.value)}},h=Vd(o.droppables).every(function(ge){return!ge.isFixedOnPage}),p=BN({draggable:c,home:u,draggables:o.draggables,viewport:a}),x=p.impact,g=p.afterCritical,y={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:o,initial:f,current:f,isWindowScrollAllowed:h,impact:x,afterCritical:g,onLiftImpact:x,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return y}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&fe();var b=Ie({phase:"COLLECTING"},e,{phase:"COLLECTING"});return b}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||fe(),UF({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ga(e)||fe();var v=t.payload.client;return qs(v,e.current.client.selection)?e:Vo({state:e,clientSelection:v,impact:kp(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Zf(e);ga(e)||fe();var w=t.payload,S=w.id,_=w.newScroll,j=e.dimensions.droppables[S];if(!j)return e;var N=Tg(j,_);return Xf(e,N,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ga(e)||fe();var E=t.payload,D=E.id,k=E.isEnabled,z=e.dimensions.droppables[D];z||fe(),z.isEnabled===k&&fe();var I=Ie({},z,{isEnabled:k});return Xf(e,I,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ga(e)||fe();var q=t.payload,R=q.id,T=q.isCombineEnabled,L=e.dimensions.droppables[R];L||fe(),L.isCombineEnabled===T&&fe();var J=Ie({},L,{isCombineEnabled:T});return Xf(e,J,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ga(e)||fe(),e.isWindowScrollAllowed||fe();var M=t.payload.newScroll;if(qs(e.viewport.scroll.current,M))return Zf(e);var B=EN(e.viewport,M);return kp(e)?MN({state:e,viewport:B}):Vo({state:e,viewport:B})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ga(e))return e;var H=t.payload.maxScroll;if(qs(H,e.viewport.scroll.max))return e;var re=Ie({},e.viewport,{scroll:Ie({},e.viewport.scroll,{max:H})});return Ie({phase:"DRAGGING"},e,{viewport:re})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&fe();var W=_F({state:e,type:t.type});return W?Vo({state:e,impact:W.impact,clientSelection:W.clientSelection,scrollJumpRequest:W.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var ce=t.payload.reason;e.phase!=="COLLECTING"&&fe();var K=Ie({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:ce});return K}if(t.type==="DROP_ANIMATE"){var ae=t.payload,be=ae.completed,C=ae.dropDuration,X=ae.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||fe();var ee={phase:"DROP_ANIMATING",completed:be,dropDuration:C,newHomeClientOffset:X,dimensions:e.dimensions};return ee}if(t.type==="DROP_COMPLETE"){var le=t.payload.completed;return{phase:"IDLE",completed:le,shouldFlush:!1}}return e},WF=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},VF=function(t){return{type:"LIFT",payload:t}},HF=function(t){return{type:"INITIAL_PUBLISH",payload:t}},GF=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},qF=function(){return{type:"COLLECTION_STARTING",payload:null}},KF=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},YF=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},QF=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},LN=function(t){return{type:"MOVE",payload:t}},JF=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},XF=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},ZF=function(){return{type:"MOVE_UP",payload:null}},e4=function(){return{type:"MOVE_DOWN",payload:null}},t4=function(){return{type:"MOVE_RIGHT",payload:null}},r4=function(){return{type:"MOVE_LEFT",payload:null}},Mg=function(){return{type:"FLUSH",payload:null}},n4=function(t){return{type:"DROP_ANIMATE",payload:t}},Bg=function(t){return{type:"DROP_COMPLETE",payload:t}},$N=function(t){return{type:"DROP",payload:t}},s4=function(t){return{type:"DROP_PENDING",payload:t}},FN=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},a4=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(s){return function(a){if(a.type!=="LIFT"){s(a);return}var o=a.payload,l=o.id,c=o.clientSelection,u=o.movementMode,d=r();d.phase==="DROP_ANIMATING"&&n(Bg({completed:d.completed})),r().phase!=="IDLE"&&fe(),n(Mg()),n(WF({draggableId:l,movementMode:u}));var f={shouldPublishImmediately:u==="SNAP"},h={draggableId:l,scrollOptions:f},p=e.startPublishing(h),x=p.critical,g=p.dimensions,y=p.viewport;n(HF({critical:x,dimensions:g,clientSelection:c,movementMode:u,viewport:y}))}}}},i4=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},Lg={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},bl={opacity:{drop:0,combining:.7},scale:{drop:.75}},$g={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},fa=$g.outOfTheWay+"s "+Lg.outOfTheWay,Ho={fluid:"opacity "+fa,snap:"transform "+fa+", opacity "+fa,drop:function(t){var r=t+"s "+Lg.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+fa,placeholder:"height "+fa+", width "+fa+", margin "+fa},Qx=function(t){return qs(t,Ht)?null:"translate("+t.x+"px, "+t.y+"px)"},Ap={moveTo:Qx,drop:function(t,r){var n=Qx(t);return n?r?n+" scale("+bl.scale.drop+")":n:null}},Rp=$g.minDropTime,UN=$g.maxDropTime,o4=UN-Rp,Jx=1500,l4=.6,c4=function(e){var t=e.current,r=e.destination,n=e.reason,s=vl(t,r);if(s<=0)return Rp;if(s>=Jx)return UN;var a=s/Jx,o=Rp+o4*a,l=n==="CANCEL"?o*l4:o;return Number(l.toFixed(2))},u4=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,s=e.viewport,a=e.afterCritical,o=n.draggables,l=n.droppables,c=zr(t),u=c?l[c]:null,d=l[r.descriptor.droppableId],f=ON({impact:t,draggable:r,draggables:o,afterCritical:a,droppable:u||d,viewport:s}),h=$r(f,r.client.borderBox.center);return h},d4=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,s=e.home,a=e.viewport,o=e.onLiftImpact;if(!n.at||r!=="DROP"){var l=DN({draggables:t,impact:o,destination:s,viewport:a,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=Ie({},n,{displaced:yl});return{impact:c,didDropInsideDroppable:!0}},f4=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(s){if(s.type!=="DROP"){n(s);return}var a=t(),o=s.payload.reason;if(a.phase==="COLLECTING"){r(s4({reason:o}));return}if(a.phase!=="IDLE"){var l=a.phase==="DROP_PENDING"&&a.isWaiting;l&&fe(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||fe();var c=a.critical,u=a.dimensions,d=u.draggables[a.critical.draggable.id],f=d4({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),h=f.impact,p=f.didDropInsideDroppable,x=p?kg(h):null,g=p?Hd(h):null,y={index:c.draggable.index,droppableId:c.droppable.id},b={draggableId:d.descriptor.id,type:d.descriptor.type,source:y,reason:o,mode:a.movementMode,destination:x,combine:g},v=u4({impact:h,draggable:d,dimensions:u,viewport:a.viewport,afterCritical:a.afterCritical}),w={critical:a.critical,afterCritical:a.afterCritical,result:b,impact:h},S=!qs(a.current.client.offset,v)||!!b.combine;if(!S){r(Bg({completed:w}));return}var _=c4({current:a.current.client.offset,destination:v,reason:o}),j={newHomeClientOffset:v,dropDuration:_,completed:w};r(n4(j))}}}},zN=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function h4(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function p4(e){var t=e.onWindowScroll;function r(){t(zN())}var n=gl(r),s=h4(n),a=Gs;function o(){return a!==Gs}function l(){o()&&fe(),a=tn(window,[s])}function c(){o()||fe(),n.cancel(),a(),a=Gs}return{start:l,stop:c,isActive:o}}var m4=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},g4=function(e){var t=p4({onWindowScroll:function(n){e.dispatch(JF({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&m4(n)&&t.stop(),r(n)}}},v4=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),s=function(o){t||r||(t=!0,e(o),clearTimeout(n))};return s.wasCalled=function(){return t},s},y4=function(){var e=[],t=function(a){var o=Pg(e,function(u){return u.timerId===a});o===-1&&fe();var l=e.splice(o,1),c=l[0];c.callback()},r=function(a){var o=setTimeout(function(){return t(o)}),l={timerId:o,callback:a};e.push(l)},n=function(){if(e.length){var a=[].concat(e);e.length=0,a.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:r,flush:n}},x4=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},b4=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},w4=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,s=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&s},wo=function(t,r){r()},Sc=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},eh=function(t,r,n,s){if(!t){n(s(r));return}var a=v4(n),o={announce:a};t(r,o),a.wasCalled()||n(s(r))},S4=function(e,t){var r=y4(),n=null,s=function(h,p){n&&fe(),wo("onBeforeCapture",function(){var x=e().onBeforeCapture;if(x){var g={draggableId:h,mode:p};x(g)}})},a=function(h,p){n&&fe(),wo("onBeforeDragStart",function(){var x=e().onBeforeDragStart;x&&x(Sc(h,p))})},o=function(h,p){n&&fe();var x=Sc(h,p);n={mode:p,lastCritical:h,lastLocation:x.source,lastCombine:null},r.add(function(){wo("onDragStart",function(){return eh(e().onDragStart,x,t,Gc.onDragStart)})})},l=function(h,p){var x=kg(p),g=Hd(p);n||fe();var y=!w4(h,n.lastCritical);y&&(n.lastCritical=h);var b=!x4(n.lastLocation,x);b&&(n.lastLocation=x);var v=!b4(n.lastCombine,g);if(v&&(n.lastCombine=g),!(!y&&!b&&!v)){var w=Ie({},Sc(h,n.mode),{combine:g,destination:x});r.add(function(){wo("onDragUpdate",function(){return eh(e().onDragUpdate,w,t,Gc.onDragUpdate)})})}},c=function(){n||fe(),r.flush()},u=function(h){n||fe(),n=null,wo("onDragEnd",function(){return eh(e().onDragEnd,h,t,Gc.onDragEnd)})},d=function(){if(n){var h=Ie({},Sc(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(h)}};return{beforeCapture:s,beforeStart:a,start:o,update:l,flush:c,drop:u,abort:d}},j4=function(e,t){var r=S4(e,t);return function(n){return function(s){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var o=a.payload.critical;r.beforeStart(o,a.payload.movementMode),s(a),r.start(o,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var l=a.payload.completed.result;r.flush(),s(a),r.drop(l);return}if(s(a),a.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},_4=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&fe(),e.dispatch(Bg({completed:n.completed}))}}},N4=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(s){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&n(),s(a),a.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(FN())}};r=requestAnimationFrame(function(){r=null,t=tn(window,[o])})}}}},E4=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},C4=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var s=n.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},T4=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},P4=function(e){return function(t){return function(r){return function(n){if(T4(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var s=t.getState();s.phase!=="DRAGGING"&&fe(),e.start(s);return}r(n),e.scroll(t.getState())}}}},k4=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch($N({reason:n.reason})))}}}},A4=K_,R4=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,s=e.getResponders,a=e.announce,o=e.autoScroller;return q_(zF,A4(yL(i4(n),E4(t),a4(t),f4,_4,N4,k4,P4(o),g4,C4(r),j4(s,a))))},th=function(){return{additions:{},removals:{},modified:{}}};function I4(e){var t=e.registry,r=e.callbacks,n=th(),s=null,a=function(){s||(r.collectionStarting(),s=requestAnimationFrame(function(){s=null;var d=n,f=d.additions,h=d.removals,p=d.modified,x=Object.keys(f).map(function(b){return t.draggable.getById(b).getDimension(Ht)}).sort(function(b,v){return b.descriptor.index-v.descriptor.index}),g=Object.keys(p).map(function(b){var v=t.droppable.getById(b),w=v.callbacks.getScrollWhileDragging();return{droppableId:b,scroll:w}}),y={additions:x,removals:Object.keys(h),modified:g};n=th(),r.publish(y)}))},o=function(d){var f=d.descriptor.id;n.additions[f]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],a()},l=function(d){var f=d.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],a()},c=function(){s&&(cancelAnimationFrame(s),s=null,n=th())};return{add:o,remove:l,stop:c}}var WN=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,s=e.width,a=$r({x:r,y:t},{x:s,y:n}),o={x:Math.max(0,a.x),y:Math.max(0,a.y)};return o},VN=function(){var e=document.documentElement;return e||fe(),e},HN=function(){var e=VN(),t=WN({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},D4=function(){var e=zN(),t=HN(),r=e.y,n=e.x,s=VN(),a=s.clientWidth,o=s.clientHeight,l=n+a,c=r+o,u=jn({top:r,left:n,right:l,bottom:c}),d={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:Ht,displacement:Ht}}};return d},O4=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,s=D4(),a=s.scroll.current,o=t.droppable,l=n.droppable.getAllByType(o.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(a,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(f){return f.getDimension(a)}),u={draggables:bN(c),droppables:xN(l)},d={dimensions:u,critical:t,viewport:s};return d};function Xx(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var M4=function(e,t){var r=null,n=I4({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=function(p,x){e.droppable.exists(p)||fe(),r&&t.updateDroppableIsEnabled({id:p,isEnabled:x})},a=function(p,x){r&&(e.droppable.exists(p)||fe(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:x}))},o=function(p,x){r&&(e.droppable.exists(p)||fe(),t.updateDroppableScroll({id:p,newScroll:x}))},l=function(p,x){r&&e.droppable.getById(p).callbacks.scroll(x)},c=function(){if(r){n.stop();var p=r.critical.droppable;e.droppable.getAllByType(p.type).forEach(function(x){return x.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(p){r||fe();var x=r.critical.draggable;p.type==="ADDITION"&&Xx(e,x,p.value)&&n.add(p.value),p.type==="REMOVAL"&&Xx(e,x,p.value)&&n.remove(p.value)},d=function(p){r&&fe();var x=e.draggable.getById(p.draggableId),g=e.droppable.getById(x.descriptor.droppableId),y={draggable:x.descriptor,droppable:g.descriptor},b=e.subscribe(u);return r={critical:y,unsubscribe:b},O4({critical:y,registry:e,scrollOptions:p.scrollOptions})},f={updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:d,stopPublishing:c};return f},GN=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},B4=function(e){window.scrollBy(e.x,e.y)},L4=Wt(function(e){return Vd(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),$4=function(t,r){var n=la(L4(r),function(s){return s.frame||fe(),kN(s.frame.pageMarginBox)(t)});return n},F4=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var s=n[r];return s.frame?s:null}var a=$4(t,n);return a},Ks={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},U4=function(e,t){var r=e[t.size]*Ks.startFromPercentage,n=e[t.size]*Ks.maxScrollAtPercentage,s={startScrollingFrom:r,maxScrollValueAt:n};return s},qN=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,s=r-t;if(s===0)return 0;var a=n-t,o=a/s;return o},Fg=1,z4=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Ks.maxPixelScroll;if(e===t.startScrollingFrom)return Fg;var r=qN({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,s=Ks.maxPixelScroll*Ks.ease(n);return Math.ceil(s)},Zx=Ks.durationDampening.accelerateAt,eb=Ks.durationDampening.stopDampeningAt,W4=function(e,t){var r=t,n=eb,s=Date.now(),a=s-r;if(a>=eb)return e;if(a<Zx)return Fg;var o=qN({startOfRange:Zx,endOfRange:n,current:a}),l=e*Ks.ease(o);return Math.ceil(l)},tb=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,s=e.shouldUseTimeDampening,a=z4(t,r);return a===0?0:s?Math.max(W4(a,n),Fg):a},rb=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,s=e.axis,a=e.shouldUseTimeDampening,o=U4(t,s),l=r[s.end]<r[s.start];return l?tb({distanceToEdge:r[s.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:a}):-1*tb({distanceToEdge:r[s.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:a})},V4=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,s=r.height>t.height,a=r.width>t.width;return!a&&!s?n:a&&s?null:{x:a?0:n.x,y:s?0:n.y}},H4=vN(function(e){return e===0?0:e}),KN=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,s=e.center,a=e.shouldUseTimeDampening,o={top:s.y-r.top,right:r.right-s.x,bottom:r.bottom-s.y,left:s.x-r.left},l=rb({container:r,distanceToEdges:o,dragStartTime:t,axis:Ag,shouldUseTimeDampening:a}),c=rb({container:r,distanceToEdges:o,dragStartTime:t,axis:jN,shouldUseTimeDampening:a}),u=H4({x:c,y:l});if(qs(u,Ht))return null;var d=V4({container:r,subject:n,proposedScroll:u});return d?qs(d,Ht)?null:d:null},G4=vN(function(e){return e===0?0:e>0?1:-1}),Ug=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,s=t.change,a=Zt(r,s),o={x:e(a.x,n.x),y:e(a.y,n.y)};return qs(o,Ht)?null:o}}(),YN=function(t){var r=t.max,n=t.current,s=t.change,a={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},o=G4(s),l=Ug({max:a,current:n,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},zg=function(t,r){return YN({current:t.scroll.current,max:t.scroll.max,change:r})},q4=function(t,r){if(!zg(t,r))return null;var n=t.scroll.max,s=t.scroll.current;return Ug({current:s,max:n,change:r})},Wg=function(t,r){var n=t.frame;return n?YN({current:n.scroll.current,max:n.scroll.max,change:r}):!1},K4=function(t,r){var n=t.frame;return!n||!Wg(t,r)?null:Ug({current:n.scroll.current,max:n.scroll.max,change:r})},Y4=function(e){var t=e.viewport,r=e.subject,n=e.center,s=e.dragStartTime,a=e.shouldUseTimeDampening,o=KN({dragStartTime:s,container:t.frame,subject:r,center:n,shouldUseTimeDampening:a});return o&&zg(t,o)?o:null},Q4=function(e){var t=e.droppable,r=e.subject,n=e.center,s=e.dragStartTime,a=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var l=KN({dragStartTime:s,container:o.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:a});return l&&Wg(t,l)?l:null},nb=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,s=e.scrollWindow,a=e.scrollDroppable,o=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id],c=l.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,d=Y4({dragStartTime:r,viewport:u,subject:c,center:o,shouldUseTimeDampening:n});if(d){s(d);return}}var f=F4({center:o,destination:zr(t.impact),droppables:t.dimensions.droppables});if(f){var h=Q4({dragStartTime:r,droppable:f,subject:c,center:o,shouldUseTimeDampening:n});h&&a(f.descriptor.id,h)}},J4=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=gl(t),s=gl(r),a=null,o=function(d){a||fe();var f=a,h=f.shouldUseTimeDampening,p=f.dragStartTime;nb({state:d,scrollWindow:n,scrollDroppable:s,dragStartTime:p,shouldUseTimeDampening:h})},l=function(d){a&&fe();var f=Date.now(),h=!1,p=function(){h=!0};nb({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p}),a={dragStartTime:f,shouldUseTimeDampening:h},h&&o(d)},c=function(){a&&(n.cancel(),s.cancel(),a=null)};return{start:l,stop:c,scroll:o}},X4=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,s=function(u,d){var f=Zt(u.current.client.selection,d);t({client:f})},a=function(u,d){if(!Wg(u,d))return d;var f=K4(u,d);if(!f)return r(u.descriptor.id,d),null;var h=$r(d,f);r(u.descriptor.id,h);var p=$r(d,h);return p},o=function(u,d,f){if(!u||!zg(d,f))return f;var h=q4(d,f);if(!h)return n(f),null;var p=$r(f,h);n(p);var x=$r(f,p);return x},l=function(u){var d=u.scrollJumpRequest;if(d){var f=zr(u.impact);f||fe();var h=a(u.dimensions.droppables[f],d);if(h){var p=u.viewport,x=o(u.isWindowScrollAllowed,p,h);x&&s(u,x)}}};return l},Z4=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,s=J4({scrollWindow:r,scrollDroppable:t}),a=X4({move:n,scrollWindow:r,scrollDroppable:t}),o=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){s.scroll(u);return}u.scrollJumpRequest&&a(u)}},l={scroll:o,start:s.start,stop:s.stop};return l},Ki="data-rbd",Yi=function(){var e=Ki+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Ip=function(){var e=Ki+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),e3=function(){var e=Ki+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),sb={contextId:Ki+"-scroll-container-context-id"},t3=function(t){return function(r){return"["+r+'="'+t+'"]'}},So=function(t,r){return t.map(function(n){var s=n.styles[r];return s?n.selector+" { "+s+" }":""}).join(" ")},r3="pointer-events: none;",n3=function(e){var t=t3(e),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Yi.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:r3,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+Ho.outOfTheWay+`;
    `;return{selector:t(Ip.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),s={selector:t(e3.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,r,s,a];return{always:So(o,"always"),resting:So(o,"resting"),dragging:So(o,"dragging"),dropAnimating:So(o,"dropAnimating"),userCancel:So(o,"userCancel")}},Wr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?m.useLayoutEffect:m.useEffect,rh=function(){var t=document.querySelector("head");return t||fe(),t},ab=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function s3(e,t){var r=nt(function(){return n3(e)},[e]),n=m.useRef(null),s=m.useRef(null),a=Ce(Wt(function(f){var h=s.current;h||fe(),h.textContent=f}),[]),o=Ce(function(f){var h=n.current;h||fe(),h.textContent=f},[]);Wr(function(){!n.current&&!s.current||fe();var f=ab(t),h=ab(t);return n.current=f,s.current=h,f.setAttribute(Ki+"-always",e),h.setAttribute(Ki+"-dynamic",e),rh().appendChild(f),rh().appendChild(h),o(r.always),a(r.resting),function(){var p=function(g){var y=g.current;y||fe(),rh().removeChild(y),g.current=null};p(n),p(s)}},[t,o,a,r.always,r.resting,e]);var l=Ce(function(){return a(r.dragging)},[a,r.dragging]),c=Ce(function(f){if(f==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),u=Ce(function(){s.current&&a(r.resting)},[a,r.resting]),d=nt(function(){return{dragging:l,dropping:c,resting:u}},[l,c,u]);return d}var QN=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Kd(e){return e instanceof QN(e).HTMLElement}function a3(e,t){var r="["+Yi.contextId+'="'+e+'"]',n=yN(document.querySelectorAll(r));if(!n.length)return null;var s=la(n,function(a){return a.getAttribute(Yi.draggableId)===t});return!s||!Kd(s)?null:s}function i3(e){var t=m.useRef({}),r=m.useRef(null),n=m.useRef(null),s=m.useRef(!1),a=Ce(function(h,p){var x={id:h,focus:p};return t.current[h]=x,function(){var y=t.current,b=y[h];b!==x&&delete y[h]}},[]),o=Ce(function(h){var p=a3(e,h);p&&p!==document.activeElement&&p.focus()},[e]),l=Ce(function(h,p){r.current===h&&(r.current=p)},[]),c=Ce(function(){n.current||s.current&&(n.current=requestAnimationFrame(function(){n.current=null;var h=r.current;h&&o(h)}))},[o]),u=Ce(function(h){r.current=null;var p=document.activeElement;p&&p.getAttribute(Yi.draggableId)===h&&(r.current=h)},[]);Wr(function(){return s.current=!0,function(){s.current=!1;var h=n.current;h&&cancelAnimationFrame(h)}},[]);var d=nt(function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[a,u,c,l]);return d}function o3(){var e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){var p=t.indexOf(f);p!==-1&&t.splice(p,1)}}function n(f){t.length&&t.forEach(function(h){return h(f)})}function s(f){return e.draggables[f]||null}function a(f){var h=s(f);return h||fe(),h}var o={register:function(h){e.draggables[h.descriptor.id]=h,n({type:"ADDITION",value:h})},update:function(h,p){var x=e.draggables[p.descriptor.id];x&&x.uniqueId===h.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:function(h){var p=h.descriptor.id,x=s(p);x&&h.uniqueId===x.uniqueId&&(delete e.draggables[p],n({type:"REMOVAL",value:h}))},getById:a,findById:s,exists:function(h){return!!s(h)},getAllByType:function(h){return Mu(e.draggables).filter(function(p){return p.descriptor.type===h})}};function l(f){return e.droppables[f]||null}function c(f){var h=l(f);return h||fe(),h}var u={register:function(h){e.droppables[h.descriptor.id]=h},unregister:function(h){var p=l(h.descriptor.id);p&&h.uniqueId===p.uniqueId&&delete e.droppables[h.descriptor.id]},getById:c,findById:l,exists:function(h){return!!l(h)},getAllByType:function(h){return Mu(e.droppables).filter(function(p){return p.descriptor.type===h})}};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:u,subscribe:r,clean:d}}function l3(){var e=nt(o3,[]);return m.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Vg=Z.createContext(null),Lu=function(){var e=document.body;return e||fe(),e},c3={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},u3=function(t){return"rbd-announcement-"+t};function d3(e){var t=nt(function(){return u3(e)},[e]),r=m.useRef(null);m.useEffect(function(){var a=document.createElement("div");return r.current=a,a.id=t,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Ie(a.style,c3),Lu().appendChild(a),function(){setTimeout(function(){var c=Lu();c.contains(a)&&c.removeChild(a),a===r.current&&(r.current=null)})}},[t]);var n=Ce(function(s){var a=r.current;if(a){a.textContent=s;return}},[]);return n}var f3=0,h3={separator:"::"};function Hg(e,t){return t===void 0&&(t=h3),nt(function(){return""+e+t.separator+f3++},[t.separator,e])}function p3(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function m3(e){var t=e.contextId,r=e.text,n=Hg("hidden-text",{separator:"-"}),s=nt(function(){return p3({contextId:t,uniqueId:n})},[n,t]);return m.useEffect(function(){var o=document.createElement("div");return o.id=s,o.textContent=r,o.style.display="none",Lu().appendChild(o),function(){var c=Lu();c.contains(o)&&c.removeChild(o)}},[s,r]),s}var Yd=Z.createContext(null);function JN(e){var t=m.useRef(e);return m.useEffect(function(){t.current=e}),t}function g3(){var e=null;function t(){return!!e}function r(o){return o===e}function n(o){e&&fe();var l={abandon:o};return e=l,l}function s(){e||fe(),e=null}function a(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:r,claim:n,release:s,tryAbandon:a}}var v3=9,y3=13,Gg=27,XN=32,x3=33,b3=34,w3=35,S3=36,j3=37,_3=38,N3=39,E3=40,jc,C3=(jc={},jc[y3]=!0,jc[v3]=!0,jc),ZN=function(e){C3[e.keyCode]&&e.preventDefault()},Qd=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=la(t,function(n){return"on"+n in document});return r||e}(),eE=0,ib=5;function T3(e,t){return Math.abs(t.x-e.x)>=ib||Math.abs(t.y-e.y)>=ib}var ob={type:"IDLE"};function P3(e){var t=e.cancel,r=e.completed,n=e.getPhase,s=e.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,c=o.clientX,u=o.clientY;if(l===eE){var d={x:c,y:u},f=n();if(f.type==="DRAGGING"){o.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&fe();var h=f.point;if(T3(h,d)){o.preventDefault();var p=f.actions.fluidLift(d);s({type:"DRAGGING",actions:p})}}}},{eventName:"mouseup",fn:function(o){var l=n();if(l.type!=="DRAGGING"){t();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:function(o){var l=n();if(l.type==="PENDING"){t();return}if(o.keyCode===Gg){o.preventDefault(),t();return}ZN(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=n();if(l.type==="IDLE"&&fe(),l.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:Qd,fn:t}]}function k3(e){var t=m.useRef(ob),r=m.useRef(Gs),n=nt(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===eE&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var h=e.findClosestDraggableId(f);if(h){var p=e.tryGetLock(h,o,{sourceEvent:f});if(p){f.preventDefault();var x={x:f.clientX,y:f.clientY};r.current(),u(p,x)}}}}}},[e]),s=nt(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var h=e.findClosestDraggableId(f);if(h){var p=e.findOptionsForDraggable(h);p&&(p.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}}}},[e]),a=Ce(function(){var f={passive:!1,capture:!0};r.current=tn(window,[s,n],f)},[s,n]),o=Ce(function(){var d=t.current;d.type!=="IDLE"&&(t.current=ob,r.current(),a())},[a]),l=Ce(function(){var d=t.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),c=Ce(function(){var f={capture:!0,passive:!1},h=P3({cancel:l,completed:o,getPhase:function(){return t.current},setPhase:function(x){t.current=x}});r.current=tn(window,h,f)},[l,o]),u=Ce(function(f,h){t.current.type!=="IDLE"&&fe(),t.current={type:"PENDING",point:h,actions:f},c()},[c]);Wr(function(){return a(),function(){r.current()}},[a])}var ti;function A3(){}var R3=(ti={},ti[b3]=!0,ti[x3]=!0,ti[S3]=!0,ti[w3]=!0,ti);function I3(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===Gg){a.preventDefault(),r();return}if(a.keyCode===XN){a.preventDefault(),n();return}if(a.keyCode===E3){a.preventDefault(),e.moveDown();return}if(a.keyCode===_3){a.preventDefault(),e.moveUp();return}if(a.keyCode===N3){a.preventDefault(),e.moveRight();return}if(a.keyCode===j3){a.preventDefault(),e.moveLeft();return}if(R3[a.keyCode]){a.preventDefault();return}ZN(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Qd,fn:r}]}function D3(e){var t=m.useRef(A3),r=nt(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==XN)return;var o=e.findClosestDraggableId(a);if(!o)return;var l=e.tryGetLock(o,d,{sourceEvent:a});if(!l)return;a.preventDefault();var c=!0,u=l.snapLift();t.current();function d(){c||fe(),c=!1,t.current(),n()}t.current=tn(window,I3(u,d),{capture:!0,passive:!1})}}},[e]),n=Ce(function(){var a={passive:!1,capture:!0};t.current=tn(window,[r],a)},[r]);Wr(function(){return n(),function(){t.current()}},[n])}var nh={type:"IDLE"},O3=120,M3=.15;function B3(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(s){s.preventDefault()}},{eventName:"keydown",fn:function(s){if(r().type!=="DRAGGING"){t();return}s.keyCode===Gg&&s.preventDefault(),t()}},{eventName:Qd,fn:t}]}function L3(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var o=n();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;var l=a.touches[0],c=l.clientX,u=l.clientY,d={x:c,y:u};a.preventDefault(),o.actions.move(d)}},{eventName:"touchend",fn:function(a){var o=n();if(o.type!=="DRAGGING"){t();return}a.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(a){if(n().type!=="DRAGGING"){t();return}a.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(a){var o=n();o.type==="IDLE"&&fe();var l=a.touches[0];if(l){var c=l.force>=M3;if(c){var u=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){u&&t();return}if(u){if(o.hasMoved){a.preventDefault();return}t();return}a.preventDefault()}}}},{eventName:Qd,fn:t}]}function $3(e){var t=m.useRef(nh),r=m.useRef(Gs),n=Ce(function(){return t.current},[]),s=Ce(function(p){t.current=p},[]),a=nt(function(){return{eventName:"touchstart",fn:function(p){if(!p.defaultPrevented){var x=e.findClosestDraggableId(p);if(x){var g=e.tryGetLock(x,l,{sourceEvent:p});if(g){var y=p.touches[0],b=y.clientX,v=y.clientY,w={x:b,y:v};r.current(),f(g,w)}}}}}},[e]),o=Ce(function(){var p={capture:!0,passive:!1};r.current=tn(window,[a],p)},[a]),l=Ce(function(){var h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),s(nh),r.current(),o())},[o,s]),c=Ce(function(){var h=t.current;l(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[l]),u=Ce(function(){var p={capture:!0,passive:!1},x={cancel:c,completed:l,getPhase:n},g=tn(window,L3(x),p),y=tn(window,B3(x),p);r.current=function(){g(),y()}},[c,n,l]),d=Ce(function(){var p=n();p.type!=="PENDING"&&fe();var x=p.actions.fluidLift(p.point);s({type:"DRAGGING",actions:x,hasMoved:!1})},[n,s]),f=Ce(function(p,x){n().type!=="IDLE"&&fe();var g=setTimeout(d,O3);s({type:"PENDING",point:x,actions:p,longPressTimerId:g}),u()},[u,n,s,d]);Wr(function(){return o(),function(){r.current();var x=n();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),s(nh))}},[n,o,s]),Wr(function(){var p=tn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return p},[])}var F3={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function tE(e,t){if(t==null)return!1;var r=!!F3[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:tE(e,t.parentElement)}function U3(e,t){var r=t.target;return Kd(r)?tE(e,r):!1}var z3=function(e){return jn(e.getBoundingClientRect()).center};function W3(e){return e instanceof QN(e).Element}var V3=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=la(t,function(n){return n in Element.prototype});return r||e}();function rE(e,t){return e==null?null:e[V3](t)?e:rE(e.parentElement,t)}function H3(e,t){return e.closest?e.closest(t):rE(e,t)}function G3(e){return"["+Yi.contextId+'="'+e+'"]'}function q3(e,t){var r=t.target;if(!W3(r))return null;var n=G3(e),s=H3(r,n);return!s||!Kd(s)?null:s}function K3(e,t){var r=q3(e,t);return r?r.getAttribute(Yi.draggableId):null}function Y3(e,t){var r="["+Ip.contextId+'="'+e+'"]',n=yN(document.querySelectorAll(r)),s=la(n,function(a){return a.getAttribute(Ip.id)===t});return!s||!Kd(s)?null:s}function Q3(e){e.preventDefault()}function _c(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function nE(e){var t=e.lockAPI,r=e.store,n=e.registry,s=e.draggableId;if(t.isClaimed())return!1;var a=n.draggable.findById(s);return!(!a||!a.options.isEnabled||!GN(r.getState(),s))}function J3(e){var t=e.lockAPI,r=e.contextId,n=e.store,s=e.registry,a=e.draggableId,o=e.forceSensorStop,l=e.sourceEvent,c=nE({lockAPI:t,store:n,registry:s,draggableId:a});if(!c)return null;var u=s.draggable.getById(a),d=Y3(r,u.descriptor.id);if(!d||l&&!u.options.canDragInteractiveElements&&U3(d,l))return null;var f=t.claim(o||Gs),h="PRE_DRAG";function p(){return u.options.shouldRespectForcePress}function x(){return t.isActive(f)}function g(j,N){_c({expected:j,phase:h,isLockActive:x,shouldWarn:!0})&&n.dispatch(N())}var y=g.bind(null,"DRAGGING");function b(j){function N(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(N(),h!=="PRE_DRAG"&&fe()),n.dispatch(VF(j.liftActionArgs)),h="DRAGGING";function E(D,k){if(k===void 0&&(k={shouldBlockNextClick:!1}),j.cleanup(),k.shouldBlockNextClick){var z=tn(window,[{eventName:"click",fn:Q3,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(z)}N(),n.dispatch($N({reason:D}))}return Ie({isActive:function(){return _c({expected:"DRAGGING",phase:h,isLockActive:x,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(k){return E("DROP",k)},cancel:function(k){return E("CANCEL",k)}},j.actions)}function v(j){var N=gl(function(D){y(function(){return LN({client:D})})}),E=b({liftActionArgs:{id:a,clientSelection:j,movementMode:"FLUID"},cleanup:function(){return N.cancel()},actions:{move:N}});return Ie({},E,{move:N})}function w(){var j={moveUp:function(){return y(ZF)},moveRight:function(){return y(t4)},moveDown:function(){return y(e4)},moveLeft:function(){return y(r4)}};return b({liftActionArgs:{id:a,clientSelection:z3(d),movementMode:"SNAP"},cleanup:Gs,actions:j})}function S(){var j=_c({expected:"PRE_DRAG",phase:h,isLockActive:x,shouldWarn:!0});j&&t.release()}var _={isActive:function(){return _c({expected:"PRE_DRAG",phase:h,isLockActive:x,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:v,snapLift:w,abort:S};return _}var X3=[k3,D3,$3];function Z3(e){var t=e.contextId,r=e.store,n=e.registry,s=e.customSensors,a=e.enableDefaultSensors,o=[].concat(a?X3:[],s||[]),l=m.useState(function(){return g3()})[0],c=Ce(function(v,w){v.isDragging&&!w.isDragging&&l.tryAbandon()},[l]);Wr(function(){var v=r.getState(),w=r.subscribe(function(){var S=r.getState();c(v,S),v=S});return w},[l,r,c]),Wr(function(){return l.tryAbandon},[l.tryAbandon]);for(var u=Ce(function(b){return nE({lockAPI:l,registry:n,store:r,draggableId:b})},[l,n,r]),d=Ce(function(b,v,w){return J3({lockAPI:l,registry:n,contextId:t,store:r,draggableId:b,forceSensorStop:v,sourceEvent:w&&w.sourceEvent?w.sourceEvent:null})},[t,l,n,r]),f=Ce(function(b){return K3(t,b)},[t]),h=Ce(function(b){var v=n.draggable.findById(b);return v?v.options:null},[n.draggable]),p=Ce(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Mg()))},[l,r]),x=Ce(l.isClaimed,[l]),g=nt(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:x}},[u,d,f,h,p,x]),y=0;y<o.length;y++)o[y](g)}var e5=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function jo(e){return e.current||fe(),e.current}function t5(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,s=e.nonce,a=e.dragHandleUsageInstructions,o=m.useRef(null),l=JN(e),c=Ce(function(){return e5(l.current)},[l]),u=d3(t),d=m3({contextId:t,text:a}),f=s3(t,s),h=Ce(function(D){jo(o).dispatch(D)},[]),p=nt(function(){return kx({publishWhileDragging:GF,updateDroppableScroll:KF,updateDroppableIsEnabled:YF,updateDroppableIsCombineEnabled:QF,collectionStarting:qF},h)},[h]),x=l3(),g=nt(function(){return M4(x,p)},[x,p]),y=nt(function(){return Z4(Ie({scrollWindow:B4,scrollDroppable:g.scrollDroppable},kx({move:LN},h)))},[g.scrollDroppable,h]),b=i3(t),v=nt(function(){return R4({announce:u,autoScroller:y,dimensionMarshal:g,focusMarshal:b,getResponders:c,styleMarshal:f})},[u,y,g,b,c,f]);o.current=v;var w=Ce(function(){var D=jo(o),k=D.getState();k.phase!=="IDLE"&&D.dispatch(Mg())},[]),S=Ce(function(){var D=jo(o).getState();return D.isDragging||D.phase==="DROP_ANIMATING"},[]),_=nt(function(){return{isDragging:S,tryAbort:w}},[S,w]);r(_);var j=Ce(function(D){return GN(jo(o).getState(),D)},[]),N=Ce(function(){return ga(jo(o).getState())},[]),E=nt(function(){return{marshal:g,focus:b,contextId:t,canLift:j,isMovementAllowed:N,dragHandleUsageInstructionsId:d,registry:x}},[t,g,d,b,j,N,x]);return Z3({contextId:t,store:v,registry:x,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),m.useEffect(function(){return w},[w]),Z.createElement(Yd.Provider,{value:E},Z.createElement(jL,{context:Vg,store:v},e.children))}var r5=0;function n5(){return nt(function(){return""+r5++},[])}function s5(e){var t=n5(),r=e.dragHandleUsageInstructions||Gc.dragHandleUsageInstructions;return Z.createElement(D$,null,function(n){return Z.createElement(t5,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var sE=function(t){return function(r){return t===r}},a5=sE("scroll"),i5=sE("auto"),lb=function(t,r){return r(t.overflowX)||r(t.overflowY)},o5=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return lb(n,a5)||lb(n,i5)},l5=function(){return!1},c5=function e(t){return t==null?null:t===document.body?l5()?t:null:t===document.documentElement?null:o5(t)?t:e(t.parentElement)},Dp=function(e){return{x:e.scrollLeft,y:e.scrollTop}},u5=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},d5=function(e){var t=c5(e),r=u5(e);return{closestScrollable:t,isFixedOnPage:r}},f5=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,s=e.isFixedOnPage,a=e.direction,o=e.client,l=e.page,c=e.closest,u=function(){if(!c)return null;var p=c.scrollSize,x=c.client,g=WN({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:x.paddingBox.height,width:x.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:x,scrollSize:p,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:g,diff:{value:Ht,displacement:Ht}}}}(),d=a==="vertical"?Ag:jN,f=qi({page:l,withPlaceholder:null,axis:d,frame:u}),h={descriptor:t,isCombineEnabled:n,isFixedOnPage:s,axis:d,isEnabled:r,client:o,page:l,frame:u,subject:f};return h},h5=function(t,r){var n=hN(t);if(!r||t!==r)return n;var s=n.paddingBox.top-r.scrollTop,a=n.paddingBox.left-r.scrollLeft,o=s+r.scrollHeight,l=a+r.scrollWidth,c={top:s,right:l,bottom:o,left:a},u=Eg(c,n.border),d=Cg({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return d},p5=function(e){var t=e.ref,r=e.descriptor,n=e.env,s=e.windowScroll,a=e.direction,o=e.isDropDisabled,l=e.isCombineEnabled,c=e.shouldClipSubject,u=n.closestScrollable,d=h5(t,u),f=Iu(d,s),h=function(){if(!u)return null;var x=hN(u),g={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:x,page:Iu(x,s),scroll:Dp(u),scrollSize:g,shouldClipSubject:c}}(),p=f5({descriptor:r,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:a,client:d,page:f,closest:h});return p},m5={passive:!1},g5={passive:!0},cb=function(e){return e.shouldPublishImmediately?m5:g5};function $u(e){var t=m.useContext(e);return t||fe(),t}var Nc=function(t){return t&&t.env.closestScrollable||null};function v5(e){var t=m.useRef(null),r=$u(Yd),n=Hg("droppable"),s=r.registry,a=r.marshal,o=JN(e),l=nt(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=m.useRef(l),u=nt(function(){return Wt(function(S,_){t.current||fe();var j={x:S,y:_};a.updateDroppableScroll(l.id,j)})},[l.id,a]),d=Ce(function(){var S=t.current;return!S||!S.env.closestScrollable?Ht:Dp(S.env.closestScrollable)},[]),f=Ce(function(){var S=d();u(S.x,S.y)},[d,u]),h=nt(function(){return gl(f)},[f]),p=Ce(function(){var S=t.current,_=Nc(S);S&&_||fe();var j=S.scrollOptions;if(j.shouldPublishImmediately){f();return}h()},[h,f]),x=Ce(function(S,_){t.current&&fe();var j=o.current,N=j.getDroppableRef();N||fe();var E=d5(N),D={ref:N,descriptor:l,env:E,scrollOptions:_};t.current=D;var k=p5({ref:N,descriptor:l,env:E,windowScroll:S,direction:j.direction,isDropDisabled:j.isDropDisabled,isCombineEnabled:j.isCombineEnabled,shouldClipSubject:!j.ignoreContainerClipping}),z=E.closestScrollable;return z&&(z.setAttribute(sb.contextId,r.contextId),z.addEventListener("scroll",p,cb(D.scrollOptions))),k},[r.contextId,l,p,o]),g=Ce(function(){var S=t.current,_=Nc(S);return S&&_||fe(),Dp(_)},[]),y=Ce(function(){var S=t.current;S||fe();var _=Nc(S);t.current=null,_&&(h.cancel(),_.removeAttribute(sb.contextId),_.removeEventListener("scroll",p,cb(S.scrollOptions)))},[p,h]),b=Ce(function(S){var _=t.current;_||fe();var j=Nc(_);j||fe(),j.scrollTop+=S.y,j.scrollLeft+=S.x},[]),v=nt(function(){return{getDimensionAndWatchScroll:x,getScrollWhileDragging:g,dragStopped:y,scroll:b}},[y,x,g,b]),w=nt(function(){return{uniqueId:n,descriptor:l,callbacks:v}},[v,l,n]);Wr(function(){return c.current=w.descriptor,s.droppable.register(w),function(){t.current&&y(),s.droppable.unregister(w)}},[v,l,y,w,a,s.droppable]),Wr(function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,a]),Wr(function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,a])}function sh(){}var ub={width:0,height:0,margin:F$},y5=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate;return r||s==="close"?ub:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},x5=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,s=t.animate,a=y5({isAnimatingOpenOnMount:r,placeholder:n,animate:s});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:s!=="none"?Ho.placeholder:null}};function b5(e){var t=m.useRef(null),r=Ce(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,s=e.onTransitionEnd,a=e.onClose,o=e.contextId,l=m.useState(e.animate==="open"),c=l[0],u=l[1];m.useEffect(function(){return c?n!=="open"?(r(),u(!1),sh):t.current?sh:(t.current=setTimeout(function(){t.current=null,u(!1)}),r):sh},[n,c,r]);var d=Ce(function(h){h.propertyName==="height"&&(s(),n==="close"&&a())},[n,a,s]),f=x5({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Z.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})}var w5=Z.memo(b5),qg=Z.createContext(null),S5=function(e){G_(t,e);function t(){for(var n,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(s,a){return s.shouldAnimate?s.on?{isVisible:!0,data:s.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!s.on,data:s.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var s={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(s)},t}(Z.PureComponent),db={dragging:5e3,dropAnimating:4500},j5=function(t,r){return r?Ho.drop(r.duration):t?Ho.snap:Ho.fluid},_5=function(t,r){return t?r?bl.opacity.drop:bl.opacity.combining:null},N5=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function E5(e){var t=e.dimension,r=t.client,n=e.offset,s=e.combineWith,a=e.dropping,o=!!s,l=N5(e),c=!!a,u=c?Ap.drop(n,o):Ap.moveTo(n),d={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:j5(l,a),transform:u,opacity:_5(o,c),zIndex:c?db.dropAnimating:db.dragging,pointerEvents:"none"};return d}function C5(e){return{transform:Ap.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function T5(e){return e.type==="DRAGGING"?E5(e):C5(e)}function P5(e,t,r){r===void 0&&(r=Ht);var n=window.getComputedStyle(t),s=t.getBoundingClientRect(),a=fN(s,n),o=Iu(a,r),l={client:a,tagName:t.tagName.toLowerCase(),display:n.display},c={x:a.marginBox.width,y:a.marginBox.height},u={descriptor:e,placeholder:l,displaceBy:c,client:a,page:o};return u}function k5(e){var t=Hg("draggable"),r=e.descriptor,n=e.registry,s=e.getDraggableRef,a=e.canDragInteractiveElements,o=e.shouldRespectForcePress,l=e.isEnabled,c=nt(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}},[a,l,o]),u=Ce(function(p){var x=s();return x||fe(),P5(r,x,p)},[r,s]),d=nt(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:u}},[r,u,c,t]),f=m.useRef(d),h=m.useRef(!0);Wr(function(){return n.draggable.register(f.current),function(){return n.draggable.unregister(f.current)}},[n.draggable]),Wr(function(){if(h.current){h.current=!1;return}var p=f.current;f.current=d,n.draggable.update(d,p)},[d,n.draggable])}function A5(e){e.preventDefault()}function R5(e){var t=m.useRef(null),r=Ce(function(D){t.current=D},[]),n=Ce(function(){return t.current},[]),s=$u(Yd),a=s.contextId,o=s.dragHandleUsageInstructionsId,l=s.registry,c=$u(qg),u=c.type,d=c.droppableId,f=nt(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}},[e.draggableId,e.index,u,d]),h=e.children,p=e.draggableId,x=e.isEnabled,g=e.shouldRespectForcePress,y=e.canDragInteractiveElements,b=e.isClone,v=e.mapped,w=e.dropAnimationFinished;if(!b){var S=nt(function(){return{descriptor:f,registry:l,getDraggableRef:n,canDragInteractiveElements:y,shouldRespectForcePress:g,isEnabled:x}},[f,l,n,y,g,x]);k5(S)}var _=nt(function(){return x?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":p,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:A5}:null},[a,o,p,x]),j=Ce(function(D){v.type==="DRAGGING"&&v.dropping&&D.propertyName==="transform"&&w()},[w,v]),N=nt(function(){var D=T5(v),k=v.type==="DRAGGING"&&v.dropping?j:null,z={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":p,style:D,onTransitionEnd:k},dragHandleProps:_};return z},[a,_,p,v,j,r]),E=nt(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return h(N,v.snapshot,E)}var aE=function(e,t){return e===t},iE=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},I5=function(t){return t.combine?t.combine.draggableId:null},D5=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function O5(){var e=Wt(function(s,a){return{x:s,y:a}}),t=Wt(function(s,a,o,l,c){return{isDragging:!0,isClone:a,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:o,combineWith:l,combineTargetFor:null}}),r=Wt(function(s,a,o,l,c,u,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:a,offset:s,dimension:o,forceShouldAnimate:d,snapshot:t(a,l,c,u,null)}}}),n=function(a,o){if(a.isDragging){if(a.critical.draggable.id!==o.draggableId)return null;var l=a.current.client.offset,c=a.dimensions.draggables[o.draggableId],u=zr(a.impact),d=D5(a.impact),f=a.forceShouldAnimate;return r(e(l.x,l.y),a.movementMode,c,o.isClone,u,d,f)}if(a.phase==="DROP_ANIMATING"){var h=a.completed;if(h.result.draggableId!==o.draggableId)return null;var p=o.isClone,x=a.dimensions.draggables[o.draggableId],g=h.result,y=g.mode,b=iE(g),v=I5(g),w=a.dropDuration,S={duration:w,curve:Lg.drop,moveTo:a.newHomeClientOffset,opacity:v?bl.opacity.drop:null,scale:v?bl.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:x,dropping:S,draggingOver:b,combineWith:v,mode:y,forceShouldAnimate:null,snapshot:t(y,p,b,v,S)}}}return null};return n}function oE(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var M5={mapped:{type:"SECONDARY",offset:Ht,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:oE(null)}};function B5(){var e=Wt(function(o,l){return{x:o,y:l}}),t=Wt(oE),r=Wt(function(o,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}}}),n=function(l){return l?r(Ht,l,!0):null},s=function(l,c,u,d){var f=u.displaced.visible[l],h=!!(d.inVirtualList&&d.effected[l]),p=Hd(u),x=p&&p.draggableId===l?c:null;if(!f){if(!h)return n(x);if(u.displaced.invisible[l])return null;var g=ao(d.displacedBy.point),y=e(g.x,g.y);return r(y,x,!0)}if(h)return n(x);var b=u.displacedBy.point,v=e(b.x,b.y);return r(v,x,f.shouldAnimate)},a=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:s(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var u=l.completed;return u.result.draggableId===c.draggableId?null:s(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return a}var L5=function(){var t=O5(),r=B5(),n=function(a,o){return t(a,o)||r(a,o)||M5};return n},$5={dropAnimationFinished:FN},F5=uN(L5,$5,null,{context:Vg,pure:!0,areStatePropsEqual:aE})(R5);function lE(e){var t=$u(qg),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:Z.createElement(F5,e)}function xs(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return Z.createElement(lE,Ie({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function U5(e){var t=m.useContext(Yd);t||fe();var r=t.contextId,n=t.isMovementAllowed,s=m.useRef(null),a=m.useRef(null),o=e.children,l=e.droppableId,c=e.type,u=e.mode,d=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,p=e.isCombineEnabled,x=e.snapshot,g=e.useClone,y=e.updateViewportMaxScroll,b=e.getContainerForClone,v=Ce(function(){return s.current},[]),w=Ce(function(z){s.current=z},[]);Ce(function(){return a.current},[]);var S=Ce(function(z){a.current=z},[]),_=Ce(function(){n()&&y({maxScroll:HN()})},[n,y]);v5({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:h,isCombineEnabled:p,ignoreContainerClipping:f,getDroppableRef:v});var j=Z.createElement(S5,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(z){var I=z.onClose,q=z.data,R=z.animate;return Z.createElement(w5,{placeholder:q,onClose:I,innerRef:S,animate:R,contextId:r,onTransitionEnd:_})}),N=nt(function(){return{innerRef:w,placeholder:j,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,j,w]),E=g?g.dragging.draggableId:null,D=nt(function(){return{droppableId:l,type:c,isUsingCloneFor:E}},[l,E,c]);function k(){if(!g)return null;var z=g.dragging,I=g.render,q=Z.createElement(lE,{draggableId:z.draggableId,index:z.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(R,T){return I(R,T,z)});return Am.createPortal(q,b())}return Z.createElement(qg.Provider,{value:D},o(N,x),k())}var ah=function(t,r){return t===r.droppable.type},fb=function(t,r){return r.draggables[t.draggable.id]},z5=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=Ie({},t,{shouldAnimatePlaceholder:!1}),n=Wt(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),s=Wt(function(o,l,c,u,d,f){var h=d.descriptor.id,p=d.descriptor.droppableId===o;if(p){var x=f?{render:f,dragging:n(d.descriptor)}:null,g={isDraggingOver:c,draggingOverWith:c?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:x}}if(!l)return r;if(!u)return t;var y={isDraggingOver:c,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}}),a=function(l,c){var u=c.droppableId,d=c.type,f=!c.isDropDisabled,h=c.renderClone;if(l.isDragging){var p=l.critical;if(!ah(d,p))return r;var x=fb(p,l.dimensions),g=zr(l.impact)===u;return s(u,f,g,g,x,h)}if(l.phase==="DROP_ANIMATING"){var y=l.completed;if(!ah(d,y.critical))return r;var b=fb(y.critical,l.dimensions);return s(u,f,iE(y.result)===u,zr(y.impact)===u,b,h)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var v=l.completed;if(!ah(d,v.critical))return r;var w=zr(v.impact)===u,S=!!(v.impact.at&&v.impact.at.type==="COMBINE"),_=v.critical.droppable.id===u;return w?S?t:r:_?t:r}return r};return a},W5={updateViewportMaxScroll:XF};function V5(){return document.body||fe(),document.body}var H5={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:V5},si=uN(z5,W5,null,{context:Vg,pure:!0,areStatePropsEqual:aE})(U5);si.defaultProps=H5;const G5=({tournamentId:e,teams:t,numberOfRounds:r,onSave:n,onCancel:s,existingSchedule:a})=>{const[o,l]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState(!1);m.useEffect(()=>{a?h(a):p()},[t,r]);const h=w=>{const S=[];for(let _=1;_<=r;_++){const j=w.matches.filter(k=>k.round===_),N=[],E=[],D=[];j.forEach(k=>{const z=t.find(q=>q.id===k.teamA),I=t.find(q=>q.id===k.teamB);z&&N.push({id:z.id,name:z.name,city:z.city}),I&&E.push({id:I.id,name:I.name,city:I.city}),D.push(k.table||1)}),S.push({leftSide:N,rightSide:E,tables:D,bench:[],tableBench:[]})}l(S)},p=async()=>{f(!0);try{if(t.length===0)throw new Error("No teams available to generate schedule");const{generateNRoundsWithByeAndFinal:w}=await Le(async()=>{const{generateNRoundsWithByeAndFinal:N}=await import("./scheduler-C9VdCgRG.js");return{generateNRoundsWithByeAndFinal:N}},[]),S=t.map(N=>({id:N.id,name:N.name,city:N.city})),_=w(S,r),j=[];for(let N=0;N<_.length;N++){const E=_[N],D=[],k=[],z=[];E.forEach((I,q)=>{if("teamA"in I&&"teamB"in I){const R=I.teamA.city===I.teamB.city&&I.teamA.city!=="BYE",T=I.teamA.id==="BYE",L=I.teamB.id==="BYE";T?(D.push({id:I.teamA.id,name:I.teamA.name,city:I.teamA.city,isLocked:R}),k.push({id:I.teamB.id,name:I.teamB.name,city:I.teamB.city,isLocked:R})):L?(D.push({id:I.teamB.id,name:I.teamB.name,city:I.teamB.city,isLocked:R}),k.push({id:I.teamA.id,name:I.teamA.name,city:I.teamA.city,isLocked:R})):(D.push({id:I.teamA.id,name:I.teamA.name,city:I.teamA.city,isLocked:R}),k.push({id:I.teamB.id,name:I.teamB.name,city:I.teamB.city,isLocked:R})),z.push(q+1)}}),j.push({leftSide:D,rightSide:k,tables:[...z].sort(()=>Math.random()-.5),bench:[],tableBench:[]})}l(j),u([])}catch(w){console.error("Error generating schedule:",w),Y({title:"Error generating schedule",variant:"destructive"})}finally{f(!1)}},x=w=>{if(!w.destination)return;const{source:S,destination:_}=w,[j,N]=S.droppableId.split("-"),[E,D]=_.droppableId.split("-"),k=parseInt(N),z=[...o],I=z[k];if(j==="table"||E==="table"||j==="tableBench"||E==="tableBench"){if(j==="table"&&E==="tableBench"){const q=parseInt(S.droppableId.split("-")[2]),R=I.tables[q];R!==null&&(I.tables[q]=null,I.tableBench.push(R))}else if(j==="tableBench"&&E==="table"){const q=I.tableBench[S.index],R=parseInt(_.droppableId.split("-")[2]),T=I.tables[R];I.tableBench.splice(S.index,1),T!==null&&I.tableBench.push(T),I.tables[R]=q}else if(j==="table"&&E==="table"){const q=parseInt(S.droppableId.split("-")[2]),R=parseInt(_.droppableId.split("-")[2]),T=I.tables[q],L=I.tables[R];I.tables[q]=L,I.tables[R]=T}else if(j==="tableBench"&&E==="tableBench"){const[q]=I.tableBench.splice(S.index,1);I.tableBench.splice(_.index,0,q)}l(z);return}if(j==="left"&&E==="bench"){const q=parseInt(S.droppableId.split("-")[2]),R=I.leftSide[q];R&&(I.leftSide[q]=null,I.bench.push(R))}else if(j==="right"&&E==="bench"){const q=parseInt(S.droppableId.split("-")[2]),R=I.rightSide[q];R&&(I.rightSide[q]=null,I.bench.push(R))}else if(j==="bench"&&E==="left"){const q=I.bench[S.index],R=parseInt(_.droppableId.split("-")[2]),T=I.leftSide[R];I.bench.splice(S.index,1),T&&I.bench.push(T),I.leftSide[R]=q}else if(j==="bench"&&E==="right"){const q=I.bench[S.index],R=parseInt(_.droppableId.split("-")[2]),T=I.rightSide[R];I.bench.splice(S.index,1),T&&I.bench.push(T),I.rightSide[R]=q}else if(j==="left"&&E==="left"){const q=parseInt(S.droppableId.split("-")[2]),R=parseInt(_.droppableId.split("-")[2]),T=I.leftSide[q],L=I.leftSide[R];I.leftSide[q]=L,I.leftSide[R]=T}else if(j==="right"&&E==="right"){const q=parseInt(S.droppableId.split("-")[2]),R=parseInt(_.droppableId.split("-")[2]),T=I.rightSide[q],L=I.rightSide[R];I.rightSide[q]=L,I.rightSide[R]=T}else if(j==="left"&&E==="right"){const q=parseInt(S.droppableId.split("-")[2]),R=parseInt(_.droppableId.split("-")[2]),T=I.leftSide[q],L=I.rightSide[R];I.leftSide[q]=L,I.rightSide[R]=T}else if(j==="right"&&E==="left"){const q=parseInt(S.droppableId.split("-")[2]),R=parseInt(_.droppableId.split("-")[2]),T=I.rightSide[q],L=I.leftSide[R];I.rightSide[q]=L,I.leftSide[R]=T}else if(j==="bench"&&E==="bench"){const[q]=I.bench.splice(S.index,1);I.bench.splice(_.index,0,q)}l(z),k===0&&setTimeout(()=>v(),0)},g=(w,S,_)=>{const j=[...o];j[w].tables[S]=_,l(j)},y=()=>{const w=[];let S=1;o.forEach((j,N)=>{const E=N+1,D=Math.max(j.leftSide.length,j.rightSide.length);for(let k=0;k<D;k++){const z=j.leftSide[k],I=j.rightSide[k],q=j.tables[k]||k+1;z&&I&&w.push({id:`${e}-r${E}-m${S++}`,teamA:z.id==="BYE"?null:z.id,teamB:I.id==="BYE"?null:I.id,round:E,table:q,tournamentId:e,isBye:z.id==="BYE"||I.id==="BYE",isSameCity:z.city===I.city&&z.city!=="BYE"})}}),n({tournamentId:e,rounds:r,matches:w})},b=w=>{try{if(w===0)p();else{const S=[...o],_=S[w-1],j=[..._.rightSide];if(j.length>0){const D=j.pop();j.unshift(D)}const E=[...Array.from({length:Math.max(_.leftSide.length,_.rightSide.length)},(D,k)=>k+1)].sort(()=>Math.random()-.5);S[w]={leftSide:[..._.leftSide],rightSide:j,tables:E,bench:[],tableBench:[]},l(S)}}catch(S){console.error("Error regenerating round:",S),Y({title:"Error regenerating round",variant:"destructive"})}},v=w=>{{const S=[...o];for(let j=1;j<S.length;j++){const N=S[j-1],E=[...N.rightSide];if(E.length>0){const z=E.pop();E.unshift(z)}const k=[...Array.from({length:Math.max(N.leftSide.length,N.rightSide.length)},(z,I)=>I+1)].sort(()=>Math.random()-.5);S[j]={leftSide:[...N.leftSide],rightSide:E,tables:k,bench:[],tableBench:[]}}const _=S.length-1;if(_>0){const j=[];for(let k=0;k<_;k++){const z=S[k];for(let I=0;I<z.leftSide.length;I++){const q=z.leftSide[I],R=z.rightSide[I];q&&R&&(q.id==="BYE"&&R.id!=="BYE"?j.push(R):R.id==="BYE"&&q.id!=="BYE"&&j.push(q))}}const N=[],E=[],D=[];for(let k=0;k<j.length;k+=2){const z=j[k],I=j[k+1];z&&I&&(N.push(z),E.push(I),D.push(Math.floor(k/2)+1))}S[_]={leftSide:N,rightSide:E,tables:D,bench:[],tableBench:[]}}l(S)}};return i.jsx("div",{className:"space-y-6",children:i.jsxs(Ze,{children:[i.jsx(rt,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(at,{children:"Schedule Editor - Option A"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{variant:"outline",onClick:s,children:"Cancel"}),i.jsxs(se,{onClick:y,children:[i.jsx(fS,{className:"w-4 h-4 mr-2"}),"Save Schedule"]})]})]})}),i.jsx(et,{children:d?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),i.jsx("p",{className:"mt-2",children:"Generating schedule..."})]}):i.jsx("div",{className:"space-y-6",children:o.map((w,S)=>i.jsxs(Ze,{children:[i.jsx(rt,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs(at,{children:["Round ",S+1]}),i.jsxs("div",{className:"flex gap-2",children:[S===0&&i.jsxs(se,{variant:"outline",size:"sm",onClick:()=>v(),children:[i.jsx(yu,{className:"w-4 h-4 mr-2"}),"Auto-Generate Rounds 2-",r]}),i.jsxs(se,{variant:"outline",size:"sm",onClick:()=>b(S),children:[i.jsx(yu,{className:"w-4 h-4 mr-2"}),"Regenerate"]})]})]})}),i.jsx(et,{children:i.jsx(s5,{onDragEnd:x,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 bg-gray-50",children:[i.jsx(xe,{className:"text-sm font-medium mb-2 block",children:"Bench - Drop teams and table numbers here to reorganize"}),i.jsxs("div",{className:"mb-3",children:[i.jsx(xe,{className:"text-xs text-gray-600 mb-1 block",children:"Teams:"}),i.jsx(si,{droppableId:`bench-${S}`,children:_=>i.jsxs("div",{..._.droppableProps,ref:_.innerRef,className:"min-h-[40px] flex flex-wrap gap-2",children:[w.bench.map((j,N)=>i.jsx(xs,{draggableId:`bench-${S}-${j.id}`,index:N,children:E=>i.jsxs("div",{ref:E.innerRef,...E.draggableProps,className:`flex items-center gap-2 px-3 py-2 border rounded text-sm bg-white shadow-sm ${j.isLocked?"bg-yellow-50 border-yellow-200":"bg-white"}`,children:[i.jsx("div",{...E.dragHandleProps,children:i.jsx(ms,{className:"w-3 h-3 text-gray-400"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-medium",children:j.name}),i.jsx("div",{className:"text-xs text-gray-500",children:j.city})]}),j.isLocked&&i.jsx(Te,{variant:"secondary",className:"text-xs px-1 py-0",children:"Locked"})]})},j.id)),_.placeholder]})})]}),i.jsxs("div",{children:[i.jsx(xe,{className:"text-xs text-gray-600 mb-1 block",children:"Table Numbers:"}),i.jsx(si,{droppableId:`tableBench-${S}`,children:_=>i.jsxs("div",{..._.droppableProps,ref:_.innerRef,className:"min-h-[40px] flex flex-wrap gap-2",children:[w.tableBench.map((j,N)=>i.jsx(xs,{draggableId:`tableBench-${S}-${j}`,index:N,children:E=>i.jsxs("div",{ref:E.innerRef,...E.draggableProps,className:"flex items-center gap-2 px-3 py-2 border rounded text-sm bg-blue-50 border-blue-200 shadow-sm",children:[i.jsx("div",{...E.dragHandleProps,children:i.jsx(ms,{className:"w-3 h-3 text-blue-400"})}),i.jsxs("div",{className:"font-medium text-blue-700",children:["Table ",j]})]})},`tableBench-${j}`)),_.placeholder]})})]})]}),i.jsx("div",{className:"space-y-2",children:w.leftSide.map((_,j)=>{const N=w.rightSide[j],E=w.tables[j];return!_&&!N?null:i.jsxs("div",{className:"flex items-center gap-4 py-2",children:[i.jsx("div",{className:"flex-1 flex justify-end",children:i.jsx(si,{droppableId:`left-${S}-${j}`,children:D=>i.jsxs("div",{...D.droppableProps,ref:D.innerRef,className:"min-h-[50px] flex items-center",children:[_?i.jsx(xs,{draggableId:`left-${S}-${_.id}`,index:0,children:k=>i.jsxs("div",{ref:k.innerRef,...k.draggableProps,className:`flex items-center gap-2 px-4 py-2 border rounded text-sm w-48 ${_.isLocked?"bg-yellow-50 border-yellow-200":"bg-white"}`,children:[i.jsx("div",{...k.dragHandleProps,children:i.jsx(ms,{className:"w-3 h-3 text-gray-400"})}),i.jsxs("div",{className:"flex-1 text-right",children:[i.jsx("div",{className:"font-medium",children:_.name}),i.jsx("div",{className:"text-xs text-gray-500",children:_.city})]}),_.isLocked&&i.jsx(Te,{variant:"secondary",className:"text-xs px-1 py-0",children:"Locked"})]})},_.id):i.jsx(xs,{draggableId:`left-${S}-${j}`,index:0,children:k=>i.jsxs("div",{ref:k.innerRef,...k.draggableProps,className:"flex items-center gap-2 px-4 py-2 border-2 border-dashed border-gray-300 rounded text-sm bg-gray-50 text-gray-400 min-w-[192px] justify-center cursor-move",children:[i.jsx("div",{...k.dragHandleProps,children:i.jsx(ms,{className:"w-3 h-3 text-gray-400"})}),i.jsx("span",{children:"Empty"})]})},`left-empty-${j}`),D.placeholder]})})}),i.jsxs("div",{className:"flex items-center gap-2 min-w-[100px] justify-center",children:[i.jsx(si,{droppableId:`table-${S}-${j}`,children:D=>i.jsxs("div",{...D.droppableProps,ref:D.innerRef,className:"min-h-[50px] flex items-center justify-center",children:[E?i.jsx(xs,{draggableId:`table-${S}-${j}`,index:0,children:k=>i.jsxs("div",{ref:k.innerRef,...k.draggableProps,className:"flex items-center gap-2 px-3 py-2 border rounded text-sm bg-blue-50 border-blue-200 cursor-move",children:[i.jsx("div",{...k.dragHandleProps,children:i.jsx(ms,{className:"w-3 h-3 text-blue-400"})}),i.jsx(Se,{type:"number",value:E,onChange:z=>g(S,j,parseInt(z.target.value)||1),className:"w-12 h-8 text-center text-sm border-0 bg-transparent p-0",min:1,max:12})]})},`table-${j}`):i.jsx(xs,{draggableId:`table-${S}-${j}`,index:0,children:k=>i.jsxs("div",{ref:k.innerRef,...k.draggableProps,className:"flex items-center gap-2 px-3 py-2 border-2 border-dashed border-gray-300 rounded text-sm bg-gray-50 text-gray-400 min-w-[80px] justify-center cursor-move",children:[i.jsx("div",{...k.dragHandleProps,children:i.jsx(ms,{className:"w-3 h-3 text-gray-400"})}),i.jsx("span",{children:"Empty"})]})},`table-empty-${j}`),D.placeholder]})}),i.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"vs"})]}),i.jsx("div",{className:"flex-1",children:i.jsx(si,{droppableId:`right-${S}-${j}`,children:D=>i.jsxs("div",{...D.droppableProps,ref:D.innerRef,className:"min-h-[50px] flex items-center",children:[N?i.jsx(xs,{draggableId:`right-${S}-${N.id}`,index:0,children:k=>i.jsxs("div",{ref:k.innerRef,...k.draggableProps,className:`flex items-center gap-2 px-4 py-2 border rounded text-sm w-48 ${N.isLocked?"bg-yellow-50 border-yellow-200":"bg-white"}`,children:[i.jsx("div",{...k.dragHandleProps,children:i.jsx(ms,{className:"w-3 h-3 text-gray-400"})}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("div",{className:"font-medium",children:N.name}),i.jsx("div",{className:"text-xs text-gray-500",children:N.city})]}),N.isLocked&&i.jsx(Te,{variant:"secondary",className:"text-xs px-1 py-0",children:"Locked"})]})},N.id):i.jsx(xs,{draggableId:`right-${S}-${j}`,index:0,children:k=>i.jsxs("div",{ref:k.innerRef,...k.draggableProps,className:"flex items-center gap-2 px-4 py-2 border-2 border-dashed border-gray-300 rounded text-sm bg-gray-50 text-gray-400 min-w-[192px] justify-center cursor-move",children:[i.jsx("div",{...k.dragHandleProps,children:i.jsx(ms,{className:"w-3 h-3 text-gray-400"})}),i.jsx("span",{children:"Empty"})]})},`right-empty-${j}`),D.placeholder]})})})]},j)})})]})})})]},S))})})]})})},q5=()=>{const{teams:e,tournaments:t,schedules:r,saveSchedule:n,sendScoreSheetLinks:s,clearTournamentResults:a,clearGames:o,clearScoreSubmissions:l,getActiveTournament:c}=Dt(),[u,d]=m.useState(""),[f,h]=m.useState("4"),[p,x]=m.useState(null),[g,y]=m.useState(!1),[b,v]=m.useState(!1),[w,S]=m.useState(!1),[_,j]=m.useState([]),[N,E]=m.useState(!1),[D,k]=m.useState(null);m.useEffect(()=>{const B=c();B&&!u&&d(B.id)},[c,u]),m.useEffect(()=>{if(u){const B=r.find(H=>H.tournamentId===u);B?(x(B),h(B.rounds?B.rounds.toString():"4"),y(!1)):(x(null),h("4"),y(!1))}},[u,r]);const z=()=>{if(!u||!f){Y({title:"Please select tournament and number of rounds",variant:"destructive"});return}if(e.filter(H=>{var re;return(re=H.registeredTournaments)==null?void 0:re.includes(u)}).length<2){Y({title:"Need at least 2 teams to generate schedule",variant:"destructive"});return}k(null),E(!0)},I=B=>{a(u),o(u),l(u),x(B),n(B),y(!0),E(!1),Y({title:"Schedule saved successfully!",description:`${B.rounds} rounds generated with ${B.matches.length} matches.`,variant:"default"})},q=()=>{E(!1),k(null)},R=async()=>{if(p)try{const B=window.location.origin;await s(p.tournamentId,B),v(!0),Y({title:"Score sheet links sent to all teams!"})}catch{Y({title:"Failed to send score sheet links",variant:"destructive"})}},T=t.find(B=>B.id===u),L=e.filter(B=>{var H;return(H=B.registeredTournaments)==null?void 0:H.includes(u)});r.find(B=>B.tournamentId===u);const J=L.length>0?Math.floor(L.length/2):0,M=L.length%2===1;return L.reduce((B,H)=>(B[H.city]||(B[H.city]=0),B[H.city]++,B),{}),i.jsxs("div",{className:"space-y-6",children:[N&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsx("div",{className:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:i.jsx(G5,{tournamentId:u,teams:e.filter(B=>{var H;return(H=B.registeredTournaments)==null?void 0:H.includes(u)}),numberOfRounds:parseInt(f),onSave:I,onCancel:q,existingSchedule:p})})}),i.jsxs(Ze,{className:"border-2 border-gray-300",children:[i.jsx(rt,{className:"border-b-2 border-red-500 pb-2",children:i.jsx("div",{className:"flex justify-center items-center",children:i.jsx(at,{className:"text-red-600",children:"Tournament Scheduler"})})}),i.jsxs(et,{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-4 items-end mt-4",children:[i.jsxs("div",{className:"w-48",children:[i.jsx(xe,{htmlFor:"tournament",children:"Tournament"}),i.jsxs(Dr,{value:u,onValueChange:d,children:[i.jsx(jr,{children:i.jsx(Or,{placeholder:"Select"})}),i.jsx(_r,{children:t.map(B=>i.jsx(gt,{value:B.id,children:B.name},B.id))})]})]}),i.jsxs("div",{className:"w-20",children:[i.jsx(xe,{htmlFor:"rounds",children:"Rounds"}),i.jsx(Se,{id:"rounds",type:"number",value:f,onChange:B=>h(B.target.value),placeholder:"4",min:"1",max:"10"})]}),i.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[i.jsx(se,{onClick:z,disabled:!u||!f,size:"sm",className:"h-20 w-20 p-0 text-lg font-bold",children:"Run"}),u&&M&&i.jsx(Te,{variant:"secondary",className:"text-xs mt-2",children:"Odd - Byes Required"})]}),u&&i.jsxs("div",{className:"w-48",children:[i.jsx(xe,{children:"Teams"}),i.jsx("div",{className:"text-sm font-medium",children:L.length})]}),u&&i.jsxs("div",{className:"w-20",children:[i.jsx(xe,{children:"Tables"}),i.jsx("div",{className:"text-sm text-blue-600",children:J})]})]}),g&&p&&i.jsx("div",{className:"flex gap-2",children:i.jsx(se,{onClick:R,disabled:b,variant:"secondary",className:"flex-1",children:b?"Links Sent ✓":"Send Score Sheet Out"})})]})]}),p&&i.jsx(hL,{schedule:p,tournamentName:(T==null?void 0:T.name)||""}),i.jsx(or,{open:w,onOpenChange:S,children:i.jsxs(Qt,{children:[i.jsx(Jt,{children:i.jsx(Xt,{children:"Teams with Byes"})}),i.jsx("div",{className:"space-y-2",children:_.length===0?i.jsx("div",{className:"text-gray-600",children:"No teams received a bye."}):i.jsx("ul",{className:"list-disc pl-6",children:_.map(B=>i.jsx("li",{children:B},B))})}),i.jsx("div",{className:"flex justify-end pt-2",children:i.jsx(se,{onClick:()=>S(!1),children:"OK"})})]})})]})},cE=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:Me("w-full caption-bottom text-sm",e),...t})}));cE.displayName="Table";const uE=m.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:Me("[&_tr]:border-b",e),...t}));uE.displayName="TableHeader";const dE=m.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:Me("[&_tr:last-child]:border-0",e),...t}));dE.displayName="TableBody";const K5=m.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:Me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));K5.displayName="TableFooter";const ko=m.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:Me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));ko.displayName="TableRow";const Yr=m.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:Me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Yr.displayName="TableHead";const pn=m.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:Me("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));pn.displayName="TableCell";const Y5=m.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:Me("mt-4 text-sm text-muted-foreground",e),...t}));Y5.displayName="TableCaption";const St=(e,t,r)=>`${e}_${t}_${r}`,Q5=({tournamentId:e})=>{const{tournaments:t,teams:r,schedules:n,games:s,clearTournamentResults:a,submitGame:o,scoreSubmissions:l,resetAllTournamentData:c,setGames:u,setScoreSubmissions:d,tournamentResults:f,setTournamentResults:h,refreshGamesFromSupabase:p}=Dt(),[x,g]=m.useState(e||"1"),y=e||x,[b,v]=m.useState(!0),[w,S]=m.useState({}),[_,j]=m.useState(0);Z.useEffect(()=>{const R=setInterval(()=>{p()},2e3);return()=>clearInterval(R)},[p]),m.useEffect(()=>{const R=localStorage.getItem("resultsOverrides");R&&S(JSON.parse(R))},[]),m.useEffect(()=>{localStorage.setItem("resultsOverrides",JSON.stringify(w))},[w]),m.useEffect(()=>{j(R=>R+1)},[s,l]);const N=t.find(R=>R.id===y),E=n.find(R=>R.tournamentId===y),D=m.useMemo(()=>E?Array.from(new Set(E.matches.flatMap(T=>[String(T.teamA),String(T.teamB)]).filter(T=>T!=="BYE"&&T!=="TBD"))).map(T=>r.find(L=>String(L.id)===T)).filter(T=>!!T):[],[E,r]),k=E?E.rounds:5;m.useEffect(()=>{E&&S(R=>{let T=!1;const L={...R};return D.forEach(J=>{for(let M=1;M<=k;M++){const B=E.matches.find(W=>{const ce=typeof W.teamA=="object"&&W.teamA&&"id"in W.teamA?String(W.teamA.id):String(W.teamA),K=typeof W.teamB=="object"&&W.teamB&&"id"in W.teamB?String(W.teamB.id):String(W.teamB);return W.round===M&&(ce===String(J.id)||K===String(J.id))});if(!B)continue;const H=[B.teamA,B.teamB].map(W=>W==null?"":typeof W=="object"&&W&&"id"in W&&W.id!=null?String(W.id):String(W)).filter(Boolean).sort();s.find(W=>{if(!W.confirmed||W.round!==B.round)return!1;const ce=typeof W.teamA=="object"?W.teamA.id:W.teamA,K=typeof W.teamB=="object"?W.teamB.id:W.teamB,ae=[String(ce),String(K)].sort();return H[0]===ae[0]&&H[1]===ae[1]})&&[St(J.id,M,"wl"),St(J.id,M,"points"),St(J.id,M,"boston")].forEach(ce=>{ce in L&&(delete L[ce],T=!0)})}}),T?L:R})},[s,E,D,k]);const{sortedTeams:z,resultsMatrix:I}=Uc(r,s,E,w,k),q=()=>{if(!D.length)return;const R={};D.forEach(T=>{for(let L=1;L<=k;L++)R[St(String(T.id),L,"wl")]="",R[St(String(T.id),L,"points")]="0",R[St(String(T.id),L,"boston")]="0";R[St(String(T.id),"total","wins")]="0",R[St(String(T.id),"total","points")]="0",R[St(String(T.id),"total","bostons")]="0"}),S(R);try{const T=E?E.matches.map(H=>H.id):[];let L=JSON.parse(localStorage.getItem("games")||"[]");L=L.filter(H=>!(!H.matchId||!T.includes(H.matchId))),localStorage.setItem("games",JSON.stringify(L)),typeof u=="function"&&u(L);let J=JSON.parse(localStorage.getItem("scoreSubmissions")||"[]");J=J.filter(H=>!(!H.matchId||!T.includes(H.matchId))),localStorage.setItem("scoreSubmissions",JSON.stringify(J)),typeof d=="function"&&d(J),localStorage.setItem("resultsOverrides",JSON.stringify(R));const M=localStorage.getItem("tournamentResults");let B=M?JSON.parse(M):{};typeof B=="object"&&B!==null?(delete B[y],localStorage.setItem("tournamentResults",JSON.stringify(B)),typeof h=="function"&&h(B)):console.warn("tournamentResults was not an object:",B)}catch(T){console.error("Error resetting localStorage:",T),window.alert("Error during reset: "+T.message);return}typeof a=="function"&&a(y),window.alert("Table display and results for this tournament have been reset. Teams remain.")};return i.jsxs(Ze,{children:[i.jsxs(rt,{children:[i.jsxs("div",{className:"flex items-center gap-4 justify-between",children:[i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(ns,{className:"h-5 w-5"}),((N==null?void 0:N.name)||"Tournament")+" - Results"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xs font-bold",onClick:()=>{window.confirm("Are you sure you want to reset ALL tournament data? This will clear all games, schedules, results, brackets, and start fresh with preloaded teams.")&&(typeof c=="function"&&c(y),window.alert("All tournament data except teams has been reset."))},children:"Reset ALL Tournament Data"}),i.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-xs font-bold",onClick:q,children:"Reset Table Display Only"}),i.jsx("button",{className:"px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-xs font-bold",onClick:()=>{v(R=>!R)},children:"Sort"}),i.jsx("button",{className:"px-3 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 text-xs font-bold",onClick:()=>{if(!E||D.length<2)return;const R=E.matches.find(J=>J.round===1&&J.teamA!=="BYE"&&J.teamB!=="BYE");if(!R)return;const T=r.find(J=>J.id===R.teamA),L=r.find(J=>J.id===R.teamB);!T||!L||(S(J=>{const M=[St(T.id,1,"wl"),St(T.id,1,"points"),St(T.id,1,"boston"),St(L.id,1,"wl"),St(L.id,1,"points"),St(L.id,1,"boston")],B={...J};return M.forEach(H=>{delete B[H]}),B}),o({matchId:R.id,teamA:T,teamB:L,scoreA:50,scoreB:40,boston:"",submittedBy:T.id,round:1}),o({matchId:R.id,teamA:T,teamB:L,scoreA:50,scoreB:40,boston:"",submittedBy:L.id,round:1}),window.alert(`Simulated: ${T.name} (Team #${T.teamNumber}) vs ${L.name} (Team #${L.teamNumber}) in Round 1. Score: 50-40`))},children:"Simulate Confirm Round 1 (2 Teams)"})]})]}),!N&&i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"text-sm font-medium",children:"Select Tournament:"}),i.jsxs("select",{className:"w-full mt-1 p-2 border rounded",value:x,onChange:R=>g(R.target.value),children:[i.jsx("option",{value:"",children:"Choose a tournament..."}),t.map(R=>i.jsx("option",{value:R.id,children:R.name},R.id))]})]})]}),i.jsx(et,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(cE,{children:[i.jsxs(uE,{children:[i.jsxs(ko,{children:[i.jsxs(Yr,{rowSpan:2,className:"bg-yellow-200 border border-gray-400 text-center align-middle",children:["TEAM",i.jsx("br",{}),"#"]}),Array.from({length:k},(R,T)=>i.jsxs(Yr,{colSpan:4,className:`text-center border border-gray-400 ${T%2===0?"bg-pink-200":"bg-green-200"}`,children:["Round ",T+1]},T)),i.jsx(Yr,{colSpan:3,className:"bg-blue-200 border border-gray-400 text-center align-middle",children:"TOTALS"})]}),i.jsxs(ko,{children:[Array.from({length:k},(R,T)=>i.jsxs(Z.Fragment,{children:[i.jsxs(Yr,{className:`text-center text-xs border border-gray-400 ${T%2===0?"bg-pink-200":"bg-green-200"}`,children:["Game",i.jsx("br",{}),"Win=W",i.jsx("br",{}),"Loss=L"]}),i.jsx(Yr,{className:`text-center text-xs border border-gray-400 ${T%2===0?"bg-pink-200":"bg-green-200"}`,children:"Points"}),i.jsx(Yr,{className:`text-center text-xs border border-gray-400 ${T%2===0?"bg-pink-200":"bg-green-200"}`,children:"Hands Won"}),i.jsx(Yr,{className:`text-center text-xs border border-gray-400 ${T%2===0?"bg-pink-200":"bg-green-200"}`,children:"Boston"})]},T)),i.jsx(Yr,{className:"text-center text-xs border border-gray-400 bg-blue-200",children:"Wins"}),i.jsx(Yr,{className:"text-center text-xs border border-gray-400 bg-blue-200",children:"Points"}),i.jsx(Yr,{className:"text-center text-xs border border-gray-400 bg-blue-200",children:"Hands"}),i.jsx(Yr,{className:"text-center text-xs border border-gray-400 bg-blue-200",children:"Bostons"})]})]}),i.jsx(dE,{children:D.length===0?i.jsx(ko,{children:i.jsxs(pn,{colSpan:1+k*4+3,className:"text-center text-gray-500 py-8",children:["No results yet. ",!N||!E?"Set up a tournament and schedule to begin.":""]})}):z.map(R=>{const T=String(R.id),L=R.teamNumber?`Team # ${R.teamNumber}`:`Team # ${R.id}`,J=R.name||"";return i.jsxs(ko,{children:[i.jsx(pn,{className:"font-medium border border-gray-400 bg-yellow-100",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(Te,{variant:"outline",className:"mb-1",children:L}),i.jsx("span",{className:"text-sm",children:J})]})}),Array.from({length:k},(M,B)=>{const H=B+1,re=I[T][H]||{wl:"",points:0,hands:0,boston:0};return i.jsxs(Z.Fragment,{children:[i.jsx(pn,{className:"text-center border border-gray-400 p-0",children:i.jsx("input",{className:"w-10 text-center bg-transparent outline-none",value:w[St(T,H,"wl")]??re.wl,onChange:W=>{const ce=W.target.value;S(K=>{const ae=St(T,H,"wl");if(ce===""){const{[ae]:be,...C}=K;return C}return{...K,[ae]:ce}})}})}),i.jsx(pn,{className:"text-center border border-gray-400 p-0",children:i.jsx("input",{type:"number",className:"w-14 text-center bg-transparent outline-none",value:w[St(T,H,"points")]??re.points,onChange:W=>{const ce=W.target.value;S(K=>{const ae=St(T,H,"points");if(ce===""){const{[ae]:be,...C}=K;return C}return{...K,[ae]:ce}})}})}),i.jsx(pn,{className:"text-center border border-gray-400 p-0",children:i.jsx("input",{type:"number",className:"w-12 text-center bg-transparent outline-none",value:w[St(T,H,"hands")]??re.hands,onChange:W=>{const ce=W.target.value;S(K=>{const ae=St(T,H,"hands");if(ce===""){const{[ae]:be,...C}=K;return C}return{...K,[ae]:ce}})}})}),i.jsx(pn,{className:"text-center border border-gray-400 p-0",children:i.jsx("input",{type:"number",className:"w-10 text-center bg-transparent outline-none",value:w[St(T,H,"boston")]??re.boston,onChange:W=>{const ce=W.target.value;S(K=>{const ae=St(T,H,"boston");if(ce===""){const{[ae]:be,...C}=K;return C}return{...K,[ae]:ce}})}})})]},H)}),i.jsx(pn,{className:"text-center border border-gray-400 bg-blue-100 font-medium p-0",children:i.jsx("input",{type:"number",className:"w-12 text-center bg-transparent outline-none font-bold",value:I[T].totalPoints.wins??0,readOnly:!0})}),i.jsx(pn,{className:"text-center border border-gray-400 bg-blue-100 font-medium p-0",children:i.jsx("input",{type:"number",className:"w-16 text-center bg-transparent outline-none font-bold",value:Array.from({length:k},(M,B)=>{var W;const H=B+1,re=w[St(T,H,"points")];return re!==void 0?Number(re):((W=I[T][H])==null?void 0:W.points)||0}).reduce((M,B)=>M+B,0),readOnly:!0})}),i.jsx(pn,{className:"text-center border border-gray-400 bg-blue-100 font-medium p-0",children:i.jsx("input",{type:"number",className:"w-12 text-center bg-transparent outline-none font-bold",value:Array.from({length:k},(M,B)=>{var re;const H=B+1;return((re=I[T][H])==null?void 0:re.hands)||0}).reduce((M,B)=>M+B,0),readOnly:!0})}),i.jsx(pn,{className:"text-center border border-gray-400 bg-blue-100 font-medium p-0",children:i.jsx("input",{type:"number",className:"w-12 text-center bg-transparent outline-none font-bold",value:Array.from({length:k},(M,B)=>{var W;const H=B+1,re=w[St(T,H,"boston")];return re!==void 0?Number(re):((W=I[T][H])==null?void 0:W.boston)||0}).reduce((M,B)=>M+B,0),readOnly:!0})})]},R.id)})})]})})})]})},J5=Z.lazy(()=>Le(()=>import("./ExportResultsButton-BqEE-eug.js"),[])),X5=()=>{const{games:e,teams:t,getTournamentResults:r,tournaments:n,getActiveTournament:s,refreshGamesFromSupabase:a}=Dt();Z.useEffect(()=>{const f=setInterval(()=>{a()},1500);return()=>clearInterval(f)},[a]);const o=s(),l=Z.useMemo(()=>o?r(o.id):[],[o,r]),c=o,u=o?e.filter(f=>f.confirmed&&f.matchId&&(n&&n.length,l.some(h=>h.teamId===f.teamA.id||h.teamId===f.teamB.id))).sort((f,h)=>new Date(h.timestamp).getTime()-new Date(f.timestamp).getTime()):[],d=f=>{const h=t.find(v=>v.id===f.teamA)||{id:f.teamA},p=t.find(v=>v.id===f.teamB)||{id:f.teamB},x=f.winner==="teamA"?h:p,g=f.winner==="teamA"?p:h,y=f.winner==="teamA"?f.scoreA:f.scoreB,b=f.winner==="teamA"?f.scoreB:f.scoreA;return{winner:x,loser:g,winnerScore:y,loserScore:b,round:f.round,boston:f.boston,timestamp:f.timestamp}};return o?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[i.jsxs("span",{className:"text-2xl font-bold flex items-center gap-2",children:[i.jsx(ns,{className:"h-6 w-6 text-yellow-500"}),(c==null?void 0:c.name)||"Tournament"]}),i.jsx("div",{children:o&&i.jsx(Z.Suspense,{fallback:i.jsx("span",{children:"Loading..."}),children:i.jsx(J5,{tournamentId:o.id})})})]}),i.jsx(Q5,{tournamentId:o.id})]}),i.jsxs(Ze,{children:[i.jsxs(rt,{children:[i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(ZP,{className:"h-5 w-5"}),"Game Results - ",(c==null?void 0:c.name)||"Tournament"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.length," completed game",u.length!==1?"s":""]})]}),i.jsx(et,{children:u.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(ns,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:"font-medium",children:"No completed games yet"}),i.jsx("p",{className:"text-sm",children:"Games will appear here after both teams confirm scores"})]}):i.jsx("div",{className:"space-y-4",children:u.map(f=>{const h=d(f);return i.jsx("div",{className:"p-4 rounded-lg border bg-gradient-to-r from-gray-50 to-white hover:from-gray-100 hover:to-gray-50 transition-all duration-200",children:i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(Te,{variant:"outline",className:"font-medium px-3 py-1",children:["Round ",h.round]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ns,{className:"h-4 w-4 text-yellow-500"}),i.jsxs("span",{className:"font-semibold text-green-700",children:["Team # ",h.winner.teamNumber??h.winner.id]}),i.jsxs("span",{className:"font-bold text-lg mx-2",children:[h.winnerScore," - ",h.loserScore]}),i.jsxs("span",{className:"font-medium text-red-600",children:["Team # ",h.loser.teamNumber??h.loser.id]})]}),f.boston!=="none"&&i.jsxs(Te,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[i.jsx(Mm,{className:"h-3 w-3 mr-1"}),"Boston"]})]}),i.jsxs("div",{className:"text-xs text-gray-500 text-right",children:[i.jsx("div",{children:new Date(h.timestamp).toLocaleDateString()}),i.jsx("div",{children:new Date(h.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},f.id)})})})]})]}):i.jsx("div",{className:"space-y-6",children:i.jsxs(Ze,{children:[i.jsx(rt,{children:i.jsx(at,{children:"No Active Tournament"})}),i.jsx(et,{children:i.jsx("p",{className:"text-gray-600 text-center",children:"Please select an active tournament to view results."})})]})})},Z5=({size:e,matches:t,teams:r,onScoreUpdate:n,onAdvanceWinner:s})=>{const a=Math.log2(e),o=u=>u===a?"Final":u===a-1?"Semi-Final":u===a-2?"Quarter-Final":`Round ${u}`,l=(u,d,f)=>{const h=f/Math.pow(2,u),p=f/Math.pow(2,u+1);let x=`Table ${d}`;if(u===1)x+=` (Seed ${d} home table)`;else if(u>1&&h>p)if(d<=p)x+=" (Winners stay)";else{const g=d-p;x+=` (Winner moves to Table ${g})`}return x},c=u=>{const d=t.find(f=>f.id===u);!d||!d.team1||!d.team2||s(u)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-center",children:[e," Team Elimination Bracket"]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"text-sm text-gray-600 p-3 bg-blue-50 rounded-lg",children:[i.jsx("strong",{children:"Table Assignment Rules:"}),i.jsxs("ul",{className:"mt-2 space-y-1",children:[i.jsx("li",{children:"• Round 1: Table number = Lower seed number (Seed #1 plays at Table #1)"}),i.jsx("li",{children:"• Later rounds: Winners from higher tables move to join winners at lower tables"}),i.jsx("li",{children:"• Example: Table 1 winner plays Table 8 winner at Table 1"})]})]})}),i.jsx("div",{className:"grid gap-6",children:Array.from({length:a},(u,d)=>{const f=d+1,h=t.filter(p=>p.round===f).sort((p,x)=>p.table-x.table);return i.jsxs(Ze,{className:"w-full",children:[i.jsx(rt,{children:i.jsxs(at,{className:"text-center",children:[o(f)," - ",h.length," Tables"]})}),i.jsx(et,{children:i.jsx("div",{className:"grid gap-4",style:{gridTemplateColumns:`repeat(${Math.max(1,Math.min(4,h.length))}, 1fr)`},children:h.map(p=>i.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[i.jsx("div",{className:"text-center font-medium text-sm text-blue-600",children:l(p.round,p.table,e)}),i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[p.team1&&i.jsxs(i.Fragment,{children:[i.jsxs(Te,{variant:"outline",children:["#",p.team1.seed]}),i.jsxs("span",{className:"text-sm font-medium",children:[p.team1.teamName,(()=>{const x=p.team1.teamNumber??p.team1.teamId;return x?i.jsxs("span",{className:"text-xs text-gray-500",children:[" (Team # ",x,")"]}):null})()]})]}),!p.team1&&i.jsx("span",{className:"text-sm text-gray-500",children:"TBD"})]}),p.team1&&i.jsx(Se,{type:"number",className:"w-16 h-8 text-center",value:p.team1Score||"",onChange:x=>{const g=parseInt(x.target.value)||0;n(p.id,g,p.team2Score||0)},min:"0"})]}),i.jsx("div",{className:"text-center text-xs text-gray-500",children:"vs"}),i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[p.team2&&i.jsxs(i.Fragment,{children:[i.jsxs(Te,{variant:"outline",children:["#",p.team2.seed]}),i.jsxs("span",{className:"text-sm font-medium",children:[p.team2.teamName,(()=>{const x=p.team2.teamNumber??p.team2.teamId;return x?i.jsxs("span",{className:"text-xs text-gray-500",children:[" (Team # ",x,")"]}):null})()]})]}),!p.team2&&i.jsx("span",{className:"text-sm text-gray-500",children:"TBD"})]}),p.team2&&i.jsx(Se,{type:"number",className:"w-16 h-8 text-center",value:p.team2Score||"",onChange:x=>{const g=parseInt(x.target.value)||0;n(p.id,p.team1Score||0,g)},min:"0"})]}),p.team1&&p.team2&&typeof p.team1Score=="number"&&typeof p.team2Score=="number"&&i.jsx(se,{size:"sm",className:"w-full",onClick:()=>c(p.id),disabled:p.winner!==void 0,children:p.winner?`Winner: ${p.winner.teamName}`:"Advance Winner"}),p.winner&&i.jsx("div",{className:"text-center p-2 bg-green-100 rounded",children:i.jsxs(Te,{className:"bg-green-600",children:["Winner: #",p.winner.seed," ",p.winner.teamName,(()=>{const x=p.winner.teamNumber??p.winner.teamId;return x?` (Team # ${x})`:""})()]})})]},p.id))})})]},f)})})]})},e6=()=>{const{tournaments:e,getTournamentResults:t,saveBracket:r,getBracket:n,updateBracket:s,deleteBracket:a,teams:o,schedules:l,games:c,getActiveTournament:u}=Dt(),[d,f]=m.useState(()=>{const T=u();return(T==null?void 0:T.id)||"1"}),[h,p]=m.useState(null),[x,g]=m.useState(!1),[y,b]=m.useState(!1),[v,w]=m.useState(!1),[S,_]=m.useState([]),[j,N]=m.useState({});m.useEffect(()=>{const T=localStorage.getItem("resultsOverrides");T&&N(JSON.parse(T))},[]),m.useEffect(()=>{const T=n(d);p(T)},[d,n]);const E=T=>{const L=l.find(W=>W.tournamentId===d),J=L?L.rounds:5,{sortedTeams:M}=Uc(o,c,L,j,J),B=M.slice(0,T).map((W,ce)=>({seed:ce+1,teamId:W.id,teamName:W.name,teamNumber:W.teamNumber})),H=D(T,B),re={id:`bracket-${Date.now()}`,tournamentId:d,size:T,teams:B,matches:H,createdAt:new Date};p(re),r(re),_(B.slice(0,5)),g(!1),w(!0)},D=(T,L)=>{const J=[];let M=1;k(T).forEach(re=>{const W=L.find(ae=>ae.seed===re[0]),ce=L.find(ae=>ae.seed===re[1]),K=Math.min(re[0],re[1]);J.push({id:`match-${M++}`,round:1,table:K,team1:W,team2:ce})});const H=Math.log2(T);for(let re=2;re<=H;re++){const W=T/Math.pow(2,re);for(let ce=0;ce<W;ce++)J.push({id:`match-${M++}`,round:re,table:ce+1})}return J},k=T=>{switch(T){case 4:return[[1,4],[2,3]];case 8:return[[1,8],[4,5],[2,7],[3,6]];case 16:return[[1,16],[8,9],[4,13],[5,12],[2,15],[7,10],[3,14],[6,11]];case 32:return[[1,32],[16,17],[8,25],[9,24],[4,29],[13,20],[5,28],[12,21],[2,31],[15,18],[7,26],[10,23],[3,30],[14,19],[6,27],[11,22]];default:return[]}},z=(T,L,J)=>{if(!h)return;const M=h.matches.map(H=>H.id===T?{...H,team1Score:L,team2Score:J}:H),B={...h,matches:M};p(B),s(d,{matches:M})},I=T=>{if(!h)return;const L=h.matches.find(W=>W.id===T);if(!L||!L.team1||!L.team2)return;const J=(L.team1Score||0)>(L.team2Score||0)?L.team1:L.team2,M=h.matches.map(W=>W.id===T?{...W,winner:J}:W),B=q(L.table,L.round,h.size),re=h.matches.filter(W=>W.round===L.round+1).find(W=>W.table===B);if(re){const W=M.map(K=>{if(K.id===re.id)if(K.team1){if(!K.team2)return{...K,team2:{...J,seed:J.seed}}}else return{...K,team1:{...J,seed:J.seed}};return K}),ce={...h,matches:W};p(ce),s(d,{matches:W})}else{const W={...h,matches:M};p(W),s(d,{matches:M})}},q=(T,L,J)=>{const M=J/Math.pow(2,L+1);return T<=M?T:M+1-(T-M)},R=()=>{a(d),p(null),b(!1)};return i.jsxs(Ze,{children:[i.jsx(rt,{children:i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(Lm,{className:"h-5 w-5"}),"Tournament Bracket Generator"]})}),i.jsx(et,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Universal Bracket Rule:"}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsx("li",{children:"• Lowest table number always plays highest table number at lowest table"}),i.jsx("li",{children:"• 16 tables: 1v16@1, 2v15@2, 3v14@3, 4v13@4..."}),i.jsx("li",{children:"• 8 tables: 1v8@1, 2v7@2, 3v6@3, 4v5@4"}),i.jsx("li",{children:"• 4 tables: 1v4@1, 2v3@2"}),i.jsx("li",{children:"• Finals: Winner 1 vs Winner 2"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Select Tournament:"}),i.jsx("select",{className:"w-full mt-1 p-2 border rounded",value:d,onChange:T=>f(T.target.value),children:e.map(T=>i.jsx("option",{value:T.id,children:T.name},T.id))})]}),i.jsxs("div",{className:"flex gap-2",children:[!h&&i.jsxs(or,{open:x,onOpenChange:g,children:[i.jsx(ya,{asChild:!0,children:i.jsx(se,{onClick:()=>g(!0),children:"Create Bracket"})}),i.jsxs(Qt,{children:[i.jsx(Jt,{children:i.jsx(Xt,{children:"Select Bracket Size"})}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-6 p-2",children:[i.jsxs("div",{className:"flex-1 border rounded p-2 bg-gray-50",children:[i.jsx("h4",{className:"font-semibold mb-2 text-blue-700",children:"Tournament Results Order"}),i.jsx("ol",{className:"list-decimal pl-4",children:(()=>{const T=l.find(M=>M.tournamentId===d),L=T?T.rounds:5,{sortedTeams:J}=Uc(o,c,T,j,L);return J.map((M,B)=>i.jsxs("li",{className:"mb-1",children:[i.jsxs(Te,{variant:"outline",children:["#",B+1]})," ",i.jsx("span",{className:"font-medium",children:M.name})," ",i.jsxs("span",{className:"text-xs text-gray-500",children:["(Team # ",M.teamNumber??M.id,")"]})]},M.id))})()})]}),i.jsxs("div",{className:"flex-1 border rounded p-2 bg-gray-50",children:[i.jsx("h4",{className:"font-semibold mb-2 text-green-700",children:"Bracket Seeding Order (Preview)"}),i.jsx("ol",{className:"list-decimal pl-4",children:(()=>{const T=l.find(M=>M.tournamentId===d),L=T?T.rounds:5,{sortedTeams:J}=Uc(o,c,T,j,L);return J.map((M,B)=>i.jsxs("li",{className:"mb-1",children:[i.jsxs(Te,{variant:"outline",children:["#",B+1]})," ",i.jsx("span",{className:"font-medium",children:M.name})," ",i.jsxs("span",{className:"text-xs text-gray-500",children:["(Team # ",M.teamNumber??M.id,")"]})]},M.id))})()})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4",children:[i.jsx(se,{onClick:()=>E(32),variant:"outline",children:"32 Team Bracket"}),i.jsx(se,{onClick:()=>E(16),variant:"outline",children:"16 Team Bracket"}),i.jsx(se,{onClick:()=>E(8),variant:"outline",children:"8 Team Bracket"}),i.jsx(se,{onClick:()=>E(4),variant:"outline",children:"4 Team Bracket"})]})]})]}),h&&i.jsxs(or,{open:y,onOpenChange:b,children:[i.jsx(ya,{asChild:!0,children:i.jsxs(se,{variant:"destructive",className:"flex items-center gap-2",children:[i.jsx(yu,{className:"h-4 w-4"}),"Restart Bracket"]})}),i.jsxs(Qt,{children:[i.jsx(Jt,{children:i.jsx(Xt,{children:"Restart Bracket?"})}),i.jsxs("div",{className:"p-4",children:[i.jsx("p",{className:"mb-4",children:"Are you sure you want to restart the bracket? This will delete all current progress and cannot be undone."}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx(se,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),i.jsx(se,{variant:"destructive",onClick:R,children:"Yes, Restart"})]})]})]})]})]}),h&&i.jsxs(i.Fragment,{children:[i.jsx(Z5,{size:h.size,matches:h.matches,teams:h.teams,onScoreUpdate:z,onAdvanceWinner:I}),i.jsx(or,{open:v,onOpenChange:w,children:i.jsxs(Qt,{children:[i.jsx(Jt,{children:i.jsx(Xt,{children:"Top 5 Seeds"})}),i.jsxs("div",{className:"space-y-2",children:[S.length===0&&i.jsx("div",{className:"text-red-600 font-semibold",children:"No teams could be seeded. Please check that your tournament has a valid schedule and teams."}),S.map((T,L)=>{const J=T.teamNumber??T.teamId;return i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Te,{variant:"outline",children:["#",T.seed]}),i.jsx("span",{className:"font-medium",children:T.teamName}),J&&i.jsxs("span",{className:"text-xs text-gray-500",children:["(Team # ",J,")"]})]},T.teamId)})]}),i.jsx("div",{className:"flex justify-end pt-2",children:i.jsx(se,{onClick:()=>w(!1),children:"OK"})})]})})]})]})})]})},t6=()=>{const[e,t]=m.useState(0),[r,n]=m.useState(1),s=r>0?e/r:0,{tournaments:a,teams:o}=Dt(),[l,c]=m.useState(""),[u,d]=m.useState(0),[f,h]=m.useState(0),[p,x]=m.useState(30),[g,y]=m.useState(50),[b,v]=m.useState(25),[w,S]=m.useState(15),[_,j]=m.useState(10);m.useEffect(()=>{if(l){const R=a.find(T=>T.id===l);if(R){let T=0,L=0;o.forEach(M=>{var B,H,re,W;if((B=M.registeredTournaments)!=null&&B.includes(l)){const ce=R.cost,K=(H=M.bostonPotTournaments)!=null&&H.includes(l)?R.bostonPotCost:0,ae=ce+K;((re=M.player1TournamentPayments)==null?void 0:re[l])||!1?T+=ae/2:L+=ae/2,((W=M.player2TournamentPayments)==null?void 0:W[l])||!1?T+=ae/2:L+=ae/2}});const J=o.reduce((M,B)=>{var H;return(H=B.bostonPotTournaments)!=null&&H.includes(l)?M+(R.bostonPotCost||0):M},0);d(T),h(L),t(J)}}else d(0),h(0),t(0)},[l,a,o]);const N=u+f,E=N*p/100,D=N-E,k=D*g/100,z=D*b/100,I=D*w/100,q=D*_/100;return i.jsxs("div",{className:"space-y-6",children:[i.jsx(Ze,{className:"mb-4",children:i.jsx(et,{children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(xe,{htmlFor:"tournamentSelect",children:"Select Tournament"}),i.jsxs(Dr,{value:l,onValueChange:c,children:[i.jsx(jr,{id:"tournamentSelect",className:"w-64",children:i.jsx(Or,{placeholder:"Choose a tournament"})}),i.jsx(_r,{children:a.map(R=>i.jsx(gt,{value:R.id,children:R.name},R.id))})]})]})})}),i.jsxs(Ze,{children:[i.jsx(rt,{children:i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(cl,{className:"h-5 w-5"}),"Tournament Finance Manager"]})}),i.jsx(et,{className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx(xe,{children:"Money Collected ($)"}),i.jsxs("div",{className:"p-2 bg-green-100 rounded border font-semibold text-green-700",children:["$",u.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx(xe,{children:"Money Owed ($)"}),i.jsxs("div",{className:"p-2 bg-red-100 rounded border font-semibold text-red-700",children:["$",f.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx(xe,{children:"Total Expected ($)"}),i.jsxs("div",{className:"p-2 bg-blue-100 rounded border font-semibold text-blue-700",children:["$",N.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx(xe,{htmlFor:"bostonPotCollected",children:"Boston Pot Collected ($)"}),i.jsxs("div",{className:"p-2 bg-yellow-100 rounded border font-semibold text-yellow-700",children:["$",e.toFixed(2)]})]})]})})]}),i.jsxs(Ze,{children:[i.jsx(rt,{children:i.jsxs(at,{className:"flex items-center gap-2",children:[i.jsx(o2,{className:"h-5 w-5"}),"Payout Distribution"]})}),i.jsxs(et,{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xe,{htmlFor:"clubShare",className:"min-w-0 flex-1",children:"Club Share (%)"}),i.jsx(Se,{id:"clubShare",type:"number",value:p,onChange:R=>x(Number(R.target.value)),className:"w-20"}),i.jsxs("div",{className:"font-semibold text-green-600 min-w-0",children:["$",E.toFixed(2)]})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"font-semibold",children:["Prize Pool: $",D.toFixed(2)]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xe,{htmlFor:"first",className:"min-w-0 flex-1",children:"1st Place (%)"}),i.jsx(Se,{id:"first",type:"number",value:g,onChange:R=>y(Number(R.target.value)),className:"w-20"}),i.jsxs("div",{className:"font-semibold text-yellow-600 min-w-0",children:["$",k.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xe,{htmlFor:"second",className:"min-w-0 flex-1",children:"2nd Place (%)"}),i.jsx(Se,{id:"second",type:"number",value:b,onChange:R=>v(Number(R.target.value)),className:"w-20"}),i.jsxs("div",{className:"font-semibold text-gray-600 min-w-0",children:["$",z.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xe,{htmlFor:"third",className:"min-w-0 flex-1",children:"3rd Place (%)"}),i.jsx(Se,{id:"third",type:"number",value:w,onChange:R=>S(Number(R.target.value)),className:"w-20"}),i.jsxs("div",{className:"font-semibold text-orange-600 min-w-0",children:["$",I.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xe,{htmlFor:"fourth",className:"min-w-0 flex-1",children:"4th Place (%)"}),i.jsx(Se,{id:"fourth",type:"number",value:_,onChange:R=>j(Number(R.target.value)),className:"w-20"}),i.jsxs("div",{className:"font-semibold text-blue-600 min-w-0",children:["$",q.toFixed(2)]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 font-semibold mt-4",children:[i.jsxs("div",{children:["Boston Pot Split per Team: ",i.jsxs("span",{className:"text-green-700",children:["$",s.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xe,{htmlFor:"bostonWinners",children:"Number of Boston Winners"}),i.jsx(Se,{id:"bostonWinners",type:"number",min:1,value:r,onChange:R=>n(Number(R.target.value)),placeholder:"Enter number of winning teams",className:"w-32"})]})]})]})]})]})]})},r6=({player:e,isOpen:t,onClose:r,onSave:n})=>{console.log("PlayerEditor mounted. Props:",{player:e,isOpen:t});const[s,a]=m.useState({firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||""});Z.useEffect(()=>{a({firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||""})},[e]);const o=()=>{n({...e,...s}),r()};return i.jsx(or,{open:t,onOpenChange:r,children:i.jsxs(Qt,{className:"sm:max-w-md",children:[i.jsx(Jt,{children:i.jsx(Xt,{children:"Edit Player"})}),i.jsxs("div",{style:{color:"red",fontWeight:"bold"},children:["[DEBUG] PlayerEditor rendered. Player: ",e&&e.playerId?e.playerId:"no id"," | ",e&&e.firstName?e.firstName:"no fname"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(xe,{children:"First Name"}),i.jsx(Se,{value:s.firstName,onChange:l=>a(c=>({...c,firstName:l.target.value}))})]}),i.jsxs("div",{children:[i.jsx(xe,{children:"Last Name"}),i.jsx(Se,{value:s.lastName,onChange:l=>a(c=>({...c,lastName:l.target.value}))})]}),i.jsxs("div",{children:[i.jsx(xe,{children:"Phone"}),i.jsx(Se,{value:s.phone,onChange:l=>a(c=>({...c,phone:l.target.value}))})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(se,{variant:"outline",onClick:r,children:"Cancel"}),i.jsx(se,{onClick:o,children:"Save"})]})]})]})})},n6=()=>{var g,y,b,v,w,S,_;const{teams:e,tournaments:t,updateTeam:r}=Dt(),[n,s]=m.useState(""),[a,o]=m.useState(null),[l,c]=m.useState(!1),[u,d]=m.useState(!1);Z.useEffect(()=>{a&&(console.log("Selected Player:",a),console.log("PlayerEditor props:",{firstName:a.firstName,lastName:a.lastName,phone:a.phone,city:a.city,team:a.team,role:a.role}))},[a]);const h=m.useMemo(()=>{const j=[];return e.forEach(N=>{["player1","player2"].forEach(E=>{const D=N[E+"FirstName"]||N[E+"_first_name"]||"",k=N[E+"LastName"]||N[E+"_last_name"]||"",z=N[E+"Phone"]||N.phoneNumber||N.phone_number||"",I=N.city||"",q=`${D}|${k}|${z}`,R=E==="player1"?(N.player2FirstName||N.player2_first_name||"")+" "+(N.player2LastName||N.player2_last_name||""):(N.player1FirstName||N.player1_first_name||"")+" "+(N.player1LastName||N.player1_last_name||"");j.push({playerId:q,firstName:D,lastName:k,phone:z,city:I,team:N,role:E,tournaments:N.registeredTournaments||[],payments:N[E+"TournamentPayments"]||{},partner:R,teamName:N.name,teamNumber:N.id})})}),j},[e]).filter(j=>{const N=n.toLowerCase();return(j.firstName||"").toLowerCase().includes(N)||(j.lastName||"").toLowerCase().includes(N)||(j.phone||"").toLowerCase().includes(N)||(j.city||"").toLowerCase().includes(N)}),p=(j,N,E)=>{const D={...j.team};D[j.role+"TournamentPayments"]||(D[j.role+"TournamentPayments"]={}),D[j.role+"TournamentPayments"][N]=E,r(D),o({...j,payments:{...j.payments,[N]:E}})},x=j=>{const N={...a.team};a.role==="player1"?(N.player1FirstName=j.firstName,N.player1LastName=j.lastName,N.phoneNumber=j.phone,N.city=j.city):(N.player2FirstName=j.firstName,N.player2LastName=j.lastName,N.phoneNumber=j.phone,N.city=j.city),r(N),o({...a,...j})};return i.jsxs(Ze,{className:"mt-6",children:[i.jsx(rt,{children:i.jsx(at,{children:"Player Tracking"})}),i.jsxs(et,{children:[i.jsx("div",{className:"mb-4",children:i.jsx(Se,{placeholder:"Search by first name, last name, phone, or city...",value:n,onChange:j=>s(j.target.value)})}),a?i.jsxs("div",{children:[i.jsx(se,{variant:"outline",className:"mb-2",onClick:()=>o(null),children:"Back to Search"}),i.jsxs("div",{className:"mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"font-bold text-lg",children:[a.firstName," ",a.lastName]}),i.jsx(se,{size:"sm",variant:"outline",onClick:()=>c(!0),children:"Edit Player"}),i.jsx(se,{size:"sm",variant:"outline",onClick:()=>{console.log("Edit Team button clicked. Team:",a==null?void 0:a.team),d(!0)},children:"Edit Team"})]}),i.jsxs("div",{children:["Phone: ",a.phone]}),i.jsxs("div",{children:["City: ",a.city]}),i.jsxs("div",{children:["Partner: ",a.partner]}),i.jsxs("div",{children:["Team: ",a.teamName," (#",a.teamNumber,")"]})]}),i.jsx(r6,{player:{...a,firstName:(a==null?void 0:a.firstName)||((g=a==null?void 0:a.team)==null?void 0:g.player1FirstName)||((y=a==null?void 0:a.team)==null?void 0:y.player1_first_name)||"",lastName:(a==null?void 0:a.lastName)||((b=a==null?void 0:a.team)==null?void 0:b.player1LastName)||((v=a==null?void 0:a.team)==null?void 0:v.player1_last_name)||"",phone:(a==null?void 0:a.phone)||((w=a==null?void 0:a.team)==null?void 0:w.phoneNumber)||((S=a==null?void 0:a.team)==null?void 0:S.phone_number)||"",city:(a==null?void 0:a.city)||((_=a==null?void 0:a.team)==null?void 0:_.city)||"",team:(a==null?void 0:a.team)||{},role:(a==null?void 0:a.role)||""},isOpen:l,onClose:()=>c(!1),onSave:x}),(a==null?void 0:a.team)&&i.jsxs(i.Fragment,{children:[console.log("TeamEditor props:",a.team),i.jsx(y_,{team:a.team,isOpen:u,onClose:()=>d(!1),onSave:r})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold mb-1",children:"Tournaments:"}),a.tournaments.length===0&&i.jsx("div",{className:"text-gray-500",children:"Not registered in any tournaments."}),i.jsx("ul",{className:"space-y-1",children:a.tournaments.map(j=>{const N=t.find(D=>D.id===j),E=a.payments[j];return i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{children:N?N.name:j}),E?i.jsxs(i.Fragment,{children:[i.jsx(Te,{className:"bg-green-600",children:"Paid"}),i.jsx(se,{size:"sm",variant:"destructive",onClick:()=>p(a,j,!1),children:"Reverse"})]}):i.jsx(se,{size:"sm",onClick:()=>p(a,j,!0),children:"Mark Paid"})]},j)})})]})]}):i.jsxs("div",{className:"space-y-2",children:[h.slice(0,30).map((j,N)=>i.jsxs("div",{className:"p-2 border rounded cursor-pointer hover:bg-gray-50",onClick:()=>o(j),children:[i.jsxs("span",{className:"font-semibold",children:[j.firstName," ",j.lastName]})," — ",j.phone," — ",j.city," ",i.jsxs(Te,{variant:"outline",children:["Team ",j.teamNumber,": ",j.teamName]})]},j.playerId&&j.team&&j.team.id?`${j.playerId}|${j.team.id}`:N)),h.length>30&&i.jsx("div",{className:"text-xs text-gray-400",children:"Showing first 30 results..."})]})]})]})};class s6 extends Z.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught error:",t,r)}render(){return this.state.hasError?i.jsxs("div",{style:{color:"red",padding:32},children:[i.jsx("h2",{children:"Something went wrong in AppLayout."}),i.jsx("pre",{children:String(this.state.error)})]}):this.props.children}}const a6=()=>{var g,y;const{currentUser:e,getActiveTournament:t,setActiveTournament:r,tournaments:n,setTournaments:s,refreshGamesFromSupabase:a,refreshSchedules:o,refreshTeams:l}=Dt(),[c,u]=m.useState(!0),[d,f]=m.useState(!1),h=async()=>{try{f(!0),await Promise.all([a(),o(),l(),(async()=>{const{supabase:b}=await Le(async()=>{const{supabase:S}=await Promise.resolve().then(()=>Ye);return{supabase:S}},void 0),{data:v,error:w}=await b.from("tournaments").select("*");!w&&v&&s(v)})()]),Y({title:"Data refreshed successfully",description:"All tournament data, teams, payments, and schedules have been updated",variant:"default"})}catch(b){console.error("Error refreshing data:",b),Y({title:"Refresh failed",description:"Some data may not have been updated",variant:"destructive"})}finally{f(!1)}},p=()=>u(!1),x=b=>{r(b)};return c||!e?i.jsx(VO,{onSetupComplete:p}):i.jsx(s6,{children:i.jsxs("div",{className:"min-h-screen bg-gray-100",children:[i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"w-20 h-20 bg-red-200 flex items-center justify-center shadow-md",children:i.jsx("img",{src:"/BidWhist/SetPlay_Logo.png",alt:"SetPlay Logo",className:"w-20 h-20"})}),i.jsxs("div",{className:"flex-1 bg-white shadow-md sticky top-0 z-10 px-6 py-3 flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Panel"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Manage:"}),i.jsxs("select",{className:"border border-gray-300 rounded px-3 py-1 text-sm text-gray-800 bg-white",value:((g=t())==null?void 0:g.id)||"",onChange:b=>x(b.target.value),children:[i.jsx("option",{value:"",disabled:!0,children:"Select tournament..."}),n.map(b=>i.jsx("option",{value:b.id,children:b.name},b.id))]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm text-gray-700 font-medium",children:"Active:"}),i.jsxs("select",{className:"border border-gray-300 rounded px-3 py-1 text-sm text-gray-800 bg-white",value:((y=t())==null?void 0:y.id)||"",onChange:b=>x(b.target.value),children:[i.jsx("option",{value:"",disabled:!0,children:"Select tournament..."}),n.map(b=>i.jsx("option",{value:b.id,children:b.name},b.id))]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(se,{variant:"ghost",size:"sm",onClick:h,disabled:d,className:"text-gray-600 hover:text-red-600",children:i.jsx(yu,{className:"w-5 h-5"})}),i.jsx(se,{variant:"ghost",size:"sm",onClick:()=>window.open("#/portal?admin=1","_blank"),className:"text-gray-600 hover:text-red-600",children:i.jsx(dS,{className:"w-5 h-5"})})]})]})]}),i.jsx(z_,{defaultValue:"teams",className:"w-full h-full",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"w-20 flex-shrink-0 bg-white shadow-md pt-2 h-screen",children:i.jsx(yg,{className:"flex flex-col gap-1 w-full items-center p-2 mt-64",children:[["teams",i.jsx(id,{size:20})],["teams-by-tournament",i.jsx(ns,{size:20})],["team-payments",i.jsx(cl,{size:20})],["player-tracking",i.jsx(ka,{size:20})],["registration",i.jsx(ji,{size:20})],["schedule",i.jsx(XP,{size:20})],["results",i.jsx(Mm,{size:20})],["bracket",i.jsx(Lm,{size:20})],["finance",i.jsx(cl,{size:20})],["history",i.jsx(a2,{size:20})],["admin",i.jsx(hS,{size:20})]].map(([b,v])=>i.jsx(Wo,{value:b,className:"text-red-600 hover:text-red-600 hover:bg-gray-200 data-[state=active]:bg-gray-100 data-[state=active]:text-black w-full p-3 flex justify-center",children:v},b))})}),i.jsxs("div",{className:"flex-1 p-4",children:[i.jsx(pr,{value:"teams",children:i.jsx(DB,{})}),i.jsx(pr,{value:"teams-by-tournament",children:i.jsx(WB,{})}),i.jsx(pr,{value:"team-payments",children:i.jsx(VB,{})}),i.jsx(pr,{value:"registration",children:i.jsx(OB,{})}),i.jsx(pr,{value:"schedule",children:i.jsx(q5,{})}),i.jsx(pr,{value:"results",children:i.jsx(X5,{})}),i.jsx(pr,{value:"bracket",children:i.jsx(e6,{})}),i.jsx(pr,{value:"finance",children:i.jsx(t6,{})}),i.jsx(pr,{value:"player-tracking",children:i.jsx(n6,{})}),i.jsx(pr,{value:"history",children:i.jsx(HB,{})}),i.jsx(pr,{value:"admin",children:i.jsx(cL,{})})]})]})})]})})},i6=()=>i.jsx("div",{className:"min-h-screen bg-gray-50",children:i.jsxs("div",{className:"container mx-auto p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("div",{})," "]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-full max-w-6xl",children:i.jsx(a6,{})})})]})}),o6=()=>{const e=y1();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsxs("div",{className:"text-center p-8 rounded-lg border border-border bg-card shadow-md animate-slide-in",children:[i.jsx("h1",{className:"text-5xl font-bold mb-6 text-primary",children:"404"}),i.jsx("p",{className:"text-xl text-card-foreground mb-6",children:"Page not found"}),i.jsx("a",{href:"/",className:"text-primary hover:text-primary/80 underline transition-colors",children:"Return to Home"})]})})},hb=({message:e,type:t="info"})=>{if(console.log("MessageBanner render:",{message:e,type:t}),!e)return null;const r=()=>{switch(t){case"warning":return"bg-yellow-500 text-yellow-900";case"success":return"bg-green-500 text-green-900";case"error":return"bg-red-500 text-red-900";default:return"bg-blue-500 text-blue-900"}};return i.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 ${r()} py-2 overflow-hidden`,children:i.jsxs("div",{className:"animate-marquee whitespace-nowrap",children:[i.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),i.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),i.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),i.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),i.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),i.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),i.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),i.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),i.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e}),i.jsx("span",{className:"inline-block px-4 font-medium text-sm",children:e})]})})},l6=({team:e,match:t,onComplete:r})=>{const[n,s]=m.useState(""),[a,o]=m.useState(""),[l,c]=m.useState(""),[u,d]=m.useState(""),[f,h]=m.useState("0"),[p,x]=m.useState("0"),[g,y]=m.useState(0),[b,v]=m.useState(null),{teams:w,submitGame:S,getActiveTournament:_}=Dt(),j=_(),N=(j==null?void 0:j.tracksHands)!==!1,E=z=>{if(!N)switch(z){case 0:return 2;case 2:return 3;case 3:return 5;case 5:return 6;default:return z+1}return z+1},D=z=>{if(!N)switch(z){case 2:return 0;case 3:return 2;case 5:return 3;case 6:return 5;default:return z-1}return z-1},k=async()=>{if(!t||!n||!a||N&&(!l||!u))return;const z=String(t.teamA)===String(e.id)?parseInt(n):parseInt(a),I=String(t.teamA)===String(e.id)?parseInt(a):parseInt(n);if(z===I&&!b)return;const q=parseInt(f)||0,R=parseInt(p)||0,T=re=>re.trim()===""?0:Number(re),L=String(t.teamA)===String(e.id)?T(l):T(u),J=String(t.teamA)===String(e.id)?T(u):T(l),M=w.find(re=>String(re.id)===String(t.teamA)),B=w.find(re=>String(re.id)===String(t.teamB));if(!M||!B)return;const H={teamA:M.id,teamB:B.id,scoreA:z,scoreB:I,handsA:L,handsB:J,boston_a:q,boston_b:R,winner:z>I?"teamA":z<I?"teamB":b,matchId:t.id,round:t.round,submittedBy:e.id,status:"pending_confirmation",entered_by_team_id:e.id};await S(H),r()};return i.jsxs("div",{className:"space-y-4",children:[g===0&&i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many points did you have?"}),i.jsx(Se,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:n,onChange:z=>s(z.target.value),placeholder:"Enter your points",className:"text-center text-xl h-12",autoFocus:!0}),i.jsx(se,{onClick:()=>y(E(0)),className:"w-full",disabled:!n,children:"Next"})]}),N&&g===1&&i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many hands did you win?"}),i.jsx(Se,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:l,onChange:z=>c(z.target.value),placeholder:"Enter hands won",className:"text-center text-xl h-12",autoFocus:!0}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{onClick:()=>y(D(1)),variant:"outline",className:"flex-1",children:"Back"}),i.jsx(se,{onClick:()=>y(E(1)),className:"flex-1",disabled:!l,children:"Next"})]})]}),g===2&&i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many Bostons did you make?"}),i.jsx(Se,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:f,onChange:z=>h(z.target.value),placeholder:"Enter your Bostons",className:"text-center text-xl h-12",autoFocus:!0}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{onClick:()=>y(D(2)),variant:"outline",className:"flex-1",children:"Back"}),i.jsx(se,{onClick:()=>y(E(2)),className:"flex-1",disabled:!f,children:"Next"})]})]}),g===3&&i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many points did your opponent have?"}),i.jsx(Se,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:a,onChange:z=>o(z.target.value),placeholder:"Enter opponent points",className:"text-center text-xl h-12",autoFocus:!0}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{onClick:()=>y(D(3)),variant:"outline",className:"flex-1",children:"Back"}),i.jsx(se,{onClick:()=>y(E(3)),className:"flex-1",disabled:!a,children:"Next"})]})]}),N&&g===4&&i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many hands did your opponent win?"}),i.jsx(Se,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:u,onChange:z=>d(z.target.value),placeholder:"Enter opponent hands",className:"text-center text-xl h-12",autoFocus:!0}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{onClick:()=>y(D(4)),variant:"outline",className:"flex-1",children:"Back"}),i.jsx(se,{onClick:()=>y(E(4)),className:"flex-1",disabled:!u,children:"Next"})]})]}),g===5&&i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"How many Bostons did your opponent make?"}),i.jsx(Se,{type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:p,onChange:z=>x(z.target.value),placeholder:"Enter opponent Bostons",className:"text-center text-xl h-12",autoFocus:!0}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{onClick:()=>y(D(5)),variant:"outline",className:"flex-1",children:"Back"}),i.jsx(se,{onClick:()=>y(6),className:"flex-1",disabled:!p,children:"Next"})]})]}),g===6&&i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-blue-600",children:"Check for Tie"}),i.jsxs("div",{className:"text-lg",children:["Your Score: ",n," | Opponent Score: ",a]}),parseInt(n)===parseInt(a)?i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-lg text-orange-600",children:"Scores are tied! Who won the tiebreaker?"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{onClick:()=>v(String(t.teamA)===String(e.id)?"teamA":"teamB"),variant:b===(String(t.teamA)===String(e.id)?"teamA":"teamB")?"default":"outline",className:"flex-1",children:"You Won"}),i.jsx(se,{onClick:()=>v(String(t.teamA)===String(e.id)?"teamB":"teamA"),variant:b===(String(t.teamA)===String(e.id)?"teamB":"teamA")?"default":"outline",className:"flex-1",children:"Opponent Won"})]})]}):i.jsx("p",{className:"text-lg text-green-600",children:"No tie - winner is clear!"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(se,{onClick:()=>y(D(6)),variant:"outline",className:"flex-1",children:"Back"}),i.jsxs(se,{onClick:k,className:"flex-1",disabled:parseInt(n)===parseInt(a)&&!b,children:[i.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Submit Score"]})]})]})]})},c6=({team:e,match:t,onComplete:r})=>{const{games:n,confirmScore:s,refreshGamesFromSupabase:a}=Dt(),o=n.find(v=>String(v.matchId)===String(t.id)&&v.status==="pending_confirmation");if(!o)return i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-gray-500",children:"No pending score found for this match."})});const l=String(o.teamA)===String(e.id),c=l?o.scoreA:o.scoreB,u=l?o.scoreB:o.scoreA,d=l?o.boston_a??0:o.boston_b??0,f=l?o.boston_b??0:o.boston_a??0,h=l?o.handsA??0:o.handsB??0,p=l?o.handsB??0:o.handsA??0,x=c===u,y=o.winner==="teamA"?l?"You":"Opponent":l?"Opponent":"You",b=async v=>{try{await s(o.id,v),Y({title:v?"Score confirmed":"Score disputed",variant:v?"default":"destructive"}),await a(),r()}catch{Y({title:"Action failed",description:"Please try again.",variant:"destructive"})}};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"text-center",children:i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Review the score entered by your opponent:"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[i.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 border border-blue-200",children:[i.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Your Score"}),i.jsx("div",{className:"text-3xl font-bold text-blue-700",children:c}),i.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Bostons: ",d,o.handsA!==void 0&&` • Hands: ${h}`]})]}),i.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 border border-gray-200",children:[i.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Opponent Score"}),i.jsx("div",{className:"text-3xl font-bold",children:u}),i.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Bostons: ",f,o.handsB!==void 0&&` • Hands: ${p}`]})]})]}),x&&i.jsxs("div",{className:"p-4 rounded-lg bg-orange-50 border border-orange-200 text-center",children:[i.jsx("div",{className:"text-sm text-orange-700 font-medium mb-1",children:"Tiebreaker Winner"}),i.jsxs("div",{className:"text-lg font-bold text-orange-800",children:[y," won the tiebreaker"]}),i.jsx("div",{className:"text-xs text-orange-600 mt-1",children:"Please verify this tiebreaker winner is correct"})]}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:`Please review these scores. If they match what you recorded, click "Confirm". If there's a discrepancy, click "Dispute".`})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(se,{variant:"destructive",className:"flex-1",onClick:()=>b(!1),children:"Dispute"}),i.jsxs(se,{className:"flex-1",onClick:()=>b(!0),children:[i.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Confirm"]})]})]})},u6=()=>{var ce;const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,a]=m.useState(null),[o,l]=m.useState(""),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(""),[x,g]=m.useState(null),[y,b]=m.useState(null),[v,w]=m.useState(0),{teams:S,schedules:_,games:j,tournaments:N,getActiveTournament:E,submitGame:D,confirmScore:k,beginScoreEntry:z,releaseScoreEntryLock:I,refreshGamesFromSupabase:q,getActiveMessages:R}=Dt(),T=K=>K.replace(/\D/g,""),L=()=>{l("");const K=T(e);if(K.length!==10){l("Please enter a valid 10-digit phone number");return}const ae=S.find(be=>{const C=T(be.phoneNumber),X=T(be.player1_phone||""),ee=T(be.player2_phone||"");return C===K||X===K||ee===K});ae?a(ae):l("Team not found. Please check your phone number.")},J=K=>{const ae=S.find(be=>be.id===K);ae&&(a(ae),f(!0))},M=()=>{if(!r.trim())return;const K=parseInt(r.trim()),ae=S.find(be=>be.teamNumber===K||be.id===r.trim());ae?(a(ae),f(!0),n(""),l("")):l(`No team found with number ${r.trim()}`)};m.useEffect(()=>{w(K=>K+1)},[j]),m.useEffect(()=>{s&&window.scrollTo(0,0)},[s]),m.useEffect(()=>{const K=setInterval(()=>{w(ae=>ae+1)},1e3);return()=>clearInterval(K)},[]),m.useEffect(()=>{if(!s)return;const K=setInterval(()=>{q()},5e3);return()=>clearInterval(K)},[s,q]);const B=()=>{if(!s)return[];const K=E();if(!K)return[];const ae=_.find(ee=>ee.tournamentId===K.id);if(!ae)return[];const be=ae.matches.filter(ee=>ee.teamA===s.id||ee.teamB===s.id),C=new Set;j.forEach(ee=>{if((ee.teamA===s.id||ee.teamB===s.id)&&(ee.confirmed||ee.status==="confirmed")&&ee.matchId){const le=ae.matches.find(ge=>ge.id===ee.matchId);le&&C.add(le.round)}}),be.forEach(ee=>{ee.isBye&&C.add(ee.round)});const X=Math.min(...Array.from({length:ae.rounds},(ee,le)=>le+1).filter(ee=>!C.has(ee)));return be.map(ee=>{const le=ee.teamA===s.id?ee.teamB:ee.teamA,ge=S.find(tt=>tt.id===le),oe=j.find(tt=>tt.matchId===ee.id);let je="future",Ne="",Be="";ee.isBye?(je="completed",Ne="BYE Round",Be="No game this round"):oe?oe.status==="confirmed"||oe.confirmed?je="completed":oe.status==="pending_confirmation"?(oe.entered_by_team_id===s.id?(Ne="Opponent confirming score",Be="Your score has been entered. Opponent is confirming."):(Ne="Pending confirmation",Be="Review and confirm the score entered by your opponent."),je="current"):oe.status==="entering"?(oe.entered_by_team_id===s.id?(Ne="Entering score",Be="You are currently entering the score."):(Ne="Opponent entering score",Be="Opponent is entering the score. Please wait."),je="current"):oe.status==="disputed"&&(oe.entered_by_team_id===s.id?(Ne="Score disputed - re-enter",Be="Your score was disputed. Please re-enter the correct score."):(Ne="Score disputed",Be="The score was disputed. Waiting for opponent to re-enter."),je="current"):ee.round===X&&(je="current",Ne="Ready to Score",Be="Click to enter your score");let ke=null;if(je==="completed"&&oe){const tt=ee.teamA===s.id,bt=tt?oe.scoreA:oe.scoreB,Ct=tt?oe.scoreB:oe.scoreA,$t=tt&&oe.winner==="teamA"||!tt&&oe.winner==="teamB";ke={myScore:bt,opponentScore:Ct,isWin:$t,boston:oe.boston}}return{...ee,tournamentName:K.name,opponentTeam:ge,gameResult:ke,cardType:je,status:Ne,statusMessage:Be,existingGame:oe}}).sort((ee,le)=>ee.round-le.round)},H=m.useMemo(()=>{const K=E();if(!s||!K)return{wins:0,totalGames:0,totalPoints:0,avgPoints:"0.0",results:[]};const ae=_.find(oe=>oe.tournamentId===K.id);if(!ae)return{wins:0,totalGames:0,totalPoints:0,avgPoints:"0.0",results:[]};const be=new Set(ae.matches.map(oe=>oe.id)),C=j.filter(oe=>(oe.teamA===s.id||oe.teamB===s.id)&&(oe.confirmed||oe.status==="confirmed")&&oe.matchId&&be.has(oe.matchId)).map(oe=>{const je=oe.teamA===s.id,Ne=je?oe.teamB:oe.teamA,Be=S.find(ke=>ke.id===Ne)||null;return{...oe,isWin:je&&oe.winner==="teamA"||!je&&oe.winner==="teamB",teamScore:je?oe.scoreA:oe.scoreB,opponentScore:je?oe.scoreB:oe.scoreA,opponent:Be}}),X=C.filter(oe=>oe.isWin).length,ee=C.length,le=C.reduce((oe,je)=>oe+je.teamScore,0),ge=ee>0?(le/ee).toFixed(1):"0.0";return{wins:X,totalGames:ee,totalPoints:le,avgPoints:ge,results:C}},[j,s,_,E,S]);if(!s){const K=R()[0];return console.log("Login screen - active message:",K),i.jsxs("div",{className:"min-h-screen flex flex-col justify-start items-center bg-gray-50 p-4 pt-8",children:[i.jsx(hb,{message:(K==null?void 0:K.text)||"",type:K==null?void 0:K.type},`login-${(K==null?void 0:K.id)||"none"}`),i.jsxs(Ze,{className:"w-full max-w-md shadow-lg border-2 border-red-500 mt-16",children:[i.jsxs(rt,{className:"text-center pb-2 space-y-4",children:[i.jsx("div",{className:"mx-auto w-61 h-61 flex items-center justify-center bg-red-600 rounded-lg shadow-sm relative mb-0",children:i.jsx("img",{src:"/BidWhist/SetPlay_Logo.png",alt:"SetPlay Logo",className:"w-61 h-61"})}),i.jsx("div",{className:"flex flex-col items-center -mt-28",children:i.jsx("img",{src:"/BidWhist/tp.png",alt:"Teams Portal",className:"w-75 h-25 object-contain"})})]}),i.jsxs(et,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3 mt-8",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Se,{placeholder:"Enter 10-digit phone number",value:e,onChange:ae=>{t(ae.target.value),l("")},className:"text-center text-lg border-2 border-black focus:border-red-500 focus:ring-red-500",maxLength:14,autoFocus:!0}),i.jsx(se,{onClick:L,className:"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-md",children:"Enter Tournament Portal"})]}),o&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[i.jsx(r2,{className:"h-4 w-4 text-red-600 mt-0.5 flex-shrink-0"}),i.jsx("p",{className:"text-sm text-red-800",children:o})]})]}),typeof window<"u"&&window.location.hash.includes("admin=1")&&i.jsxs("div",{className:"border-t pt-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(s2,{className:"h-4 w-4 text-red-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Admin Access"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Dr,{onValueChange:J,children:[i.jsx(jr,{className:"border-2 border-black",children:i.jsx(Or,{placeholder:"Select any team to view their portal"})}),i.jsx(_r,{children:S.map(ae=>i.jsxs(gt,{value:ae.id,children:["Team ",ae.id,": ",ae.name," (",ae.city,")"]},ae.id))})]}),i.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Select any team to view their portal as admin"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t border-gray-300"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-white px-2 text-gray-500",children:"OR"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Se,{placeholder:"Enter team number",value:r,onChange:ae=>n(ae.target.value),className:"text-center text-lg border-2 border-black",type:"number",onKeyPress:ae=>{ae.key==="Enter"&&M()}}),i.jsxs(se,{onClick:M,disabled:!r.trim(),className:"w-full bg-red-600 hover:bg-red-700 text-white",children:["Login as Team ",r||"#"]})]})]})]}),i.jsx("div",{className:"mt-6 text-xs text-center text-gray-500",children:"Built and Managed by Brian Welch"})]})]})]})}const re=B(),W=R()[0];return console.log("Main portal - active message:",W),i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(hb,{message:(W==null?void 0:W.text)||"",type:W==null?void 0:W.type},`portal-${(W==null?void 0:W.id)||"none"}`),i.jsxs("div",{className:"sticky top-12 z-10 w-full bg-white shadow-sm border-b-2 border-red-500 py-4 px-4 flex flex-col items-center justify-center mt-8",children:[i.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-1 md:gap-4",children:[i.jsxs("span",{className:"text-lg md:text-xl font-bold text-gray-700",children:[s.id,": ",s.name]}),i.jsxs("span",{className:"text-sm text-gray-600",children:[s.player1FirstName," ",s.player1LastName," & ",s.player2FirstName," ",s.player2LastName]}),c&&i.jsx(Te,{variant:"secondary",className:"mt-1 text-xs bg-yellow-100 text-yellow-800",children:"Test Mode"}),d&&i.jsx(Te,{variant:"default",className:"mt-1 text-xs bg-red-100 text-red-800",children:"Admin Mode"})]})}),i.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:i.jsx("img",{src:"/BidWhist/SetPlay_Logo.png",alt:"SetPlay Logo",className:"w-14 h-14"})}),i.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:i.jsx(se,{variant:"outline",size:"sm",onClick:()=>{a(null),u(!1),f(!1),p("")},className:"text-red-600 border-red-600 hover:bg-red-600 hover:text-white",children:"Logout"})})]}),i.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:(ce=E())==null?void 0:ce.name}),i.jsx("p",{className:"text-sm text-gray-600",children:"Schedule"})]})}),i.jsxs(Ze,{className:"border-2 border-red-500",children:[i.jsx(rt,{children:i.jsx(at,{})}),i.jsxs(et,{children:[re.length===0?i.jsx("div",{className:"text-center text-gray-500 py-8",children:i.jsx("p",{children:"No scheduled matches found"})}):i.jsx("div",{className:"space-y-6",children:(()=>{const K=Math.max(...re.map(ae=>ae.round));return Array.from({length:K},(ae,be)=>be+1).map(ae=>{const be=re.filter(C=>C.round===ae);return i.jsx("div",{className:"space-y-3",children:i.jsx("div",{className:"space-y-3",children:be.map((C,X)=>{var le,ge,oe,je,Ne,Be,ke,tt,bt,Ct;let ee="border rounded-lg p-4 ";return C.isBye?ee+="bg-yellow-50 border-yellow-200":C.cardType==="completed"?ee+=(le=C.gameResult)!=null&&le.isWin?"bg-green-50 border-green-200":"bg-red-50 border-red-200":C.cardType==="current"?ee+="bg-blue-50 border-blue-200":ee+="bg-white",i.jsx("div",{className:ee,children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2",children:[i.jsx("div",{className:"flex-1",children:C.isBye?i.jsxs("div",{className:"text-center",children:[i.jsx(Te,{variant:"secondary",className:"text-sm",children:"BYE ROUND"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"No game this round"})]}):i.jsxs("div",{children:[C.cardType==="future"&&i.jsx(i.Fragment,{children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsx("div",{className:"flex items-center justify-center",children:i.jsxs(Te,{variant:"outline",className:"text-xs",children:["Round ",C.round]})}),i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Team"}),i.jsx("span",{className:"font-bold text-lg",children:((ge=C.opponentTeam)==null?void 0:ge.id)||C.opponentId}),i.jsxs("span",{className:"text-xs text-gray-600",children:[((oe=C.opponentTeam)==null?void 0:oe.player1FirstName)||"","/",((je=C.opponentTeam)==null?void 0:je.player2FirstName)||""]})]}),i.jsx("div",{className:"flex items-center justify-center",children:i.jsxs(Te,{variant:"secondary",className:"text-xs",children:["Table ",C.table]})})]})}),C.cardType==="current"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsx("div",{className:"flex items-center justify-center",children:i.jsxs(Te,{variant:"outline",className:"text-xs",children:["Round ",C.round]})}),i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Team"}),i.jsx("span",{className:"font-bold text-lg",children:((Ne=C.opponentTeam)==null?void 0:Ne.id)||C.opponentId}),i.jsxs("span",{className:"text-xs text-gray-600",children:[((Be=C.opponentTeam)==null?void 0:Be.player1FirstName)||"","/",((ke=C.opponentTeam)==null?void 0:ke.player2FirstName)||""]})]}),i.jsx("div",{className:"flex items-center justify-center",children:C.status==="Ready to Score"?i.jsx(se,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white font-medium px-2 py-1 text-xs rounded-md shadow-sm animate-pulse",onClick:()=>{(async()=>{const $t=await z({matchId:C.id,teamId:String(s.id),teamA:String(C.teamA),teamB:String(C.teamB),round:C.round});$t.ok?(b(s.id),g(C)):($t.reason==="teammate_entering"?Y({title:"Partner is entering score",description:"Your partner is currently the score keeper. If you want to enter the score, ask your partner to logout first.",variant:"destructive"}):Y({title:"Opponent entering score",description:"Please wait and try again in a moment.",variant:"destructive"}),await q())})()},children:"Score"}):C.status==="Opponent entering score"?i.jsx(Te,{variant:"secondary",className:"text-xs bg-yellow-100 text-yellow-800 border-yellow-300",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs("div",{className:"flex space-x-1 mr-1",children:[i.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),i.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),i.jsx("div",{className:"w-1 h-1 bg-yellow-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),i.jsx("span",{className:"text-xs",children:"Entering"})]})}):C.status==="Opponent confirming score"?i.jsx(Te,{variant:"secondary",className:"text-xs bg-green-100 text-green-800 border-green-300",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs("div",{className:"flex space-x-1 mr-1",children:[i.jsx("div",{className:"w-1 h-1 bg-green-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),i.jsx("div",{className:"w-1 h-1 bg-green-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),i.jsx("div",{className:"w-1 h-1 bg-green-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),i.jsx("span",{className:"text-xs",children:"Confirming"})]})}):C.status==="Score disputed - re-enter"?i.jsx(se,{size:"sm",className:"bg-red-600 hover:bg-red-700 text-white font-medium px-2 py-1 text-xs rounded-md shadow-sm",onClick:()=>{(async()=>{const $t=await z({matchId:C.id,teamId:String(s.id),teamA:String(C.teamA),teamB:String(C.teamB),round:C.round});$t.ok?(b(s.id),g(C)):($t.reason==="teammate_entering"?Y({title:"Partner is entering score",description:"Your partner is currently the score keeper. If you want to enter the score, ask your partner to logout first.",variant:"destructive"}):Y({title:"Opponent entering score",description:"Please wait and try again in a moment.",variant:"destructive"}),await q())})()},children:"Re-enter"}):C.status==="Score disputed"?i.jsx(Te,{variant:"secondary",className:"text-xs bg-red-100 text-red-800 border-red-300",children:i.jsx("span",{className:"text-xs",children:"Disputed"})}):i.jsxs(Te,{variant:C.status==="Waiting for opponent confirmation"?"secondary":"default",className:"text-xs",onClick:()=>{C.status==="Pending confirmation"&&g(C)},children:[C.status==="Waiting for opponent"&&i.jsx(n2,{className:"h-3 w-3 mr-1"}),C.status==="Pending confirmation"?"Confirm Score":C.status]})})]}),i.jsx("div",{className:"flex justify-start -mt-3",children:i.jsx("span",{className:"text-xs italic text-blue-800",children:"in progress"})})]}),C.cardType==="completed"&&C.gameResult&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsx("div",{className:"flex items-center justify-center",children:i.jsxs(Te,{variant:"outline",className:"text-xs",children:["Round ",C.round]})}),i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Team"}),i.jsx("span",{className:"font-bold text-lg",children:((tt=C.opponentTeam)==null?void 0:tt.id)||C.opponentId}),i.jsxs("span",{className:"text-xs text-gray-600",children:[((bt=C.opponentTeam)==null?void 0:bt.player1FirstName)||"","/",((Ct=C.opponentTeam)==null?void 0:Ct.player2FirstName)||""]})]}),i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(Te,{variant:C.gameResult.isWin?"default":"destructive",className:"text-xs",style:{backgroundColor:C.gameResult.isWin?"#10b981":"#ef4444",color:"white"},children:C.gameResult.isWin?"WIN":"LOSS"})})]}),i.jsx("div",{className:"flex justify-end -mt-3",children:i.jsxs("span",{className:"text-xs italic text-red-600",children:[C.gameResult.isWin?"won":"loss"," ",C.gameResult.myScore,"-",C.gameResult.opponentScore]})})]})]})}),C.isSameCity&&i.jsx(Te,{variant:"destructive",className:"text-xs",children:"Same City"})]})},X)})})},ae)})})()}),x&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold",children:[x.status==="Pending confirmation"?"Confirm Score":"Enter Score"," - Round ",x.round]}),i.jsx(se,{variant:"ghost",size:"sm",onClick:async()=>{y&&x&&await I({matchId:x.id,teamId:y}),g(null),b(null)},children:"✕"})]}),x.status==="Pending confirmation"?i.jsx(c6,{team:s,match:x,onComplete:()=>{g(null),b(null)}}):i.jsx(l6,{team:s,match:x,onComplete:()=>{g(null),b(null)}})]})})]})]}),i.jsx("div",{className:"mt-8",children:i.jsxs("div",{className:"flex overflow-x-auto gap-4 pb-2 scrollbar-hide",children:[i.jsxs("div",{className:"flex-shrink-0 text-center p-4 bg-blue-50 rounded-lg min-w-[120px]",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:H.wins}),i.jsx("p",{className:"text-sm text-gray-600",children:"Wins"})]}),i.jsxs("div",{className:"flex-shrink-0 text-center p-4 bg-gray-50 rounded-lg min-w-[120px]",children:[i.jsx("p",{className:"text-2xl font-bold",children:H.totalGames}),i.jsx("p",{className:"text-sm text-gray-600",children:"Games Played"})]}),i.jsxs("div",{className:"flex-shrink-0 text-center p-4 bg-green-50 rounded-lg min-w-[120px]",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:H.avgPoints}),i.jsx("p",{className:"text-sm text-gray-600",children:"Avg Points/Game"})]}),i.jsxs("div",{className:"flex-shrink-0 text-center p-4 bg-purple-50 rounded-lg min-w-[120px]",children:[i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:H.totalPoints}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total Points"})]})]})})]})]})},d6=()=>i.jsx(u6,{}),f6=new IR,h6=()=>i.jsx(Sk,{defaultTheme:"light",children:i.jsx(OR,{client:f6,children:i.jsx(cR,{children:i.jsxs(H1,{children:[i.jsx(K2,{}),i.jsx(_k,{}),i.jsx(SI,{basename:"/",children:i.jsxs(xI,{children:[i.jsx(Wc,{path:"/",element:i.jsx(i6,{})}),i.jsx(Wc,{path:"/portal",element:i.jsx(d6,{})}),i.jsx(Wc,{path:"*",element:i.jsx(o6,{})})]})})]})})})});Dw(document.getElementById("root")).render(i.jsx(H1,{children:i.jsx(h6,{})}));export{Z as R,Uc as g,i as j,Dt as u};
